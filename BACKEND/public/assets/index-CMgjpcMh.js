var Ufe=Object.defineProperty;var gF=e=>{throw TypeError(e)};var Wfe=(e,t,n)=>t in e?Ufe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var eT=(e,t,n)=>Wfe(e,typeof t!="symbol"?t+"":t,n),tT=(e,t,n)=>t.has(e)||gF("Cannot "+n);var ee=(e,t,n)=>(tT(e,t,"read from private field"),n?n.call(e):t.get(e)),Ge=(e,t,n)=>t.has(e)?gF("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_e=(e,t,n,r)=>(tT(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ft=(e,t,n)=>(tT(e,t,"access private method"),n);var fx=(e,t,n,r)=>({set _(a){_e(e,t,a,n)},get _(){return ee(e,t,r)}});function Vfe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function un(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var WV={exports:{}},TC={},VV={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb=Symbol.for("react.element"),Gfe=Symbol.for("react.portal"),Hfe=Symbol.for("react.fragment"),qfe=Symbol.for("react.strict_mode"),Yfe=Symbol.for("react.profiler"),Qfe=Symbol.for("react.provider"),Kfe=Symbol.for("react.context"),Jfe=Symbol.for("react.forward_ref"),Zfe=Symbol.for("react.suspense"),Xfe=Symbol.for("react.memo"),ede=Symbol.for("react.lazy"),yF=Symbol.iterator;function tde(e){return e===null||typeof e!="object"?null:(e=yF&&e[yF]||e["@@iterator"],typeof e=="function"?e:null)}var GV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HV=Object.assign,qV={};function Mg(e,t,n){this.props=e,this.context=t,this.refs=qV,this.updater=n||GV}Mg.prototype.isReactComponent={};Mg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YV(){}YV.prototype=Mg.prototype;function f_(e,t,n){this.props=e,this.context=t,this.refs=qV,this.updater=n||GV}var d_=f_.prototype=new YV;d_.constructor=f_;HV(d_,Mg.prototype);d_.isPureReactComponent=!0;var vF=Array.isArray,QV=Object.prototype.hasOwnProperty,p_={current:null},KV={key:!0,ref:!0,__self:!0,__source:!0};function JV(e,t,n){var r,a={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)QV.call(t,r)&&!KV.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:Nb,type:e,key:i,ref:s,props:a,_owner:p_.current}}function nde(e,t){return{$$typeof:Nb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nb}function rde(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bF=/\/+/g;function nT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rde(""+e.key):t.toString(36)}function S2(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Nb:case Gfe:s=!0}}if(s)return s=e,a=a(s),e=r===""?"."+nT(s,0):r,vF(a)?(n="",e!=null&&(n=e.replace(bF,"$&/")+"/"),S2(a,t,n,"",function(u){return u})):a!=null&&(h_(a)&&(a=nde(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(bF,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=r===""?".":r+":",vF(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+nT(i,o);s+=S2(i,t,n,l,a)}else if(l=tde(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+nT(i,o++),s+=S2(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function px(e,t,n){if(e==null)return e;var r=[],a=0;return S2(e,r,"","",function(i){return t.call(n,i,a++)}),r}function ade(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var La={current:null},k2={transition:null},ide={ReactCurrentDispatcher:La,ReactCurrentBatchConfig:k2,ReactCurrentOwner:p_};function ZV(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:px,forEach:function(e,t,n){px(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return px(e,function(){t++}),t},toArray:function(e){return px(e,function(t){return t})||[]},only:function(e){if(!h_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=Mg;bt.Fragment=Hfe;bt.Profiler=Yfe;bt.PureComponent=f_;bt.StrictMode=qfe;bt.Suspense=Zfe;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ide;bt.act=ZV;bt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=HV({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=p_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)QV.call(t,l)&&!KV.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Nb,type:e.type,key:a,ref:i,props:r,_owner:s}};bt.createContext=function(e){return e={$$typeof:Kfe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qfe,_context:e},e.Consumer=e};bt.createElement=JV;bt.createFactory=function(e){var t=JV.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:Jfe,render:e}};bt.isValidElement=h_;bt.lazy=function(e){return{$$typeof:ede,_payload:{_status:-1,_result:e},_init:ade}};bt.memo=function(e,t){return{$$typeof:Xfe,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=k2.transition;k2.transition={};try{e()}finally{k2.transition=t}};bt.unstable_act=ZV;bt.useCallback=function(e,t){return La.current.useCallback(e,t)};bt.useContext=function(e){return La.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return La.current.useDeferredValue(e)};bt.useEffect=function(e,t){return La.current.useEffect(e,t)};bt.useId=function(){return La.current.useId()};bt.useImperativeHandle=function(e,t,n){return La.current.useImperativeHandle(e,t,n)};bt.useInsertionEffect=function(e,t){return La.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return La.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return La.current.useMemo(e,t)};bt.useReducer=function(e,t,n){return La.current.useReducer(e,t,n)};bt.useRef=function(e){return La.current.useRef(e)};bt.useState=function(e){return La.current.useState(e)};bt.useSyncExternalStore=function(e,t,n){return La.current.useSyncExternalStore(e,t,n)};bt.useTransition=function(){return La.current.useTransition()};bt.version="18.3.1";VV.exports=bt;var C=VV.exports;const V=un(C),m_=Vfe({__proto__:null,default:V},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sde=C,ode=Symbol.for("react.element"),lde=Symbol.for("react.fragment"),ude=Object.prototype.hasOwnProperty,cde=sde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fde={key:!0,ref:!0,__self:!0,__source:!0};function XV(e,t,n){var r,a={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ude.call(t,r)&&!fde.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:ode,type:e,key:i,ref:s,props:a,_owner:cde.current}}TC.Fragment=lde;TC.jsx=XV;TC.jsxs=XV;WV.exports=TC;var w=WV.exports,eG={exports:{}},Mi={},tG={exports:{}},nG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,P){var W=O.length;O.push(P);e:for(;0<W;){var H=W-1>>>1,q=O[H];if(0<a(q,P))O[H]=P,O[W]=q,W=H;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var P=O[0],W=O.pop();if(W!==P){O[0]=W;e:for(var H=0,q=O.length,J=q>>>1;H<J;){var re=2*(H+1)-1,ce=O[re],ye=re+1,he=O[ye];if(0>a(ce,W))ye<q&&0>a(he,ce)?(O[H]=he,O[ye]=W,H=ye):(O[H]=ce,O[re]=W,H=re);else if(ye<q&&0>a(he,W))O[H]=he,O[ye]=W,H=ye;else break e}}return P}function a(O,P){var W=O.sortIndex-P.sortIndex;return W!==0?W:O.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,d=3,p=!1,h=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=O)r(u),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(u)}}function x(O){if(m=!1,b(O),!h)if(n(l)!==null)h=!0,$(S);else{var P=n(u);P!==null&&B(x,P.startTime-O)}}function S(O,P){h=!1,m&&(m=!1,y(N),N=-1),p=!0;var W=d;try{for(b(P),f=n(l);f!==null&&(!(f.expirationTime>P)||O&&!E());){var H=f.callback;if(typeof H=="function"){f.callback=null,d=f.priorityLevel;var q=H(f.expirationTime<=P);P=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),b(P)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var re=n(u);re!==null&&B(x,re.startTime-P),J=!1}return J}finally{f=null,d=W,p=!1}}var k=!1,I=null,N=-1,T=5,L=-1;function E(){return!(e.unstable_now()-L<T)}function M(){if(I!==null){var O=e.unstable_now();L=O;var P=!0;try{P=I(!0,O)}finally{P?j():(k=!1,I=null)}}else k=!1}var j;if(typeof v=="function")j=function(){v(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=M,j=function(){F.postMessage(null)}}else j=function(){g(M,0)};function $(O){I=O,k||(k=!0,j())}function B(O,P){N=g(function(){O(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,$(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var W=d;d=P;try{return O()}finally{d=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=d;d=O;try{return P()}finally{d=W}},e.unstable_scheduleCallback=function(O,P,W){var H=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?H+W:H):W=H,O){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,O={id:c++,callback:P,priorityLevel:O,startTime:W,expirationTime:q,sortIndex:-1},W>H?(O.sortIndex=W,t(u,O),n(l)===null&&O===n(u)&&(m?(y(N),N=-1):m=!0,B(x,W-H))):(O.sortIndex=q,t(l,O),h||p||(h=!0,$(S))),O},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(O){var P=d;return function(){var W=d;d=P;try{return O.apply(this,arguments)}finally{d=W}}}})(nG);tG.exports=nG;var dde=tG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pde=C,Si=dde;function be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rG=new Set,Vy={};function wd(e,t){Cm(e,t),Cm(e+"Capture",t)}function Cm(e,t){for(Vy[e]=t,e=0;e<t.length;e++)rG.add(t[e])}var vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),HE=Object.prototype.hasOwnProperty,hde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wF={},xF={};function mde(e){return HE.call(xF,e)?!0:HE.call(wF,e)?!1:hde.test(e)?xF[e]=!0:(wF[e]=!0,!1)}function gde(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yde(e,t,n,r){if(t===null||typeof t>"u"||gde(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _a(e,t,n,r,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wr[e]=new _a(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wr[t]=new _a(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wr[e]=new _a(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wr[e]=new _a(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wr[e]=new _a(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wr[e]=new _a(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wr[e]=new _a(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wr[e]=new _a(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wr[e]=new _a(e,5,!1,e.toLowerCase(),null,!1,!1)});var g_=/[\-:]([a-z])/g;function y_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g_,y_);Wr[t]=new _a(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g_,y_);Wr[t]=new _a(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g_,y_);Wr[t]=new _a(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wr[e]=new _a(e,1,!1,e.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new _a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wr[e]=new _a(e,1,!1,e.toLowerCase(),null,!0,!0)});function v_(e,t,n,r){var a=Wr.hasOwnProperty(t)?Wr[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yde(t,n,a,r)&&(n=null),r||a===null?mde(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ll=pde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hx=Symbol.for("react.element"),Ah=Symbol.for("react.portal"),Lh=Symbol.for("react.fragment"),b_=Symbol.for("react.strict_mode"),qE=Symbol.for("react.profiler"),aG=Symbol.for("react.provider"),iG=Symbol.for("react.context"),w_=Symbol.for("react.forward_ref"),YE=Symbol.for("react.suspense"),QE=Symbol.for("react.suspense_list"),x_=Symbol.for("react.memo"),su=Symbol.for("react.lazy"),sG=Symbol.for("react.offscreen"),SF=Symbol.iterator;function M1(e){return e===null||typeof e!="object"?null:(e=SF&&e[SF]||e["@@iterator"],typeof e=="function"?e:null)}var jn=Object.assign,rT;function ny(e){if(rT===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rT=t&&t[1]||""}return`
`+rT+e}var aT=!1;function iT(e,t){if(!e||aT)return"";aT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{aT=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ny(e):""}function vde(e){switch(e.tag){case 5:return ny(e.type);case 16:return ny("Lazy");case 13:return ny("Suspense");case 19:return ny("SuspenseList");case 0:case 2:case 15:return e=iT(e.type,!1),e;case 11:return e=iT(e.type.render,!1),e;case 1:return e=iT(e.type,!0),e;default:return""}}function KE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lh:return"Fragment";case Ah:return"Portal";case qE:return"Profiler";case b_:return"StrictMode";case YE:return"Suspense";case QE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iG:return(e.displayName||"Context")+".Consumer";case aG:return(e._context.displayName||"Context")+".Provider";case w_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x_:return t=e.displayName||null,t!==null?t:KE(e.type)||"Memo";case su:t=e._payload,e=e._init;try{return KE(e(t))}catch{}}return null}function bde(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return KE(t);case 8:return t===b_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oG(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wde(e){var t=oG(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mx(e){e._valueTracker||(e._valueTracker=wde(e))}function lG(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oG(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function aS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function JE(e,t){var n=t.checked;return jn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kF(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uG(e,t){t=t.checked,t!=null&&v_(e,"checked",t,!1)}function ZE(e,t){uG(e,t);var n=Xu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?XE(e,t.type,n):t.hasOwnProperty("defaultValue")&&XE(e,t.type,Xu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CF(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function XE(e,t,n){(t!=="number"||aS(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ry=Array.isArray;function Hh(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xu(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function e4(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(be(91));return jn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IF(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(be(92));if(ry(n)){if(1<n.length)throw Error(be(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xu(n)}}function cG(e,t){var n=Xu(t.value),r=Xu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function NF(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fG(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t4(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fG(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gx,dG=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gx=gx||document.createElement("div"),gx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gy(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xde=["Webkit","ms","Moz","O"];Object.keys(xy).forEach(function(e){xde.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xy[t]=xy[e]})});function pG(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xy.hasOwnProperty(e)&&xy[e]?(""+t).trim():t+"px"}function hG(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=pG(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var Sde=jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n4(e,t){if(t){if(Sde[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(be(62))}}function r4(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a4=null;function S_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var i4=null,qh=null,Yh=null;function MF(e){if(e=Eb(e)){if(typeof i4!="function")throw Error(be(280));var t=e.stateNode;t&&(t=jC(t),i4(e.stateNode,e.type,t))}}function mG(e){qh?Yh?Yh.push(e):Yh=[e]:qh=e}function gG(){if(qh){var e=qh,t=Yh;if(Yh=qh=null,MF(e),t)for(e=0;e<t.length;e++)MF(t[e])}}function yG(e,t){return e(t)}function vG(){}var sT=!1;function bG(e,t,n){if(sT)return e(t,n);sT=!0;try{return yG(e,t,n)}finally{sT=!1,(qh!==null||Yh!==null)&&(vG(),gG())}}function Hy(e,t){var n=e.stateNode;if(n===null)return null;var r=jC(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(be(231,t,typeof n));return n}var s4=!1;if(vl)try{var T1={};Object.defineProperty(T1,"passive",{get:function(){s4=!0}}),window.addEventListener("test",T1,T1),window.removeEventListener("test",T1,T1)}catch{s4=!1}function kde(e,t,n,r,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Sy=!1,iS=null,sS=!1,o4=null,Cde={onError:function(e){Sy=!0,iS=e}};function Ide(e,t,n,r,a,i,s,o,l){Sy=!1,iS=null,kde.apply(Cde,arguments)}function Nde(e,t,n,r,a,i,s,o,l){if(Ide.apply(this,arguments),Sy){if(Sy){var u=iS;Sy=!1,iS=null}else throw Error(be(198));sS||(sS=!0,o4=u)}}function xd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wG(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function TF(e){if(xd(e)!==e)throw Error(be(188))}function Mde(e){var t=e.alternate;if(!t){if(t=xd(e),t===null)throw Error(be(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return TF(a),e;if(i===r)return TF(a),t;i=i.sibling}throw Error(be(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?e:t}function xG(e){return e=Mde(e),e!==null?SG(e):null}function SG(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=SG(e);if(t!==null)return t;e=e.sibling}return null}var kG=Si.unstable_scheduleCallback,EF=Si.unstable_cancelCallback,Tde=Si.unstable_shouldYield,Ede=Si.unstable_requestPaint,Vn=Si.unstable_now,Ade=Si.unstable_getCurrentPriorityLevel,k_=Si.unstable_ImmediatePriority,CG=Si.unstable_UserBlockingPriority,oS=Si.unstable_NormalPriority,Lde=Si.unstable_LowPriority,IG=Si.unstable_IdlePriority,EC=null,bo=null;function _de(e){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(EC,e,void 0,(e.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:Dde,jde=Math.log,$de=Math.LN2;function Dde(e){return e>>>=0,e===0?32:31-(jde(e)/$de|0)|0}var yx=64,vx=4194304;function ay(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lS(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~a;o!==0?r=ay(o):(i&=s,i!==0&&(r=ay(i)))}else s=n&~a,s!==0?r=ay(s):i!==0&&(r=ay(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_s(t),a=1<<n,r|=e[n],t&=~a;return r}function Ode(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rde(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-_s(i),o=1<<s,l=a[s];l===-1?(!(o&n)||o&r)&&(a[s]=Ode(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function l4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NG(){var e=yx;return yx<<=1,!(yx&4194240)&&(yx=64),e}function oT(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_s(t),e[t]=n}function Pde(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-_s(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function C_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_s(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var qt=0;function MG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var TG,I_,EG,AG,LG,u4=!1,bx=[],Ou=null,Ru=null,Pu=null,qy=new Map,Yy=new Map,fu=[],Fde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AF(e,t){switch(e){case"focusin":case"focusout":Ou=null;break;case"dragenter":case"dragleave":Ru=null;break;case"mouseover":case"mouseout":Pu=null;break;case"pointerover":case"pointerout":qy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yy.delete(t.pointerId)}}function E1(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Eb(t),t!==null&&I_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function zde(e,t,n,r,a){switch(t){case"focusin":return Ou=E1(Ou,e,t,n,r,a),!0;case"dragenter":return Ru=E1(Ru,e,t,n,r,a),!0;case"mouseover":return Pu=E1(Pu,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return qy.set(i,E1(qy.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Yy.set(i,E1(Yy.get(i)||null,e,t,n,r,a)),!0}return!1}function _G(e){var t=pf(e.target);if(t!==null){var n=xd(t);if(n!==null){if(t=n.tag,t===13){if(t=wG(n),t!==null){e.blockedOn=t,LG(e.priority,function(){EG(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function C2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=c4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);a4=r,n.target.dispatchEvent(r),a4=null}else return t=Eb(n),t!==null&&I_(t),e.blockedOn=n,!1;t.shift()}return!0}function LF(e,t,n){C2(e)&&n.delete(t)}function Bde(){u4=!1,Ou!==null&&C2(Ou)&&(Ou=null),Ru!==null&&C2(Ru)&&(Ru=null),Pu!==null&&C2(Pu)&&(Pu=null),qy.forEach(LF),Yy.forEach(LF)}function A1(e,t){e.blockedOn===t&&(e.blockedOn=null,u4||(u4=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,Bde)))}function Qy(e){function t(a){return A1(a,e)}if(0<bx.length){A1(bx[0],e);for(var n=1;n<bx.length;n++){var r=bx[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ou!==null&&A1(Ou,e),Ru!==null&&A1(Ru,e),Pu!==null&&A1(Pu,e),qy.forEach(t),Yy.forEach(t),n=0;n<fu.length;n++)r=fu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fu.length&&(n=fu[0],n.blockedOn===null);)_G(n),n.blockedOn===null&&fu.shift()}var Qh=Ll.ReactCurrentBatchConfig,uS=!0;function Ude(e,t,n,r){var a=qt,i=Qh.transition;Qh.transition=null;try{qt=1,N_(e,t,n,r)}finally{qt=a,Qh.transition=i}}function Wde(e,t,n,r){var a=qt,i=Qh.transition;Qh.transition=null;try{qt=4,N_(e,t,n,r)}finally{qt=a,Qh.transition=i}}function N_(e,t,n,r){if(uS){var a=c4(e,t,n,r);if(a===null)yT(e,t,r,cS,n),AF(e,r);else if(zde(a,e,t,n,r))r.stopPropagation();else if(AF(e,r),t&4&&-1<Fde.indexOf(e)){for(;a!==null;){var i=Eb(a);if(i!==null&&TG(i),i=c4(e,t,n,r),i===null&&yT(e,t,r,cS,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else yT(e,t,r,null,n)}}var cS=null;function c4(e,t,n,r){if(cS=null,e=S_(r),e=pf(e),e!==null)if(t=xd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wG(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cS=e,null}function jG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ade()){case k_:return 1;case CG:return 4;case oS:case Lde:return 16;case IG:return 536870912;default:return 16}default:return 16}}var Cu=null,M_=null,I2=null;function $G(){if(I2)return I2;var e,t=M_,n=t.length,r,a="value"in Cu?Cu.value:Cu.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[i-r];r++);return I2=a.slice(e,1<r?1-r:void 0)}function N2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wx(){return!0}function _F(){return!1}function Ti(e){function t(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wx:_F,this.isPropagationStopped=_F,this}return jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wx)},persist:function(){},isPersistent:wx}),t}var Tg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T_=Ti(Tg),Tb=jn({},Tg,{view:0,detail:0}),Vde=Ti(Tb),lT,uT,L1,AC=jn({},Tb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==L1&&(L1&&e.type==="mousemove"?(lT=e.screenX-L1.screenX,uT=e.screenY-L1.screenY):uT=lT=0,L1=e),lT)},movementY:function(e){return"movementY"in e?e.movementY:uT}}),jF=Ti(AC),Gde=jn({},AC,{dataTransfer:0}),Hde=Ti(Gde),qde=jn({},Tb,{relatedTarget:0}),cT=Ti(qde),Yde=jn({},Tg,{animationName:0,elapsedTime:0,pseudoElement:0}),Qde=Ti(Yde),Kde=jn({},Tg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jde=Ti(Kde),Zde=jn({},Tg,{data:0}),$F=Ti(Zde),Xde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},epe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tpe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function npe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tpe[e])?!!t[e]:!1}function E_(){return npe}var rpe=jn({},Tb,{key:function(e){if(e.key){var t=Xde[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=N2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?epe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E_,charCode:function(e){return e.type==="keypress"?N2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?N2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ape=Ti(rpe),ipe=jn({},AC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DF=Ti(ipe),spe=jn({},Tb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E_}),ope=Ti(spe),lpe=jn({},Tg,{propertyName:0,elapsedTime:0,pseudoElement:0}),upe=Ti(lpe),cpe=jn({},AC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fpe=Ti(cpe),dpe=[9,13,27,32],A_=vl&&"CompositionEvent"in window,ky=null;vl&&"documentMode"in document&&(ky=document.documentMode);var ppe=vl&&"TextEvent"in window&&!ky,DG=vl&&(!A_||ky&&8<ky&&11>=ky),OF=" ",RF=!1;function OG(e,t){switch(e){case"keyup":return dpe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _h=!1;function hpe(e,t){switch(e){case"compositionend":return RG(t);case"keypress":return t.which!==32?null:(RF=!0,OF);case"textInput":return e=t.data,e===OF&&RF?null:e;default:return null}}function mpe(e,t){if(_h)return e==="compositionend"||!A_&&OG(e,t)?(e=$G(),I2=M_=Cu=null,_h=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DG&&t.locale!=="ko"?null:t.data;default:return null}}var gpe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gpe[e.type]:t==="textarea"}function PG(e,t,n,r){mG(r),t=fS(t,"onChange"),0<t.length&&(n=new T_("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cy=null,Ky=null;function ype(e){QG(e,0)}function LC(e){var t=Dh(e);if(lG(t))return e}function vpe(e,t){if(e==="change")return t}var FG=!1;if(vl){var fT;if(vl){var dT="oninput"in document;if(!dT){var FF=document.createElement("div");FF.setAttribute("oninput","return;"),dT=typeof FF.oninput=="function"}fT=dT}else fT=!1;FG=fT&&(!document.documentMode||9<document.documentMode)}function zF(){Cy&&(Cy.detachEvent("onpropertychange",zG),Ky=Cy=null)}function zG(e){if(e.propertyName==="value"&&LC(Ky)){var t=[];PG(t,Ky,e,S_(e)),bG(ype,t)}}function bpe(e,t,n){e==="focusin"?(zF(),Cy=t,Ky=n,Cy.attachEvent("onpropertychange",zG)):e==="focusout"&&zF()}function wpe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return LC(Ky)}function xpe(e,t){if(e==="click")return LC(t)}function Spe(e,t){if(e==="input"||e==="change")return LC(t)}function kpe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fs=typeof Object.is=="function"?Object.is:kpe;function Jy(e,t){if(Fs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!HE.call(t,a)||!Fs(e[a],t[a]))return!1}return!0}function BF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function UF(e,t){var n=BF(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BF(n)}}function BG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UG(){for(var e=window,t=aS();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=aS(e.document)}return t}function L_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cpe(e){var t=UG(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&BG(n.ownerDocument.documentElement,n)){if(r!==null&&L_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=UF(n,i);var s=UF(n,r);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ipe=vl&&"documentMode"in document&&11>=document.documentMode,jh=null,f4=null,Iy=null,d4=!1;function WF(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d4||jh==null||jh!==aS(r)||(r=jh,"selectionStart"in r&&L_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Iy&&Jy(Iy,r)||(Iy=r,r=fS(f4,"onSelect"),0<r.length&&(t=new T_("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jh)))}function xx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $h={animationend:xx("Animation","AnimationEnd"),animationiteration:xx("Animation","AnimationIteration"),animationstart:xx("Animation","AnimationStart"),transitionend:xx("Transition","TransitionEnd")},pT={},WG={};vl&&(WG=document.createElement("div").style,"AnimationEvent"in window||(delete $h.animationend.animation,delete $h.animationiteration.animation,delete $h.animationstart.animation),"TransitionEvent"in window||delete $h.transitionend.transition);function _C(e){if(pT[e])return pT[e];if(!$h[e])return e;var t=$h[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in WG)return pT[e]=t[n];return e}var VG=_C("animationend"),GG=_C("animationiteration"),HG=_C("animationstart"),qG=_C("transitionend"),YG=new Map,VF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wc(e,t){YG.set(e,t),wd(t,[e])}for(var hT=0;hT<VF.length;hT++){var mT=VF[hT],Npe=mT.toLowerCase(),Mpe=mT[0].toUpperCase()+mT.slice(1);wc(Npe,"on"+Mpe)}wc(VG,"onAnimationEnd");wc(GG,"onAnimationIteration");wc(HG,"onAnimationStart");wc("dblclick","onDoubleClick");wc("focusin","onFocus");wc("focusout","onBlur");wc(qG,"onTransitionEnd");Cm("onMouseEnter",["mouseout","mouseover"]);Cm("onMouseLeave",["mouseout","mouseover"]);Cm("onPointerEnter",["pointerout","pointerover"]);Cm("onPointerLeave",["pointerout","pointerover"]);wd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wd("onBeforeInput",["compositionend","keypress","textInput","paste"]);wd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tpe=new Set("cancel close invalid load scroll toggle".split(" ").concat(iy));function GF(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nde(r,t,void 0,e),e.currentTarget=null}function QG(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;GF(a,o,u),i=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;GF(a,o,u),i=l}}}if(sS)throw e=o4,sS=!1,o4=null,e}function mn(e,t){var n=t[y4];n===void 0&&(n=t[y4]=new Set);var r=e+"__bubble";n.has(r)||(KG(t,e,2,!1),n.add(r))}function gT(e,t,n){var r=0;t&&(r|=4),KG(n,e,r,t)}var Sx="_reactListening"+Math.random().toString(36).slice(2);function Zy(e){if(!e[Sx]){e[Sx]=!0,rG.forEach(function(n){n!=="selectionchange"&&(Tpe.has(n)||gT(n,!1,e),gT(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sx]||(t[Sx]=!0,gT("selectionchange",!1,t))}}function KG(e,t,n,r){switch(jG(t)){case 1:var a=Ude;break;case 4:a=Wde;break;default:a=N_}n=a.bind(null,t,n,e),a=void 0,!s4||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function yT(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=pf(o),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}o=o.parentNode}}r=r.return}bG(function(){var u=i,c=S_(n),f=[];e:{var d=YG.get(e);if(d!==void 0){var p=T_,h=e;switch(e){case"keypress":if(N2(n)===0)break e;case"keydown":case"keyup":p=ape;break;case"focusin":h="focus",p=cT;break;case"focusout":h="blur",p=cT;break;case"beforeblur":case"afterblur":p=cT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Hde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ope;break;case VG:case GG:case HG:p=Qde;break;case qG:p=upe;break;case"scroll":p=Vde;break;case"wheel":p=fpe;break;case"copy":case"cut":case"paste":p=Jde;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=DF}var m=(t&4)!==0,g=!m&&e==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var v=u,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,y!==null&&(x=Hy(v,y),x!=null&&m.push(Xy(v,x,b)))),g)break;v=v.return}0<m.length&&(d=new p(d,h,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==a4&&(h=n.relatedTarget||n.fromElement)&&(pf(h)||h[bl]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?pf(h):null,h!==null&&(g=xd(h),h!==g||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(m=jF,x="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=DF,x="onPointerLeave",y="onPointerEnter",v="pointer"),g=p==null?d:Dh(p),b=h==null?d:Dh(h),d=new m(x,v+"leave",p,n,c),d.target=g,d.relatedTarget=b,x=null,pf(c)===u&&(m=new m(y,v+"enter",h,n,c),m.target=b,m.relatedTarget=g,x=m),g=x,p&&h)t:{for(m=p,y=h,v=0,b=m;b;b=gh(b))v++;for(b=0,x=y;x;x=gh(x))b++;for(;0<v-b;)m=gh(m),v--;for(;0<b-v;)y=gh(y),b--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=gh(m),y=gh(y)}m=null}else m=null;p!==null&&HF(f,d,p,m,!1),h!==null&&g!==null&&HF(f,g,h,m,!0)}}e:{if(d=u?Dh(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=vpe;else if(PF(d))if(FG)S=Spe;else{S=wpe;var k=bpe}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=xpe);if(S&&(S=S(e,u))){PG(f,S,n,c);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&XE(d,"number",d.value)}switch(k=u?Dh(u):window,e){case"focusin":(PF(k)||k.contentEditable==="true")&&(jh=k,f4=u,Iy=null);break;case"focusout":Iy=f4=jh=null;break;case"mousedown":d4=!0;break;case"contextmenu":case"mouseup":case"dragend":d4=!1,WF(f,n,c);break;case"selectionchange":if(Ipe)break;case"keydown":case"keyup":WF(f,n,c)}var I;if(A_)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else _h?OG(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(DG&&n.locale!=="ko"&&(_h||N!=="onCompositionStart"?N==="onCompositionEnd"&&_h&&(I=$G()):(Cu=c,M_="value"in Cu?Cu.value:Cu.textContent,_h=!0)),k=fS(u,N),0<k.length&&(N=new $F(N,e,null,n,c),f.push({event:N,listeners:k}),I?N.data=I:(I=RG(n),I!==null&&(N.data=I)))),(I=ppe?hpe(e,n):mpe(e,n))&&(u=fS(u,"onBeforeInput"),0<u.length&&(c=new $F("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}QG(f,t)})}function Xy(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fS(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Hy(e,n),i!=null&&r.unshift(Xy(e,i,a)),i=Hy(e,t),i!=null&&r.push(Xy(e,i,a))),e=e.return}return r}function gh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function HF(e,t,n,r,a){for(var i=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,a?(l=Hy(n,i),l!=null&&s.unshift(Xy(n,l,o))):a||(l=Hy(n,i),l!=null&&s.push(Xy(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Epe=/\r\n?/g,Ape=/\u0000|\uFFFD/g;function qF(e){return(typeof e=="string"?e:""+e).replace(Epe,`
`).replace(Ape,"")}function kx(e,t,n){if(t=qF(t),qF(e)!==t&&n)throw Error(be(425))}function dS(){}var p4=null,h4=null;function m4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var g4=typeof setTimeout=="function"?setTimeout:void 0,Lpe=typeof clearTimeout=="function"?clearTimeout:void 0,YF=typeof Promise=="function"?Promise:void 0,_pe=typeof queueMicrotask=="function"?queueMicrotask:typeof YF<"u"?function(e){return YF.resolve(null).then(e).catch(jpe)}:g4;function jpe(e){setTimeout(function(){throw e})}function vT(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Qy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Qy(t)}function Fu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function QF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Eg=Math.random().toString(36).slice(2),fo="__reactFiber$"+Eg,ev="__reactProps$"+Eg,bl="__reactContainer$"+Eg,y4="__reactEvents$"+Eg,$pe="__reactListeners$"+Eg,Dpe="__reactHandles$"+Eg;function pf(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bl]||n[fo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=QF(e);e!==null;){if(n=e[fo])return n;e=QF(e)}return t}e=n,n=e.parentNode}return null}function Eb(e){return e=e[fo]||e[bl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(be(33))}function jC(e){return e[ev]||null}var v4=[],Oh=-1;function xc(e){return{current:e}}function vn(e){0>Oh||(e.current=v4[Oh],v4[Oh]=null,Oh--)}function fn(e,t){Oh++,v4[Oh]=e.current,e.current=t}var ec={},sa=xc(ec),qa=xc(!1),Bf=ec;function Im(e,t){var n=e.type.contextTypes;if(!n)return ec;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ya(e){return e=e.childContextTypes,e!=null}function pS(){vn(qa),vn(sa)}function KF(e,t,n){if(sa.current!==ec)throw Error(be(168));fn(sa,t),fn(qa,n)}function JG(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(be(108,bde(e)||"Unknown",a));return jn({},n,r)}function hS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ec,Bf=sa.current,fn(sa,e),fn(qa,qa.current),!0}function JF(e,t,n){var r=e.stateNode;if(!r)throw Error(be(169));n?(e=JG(e,t,Bf),r.__reactInternalMemoizedMergedChildContext=e,vn(qa),vn(sa),fn(sa,e)):vn(qa),fn(qa,n)}var Xo=null,$C=!1,bT=!1;function ZG(e){Xo===null?Xo=[e]:Xo.push(e)}function Ope(e){$C=!0,ZG(e)}function Sc(){if(!bT&&Xo!==null){bT=!0;var e=0,t=qt;try{var n=Xo;for(qt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xo=null,$C=!1}catch(a){throw Xo!==null&&(Xo=Xo.slice(e+1)),kG(k_,Sc),a}finally{qt=t,bT=!1}}return null}var Rh=[],Ph=0,mS=null,gS=0,Gi=[],Hi=0,Uf=null,sl=1,ol="";function Zc(e,t){Rh[Ph++]=gS,Rh[Ph++]=mS,mS=e,gS=t}function XG(e,t,n){Gi[Hi++]=sl,Gi[Hi++]=ol,Gi[Hi++]=Uf,Uf=e;var r=sl;e=ol;var a=32-_s(r)-1;r&=~(1<<a),n+=1;var i=32-_s(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,sl=1<<32-_s(t)+a|n<<a|r,ol=i+e}else sl=1<<i|n<<a|r,ol=e}function __(e){e.return!==null&&(Zc(e,1),XG(e,1,0))}function j_(e){for(;e===mS;)mS=Rh[--Ph],Rh[Ph]=null,gS=Rh[--Ph],Rh[Ph]=null;for(;e===Uf;)Uf=Gi[--Hi],Gi[Hi]=null,ol=Gi[--Hi],Gi[Hi]=null,sl=Gi[--Hi],Gi[Hi]=null}var bi=null,pi=null,kn=!1,Ms=null;function e7(e,t){var n=Qi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ZF(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bi=e,pi=Fu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bi=e,pi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Uf!==null?{id:sl,overflow:ol}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bi=e,pi=null,!0):!1;default:return!1}}function b4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function w4(e){if(kn){var t=pi;if(t){var n=t;if(!ZF(e,t)){if(b4(e))throw Error(be(418));t=Fu(n.nextSibling);var r=bi;t&&ZF(e,t)?e7(r,n):(e.flags=e.flags&-4097|2,kn=!1,bi=e)}}else{if(b4(e))throw Error(be(418));e.flags=e.flags&-4097|2,kn=!1,bi=e}}}function XF(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bi=e}function Cx(e){if(e!==bi)return!1;if(!kn)return XF(e),kn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!m4(e.type,e.memoizedProps)),t&&(t=pi)){if(b4(e))throw t7(),Error(be(418));for(;t;)e7(e,t),t=Fu(t.nextSibling)}if(XF(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pi=Fu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pi=null}}else pi=bi?Fu(e.stateNode.nextSibling):null;return!0}function t7(){for(var e=pi;e;)e=Fu(e.nextSibling)}function Nm(){pi=bi=null,kn=!1}function $_(e){Ms===null?Ms=[e]:Ms.push(e)}var Rpe=Ll.ReactCurrentBatchConfig;function _1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,e))}return e}function Ix(e,t){throw e=Object.prototype.toString.call(t),Error(be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ez(e){var t=e._init;return t(e._payload)}function n7(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=Wu(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,v,b,x){return v===null||v.tag!==6?(v=NT(b,y.mode,x),v.return=y,v):(v=a(v,b),v.return=y,v)}function l(y,v,b,x){var S=b.type;return S===Lh?c(y,v,b.props.children,x,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===su&&ez(S)===v.type)?(x=a(v,b.props),x.ref=_1(y,v,b),x.return=y,x):(x=j2(b.type,b.key,b.props,null,y.mode,x),x.ref=_1(y,v,b),x.return=y,x)}function u(y,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=MT(b,y.mode,x),v.return=y,v):(v=a(v,b.children||[]),v.return=y,v)}function c(y,v,b,x,S){return v===null||v.tag!==7?(v=jf(b,y.mode,x,S),v.return=y,v):(v=a(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=NT(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hx:return b=j2(v.type,v.key,v.props,null,y.mode,b),b.ref=_1(y,null,v),b.return=y,b;case Ah:return v=MT(v,y.mode,b),v.return=y,v;case su:var x=v._init;return f(y,x(v._payload),b)}if(ry(v)||M1(v))return v=jf(v,y.mode,b,null),v.return=y,v;Ix(y,v)}return null}function d(y,v,b,x){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(y,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hx:return b.key===S?l(y,v,b,x):null;case Ah:return b.key===S?u(y,v,b,x):null;case su:return S=b._init,d(y,v,S(b._payload),x)}if(ry(b)||M1(b))return S!==null?null:c(y,v,b,x,null);Ix(y,b)}return null}function p(y,v,b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(b)||null,o(v,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hx:return y=y.get(x.key===null?b:x.key)||null,l(v,y,x,S);case Ah:return y=y.get(x.key===null?b:x.key)||null,u(v,y,x,S);case su:var k=x._init;return p(y,v,b,k(x._payload),S)}if(ry(x)||M1(x))return y=y.get(b)||null,c(v,y,x,S,null);Ix(v,x)}return null}function h(y,v,b,x){for(var S=null,k=null,I=v,N=v=0,T=null;I!==null&&N<b.length;N++){I.index>N?(T=I,I=null):T=I.sibling;var L=d(y,I,b[N],x);if(L===null){I===null&&(I=T);break}e&&I&&L.alternate===null&&t(y,I),v=i(L,v,N),k===null?S=L:k.sibling=L,k=L,I=T}if(N===b.length)return n(y,I),kn&&Zc(y,N),S;if(I===null){for(;N<b.length;N++)I=f(y,b[N],x),I!==null&&(v=i(I,v,N),k===null?S=I:k.sibling=I,k=I);return kn&&Zc(y,N),S}for(I=r(y,I);N<b.length;N++)T=p(I,y,N,b[N],x),T!==null&&(e&&T.alternate!==null&&I.delete(T.key===null?N:T.key),v=i(T,v,N),k===null?S=T:k.sibling=T,k=T);return e&&I.forEach(function(E){return t(y,E)}),kn&&Zc(y,N),S}function m(y,v,b,x){var S=M1(b);if(typeof S!="function")throw Error(be(150));if(b=S.call(b),b==null)throw Error(be(151));for(var k=S=null,I=v,N=v=0,T=null,L=b.next();I!==null&&!L.done;N++,L=b.next()){I.index>N?(T=I,I=null):T=I.sibling;var E=d(y,I,L.value,x);if(E===null){I===null&&(I=T);break}e&&I&&E.alternate===null&&t(y,I),v=i(E,v,N),k===null?S=E:k.sibling=E,k=E,I=T}if(L.done)return n(y,I),kn&&Zc(y,N),S;if(I===null){for(;!L.done;N++,L=b.next())L=f(y,L.value,x),L!==null&&(v=i(L,v,N),k===null?S=L:k.sibling=L,k=L);return kn&&Zc(y,N),S}for(I=r(y,I);!L.done;N++,L=b.next())L=p(I,y,N,L.value,x),L!==null&&(e&&L.alternate!==null&&I.delete(L.key===null?N:L.key),v=i(L,v,N),k===null?S=L:k.sibling=L,k=L);return e&&I.forEach(function(M){return t(y,M)}),kn&&Zc(y,N),S}function g(y,v,b,x){if(typeof b=="object"&&b!==null&&b.type===Lh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case hx:e:{for(var S=b.key,k=v;k!==null;){if(k.key===S){if(S=b.type,S===Lh){if(k.tag===7){n(y,k.sibling),v=a(k,b.props.children),v.return=y,y=v;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===su&&ez(S)===k.type){n(y,k.sibling),v=a(k,b.props),v.ref=_1(y,k,b),v.return=y,y=v;break e}n(y,k);break}else t(y,k);k=k.sibling}b.type===Lh?(v=jf(b.props.children,y.mode,x,b.key),v.return=y,y=v):(x=j2(b.type,b.key,b.props,null,y.mode,x),x.ref=_1(y,v,b),x.return=y,y=x)}return s(y);case Ah:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=a(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=MT(b,y.mode,x),v.return=y,y=v}return s(y);case su:return k=b._init,g(y,v,k(b._payload),x)}if(ry(b))return h(y,v,b,x);if(M1(b))return m(y,v,b,x);Ix(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=a(v,b),v.return=y,y=v):(n(y,v),v=NT(b,y.mode,x),v.return=y,y=v),s(y)):n(y,v)}return g}var Mm=n7(!0),r7=n7(!1),yS=xc(null),vS=null,Fh=null,D_=null;function O_(){D_=Fh=vS=null}function R_(e){var t=yS.current;vn(yS),e._currentValue=t}function x4(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kh(e,t){vS=e,D_=Fh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Va=!0),e.firstContext=null)}function ns(e){var t=e._currentValue;if(D_!==e)if(e={context:e,memoizedValue:t,next:null},Fh===null){if(vS===null)throw Error(be(308));Fh=e,vS.dependencies={lanes:0,firstContext:e}}else Fh=Fh.next=e;return t}var hf=null;function P_(e){hf===null?hf=[e]:hf.push(e)}function a7(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,P_(t)):(n.next=a.next,a.next=n),t.interleaved=n,wl(e,r)}function wl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ou=!1;function F_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,jt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,wl(e,n)}return a=r.interleaved,a===null?(t.next=t,P_(r)):(t.next=a.next,a.next=t),r.interleaved=t,wl(e,n)}function M2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,C_(e,n)}}function tz(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bS(e,t,n,r){var a=e.updateQueue;ou=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,c=u=l=null,o=i;do{var d=o.lane,p=o.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(d=t,p=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,d=typeof h=="function"?h.call(p,f,d):h,d==null)break e;f=jn({},f,d);break e;case 2:ou=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=a.effects,d===null?a.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;d=o,o=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);if(c===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Vf|=s,e.lanes=s,e.memoizedState=f}}function nz(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(be(191,a));a.call(r)}}}var Ab={},wo=xc(Ab),tv=xc(Ab),nv=xc(Ab);function mf(e){if(e===Ab)throw Error(be(174));return e}function z_(e,t){switch(fn(nv,t),fn(tv,e),fn(wo,Ab),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:t4(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=t4(t,e)}vn(wo),fn(wo,t)}function Tm(){vn(wo),vn(tv),vn(nv)}function s7(e){mf(nv.current);var t=mf(wo.current),n=t4(t,e.type);t!==n&&(fn(tv,e),fn(wo,n))}function B_(e){tv.current===e&&(vn(wo),vn(tv))}var An=xc(0);function wS(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wT=[];function U_(){for(var e=0;e<wT.length;e++)wT[e]._workInProgressVersionPrimary=null;wT.length=0}var T2=Ll.ReactCurrentDispatcher,xT=Ll.ReactCurrentBatchConfig,Wf=0,_n=null,gr=null,Ar=null,xS=!1,Ny=!1,rv=0,Ppe=0;function Kr(){throw Error(be(321))}function W_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fs(e[n],t[n]))return!1;return!0}function V_(e,t,n,r,a,i){if(Wf=i,_n=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T2.current=e===null||e.memoizedState===null?Upe:Wpe,e=n(r,a),Ny){i=0;do{if(Ny=!1,rv=0,25<=i)throw Error(be(301));i+=1,Ar=gr=null,t.updateQueue=null,T2.current=Vpe,e=n(r,a)}while(Ny)}if(T2.current=SS,t=gr!==null&&gr.next!==null,Wf=0,Ar=gr=_n=null,xS=!1,t)throw Error(be(300));return e}function G_(){var e=rv!==0;return rv=0,e}function ro(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?_n.memoizedState=Ar=e:Ar=Ar.next=e,Ar}function rs(){if(gr===null){var e=_n.alternate;e=e!==null?e.memoizedState:null}else e=gr.next;var t=Ar===null?_n.memoizedState:Ar.next;if(t!==null)Ar=t,gr=e;else{if(e===null)throw Error(be(310));gr=e,e={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Ar===null?_n.memoizedState=Ar=e:Ar=Ar.next=e}return Ar}function av(e,t){return typeof t=="function"?t(e):t}function ST(e){var t=rs(),n=t.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=e;var r=gr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var o=s=null,l=null,u=i;do{var c=u.lane;if((Wf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,_n.lanes|=c,Vf|=c}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=o,Fs(r,t.memoizedState)||(Va=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,_n.lanes|=i,Vf|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kT(e){var t=rs(),n=t.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Fs(i,t.memoizedState)||(Va=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function o7(){}function l7(e,t){var n=_n,r=rs(),a=t(),i=!Fs(r.memoizedState,a);if(i&&(r.memoizedState=a,Va=!0),r=r.queue,H_(f7.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ar!==null&&Ar.memoizedState.tag&1){if(n.flags|=2048,iv(9,c7.bind(null,n,r,a,t),void 0,null),$r===null)throw Error(be(349));Wf&30||u7(n,t,a)}return a}function u7(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_n.updateQueue,t===null?(t={lastEffect:null,stores:null},_n.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function c7(e,t,n,r){t.value=n,t.getSnapshot=r,d7(t)&&p7(e)}function f7(e,t,n){return n(function(){d7(t)&&p7(e)})}function d7(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fs(e,n)}catch{return!0}}function p7(e){var t=wl(e,1);t!==null&&js(t,e,1,-1)}function rz(e){var t=ro();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:e},t.queue=e,e=e.dispatch=Bpe.bind(null,_n,e),[t.memoizedState,e]}function iv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_n.updateQueue,t===null?(t={lastEffect:null,stores:null},_n.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function h7(){return rs().memoizedState}function E2(e,t,n,r){var a=ro();_n.flags|=e,a.memoizedState=iv(1|t,n,void 0,r===void 0?null:r)}function DC(e,t,n,r){var a=rs();r=r===void 0?null:r;var i=void 0;if(gr!==null){var s=gr.memoizedState;if(i=s.destroy,r!==null&&W_(r,s.deps)){a.memoizedState=iv(t,n,i,r);return}}_n.flags|=e,a.memoizedState=iv(1|t,n,i,r)}function az(e,t){return E2(8390656,8,e,t)}function H_(e,t){return DC(2048,8,e,t)}function m7(e,t){return DC(4,2,e,t)}function g7(e,t){return DC(4,4,e,t)}function y7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function v7(e,t,n){return n=n!=null?n.concat([e]):null,DC(4,4,y7.bind(null,t,e),n)}function q_(){}function b7(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&W_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function w7(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&W_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function x7(e,t,n){return Wf&21?(Fs(n,t)||(n=NG(),_n.lanes|=n,Vf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Va=!0),e.memoizedState=n)}function Fpe(e,t){var n=qt;qt=n!==0&&4>n?n:4,e(!0);var r=xT.transition;xT.transition={};try{e(!1),t()}finally{qt=n,xT.transition=r}}function S7(){return rs().memoizedState}function zpe(e,t,n){var r=Uu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k7(e))C7(t,n);else if(n=a7(e,t,n,r),n!==null){var a=Ca();js(n,e,r,a),I7(n,t,r)}}function Bpe(e,t,n){var r=Uu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k7(e))C7(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,Fs(o,s)){var l=t.interleaved;l===null?(a.next=a,P_(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=a7(e,t,a,r),n!==null&&(a=Ca(),js(n,e,r,a),I7(n,t,r))}}function k7(e){var t=e.alternate;return e===_n||t!==null&&t===_n}function C7(e,t){Ny=xS=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function I7(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,C_(e,n)}}var SS={readContext:ns,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},Upe={readContext:ns,useCallback:function(e,t){return ro().memoizedState=[e,t===void 0?null:t],e},useContext:ns,useEffect:az,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,E2(4194308,4,y7.bind(null,t,e),n)},useLayoutEffect:function(e,t){return E2(4194308,4,e,t)},useInsertionEffect:function(e,t){return E2(4,2,e,t)},useMemo:function(e,t){var n=ro();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ro();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zpe.bind(null,_n,e),[r.memoizedState,e]},useRef:function(e){var t=ro();return e={current:e},t.memoizedState=e},useState:rz,useDebugValue:q_,useDeferredValue:function(e){return ro().memoizedState=e},useTransition:function(){var e=rz(!1),t=e[0];return e=Fpe.bind(null,e[1]),ro().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_n,a=ro();if(kn){if(n===void 0)throw Error(be(407));n=n()}else{if(n=t(),$r===null)throw Error(be(349));Wf&30||u7(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,az(f7.bind(null,r,i,e),[e]),r.flags|=2048,iv(9,c7.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ro(),t=$r.identifierPrefix;if(kn){var n=ol,r=sl;n=(r&~(1<<32-_s(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=rv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ppe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wpe={readContext:ns,useCallback:b7,useContext:ns,useEffect:H_,useImperativeHandle:v7,useInsertionEffect:m7,useLayoutEffect:g7,useMemo:w7,useReducer:ST,useRef:h7,useState:function(){return ST(av)},useDebugValue:q_,useDeferredValue:function(e){var t=rs();return x7(t,gr.memoizedState,e)},useTransition:function(){var e=ST(av)[0],t=rs().memoizedState;return[e,t]},useMutableSource:o7,useSyncExternalStore:l7,useId:S7,unstable_isNewReconciler:!1},Vpe={readContext:ns,useCallback:b7,useContext:ns,useEffect:H_,useImperativeHandle:v7,useInsertionEffect:m7,useLayoutEffect:g7,useMemo:w7,useReducer:kT,useRef:h7,useState:function(){return kT(av)},useDebugValue:q_,useDeferredValue:function(e){var t=rs();return gr===null?t.memoizedState=e:x7(t,gr.memoizedState,e)},useTransition:function(){var e=kT(av)[0],t=rs().memoizedState;return[e,t]},useMutableSource:o7,useSyncExternalStore:l7,useId:S7,unstable_isNewReconciler:!1};function xs(e,t){if(e&&e.defaultProps){t=jn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function S4(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:jn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var OC={isMounted:function(e){return(e=e._reactInternals)?xd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ca(),a=Uu(e),i=cl(r,a);i.payload=t,n!=null&&(i.callback=n),t=zu(e,i,a),t!==null&&(js(t,e,a,r),M2(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ca(),a=Uu(e),i=cl(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=zu(e,i,a),t!==null&&(js(t,e,a,r),M2(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ca(),r=Uu(e),a=cl(n,r);a.tag=2,t!=null&&(a.callback=t),t=zu(e,a,r),t!==null&&(js(t,e,r,n),M2(t,e,r))}};function iz(e,t,n,r,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Jy(n,r)||!Jy(a,i):!0}function N7(e,t,n){var r=!1,a=ec,i=t.contextType;return typeof i=="object"&&i!==null?i=ns(i):(a=Ya(t)?Bf:sa.current,r=t.contextTypes,i=(r=r!=null)?Im(e,a):ec),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=OC,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function sz(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&OC.enqueueReplaceState(t,t.state,null)}function k4(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},F_(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ns(i):(i=Ya(t)?Bf:sa.current,a.context=Im(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(S4(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&OC.enqueueReplaceState(a,a.state,null),bS(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Em(e,t){try{var n="",r=t;do n+=vde(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function CT(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function C4(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gpe=typeof WeakMap=="function"?WeakMap:Map;function M7(e,t,n){n=cl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){CS||(CS=!0,$4=r),C4(e,t)},n}function T7(e,t,n){n=cl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){C4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){C4(e,t),typeof r!="function"&&(Bu===null?Bu=new Set([this]):Bu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function oz(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gpe;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=ihe.bind(null,e,t,n),t.then(e,e))}function lz(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uz(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cl(-1,1),t.tag=2,zu(n,t,1))),n.lanes|=1),e)}var Hpe=Ll.ReactCurrentOwner,Va=!1;function va(e,t,n,r){t.child=e===null?r7(t,null,n,r):Mm(t,e.child,n,r)}function cz(e,t,n,r,a){n=n.render;var i=t.ref;return Kh(t,a),r=V_(e,t,n,r,i,a),n=G_(),e!==null&&!Va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xl(e,t,a)):(kn&&n&&__(t),t.flags|=1,va(e,t,r,a),t.child)}function fz(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!tj(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,E7(e,t,i,r,a)):(e=j2(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jy,n(s,r)&&e.ref===t.ref)return xl(e,t,a)}return t.flags|=1,e=Wu(i,r),e.ref=t.ref,e.return=t,t.child=e}function E7(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Jy(i,r)&&e.ref===t.ref)if(Va=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Va=!0);else return t.lanes=e.lanes,xl(e,t,a)}return I4(e,t,n,r,a)}function A7(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(Bh,ui),ui|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fn(Bh,ui),ui|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fn(Bh,ui),ui|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,fn(Bh,ui),ui|=r;return va(e,t,a,n),t.child}function L7(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function I4(e,t,n,r,a){var i=Ya(n)?Bf:sa.current;return i=Im(t,i),Kh(t,a),n=V_(e,t,n,r,i,a),r=G_(),e!==null&&!Va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xl(e,t,a)):(kn&&r&&__(t),t.flags|=1,va(e,t,n,a),t.child)}function dz(e,t,n,r,a){if(Ya(n)){var i=!0;hS(t)}else i=!1;if(Kh(t,a),t.stateNode===null)A2(e,t),N7(t,n,r),k4(t,n,r,a),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ns(u):(u=Ya(n)?Bf:sa.current,u=Im(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&sz(t,s,r,u),ou=!1;var d=t.memoizedState;s.state=d,bS(t,r,s,a),l=t.memoizedState,o!==r||d!==l||qa.current||ou?(typeof c=="function"&&(S4(t,n,c,r),l=t.memoizedState),(o=ou||iz(t,n,o,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,i7(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:xs(t.type,o),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=Ya(n)?Bf:sa.current,l=Im(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&sz(t,s,r,l),ou=!1,d=t.memoizedState,s.state=d,bS(t,r,s,a);var h=t.memoizedState;o!==f||d!==h||qa.current||ou?(typeof p=="function"&&(S4(t,n,p,r),h=t.memoizedState),(u=ou||iz(t,n,u,r,d,h,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return N4(e,t,n,r,i,a)}function N4(e,t,n,r,a,i){L7(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return a&&JF(t,n,!1),xl(e,t,i);r=t.stateNode,Hpe.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Mm(t,e.child,null,i),t.child=Mm(t,null,o,i)):va(e,t,o,i),t.memoizedState=r.state,a&&JF(t,n,!0),t.child}function _7(e){var t=e.stateNode;t.pendingContext?KF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KF(e,t.context,!1),z_(e,t.containerInfo)}function pz(e,t,n,r,a){return Nm(),$_(a),t.flags|=256,va(e,t,n,r),t.child}var M4={dehydrated:null,treeContext:null,retryLane:0};function T4(e){return{baseLanes:e,cachePool:null,transitions:null}}function j7(e,t,n){var r=t.pendingProps,a=An.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fn(An,a&1),e===null)return w4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=FC(s,r,0,null),e=jf(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=T4(n),t.memoizedState=M4,e):Y_(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return qpe(e,t,s,r,o,a,n);if(i){i=r.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Wu(a,l),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Wu(o,i):(i=jf(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?T4(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=M4,r}return i=e.child,e=i.sibling,r=Wu(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Y_(e,t){return t=FC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nx(e,t,n,r){return r!==null&&$_(r),Mm(t,e.child,null,n),e=Y_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qpe(e,t,n,r,a,i,s){if(n)return t.flags&256?(t.flags&=-257,r=CT(Error(be(422))),Nx(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=FC({mode:"visible",children:r.children},a,0,null),i=jf(i,a,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Mm(t,e.child,null,s),t.child.memoizedState=T4(s),t.memoizedState=M4,i);if(!(t.mode&1))return Nx(e,t,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(be(419)),r=CT(i,r,void 0),Nx(e,t,s,r)}if(o=(s&e.childLanes)!==0,Va||o){if(r=$r,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,wl(e,a),js(r,e,a,-1))}return ej(),r=CT(Error(be(421))),Nx(e,t,s,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=she.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,pi=Fu(a.nextSibling),bi=t,kn=!0,Ms=null,e!==null&&(Gi[Hi++]=sl,Gi[Hi++]=ol,Gi[Hi++]=Uf,sl=e.id,ol=e.overflow,Uf=t),t=Y_(t,r.children),t.flags|=4096,t)}function hz(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),x4(e.return,t,n)}function IT(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function $7(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(va(e,t,r.children,n),r=An.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hz(e,n,t);else if(e.tag===19)hz(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fn(An,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&wS(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),IT(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&wS(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}IT(t,!0,n,null,i);break;case"together":IT(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function A2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(be(153));if(t.child!==null){for(e=t.child,n=Wu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ype(e,t,n){switch(t.tag){case 3:_7(t),Nm();break;case 5:s7(t);break;case 1:Ya(t.type)&&hS(t);break;case 4:z_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;fn(yS,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fn(An,An.current&1),t.flags|=128,null):n&t.child.childLanes?j7(e,t,n):(fn(An,An.current&1),e=xl(e,t,n),e!==null?e.sibling:null);fn(An,An.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $7(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fn(An,An.current),r)break;return null;case 22:case 23:return t.lanes=0,A7(e,t,n)}return xl(e,t,n)}var D7,E4,O7,R7;D7=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E4=function(){};O7=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,mf(wo.current);var i=null;switch(n){case"input":a=JE(e,a),r=JE(e,r),i=[];break;case"select":a=jn({},a,{value:void 0}),r=jn({},r,{value:void 0}),i=[];break;case"textarea":a=e4(e,a),r=e4(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dS)}n4(n,r);var s;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vy.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vy.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&mn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};R7=function(e,t,n,r){n!==r&&(t.flags|=4)};function j1(e,t){if(!kn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qpe(e,t,n){var r=t.pendingProps;switch(j_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return Ya(t.type)&&pS(),Jr(t),null;case 3:return r=t.stateNode,Tm(),vn(qa),vn(sa),U_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ms!==null&&(R4(Ms),Ms=null))),E4(e,t),Jr(t),null;case 5:B_(t);var a=mf(nv.current);if(n=t.type,e!==null&&t.stateNode!=null)O7(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(be(166));return Jr(t),null}if(e=mf(wo.current),Cx(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fo]=t,r[ev]=i,e=(t.mode&1)!==0,n){case"dialog":mn("cancel",r),mn("close",r);break;case"iframe":case"object":case"embed":mn("load",r);break;case"video":case"audio":for(a=0;a<iy.length;a++)mn(iy[a],r);break;case"source":mn("error",r);break;case"img":case"image":case"link":mn("error",r),mn("load",r);break;case"details":mn("toggle",r);break;case"input":kF(r,i),mn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},mn("invalid",r);break;case"textarea":IF(r,i),mn("invalid",r)}n4(n,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&kx(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&kx(r.textContent,o,e),a=["children",""+o]):Vy.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&mn("scroll",r)}switch(n){case"input":mx(r),CF(r,i,!0);break;case"textarea":mx(r),NF(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=dS)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fG(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fo]=t,e[ev]=r,D7(e,t,!1,!1),t.stateNode=e;e:{switch(s=r4(n,r),n){case"dialog":mn("cancel",e),mn("close",e),a=r;break;case"iframe":case"object":case"embed":mn("load",e),a=r;break;case"video":case"audio":for(a=0;a<iy.length;a++)mn(iy[a],e);a=r;break;case"source":mn("error",e),a=r;break;case"img":case"image":case"link":mn("error",e),mn("load",e),a=r;break;case"details":mn("toggle",e),a=r;break;case"input":kF(e,r),a=JE(e,r),mn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=jn({},r,{value:void 0}),mn("invalid",e);break;case"textarea":IF(e,r),a=e4(e,r),mn("invalid",e);break;default:a=r}n4(n,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?hG(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dG(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gy(e,l):typeof l=="number"&&Gy(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vy.hasOwnProperty(i)?l!=null&&i==="onScroll"&&mn("scroll",e):l!=null&&v_(e,i,l,s))}switch(n){case"input":mx(e),CF(e,r,!1);break;case"textarea":mx(e),NF(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xu(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hh(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=dS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)R7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(be(166));if(n=mf(nv.current),mf(wo.current),Cx(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(i=r.nodeValue!==n)&&(e=bi,e!==null))switch(e.tag){case 3:kx(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kx(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fo]=t,t.stateNode=r}return Jr(t),null;case 13:if(vn(An),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kn&&pi!==null&&t.mode&1&&!(t.flags&128))t7(),Nm(),t.flags|=98560,i=!1;else if(i=Cx(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(be(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(be(317));i[fo]=t}else Nm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),i=!1}else Ms!==null&&(R4(Ms),Ms=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||An.current&1?xr===0&&(xr=3):ej())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return Tm(),E4(e,t),e===null&&Zy(t.stateNode.containerInfo),Jr(t),null;case 10:return R_(t.type._context),Jr(t),null;case 17:return Ya(t.type)&&pS(),Jr(t),null;case 19:if(vn(An),i=t.memoizedState,i===null)return Jr(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)j1(i,!1);else{if(xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=wS(e),s!==null){for(t.flags|=128,j1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fn(An,An.current&1|2),t.child}e=e.sibling}i.tail!==null&&Vn()>Am&&(t.flags|=128,r=!0,j1(i,!1),t.lanes=4194304)}else{if(!r)if(e=wS(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),j1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!kn)return Jr(t),null}else 2*Vn()-i.renderingStartTime>Am&&n!==1073741824&&(t.flags|=128,r=!0,j1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vn(),t.sibling=null,n=An.current,fn(An,r?n&1|2:n&1),t):(Jr(t),null);case 22:case 23:return X_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ui&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(be(156,t.tag))}function Kpe(e,t){switch(j_(t),t.tag){case 1:return Ya(t.type)&&pS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tm(),vn(qa),vn(sa),U_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return B_(t),null;case 13:if(vn(An),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(be(340));Nm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vn(An),null;case 4:return Tm(),null;case 10:return R_(t.type._context),null;case 22:case 23:return X_(),null;case 24:return null;default:return null}}var Mx=!1,ea=!1,Jpe=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function zh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rn(e,t,r)}else n.current=null}function A4(e,t,n){try{n()}catch(r){Rn(e,t,r)}}var mz=!1;function Zpe(e,t){if(p4=uS,e=UG(),L_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||a!==0&&f.nodeType!==3||(o=s+a),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===a&&(o=s),d===i&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(h4={focusedElem:e,selectionRange:n},uS=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,g=h.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:xs(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(x){Rn(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return h=mz,mz=!1,h}function My(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&A4(t,n,i)}a=a.next}while(a!==r)}}function RC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function L4(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function P7(e){var t=e.alternate;t!==null&&(e.alternate=null,P7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fo],delete t[ev],delete t[y4],delete t[$pe],delete t[Dpe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function F7(e){return e.tag===5||e.tag===3||e.tag===4}function gz(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||F7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _4(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dS));else if(r!==4&&(e=e.child,e!==null))for(_4(e,t,n),e=e.sibling;e!==null;)_4(e,t,n),e=e.sibling}function j4(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(j4(e,t,n),e=e.sibling;e!==null;)j4(e,t,n),e=e.sibling}var Fr=null,Cs=!1;function Ql(e,t,n){for(n=n.child;n!==null;)z7(e,t,n),n=n.sibling}function z7(e,t,n){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(EC,n)}catch{}switch(n.tag){case 5:ea||zh(n,t);case 6:var r=Fr,a=Cs;Fr=null,Ql(e,t,n),Fr=r,Cs=a,Fr!==null&&(Cs?(e=Fr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fr.removeChild(n.stateNode));break;case 18:Fr!==null&&(Cs?(e=Fr,n=n.stateNode,e.nodeType===8?vT(e.parentNode,n):e.nodeType===1&&vT(e,n),Qy(e)):vT(Fr,n.stateNode));break;case 4:r=Fr,a=Cs,Fr=n.stateNode.containerInfo,Cs=!0,Ql(e,t,n),Fr=r,Cs=a;break;case 0:case 11:case 14:case 15:if(!ea&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&A4(n,t,s),a=a.next}while(a!==r)}Ql(e,t,n);break;case 1:if(!ea&&(zh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Rn(n,t,o)}Ql(e,t,n);break;case 21:Ql(e,t,n);break;case 22:n.mode&1?(ea=(r=ea)||n.memoizedState!==null,Ql(e,t,n),ea=r):Ql(e,t,n);break;default:Ql(e,t,n)}}function yz(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jpe),t.forEach(function(r){var a=ohe.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ms(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Fr=o.stateNode,Cs=!1;break e;case 3:Fr=o.stateNode.containerInfo,Cs=!0;break e;case 4:Fr=o.stateNode.containerInfo,Cs=!0;break e}o=o.return}if(Fr===null)throw Error(be(160));z7(i,s,a),Fr=null,Cs=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Rn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)B7(t,e),t=t.sibling}function B7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),Xs(e),r&4){try{My(3,e,e.return),RC(3,e)}catch(m){Rn(e,e.return,m)}try{My(5,e,e.return)}catch(m){Rn(e,e.return,m)}}break;case 1:ms(t,e),Xs(e),r&512&&n!==null&&zh(n,n.return);break;case 5:if(ms(t,e),Xs(e),r&512&&n!==null&&zh(n,n.return),e.flags&32){var a=e.stateNode;try{Gy(a,"")}catch(m){Rn(e,e.return,m)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&uG(a,i),r4(o,s);var u=r4(o,i);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?hG(a,f):c==="dangerouslySetInnerHTML"?dG(a,f):c==="children"?Gy(a,f):v_(a,c,f,u)}switch(o){case"input":ZE(a,i);break;case"textarea":cG(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Hh(a,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?Hh(a,!!i.multiple,i.defaultValue,!0):Hh(a,!!i.multiple,i.multiple?[]:"",!1))}a[ev]=i}catch(m){Rn(e,e.return,m)}}break;case 6:if(ms(t,e),Xs(e),r&4){if(e.stateNode===null)throw Error(be(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Rn(e,e.return,m)}}break;case 3:if(ms(t,e),Xs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qy(t.containerInfo)}catch(m){Rn(e,e.return,m)}break;case 4:ms(t,e),Xs(e);break;case 13:ms(t,e),Xs(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(J_=Vn())),r&4&&yz(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ea=(u=ea)||c,ms(t,e),ea=u):ms(t,e),Xs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Oe=e,c=e.child;c!==null;){for(f=Oe=c;Oe!==null;){switch(d=Oe,p=d.child,d.tag){case 0:case 11:case 14:case 15:My(4,d,d.return);break;case 1:zh(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(m){Rn(r,n,m)}}break;case 5:zh(d,d.return);break;case 22:if(d.memoizedState!==null){bz(f);continue}}p!==null?(p.return=d,Oe=p):bz(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=pG("display",s))}catch(m){Rn(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Rn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ms(t,e),Xs(e),r&4&&yz(e);break;case 21:break;default:ms(t,e),Xs(e)}}function Xs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(F7(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Gy(a,""),r.flags&=-33);var i=gz(e);j4(e,i,a);break;case 3:case 4:var s=r.stateNode.containerInfo,o=gz(e);_4(e,o,s);break;default:throw Error(be(161))}}catch(l){Rn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xpe(e,t,n){Oe=e,U7(e)}function U7(e,t,n){for(var r=(e.mode&1)!==0;Oe!==null;){var a=Oe,i=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||Mx;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||ea;o=Mx;var u=ea;if(Mx=s,(ea=l)&&!u)for(Oe=a;Oe!==null;)s=Oe,l=s.child,s.tag===22&&s.memoizedState!==null?wz(a):l!==null?(l.return=s,Oe=l):wz(a);for(;i!==null;)Oe=i,U7(i),i=i.sibling;Oe=a,Mx=o,ea=u}vz(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Oe=i):vz(e)}}function vz(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ea||RC(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ea)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:xs(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nz(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nz(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Qy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}ea||t.flags&512&&L4(t)}catch(d){Rn(t,t.return,d)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function bz(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function wz(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{RC(4,t)}catch(l){Rn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){Rn(t,a,l)}}var i=t.return;try{L4(t)}catch(l){Rn(t,i,l)}break;case 5:var s=t.return;try{L4(t)}catch(l){Rn(t,s,l)}}}catch(l){Rn(t,t.return,l)}if(t===e){Oe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Oe=o;break}Oe=t.return}}var ehe=Math.ceil,kS=Ll.ReactCurrentDispatcher,Q_=Ll.ReactCurrentOwner,Zi=Ll.ReactCurrentBatchConfig,jt=0,$r=null,Xn=null,Br=0,ui=0,Bh=xc(0),xr=0,sv=null,Vf=0,PC=0,K_=0,Ty=null,Ua=null,J_=0,Am=1/0,Jo=null,CS=!1,$4=null,Bu=null,Tx=!1,Iu=null,IS=0,Ey=0,D4=null,L2=-1,_2=0;function Ca(){return jt&6?Vn():L2!==-1?L2:L2=Vn()}function Uu(e){return e.mode&1?jt&2&&Br!==0?Br&-Br:Rpe.transition!==null?(_2===0&&(_2=NG()),_2):(e=qt,e!==0||(e=window.event,e=e===void 0?16:jG(e.type)),e):1}function js(e,t,n,r){if(50<Ey)throw Ey=0,D4=null,Error(be(185));Mb(e,n,r),(!(jt&2)||e!==$r)&&(e===$r&&(!(jt&2)&&(PC|=n),xr===4&&du(e,Br)),Qa(e,r),n===1&&jt===0&&!(t.mode&1)&&(Am=Vn()+500,$C&&Sc()))}function Qa(e,t){var n=e.callbackNode;Rde(e,t);var r=lS(e,e===$r?Br:0);if(r===0)n!==null&&EF(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&EF(n),t===1)e.tag===0?Ope(xz.bind(null,e)):ZG(xz.bind(null,e)),_pe(function(){!(jt&6)&&Sc()}),n=null;else{switch(MG(r)){case 1:n=k_;break;case 4:n=CG;break;case 16:n=oS;break;case 536870912:n=IG;break;default:n=oS}n=K7(n,W7.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function W7(e,t){if(L2=-1,_2=0,jt&6)throw Error(be(327));var n=e.callbackNode;if(Jh()&&e.callbackNode!==n)return null;var r=lS(e,e===$r?Br:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=NS(e,r);else{t=r;var a=jt;jt|=2;var i=G7();($r!==e||Br!==t)&&(Jo=null,Am=Vn()+500,_f(e,t));do try{rhe();break}catch(o){V7(e,o)}while(!0);O_(),kS.current=i,jt=a,Xn!==null?t=0:($r=null,Br=0,t=xr)}if(t!==0){if(t===2&&(a=l4(e),a!==0&&(r=a,t=O4(e,a))),t===1)throw n=sv,_f(e,0),du(e,r),Qa(e,Vn()),n;if(t===6)du(e,r);else{if(a=e.current.alternate,!(r&30)&&!the(a)&&(t=NS(e,r),t===2&&(i=l4(e),i!==0&&(r=i,t=O4(e,i))),t===1))throw n=sv,_f(e,0),du(e,r),Qa(e,Vn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(be(345));case 2:Xc(e,Ua,Jo);break;case 3:if(du(e,r),(r&130023424)===r&&(t=J_+500-Vn(),10<t)){if(lS(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ca(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=g4(Xc.bind(null,e,Ua,Jo),t);break}Xc(e,Ua,Jo);break;case 4:if(du(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-_s(r);i=1<<s,s=t[s],s>a&&(a=s),r&=~i}if(r=a,r=Vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ehe(r/1960))-r,10<r){e.timeoutHandle=g4(Xc.bind(null,e,Ua,Jo),r);break}Xc(e,Ua,Jo);break;case 5:Xc(e,Ua,Jo);break;default:throw Error(be(329))}}}return Qa(e,Vn()),e.callbackNode===n?W7.bind(null,e):null}function O4(e,t){var n=Ty;return e.current.memoizedState.isDehydrated&&(_f(e,t).flags|=256),e=NS(e,t),e!==2&&(t=Ua,Ua=n,t!==null&&R4(t)),e}function R4(e){Ua===null?Ua=e:Ua.push.apply(Ua,e)}function the(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Fs(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function du(e,t){for(t&=~K_,t&=~PC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_s(t),r=1<<n;e[n]=-1,t&=~r}}function xz(e){if(jt&6)throw Error(be(327));Jh();var t=lS(e,0);if(!(t&1))return Qa(e,Vn()),null;var n=NS(e,t);if(e.tag!==0&&n===2){var r=l4(e);r!==0&&(t=r,n=O4(e,r))}if(n===1)throw n=sv,_f(e,0),du(e,t),Qa(e,Vn()),n;if(n===6)throw Error(be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xc(e,Ua,Jo),Qa(e,Vn()),null}function Z_(e,t){var n=jt;jt|=1;try{return e(t)}finally{jt=n,jt===0&&(Am=Vn()+500,$C&&Sc())}}function Gf(e){Iu!==null&&Iu.tag===0&&!(jt&6)&&Jh();var t=jt;jt|=1;var n=Zi.transition,r=qt;try{if(Zi.transition=null,qt=1,e)return e()}finally{qt=r,Zi.transition=n,jt=t,!(jt&6)&&Sc()}}function X_(){ui=Bh.current,vn(Bh)}function _f(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lpe(n)),Xn!==null)for(n=Xn.return;n!==null;){var r=n;switch(j_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pS();break;case 3:Tm(),vn(qa),vn(sa),U_();break;case 5:B_(r);break;case 4:Tm();break;case 13:vn(An);break;case 19:vn(An);break;case 10:R_(r.type._context);break;case 22:case 23:X_()}n=n.return}if($r=e,Xn=e=Wu(e.current,null),Br=ui=t,xr=0,sv=null,K_=PC=Vf=0,Ua=Ty=null,hf!==null){for(t=0;t<hf.length;t++)if(n=hf[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=a,r.next=s}n.pending=r}hf=null}return e}function V7(e,t){do{var n=Xn;try{if(O_(),T2.current=SS,xS){for(var r=_n.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}xS=!1}if(Wf=0,Ar=gr=_n=null,Ny=!1,rv=0,Q_.current=null,n===null||n.return===null){xr=1,sv=t,Xn=null;break}e:{var i=e,s=n.return,o=n,l=t;if(t=Br,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=lz(s);if(p!==null){p.flags&=-257,uz(p,s,o,i,t),p.mode&1&&oz(i,u,t),t=p,l=u;var h=t.updateQueue;if(h===null){var m=new Set;m.add(l),t.updateQueue=m}else h.add(l);break e}else{if(!(t&1)){oz(i,u,t),ej();break e}l=Error(be(426))}}else if(kn&&o.mode&1){var g=lz(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),uz(g,s,o,i,t),$_(Em(l,o));break e}}i=l=Em(l,o),xr!==4&&(xr=2),Ty===null?Ty=[i]:Ty.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=M7(i,l,t);tz(i,y);break e;case 1:o=l;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Bu===null||!Bu.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=T7(i,o,t);tz(i,x);break e}}i=i.return}while(i!==null)}q7(n)}catch(S){t=S,Xn===n&&n!==null&&(Xn=n=n.return);continue}break}while(!0)}function G7(){var e=kS.current;return kS.current=SS,e===null?SS:e}function ej(){(xr===0||xr===3||xr===2)&&(xr=4),$r===null||!(Vf&268435455)&&!(PC&268435455)||du($r,Br)}function NS(e,t){var n=jt;jt|=2;var r=G7();($r!==e||Br!==t)&&(Jo=null,_f(e,t));do try{nhe();break}catch(a){V7(e,a)}while(!0);if(O_(),jt=n,kS.current=r,Xn!==null)throw Error(be(261));return $r=null,Br=0,xr}function nhe(){for(;Xn!==null;)H7(Xn)}function rhe(){for(;Xn!==null&&!Tde();)H7(Xn)}function H7(e){var t=Q7(e.alternate,e,ui);e.memoizedProps=e.pendingProps,t===null?q7(e):Xn=t,Q_.current=null}function q7(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kpe(n,t),n!==null){n.flags&=32767,Xn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xr=6,Xn=null;return}}else if(n=Qpe(n,t,ui),n!==null){Xn=n;return}if(t=t.sibling,t!==null){Xn=t;return}Xn=t=e}while(t!==null);xr===0&&(xr=5)}function Xc(e,t,n){var r=qt,a=Zi.transition;try{Zi.transition=null,qt=1,ahe(e,t,n,r)}finally{Zi.transition=a,qt=r}return null}function ahe(e,t,n,r){do Jh();while(Iu!==null);if(jt&6)throw Error(be(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(be(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Pde(e,i),e===$r&&(Xn=$r=null,Br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tx||(Tx=!0,K7(oS,function(){return Jh(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zi.transition,Zi.transition=null;var s=qt;qt=1;var o=jt;jt|=4,Q_.current=null,Zpe(e,n),B7(n,e),Cpe(h4),uS=!!p4,h4=p4=null,e.current=n,Xpe(n),Ede(),jt=o,qt=s,Zi.transition=i}else e.current=n;if(Tx&&(Tx=!1,Iu=e,IS=a),i=e.pendingLanes,i===0&&(Bu=null),_de(n.stateNode),Qa(e,Vn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(CS)throw CS=!1,e=$4,$4=null,e;return IS&1&&e.tag!==0&&Jh(),i=e.pendingLanes,i&1?e===D4?Ey++:(Ey=0,D4=e):Ey=0,Sc(),null}function Jh(){if(Iu!==null){var e=MG(IS),t=Zi.transition,n=qt;try{if(Zi.transition=null,qt=16>e?16:e,Iu===null)var r=!1;else{if(e=Iu,Iu=null,IS=0,jt&6)throw Error(be(331));var a=jt;for(jt|=4,Oe=e.current;Oe!==null;){var i=Oe,s=i.child;if(Oe.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Oe=u;Oe!==null;){var c=Oe;switch(c.tag){case 0:case 11:case 15:My(8,c,i)}var f=c.child;if(f!==null)f.return=c,Oe=f;else for(;Oe!==null;){c=Oe;var d=c.sibling,p=c.return;if(P7(c),c===u){Oe=null;break}if(d!==null){d.return=p,Oe=d;break}Oe=p}}}var h=i.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Oe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Oe=s;else e:for(;Oe!==null;){if(i=Oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:My(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Oe=y;break e}Oe=i.return}}var v=e.current;for(Oe=v;Oe!==null;){s=Oe;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Oe=b;else e:for(s=v;Oe!==null;){if(o=Oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:RC(9,o)}}catch(S){Rn(o,o.return,S)}if(o===s){Oe=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Oe=x;break e}Oe=o.return}}if(jt=a,Sc(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(EC,e)}catch{}r=!0}return r}finally{qt=n,Zi.transition=t}}return!1}function Sz(e,t,n){t=Em(n,t),t=M7(e,t,1),e=zu(e,t,1),t=Ca(),e!==null&&(Mb(e,1,t),Qa(e,t))}function Rn(e,t,n){if(e.tag===3)Sz(e,e,n);else for(;t!==null;){if(t.tag===3){Sz(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bu===null||!Bu.has(r))){e=Em(n,e),e=T7(t,e,1),t=zu(t,e,1),e=Ca(),t!==null&&(Mb(t,1,e),Qa(t,e));break}}t=t.return}}function ihe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ca(),e.pingedLanes|=e.suspendedLanes&n,$r===e&&(Br&n)===n&&(xr===4||xr===3&&(Br&130023424)===Br&&500>Vn()-J_?_f(e,0):K_|=n),Qa(e,t)}function Y7(e,t){t===0&&(e.mode&1?(t=vx,vx<<=1,!(vx&130023424)&&(vx=4194304)):t=1);var n=Ca();e=wl(e,t),e!==null&&(Mb(e,t,n),Qa(e,n))}function she(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Y7(e,n)}function ohe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(t),Y7(e,n)}var Q7;Q7=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qa.current)Va=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Va=!1,Ype(e,t,n);Va=!!(e.flags&131072)}else Va=!1,kn&&t.flags&1048576&&XG(t,gS,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;A2(e,t),e=t.pendingProps;var a=Im(t,sa.current);Kh(t,n),a=V_(null,t,r,e,a,n);var i=G_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ya(r)?(i=!0,hS(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,F_(t),a.updater=OC,t.stateNode=a,a._reactInternals=t,k4(t,r,e,n),t=N4(null,t,r,!0,i,n)):(t.tag=0,kn&&i&&__(t),va(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(A2(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=uhe(r),e=xs(r,e),a){case 0:t=I4(null,t,r,e,n);break e;case 1:t=dz(null,t,r,e,n);break e;case 11:t=cz(null,t,r,e,n);break e;case 14:t=fz(null,t,r,xs(r.type,e),n);break e}throw Error(be(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xs(r,a),I4(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xs(r,a),dz(e,t,r,a,n);case 3:e:{if(_7(t),e===null)throw Error(be(387));r=t.pendingProps,i=t.memoizedState,a=i.element,i7(e,t),bS(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Em(Error(be(423)),t),t=pz(e,t,r,n,a);break e}else if(r!==a){a=Em(Error(be(424)),t),t=pz(e,t,r,n,a);break e}else for(pi=Fu(t.stateNode.containerInfo.firstChild),bi=t,kn=!0,Ms=null,n=r7(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nm(),r===a){t=xl(e,t,n);break e}va(e,t,r,n)}t=t.child}return t;case 5:return s7(t),e===null&&w4(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,m4(r,a)?s=null:i!==null&&m4(r,i)&&(t.flags|=32),L7(e,t),va(e,t,s,n),t.child;case 6:return e===null&&w4(t),null;case 13:return j7(e,t,n);case 4:return z_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mm(t,null,r,n):va(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xs(r,a),cz(e,t,r,a,n);case 7:return va(e,t,t.pendingProps,n),t.child;case 8:return va(e,t,t.pendingProps.children,n),t.child;case 12:return va(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,fn(yS,r._currentValue),r._currentValue=s,i!==null)if(Fs(i.value,s)){if(i.children===a.children&&!qa.current){t=xl(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=cl(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),x4(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(be(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),x4(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}va(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Kh(t,n),a=ns(a),r=r(a),t.flags|=1,va(e,t,r,n),t.child;case 14:return r=t.type,a=xs(r,t.pendingProps),a=xs(r.type,a),fz(e,t,r,a,n);case 15:return E7(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xs(r,a),A2(e,t),t.tag=1,Ya(r)?(e=!0,hS(t)):e=!1,Kh(t,n),N7(t,r,a),k4(t,r,a,n),N4(null,t,r,!0,e,n);case 19:return $7(e,t,n);case 22:return A7(e,t,n)}throw Error(be(156,t.tag))};function K7(e,t){return kG(e,t)}function lhe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(e,t,n,r){return new lhe(e,t,n,r)}function tj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uhe(e){if(typeof e=="function")return tj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===w_)return 11;if(e===x_)return 14}return 2}function Wu(e,t){var n=e.alternate;return n===null?(n=Qi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function j2(e,t,n,r,a,i){var s=2;if(r=e,typeof e=="function")tj(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Lh:return jf(n.children,a,i,t);case b_:s=8,a|=8;break;case qE:return e=Qi(12,n,t,a|2),e.elementType=qE,e.lanes=i,e;case YE:return e=Qi(13,n,t,a),e.elementType=YE,e.lanes=i,e;case QE:return e=Qi(19,n,t,a),e.elementType=QE,e.lanes=i,e;case sG:return FC(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aG:s=10;break e;case iG:s=9;break e;case w_:s=11;break e;case x_:s=14;break e;case su:s=16,r=null;break e}throw Error(be(130,e==null?e:typeof e,""))}return t=Qi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function jf(e,t,n,r){return e=Qi(7,e,r,t),e.lanes=n,e}function FC(e,t,n,r){return e=Qi(22,e,r,t),e.elementType=sG,e.lanes=n,e.stateNode={isHidden:!1},e}function NT(e,t,n){return e=Qi(6,e,null,t),e.lanes=n,e}function MT(e,t,n){return t=Qi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function che(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oT(0),this.expirationTimes=oT(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oT(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function nj(e,t,n,r,a,i,s,o,l){return e=new che(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},F_(i),e}function fhe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ah,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function J7(e){if(!e)return ec;e=e._reactInternals;e:{if(xd(e)!==e||e.tag!==1)throw Error(be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ya(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(be(171))}if(e.tag===1){var n=e.type;if(Ya(n))return JG(e,n,t)}return t}function Z7(e,t,n,r,a,i,s,o,l){return e=nj(n,r,!0,e,a,i,s,o,l),e.context=J7(null),n=e.current,r=Ca(),a=Uu(n),i=cl(r,a),i.callback=t??null,zu(n,i,a),e.current.lanes=a,Mb(e,a,r),Qa(e,r),e}function zC(e,t,n,r){var a=t.current,i=Ca(),s=Uu(a);return n=J7(n),t.context===null?t.context=n:t.pendingContext=n,t=cl(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zu(a,t,s),e!==null&&(js(e,a,s,i),M2(e,a,s)),s}function MS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kz(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rj(e,t){kz(e,t),(e=e.alternate)&&kz(e,t)}function dhe(){return null}var X7=typeof reportError=="function"?reportError:function(e){console.error(e)};function aj(e){this._internalRoot=e}BC.prototype.render=aj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(be(409));zC(e,t,null,null)};BC.prototype.unmount=aj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gf(function(){zC(null,e,null,null)}),t[bl]=null}};function BC(e){this._internalRoot=e}BC.prototype.unstable_scheduleHydration=function(e){if(e){var t=AG();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fu.length&&t!==0&&t<fu[n].priority;n++);fu.splice(n,0,e),n===0&&_G(e)}};function ij(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function UC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cz(){}function phe(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=MS(s);i.call(u)}}var s=Z7(t,r,e,0,null,!1,!1,"",Cz);return e._reactRootContainer=s,e[bl]=s.current,Zy(e.nodeType===8?e.parentNode:e),Gf(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var u=MS(l);o.call(u)}}var l=nj(e,0,!1,null,null,!1,!1,"",Cz);return e._reactRootContainer=l,e[bl]=l.current,Zy(e.nodeType===8?e.parentNode:e),Gf(function(){zC(t,l,n,r)}),l}function WC(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=MS(s);o.call(l)}}zC(t,s,e,a)}else s=phe(n,t,e,a,r);return MS(s)}TG=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ay(t.pendingLanes);n!==0&&(C_(t,n|1),Qa(t,Vn()),!(jt&6)&&(Am=Vn()+500,Sc()))}break;case 13:Gf(function(){var r=wl(e,1);if(r!==null){var a=Ca();js(r,e,1,a)}}),rj(e,1)}};I_=function(e){if(e.tag===13){var t=wl(e,134217728);if(t!==null){var n=Ca();js(t,e,134217728,n)}rj(e,134217728)}};EG=function(e){if(e.tag===13){var t=Uu(e),n=wl(e,t);if(n!==null){var r=Ca();js(n,e,t,r)}rj(e,t)}};AG=function(){return qt};LG=function(e,t){var n=qt;try{return qt=e,t()}finally{qt=n}};i4=function(e,t,n){switch(t){case"input":if(ZE(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=jC(r);if(!a)throw Error(be(90));lG(r),ZE(r,a)}}}break;case"textarea":cG(e,n);break;case"select":t=n.value,t!=null&&Hh(e,!!n.multiple,t,!1)}};yG=Z_;vG=Gf;var hhe={usingClientEntryPoint:!1,Events:[Eb,Dh,jC,mG,gG,Z_]},$1={findFiberByHostInstance:pf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mhe={bundleType:$1.bundleType,version:$1.version,rendererPackageName:$1.rendererPackageName,rendererConfig:$1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ll.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xG(e),e===null?null:e.stateNode},findFiberByHostInstance:$1.findFiberByHostInstance||dhe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ex=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ex.isDisabled&&Ex.supportsFiber)try{EC=Ex.inject(mhe),bo=Ex}catch{}}Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hhe;Mi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ij(t))throw Error(be(200));return fhe(e,t,null,n)};Mi.createRoot=function(e,t){if(!ij(e))throw Error(be(299));var n=!1,r="",a=X7;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=nj(e,1,!1,null,null,n,!1,r,a),e[bl]=t.current,Zy(e.nodeType===8?e.parentNode:e),new aj(t)};Mi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(be(188)):(e=Object.keys(e).join(","),Error(be(268,e)));return e=xG(t),e=e===null?null:e.stateNode,e};Mi.flushSync=function(e){return Gf(e)};Mi.hydrate=function(e,t,n){if(!UC(t))throw Error(be(200));return WC(null,e,t,!0,n)};Mi.hydrateRoot=function(e,t,n){if(!ij(e))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",s=X7;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Z7(t,null,e,1,n??null,a,!1,i,s),e[bl]=t.current,Zy(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new BC(t)};Mi.render=function(e,t,n){if(!UC(t))throw Error(be(200));return WC(null,e,t,!1,n)};Mi.unmountComponentAtNode=function(e){if(!UC(e))throw Error(be(40));return e._reactRootContainer?(Gf(function(){WC(null,null,e,!1,function(){e._reactRootContainer=null,e[bl]=null})}),!0):!1};Mi.unstable_batchedUpdates=Z_;Mi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!UC(n))throw Error(be(200));if(e==null||e._reactInternals===void 0)throw Error(be(38));return WC(e,t,n,!1,r)};Mi.version="18.3.1-next-f1338f8080-20240426";function eH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eH)}catch(e){console.error(e)}}eH(),eG.exports=Mi;var Lb=eG.exports;const tH=un(Lb);var nH,Iz=Lb;nH=Iz.createRoot,Iz.hydrateRoot;const ghe=1,yhe=1e6;let TT=0;function vhe(){return TT=(TT+1)%Number.MAX_SAFE_INTEGER,TT.toString()}const ET=new Map,Nz=e=>{if(ET.has(e))return;const t=setTimeout(()=>{ET.delete(e),Ay({type:"REMOVE_TOAST",toastId:e})},yhe);ET.set(e,t)},bhe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ghe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Nz(n):e.toasts.forEach(r=>{Nz(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},$2=[];let D2={toasts:[]};function Ay(e){D2=bhe(D2,e),$2.forEach(t=>{t(D2)})}function whe({...e}){const t=vhe(),n=a=>Ay({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Ay({type:"DISMISS_TOAST",toastId:t});return Ay({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function sj(){const[e,t]=C.useState(D2);return C.useEffect(()=>($2.push(t),()=>{const n=$2.indexOf(t);n>-1&&$2.splice(n,1)}),[e]),{...e,toast:whe,dismiss:n=>Ay({type:"DISMISS_TOAST",toastId:n})}}function Pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Mz(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function VC(...e){return t=>{let n=!1;const r=e.map(a=>{const i=Mz(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():Mz(e[a],null)}}}}function dn(...e){return C.useCallback(VC(...e),e)}function qs(e,t=[]){let n=[];function r(i,s){const o=C.createContext(s),l=n.length;n=[...n,s];const u=f=>{var y;const{scope:d,children:p,...h}=f,m=((y=d==null?void 0:d[e])==null?void 0:y[l])||o,g=C.useMemo(()=>h,Object.values(h));return w.jsx(m.Provider,{value:g,children:p})};u.displayName=i+"Provider";function c(f,d){var m;const p=((m=d==null?void 0:d[e])==null?void 0:m[l])||o,h=C.useContext(p);if(h)return h;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,c]}const a=()=>{const i=n.map(s=>C.createContext(s));return function(o){const l=(o==null?void 0:o[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return a.scopeName=e,[r,xhe(a,...t)]}function xhe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=r.reduce((o,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...o,...f}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function Lm(e){const t=khe(e),n=C.forwardRef((r,a)=>{const{children:i,...s}=r,o=C.Children.toArray(i),l=o.find(Ihe);if(l){const u=l.props.children,c=o.map(f=>f===l?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:f);return w.jsx(t,{...s,ref:a,children:C.isValidElement(u)?C.cloneElement(u,void 0,c):null})}return w.jsx(t,{...s,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var She=Lm("Slot");function khe(e){const t=C.forwardRef((n,r)=>{const{children:a,...i}=n;if(C.isValidElement(a)){const s=Mhe(a),o=Nhe(i,a.props);return a.type!==C.Fragment&&(o.ref=r?VC(r,s):s),C.cloneElement(a,o)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rH=Symbol("radix.slottable");function Che(e){const t=({children:n})=>w.jsx(w.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=rH,t}function Ihe(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rH}function Nhe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Mhe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function oj(e){const t=e+"CollectionProvider",[n,r]=qs(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:g,children:y}=m,v=V.useRef(null),b=V.useRef(new Map).current;return w.jsx(a,{scope:g,itemMap:b,collectionRef:v,children:y})};s.displayName=t;const o=e+"CollectionSlot",l=Lm(o),u=V.forwardRef((m,g)=>{const{scope:y,children:v}=m,b=i(o,y),x=dn(g,b.collectionRef);return w.jsx(l,{ref:x,children:v})});u.displayName=o;const c=e+"CollectionItemSlot",f="data-radix-collection-item",d=Lm(c),p=V.forwardRef((m,g)=>{const{scope:y,children:v,...b}=m,x=V.useRef(null),S=dn(g,x),k=i(c,y);return V.useEffect(()=>(k.itemMap.set(x,{ref:x,...b}),()=>void k.itemMap.delete(x))),w.jsx(d,{[f]:"",ref:S,children:v})});p.displayName=c;function h(m){const g=i(e+"CollectionConsumer",m);return V.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((k,I)=>b.indexOf(k.ref.current)-b.indexOf(I.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},h,r]}var The=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=The.reduce((e,t)=>{const n=Lm(`Primitive.${t}`),r=C.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lj(e,t){e&&Lb.flushSync(()=>e.dispatchEvent(t))}function er(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Ehe(e,t=globalThis==null?void 0:globalThis.document){const n=er(e);C.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Ahe="DismissableLayer",P4="dismissableLayer.update",Lhe="dismissableLayer.pointerDownOutside",_he="dismissableLayer.focusOutside",Tz,aH=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_b=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...l}=e,u=C.useContext(aH),[c,f]=C.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),h=dn(t,I=>f(I)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),v=c?m.indexOf(c):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,x=v>=y,S=$he(I=>{const N=I.target,T=[...u.branches].some(L=>L.contains(N));!x||T||(a==null||a(I),s==null||s(I),I.defaultPrevented||o==null||o())},d),k=Dhe(I=>{const N=I.target;[...u.branches].some(L=>L.contains(N))||(i==null||i(I),s==null||s(I),I.defaultPrevented||o==null||o())},d);return Ehe(I=>{v===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&o&&(I.preventDefault(),o()))},d),C.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tz=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Ez(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Tz)}},[c,d,n,u]),C.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Ez())},[c,u]),C.useEffect(()=>{const I=()=>p({});return document.addEventListener(P4,I),()=>document.removeEventListener(P4,I)},[]),w.jsx(Ct.div,{...l,ref:h,style:{pointerEvents:b?x?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,S.onPointerDownCapture)})});_b.displayName=Ahe;var jhe="DismissableLayerBranch",iH=C.forwardRef((e,t)=>{const n=C.useContext(aH),r=C.useRef(null),a=dn(t,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),w.jsx(Ct.div,{...e,ref:a})});iH.displayName=jhe;function $he(e,t=globalThis==null?void 0:globalThis.document){const n=er(e),r=C.useRef(!1),a=C.useRef(()=>{});return C.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let l=function(){sH(Lhe,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Dhe(e,t=globalThis==null?void 0:globalThis.document){const n=er(e),r=C.useRef(!1);return C.useEffect(()=>{const a=i=>{i.target&&!r.current&&sH(_he,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ez(){const e=new CustomEvent(P4);document.dispatchEvent(e)}function sH(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?lj(a,i):a.dispatchEvent(i)}var Ohe=_b,Rhe=iH,Eo=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},Phe="Portal",GC=C.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[a,i]=C.useState(!1);Eo(()=>i(!0),[]);const s=n||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?tH.createPortal(w.jsx(Ct.div,{...r,ref:t}),s):null});GC.displayName=Phe;function Fhe(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var ni=e=>{const{present:t,children:n}=e,r=zhe(t),a=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=dn(r.ref,Bhe(a));return typeof n=="function"||r.isPresent?C.cloneElement(a,{ref:i}):null};ni.displayName="Presence";function zhe(e){const[t,n]=C.useState(),r=C.useRef(null),a=C.useRef(e),i=C.useRef("none"),s=e?"mounted":"unmounted",[o,l]=Fhe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=Ax(r.current);i.current=o==="mounted"?u:"none"},[o]),Eo(()=>{const u=r.current,c=a.current;if(c!==e){const d=i.current,p=Ax(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),Eo(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,f=p=>{const m=Ax(r.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},d=p=>{p.target===t&&(i.current=Ax(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ax(e){return(e==null?void 0:e.animationName)||"none"}function Bhe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Uhe=m_[" useInsertionEffect ".trim().toString()]||Eo;function jb({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,s]=Whe({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:a;{const c=C.useRef(e!==void 0);C.useEffect(()=>{const f=c.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=o},[o,r])}const u=C.useCallback(c=>{var f;if(o){const d=Vhe(c)?c(e):c;d!==e&&((f=s.current)==null||f.call(s,d))}else i(c)},[o,e,i,s]);return[l,u]}function Whe({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),a=C.useRef(n),i=C.useRef(t);return Uhe(()=>{i.current=t},[t]),C.useEffect(()=>{var s;a.current!==n&&((s=i.current)==null||s.call(i,n),a.current=n)},[n,a]),[n,r,i]}function Vhe(e){return typeof e=="function"}var Ghe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Hhe="VisuallyHidden",HC=C.forwardRef((e,t)=>w.jsx(Ct.span,{...e,ref:t,style:{...Ghe,...e.style}}));HC.displayName=Hhe;var qhe=HC,uj="ToastProvider",[cj,Yhe,Qhe]=oj("Toast"),[oH,$At]=qs("Toast",[Qhe]),[Khe,qC]=oH(uj),lH=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[o,l]=C.useState(null),[u,c]=C.useState(0),f=C.useRef(!1),d=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uj}\`. Expected non-empty \`string\`.`),w.jsx(cj.Provider,{scope:t,children:w.jsx(Khe,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:C.useCallback(()=>c(p=>p+1),[]),onToastRemove:C.useCallback(()=>c(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:s})})};lH.displayName=uj;var uH="ToastViewport",Jhe=["F8"],F4="toast.viewportPause",z4="toast.viewportResume",cH=C.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Jhe,label:a="Notifications ({hotkey})",...i}=e,s=qC(uH,n),o=Yhe(n),l=C.useRef(null),u=C.useRef(null),c=C.useRef(null),f=C.useRef(null),d=dn(t,f,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=s.toastCount>0;C.useEffect(()=>{const g=y=>{var b;r.length!==0&&r.every(x=>y[x]||y.code===x)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),C.useEffect(()=>{const g=l.current,y=f.current;if(h&&g&&y){const v=()=>{if(!s.isClosePausedRef.current){const k=new CustomEvent(F4);y.dispatchEvent(k),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const k=new CustomEvent(z4);y.dispatchEvent(k),s.isClosePausedRef.current=!1}},x=k=>{!g.contains(k.relatedTarget)&&b()},S=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",v),g.addEventListener("focusout",x),g.addEventListener("pointermove",v),g.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",v),g.removeEventListener("focusout",x),g.removeEventListener("pointermove",v),g.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[h,s.isClosePausedRef]);const m=C.useCallback(({tabbingDirection:g})=>{const v=o().map(b=>{const x=b.ref.current,S=[x,...cme(x)];return g==="forwards"?S:S.reverse()});return(g==="forwards"?v.reverse():v).flat()},[o]);return C.useEffect(()=>{const g=f.current;if(g){const y=v=>{var S,k,I;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const N=document.activeElement,T=v.shiftKey;if(v.target===g&&T){(S=u.current)==null||S.focus();return}const M=m({tabbingDirection:T?"backwards":"forwards"}),j=M.findIndex(D=>D===N);AT(M.slice(j+1))?v.preventDefault():T?(k=u.current)==null||k.focus():(I=c.current)==null||I.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[o,m]),w.jsxs(Rhe,{ref:l,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:h?void 0:"none"},children:[h&&w.jsx(B4,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});AT(g)}}),w.jsx(cj.Slot,{scope:n,children:w.jsx(Ct.ol,{tabIndex:-1,...i,ref:d})}),h&&w.jsx(B4,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});AT(g)}})]})});cH.displayName=uH;var fH="ToastFocusProxy",B4=C.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=qC(fH,n);return w.jsx(HC,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&r()}})});B4.displayName=fH;var $b="Toast",Zhe="toast.swipeStart",Xhe="toast.swipeMove",eme="toast.swipeCancel",tme="toast.swipeEnd",dH=C.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...s}=e,[o,l]=jb({prop:r,defaultProp:a??!0,onChange:i,caller:$b});return w.jsx(ni,{present:n||o,children:w.jsx(ame,{open:o,...s,ref:t,onClose:()=>l(!1),onPause:er(e.onPause),onResume:er(e.onResume),onSwipeStart:Pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});dH.displayName=$b;var[nme,rme]=oH($b,{onClose(){}}),ame=C.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:p,...h}=e,m=qC($b,n),[g,y]=C.useState(null),v=dn(t,D=>y(D)),b=C.useRef(null),x=C.useRef(null),S=a||m.duration,k=C.useRef(0),I=C.useRef(S),N=C.useRef(0),{onToastAdd:T,onToastRemove:L}=m,E=er(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=m.viewport)==null||F.focus()),s()}),M=C.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),k.current=new Date().getTime(),N.current=window.setTimeout(E,D))},[E]);C.useEffect(()=>{const D=m.viewport;if(D){const F=()=>{M(I.current),u==null||u()},$=()=>{const B=new Date().getTime()-k.current;I.current=I.current-B,window.clearTimeout(N.current),l==null||l()};return D.addEventListener(F4,$),D.addEventListener(z4,F),()=>{D.removeEventListener(F4,$),D.removeEventListener(z4,F)}}},[m.viewport,S,l,u,M]),C.useEffect(()=>{i&&!m.isClosePausedRef.current&&M(S)},[i,S,m.isClosePausedRef,M]),C.useEffect(()=>(T(),()=>L()),[T,L]);const j=C.useMemo(()=>g?bH(g):null,[g]);return m.viewport?w.jsxs(w.Fragment,{children:[j&&w.jsx(ime,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),w.jsx(nme,{scope:n,onClose:E,children:Lb.createPortal(w.jsx(cj.ItemSlot,{scope:n,children:w.jsx(Ohe,{asChild:!0,onEscapeKeyDown:Pe(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||E(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(Ct.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...h,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,D=>{D.key==="Escape"&&(o==null||o(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Pe(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:Pe(e.onPointerMove,D=>{if(!b.current)return;const F=D.clientX-b.current.x,$=D.clientY-b.current.y,B=!!x.current,O=["left","right"].includes(m.swipeDirection),P=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,W=O?P(0,F):0,H=O?0:P(0,$),q=D.pointerType==="touch"?10:2,J={x:W,y:H},re={originalEvent:D,delta:J};B?(x.current=J,Lx(Xhe,f,re,{discrete:!1})):Az(J,m.swipeDirection,q)?(x.current=J,Lx(Zhe,c,re,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(F)>q||Math.abs($)>q)&&(b.current=null)}),onPointerUp:Pe(e.onPointerUp,D=>{const F=x.current,$=D.target;if($.hasPointerCapture(D.pointerId)&&$.releasePointerCapture(D.pointerId),x.current=null,b.current=null,F){const B=D.currentTarget,O={originalEvent:D,delta:F};Az(F,m.swipeDirection,m.swipeThreshold)?Lx(tme,p,O,{discrete:!0}):Lx(eme,d,O,{discrete:!0}),B.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),ime=e=>{const{__scopeToast:t,children:n,...r}=e,a=qC($b,t),[i,s]=C.useState(!1),[o,l]=C.useState(!1);return lme(()=>s(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:w.jsx(GC,{asChild:!0,children:w.jsx(HC,{...r,children:i&&w.jsxs(w.Fragment,{children:[a.label," ",n]})})})},sme="ToastTitle",pH=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return w.jsx(Ct.div,{...r,ref:t})});pH.displayName=sme;var ome="ToastDescription",hH=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return w.jsx(Ct.div,{...r,ref:t})});hH.displayName=ome;var mH="ToastAction",gH=C.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?w.jsx(vH,{altText:n,asChild:!0,children:w.jsx(fj,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${mH}\`. Expected non-empty \`string\`.`),null)});gH.displayName=mH;var yH="ToastClose",fj=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=rme(yH,n);return w.jsx(vH,{asChild:!0,children:w.jsx(Ct.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,a.onClose)})})});fj.displayName=yH;var vH=C.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return w.jsx(Ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function bH(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ume(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...bH(r))}}),t}function Lx(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?lj(a,i):a.dispatchEvent(i)}var Az=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function lme(e=()=>{}){const t=er(e);Eo(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function ume(e){return e.nodeType===e.ELEMENT_NODE}function cme(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function AT(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var fme=lH,wH=cH,xH=dH,SH=pH,kH=hH,CH=gH,IH=fj;function NH(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=NH(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=NH(e))&&(r&&(r+=" "),r+=t);return r}const Lz=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_z=Mt,dj=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return _z(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const c=n==null?void 0:n[u],f=i==null?void 0:i[u];if(c===null)return null;const d=Lz(c)||Lz(f);return a[u][d]}),o=n&&Object.entries(n).reduce((u,c)=>{let[f,d]=c;return d===void 0||(u[f]=d),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:f,className:d,...p}=c;return Object.entries(p).every(h=>{let[m,g]=h;return Array.isArray(g)?g.includes({...i,...o}[m]):{...i,...o}[m]===g})?[...u,f,d]:u},[]);return _z(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MH=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pme={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:s,...o},l)=>C.createElement("svg",{ref:l,...pme,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:MH("lucide",a),...o},[...s.map(([u,c])=>C.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const n=C.forwardRef(({className:r,...a},i)=>C.createElement(hme,{ref:i,iconNode:t,className:MH(`lucide-${dme(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=De("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=De("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=De("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=De("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=De("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=De("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=De("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=De("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sme=De("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=De("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=De("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=De("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=De("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=De("FolderLock",[["rect",{width:"8",height:"5",x:"14",y:"17",rx:"1",key:"19aais"}],["path",{d:"M10 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v2.5",key:"1w6v7t"}],["path",{d:"M20 17v-2a2 2 0 1 0-4 0v2",key:"pwaxnr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tme=De("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=De("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=De("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=De("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=De("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=De("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=De("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=De("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=De("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=De("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=De("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=De("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=De("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=De("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=De("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=De("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=De("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=De("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=De("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=De("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=De("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=De("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bj="-",Yme=e=>{const t=Kme(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const o=s.split(bj);return o[0]===""&&o.length!==1&&o.shift(),zH(o,t)||Qme(s)},getConflictingClassGroupIds:(s,o)=>{const l=n[s]||[];return o&&r[s]?[...l,...r[s]]:l}}},zH=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?zH(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(bj);return(s=t.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},Dz=/^\[(.+)\]$/,Qme=e=>{if(Dz.test(e)){const t=Dz.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Kme=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Zme(Object.entries(e.classGroups),n).forEach(([i,s])=>{H4(s,r,i,t)}),r},H4=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Oz(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(Jme(a)){H4(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,s])=>{H4(s,Oz(t,i),n,r)})})},Oz=(e,t)=>{let n=e;return t.split(bj).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Jme=e=>e.isThemeGetter,Zme=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,o])=>[t+s,o])):i);return[n,a]}):e,Xme=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return a(i,s),s},set(i,s){n.has(i)?n.set(i,s):a(i,s)}}},BH="!",ege=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,s=o=>{const l=[];let u=0,c=0,f;for(let g=0;g<o.length;g++){let y=o[g];if(u===0){if(y===a&&(r||o.slice(g,g+i)===t)){l.push(o.slice(c,g)),c=g+i;continue}if(y==="/"){f=g;continue}}y==="["?u++:y==="]"&&u--}const d=l.length===0?o:o.substring(c),p=d.startsWith(BH),h=p?d.substring(1):d,m=f&&f>c?f-c:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:s}):s},tge=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},nge=e=>({cache:Xme(e.cacheSize),parseClassName:ege(e),...Yme(e)}),rge=/\s+/,age=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(rge);let o="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:c,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}=n(u);let h=!!p,m=r(h?d.substring(0,p):d);if(!m){if(!h){o=u+(o.length>0?" "+o:o);continue}if(m=r(d),!m){o=u+(o.length>0?" "+o:o);continue}h=!1}const g=tge(c).join(":"),y=f?g+BH:g,v=y+m;if(i.includes(v))continue;i.push(v);const b=a(m,h);for(let x=0;x<b.length;++x){const S=b[x];i.push(y+S)}o=u+(o.length>0?" "+o:o)}return o};function ige(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=UH(t))&&(r&&(r+=" "),r+=n);return r}const UH=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=UH(e[r]))&&(n&&(n+=" "),n+=t);return n};function sge(e,...t){let n,r,a,i=s;function s(l){const u=t.reduce((c,f)=>f(c),e());return n=nge(u),r=n.cache.get,a=n.cache.set,i=o,o(l)}function o(l){const u=r(l);if(u)return u;const c=age(l,n);return a(l,c),c}return function(){return i(ige.apply(null,arguments))}}const hn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},WH=/^\[(?:([a-z-]+):)?(.+)\]$/i,oge=/^\d+\/\d+$/,lge=new Set(["px","full","screen"]),uge=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cge=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fge=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dge=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pge=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qo=e=>Zh(e)||lge.has(e)||oge.test(e),Kl=e=>Ag(e,"length",xge),Zh=e=>!!e&&!Number.isNaN(Number(e)),_T=e=>Ag(e,"number",Zh),D1=e=>!!e&&Number.isInteger(Number(e)),hge=e=>e.endsWith("%")&&Zh(e.slice(0,-1)),lt=e=>WH.test(e),Jl=e=>uge.test(e),mge=new Set(["length","size","percentage"]),gge=e=>Ag(e,mge,VH),yge=e=>Ag(e,"position",VH),vge=new Set(["image","url"]),bge=e=>Ag(e,vge,kge),wge=e=>Ag(e,"",Sge),O1=()=>!0,Ag=(e,t,n)=>{const r=WH.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},xge=e=>cge.test(e)&&!fge.test(e),VH=()=>!1,Sge=e=>dge.test(e),kge=e=>pge.test(e),Cge=()=>{const e=hn("colors"),t=hn("spacing"),n=hn("blur"),r=hn("brightness"),a=hn("borderColor"),i=hn("borderRadius"),s=hn("borderSpacing"),o=hn("borderWidth"),l=hn("contrast"),u=hn("grayscale"),c=hn("hueRotate"),f=hn("invert"),d=hn("gap"),p=hn("gradientColorStops"),h=hn("gradientColorStopPositions"),m=hn("inset"),g=hn("margin"),y=hn("opacity"),v=hn("padding"),b=hn("saturate"),x=hn("scale"),S=hn("sepia"),k=hn("skew"),I=hn("space"),N=hn("translate"),T=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",lt,t],M=()=>[lt,t],j=()=>["",qo,Kl],D=()=>["auto",Zh,lt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",lt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Zh,lt];return{cacheSize:500,separator:":",theme:{colors:[O1],spacing:[qo,Kl],blur:["none","",Jl,lt],brightness:H(),borderColor:[e],borderRadius:["none","","full",Jl,lt],borderSpacing:M(),borderWidth:j(),contrast:H(),grayscale:P(),hueRotate:H(),invert:P(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[hge,Kl],inset:E(),margin:E(),opacity:H(),padding:M(),saturate:H(),scale:H(),sepia:P(),skew:H(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[Jl]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),lt]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",D1,lt]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",D1,lt]}],"grid-cols":[{"grid-cols":[O1]}],"col-start-end":[{col:["auto",{span:["full",D1,lt]},lt]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[O1]}],"row-start-end":[{row:["auto",{span:[D1,lt]},lt]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,t]}],"min-w":[{"min-w":[lt,t,"min","max","fit"]}],"max-w":[{"max-w":[lt,t,"none","full","min","max","fit","prose",{screen:[Jl]},Jl]}],h:[{h:[lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jl,Kl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_T]}],"font-family":[{font:[O1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",Zh,_T]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qo,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qo,Kl]}],"underline-offset":[{"underline-offset":["auto",qo,lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),yge]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gge]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bge]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[qo,lt]}],"outline-w":[{outline:[qo,Kl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[qo,Kl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jl,wge]}],"shadow-color":[{shadow:[O1]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Jl,lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[D1,lt]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[qo,Kl,_T]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ige=sge(Cge);function ke(...e){return Ige(Mt(e))}const Nge=fme,GH=C.forwardRef(({className:e,...t},n)=>w.jsx(wH,{ref:n,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));GH.displayName=wH.displayName;const Mge=dj("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HH=C.forwardRef(({className:e,variant:t,...n},r)=>w.jsx(xH,{ref:r,className:ke(Mge({variant:t}),e),...n}));HH.displayName=xH.displayName;const Tge=C.forwardRef(({className:e,...t},n)=>w.jsx(CH,{ref:n,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Tge.displayName=CH.displayName;const qH=C.forwardRef(({className:e,...t},n)=>w.jsx(IH,{ref:n,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:w.jsx(AS,{className:"h-4 w-4"})}));qH.displayName=IH.displayName;const YH=C.forwardRef(({className:e,...t},n)=>w.jsx(SH,{ref:n,className:ke("text-sm font-semibold",e),...t}));YH.displayName=SH.displayName;const QH=C.forwardRef(({className:e,...t},n)=>w.jsx(kH,{ref:n,className:ke("text-sm opacity-90",e),...t}));QH.displayName=kH.displayName;function Ege(){const{toasts:e}=sj();return w.jsxs(Nge,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return w.jsxs(HH,{...i,children:[w.jsxs("div",{className:"grid gap-1",children:[n&&w.jsx(YH,{children:n}),r&&w.jsx(QH,{children:r})]}),a,w.jsx(qH,{})]},t)}),w.jsx(GH,{})]})}var Rz=["light","dark"],Age="(prefers-color-scheme: dark)",Lge=C.createContext(void 0),_ge={setTheme:e=>{},themes:[]},jge=()=>{var e;return(e=C.useContext(Lge))!=null?e:_ge};C.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:s,attrs:o,nonce:l})=>{let u=i==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(h=>`'${h}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=a?Rz.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(h,m=!1,g=!0)=>{let y=s?s[h]:h,v=m?h+"|| ''":`'${y}'`,b="";return a&&g&&!m&&Rz.includes(h)&&(b+=`d.style.colorScheme = '${h}';`),n==="class"?m||y?b+=`c.add(${v})`:b+="null":y&&(b+=`d[s](n,${v})`),b},p=e?`!function(){${c}${d(e)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Age}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${d(s?"x[e]":"e",!0)}}${u?"":"else{"+d(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${d(s?"x[e]":"e",!0)}}else{${d(i,!1,!1)};}${f}}catch(t){}}();`;return C.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var $ge=e=>{switch(e){case"success":return Rge;case"info":return Fge;case"warning":return Pge;case"error":return zge;default:return null}},Dge=Array(12).fill(0),Oge=({visible:e,className:t})=>V.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},V.createElement("div",{className:"sonner-spinner"},Dge.map((n,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Rge=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Pge=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Fge=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zge=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Bge=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Uge=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},q4=1,Wge=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:q4++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...a,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let a=t instanceof Promise?t:t(),i=r!==void 0,s,o=a.then(async u=>{if(s=["resolve",u],V.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(Gge(u)&&!u.ok){i=!1;let c=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:c,description:f})}else if(n.success!==void 0){i=!1;let c=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:c,description:f})}}).catch(async u=>{if(s=["reject",u],n.error!==void 0){i=!1;let c=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:c,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,c)=>o.then(()=>s[0]==="reject"?c(s[1]):u(s[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||q4++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},za=new Wge,Vge=(e,t)=>{let n=(t==null?void 0:t.id)||q4++;return za.addToast({title:e,...t,id:n}),n},Gge=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Hge=Vge,qge=()=>za.toasts,Yge=()=>za.getActiveToasts(),tn=Object.assign(Hge,{success:za.success,info:za.info,warning:za.warning,error:za.error,custom:za.custom,message:za.message,promise:za.promise,dismiss:za.dismiss,loading:za.loading},{getHistory:qge,getToasts:Yge});function Qge(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Qge(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function _x(e){return e.label!==void 0}var Kge=3,Jge="32px",Zge="16px",Pz=4e3,Xge=356,e0e=14,t0e=20,n0e=200;function gs(...e){return e.filter(Boolean).join(" ")}function r0e(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var a0e=e=>{var t,n,r,a,i,s,o,l,u,c,f;let{invert:d,toast:p,unstyled:h,interacting:m,setHeights:g,visibleToasts:y,heights:v,index:b,toasts:x,expanded:S,removeToast:k,defaultRichColors:I,closeButton:N,style:T,cancelButtonStyle:L,actionButtonStyle:E,className:M="",descriptionClassName:j="",duration:D,position:F,gap:$,loadingIcon:B,expandByDefault:O,classNames:P,icons:W,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:q}=e,[J,re]=V.useState(null),[ce,ye]=V.useState(null),[he,me]=V.useState(!1),[se,ge]=V.useState(!1),[we,oe]=V.useState(!1),[Be,Te]=V.useState(!1),[We,Le]=V.useState(!1),[Ye,ot]=V.useState(0),[Zt,Dt]=V.useState(0),Wt=V.useRef(p.duration||D||Pz),Vt=V.useRef(null),rn=V.useRef(null),Rr=b===0,fr=b+1<=y,Xt=p.type,pn=p.dismissible!==!1,ha=p.className||"",Js=p.descriptionClassName||"",Zs=V.useMemo(()=>v.findIndex(Ze=>Ze.toastId===p.id)||0,[v,p.id]),ps=V.useMemo(()=>{var Ze;return(Ze=p.closeButton)!=null?Ze:N},[p.closeButton,N]),Gl=V.useMemo(()=>p.duration||D||Pz,[p.duration,D]),$a=V.useRef(0),ma=V.useRef(0),Bn=V.useRef(0),hs=V.useRef(null),[dh,ph]=F.split("-"),Yc=V.useMemo(()=>v.reduce((Ze,ie,pe)=>pe>=Zs?Ze:Ze+ie.height,0),[v,Zs]),ji=Uge(),Hl=p.invert||d,ql=Xt==="loading";ma.current=V.useMemo(()=>Zs*$+Yc,[Zs,Yc]),V.useEffect(()=>{Wt.current=Gl},[Gl]),V.useEffect(()=>{me(!0)},[]),V.useEffect(()=>{let Ze=rn.current;if(Ze){let ie=Ze.getBoundingClientRect().height;return Dt(ie),g(pe=>[{toastId:p.id,height:ie,position:p.position},...pe]),()=>g(pe=>pe.filter(je=>je.toastId!==p.id))}},[g,p.id]),V.useLayoutEffect(()=>{if(!he)return;let Ze=rn.current,ie=Ze.style.height;Ze.style.height="auto";let pe=Ze.getBoundingClientRect().height;Ze.style.height=ie,Dt(pe),g(je=>je.find(Se=>Se.toastId===p.id)?je.map(Se=>Se.toastId===p.id?{...Se,height:pe}:Se):[{toastId:p.id,height:pe,position:p.position},...je])},[he,p.title,p.description,g,p.id]);let Yr=V.useCallback(()=>{ge(!0),ot(ma.current),g(Ze=>Ze.filter(ie=>ie.toastId!==p.id)),setTimeout(()=>{k(p)},n0e)},[p,k,g,ma]);V.useEffect(()=>{if(p.promise&&Xt==="loading"||p.duration===1/0||p.type==="loading")return;let Ze;return S||m||q&&ji?(()=>{if(Bn.current<$a.current){let ie=new Date().getTime()-$a.current;Wt.current=Wt.current-ie}Bn.current=new Date().getTime()})():Wt.current!==1/0&&($a.current=new Date().getTime(),Ze=setTimeout(()=>{var ie;(ie=p.onAutoClose)==null||ie.call(p,p),Yr()},Wt.current)),()=>clearTimeout(Ze)},[S,m,p,Xt,q,ji,Yr]),V.useEffect(()=>{p.delete&&Yr()},[Yr,p.delete]);function Vo(){var Ze,ie,pe;return W!=null&&W.loading?V.createElement("div",{className:gs(P==null?void 0:P.loader,(Ze=p==null?void 0:p.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":Xt==="loading"},W.loading):B?V.createElement("div",{className:gs(P==null?void 0:P.loader,(ie=p==null?void 0:p.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Xt==="loading"},B):V.createElement(Oge,{className:gs(P==null?void 0:P.loader,(pe=p==null?void 0:p.classNames)==null?void 0:pe.loader),visible:Xt==="loading"})}return V.createElement("li",{tabIndex:0,ref:rn,className:gs(M,ha,P==null?void 0:P.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[Xt],(n=p==null?void 0:p.classNames)==null?void 0:n[Xt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:I,"data-styled":!(p.jsx||p.unstyled||h),"data-mounted":he,"data-promise":!!p.promise,"data-swiped":We,"data-removed":se,"data-visible":fr,"data-y-position":dh,"data-x-position":ph,"data-index":b,"data-front":Rr,"data-swiping":we,"data-dismissible":pn,"data-type":Xt,"data-invert":Hl,"data-swipe-out":Be,"data-swipe-direction":ce,"data-expanded":!!(S||O&&he),style:{"--index":b,"--toasts-before":b,"--z-index":x.length-b,"--offset":`${se?Ye:ma.current}px`,"--initial-height":O?"auto":`${Zt}px`,...T,...p.style},onDragEnd:()=>{oe(!1),re(null),hs.current=null},onPointerDown:Ze=>{ql||!pn||(Vt.current=new Date,ot(ma.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(oe(!0),hs.current={x:Ze.clientX,y:Ze.clientY}))},onPointerUp:()=>{var Ze,ie,pe,je;if(Be||!pn)return;hs.current=null;let Se=Number(((Ze=rn.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wt=Number(((ie=rn.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_t=new Date().getTime()-((pe=Vt.current)==null?void 0:pe.getTime()),He=J==="x"?Se:wt,qe=Math.abs(He)/_t;if(Math.abs(He)>=t0e||qe>.11){ot(ma.current),(je=p.onDismiss)==null||je.call(p,p),ye(J==="x"?Se>0?"right":"left":wt>0?"down":"up"),Yr(),Te(!0),Le(!1);return}oe(!1),re(null)},onPointerMove:Ze=>{var ie,pe,je,Se;if(!hs.current||!pn||((ie=window.getSelection())==null?void 0:ie.toString().length)>0)return;let wt=Ze.clientY-hs.current.y,_t=Ze.clientX-hs.current.x,He=(pe=e.swipeDirections)!=null?pe:r0e(F);!J&&(Math.abs(_t)>1||Math.abs(wt)>1)&&re(Math.abs(_t)>Math.abs(wt)?"x":"y");let qe={x:0,y:0};J==="y"?(He.includes("top")||He.includes("bottom"))&&(He.includes("top")&&wt<0||He.includes("bottom")&&wt>0)&&(qe.y=wt):J==="x"&&(He.includes("left")||He.includes("right"))&&(He.includes("left")&&_t<0||He.includes("right")&&_t>0)&&(qe.x=_t),(Math.abs(qe.x)>0||Math.abs(qe.y)>0)&&Le(!0),(je=rn.current)==null||je.style.setProperty("--swipe-amount-x",`${qe.x}px`),(Se=rn.current)==null||Se.style.setProperty("--swipe-amount-y",`${qe.y}px`)}},ps&&!p.jsx?V.createElement("button",{"aria-label":H,"data-disabled":ql,"data-close-button":!0,onClick:ql||!pn?()=>{}:()=>{var Ze;Yr(),(Ze=p.onDismiss)==null||Ze.call(p,p)},className:gs(P==null?void 0:P.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=W==null?void 0:W.close)!=null?i:Bge):null,p.jsx||C.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:V.createElement(V.Fragment,null,Xt||p.icon||p.promise?V.createElement("div",{"data-icon":"",className:gs(P==null?void 0:P.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Vo():null,p.type!=="loading"?p.icon||(W==null?void 0:W[Xt])||$ge(Xt):null):null,V.createElement("div",{"data-content":"",className:gs(P==null?void 0:P.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},V.createElement("div",{"data-title":"",className:gs(P==null?void 0:P.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?V.createElement("div",{"data-description":"",className:gs(j,Js,P==null?void 0:P.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),C.isValidElement(p.cancel)?p.cancel:p.cancel&&_x(p.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||L,onClick:Ze=>{var ie,pe;_x(p.cancel)&&pn&&((pe=(ie=p.cancel).onClick)==null||pe.call(ie,Ze),Yr())},className:gs(P==null?void 0:P.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,C.isValidElement(p.action)?p.action:p.action&&_x(p.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||E,onClick:Ze=>{var ie,pe;_x(p.action)&&((pe=(ie=p.action).onClick)==null||pe.call(ie,Ze),!Ze.defaultPrevented&&Yr())},className:gs(P==null?void 0:P.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Fz(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function i0e(e,t){let n={};return[e,t].forEach((r,a)=>{let i=a===1,s=i?"--mobile-offset":"--offset",o=i?Zge:Jge;function l(u){["top","right","bottom","left"].forEach(c=>{n[`${s}-${c}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${s}-${u}`]=o:n[`${s}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(o)}),n}var s0e=C.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:l,mobileOffset:u,theme:c="light",richColors:f,duration:d,style:p,visibleToasts:h=Kge,toastOptions:m,dir:g=Fz(),gap:y=e0e,loadingIcon:v,icons:b,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:S}=e,[k,I]=V.useState([]),N=V.useMemo(()=>Array.from(new Set([r].concat(k.filter(q=>q.position).map(q=>q.position)))),[k,r]),[T,L]=V.useState([]),[E,M]=V.useState(!1),[j,D]=V.useState(!1),[F,$]=V.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=V.useRef(null),O=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=V.useRef(null),W=V.useRef(!1),H=V.useCallback(q=>{I(J=>{var re;return(re=J.find(ce=>ce.id===q.id))!=null&&re.delete||za.dismiss(q.id),J.filter(({id:ce})=>ce!==q.id)})},[]);return V.useEffect(()=>za.subscribe(q=>{if(q.dismiss){I(J=>J.map(re=>re.id===q.id?{...re,delete:!0}:re));return}setTimeout(()=>{tH.flushSync(()=>{I(J=>{let re=J.findIndex(ce=>ce.id===q.id);return re!==-1?[...J.slice(0,re),{...J[re],...q},...J.slice(re+1)]:[q,...J]})})})}),[]),V.useEffect(()=>{if(c!=="system"){$(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:J})=>{$(J?"dark":"light")})}catch{q.addListener(({matches:re})=>{try{$(re?"dark":"light")}catch(ce){console.error(ce)}})}},[c]),V.useEffect(()=>{k.length<=1&&M(!1)},[k]),V.useEffect(()=>{let q=J=>{var re,ce;a.every(ye=>J[ye]||J.code===ye)&&(M(!0),(re=B.current)==null||re.focus()),J.code==="Escape"&&(document.activeElement===B.current||(ce=B.current)!=null&&ce.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[a]),V.useEffect(()=>{if(B.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,W.current=!1)}},[B.current]),V.createElement("section",{ref:t,"aria-label":`${x} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((q,J)=>{var re;let[ce,ye]=q.split("-");return k.length?V.createElement("ol",{key:q,dir:g==="auto"?Fz():g,tabIndex:-1,ref:B,className:o,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":ce,"data-lifted":E&&k.length>1&&!i,"data-x-position":ye,style:{"--front-toast-height":`${((re=T[0])==null?void 0:re.height)||0}px`,"--width":`${Xge}px`,"--gap":`${y}px`,...p,...i0e(l,u)},onBlur:he=>{W.current&&!he.currentTarget.contains(he.relatedTarget)&&(W.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||W.current||(W.current=!0,P.current=he.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{j||M(!1)},onDragEnd:()=>M(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},k.filter(he=>!he.position&&J===0||he.position===q).map((he,me)=>{var se,ge;return V.createElement(a0e,{key:he.id,icons:b,index:me,toast:he,defaultRichColors:f,duration:(se=m==null?void 0:m.duration)!=null?se:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:h,closeButton:(ge=m==null?void 0:m.closeButton)!=null?ge:s,interacting:j,position:q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:H,toasts:k.filter(we=>we.position==he.position),heights:T.filter(we=>we.position==he.position),setHeights:L,expandByDefault:i,gap:y,loadingIcon:v,expanded:E,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const o0e=({...e})=>{const{theme:t="system"}=jge();return w.jsx(s0e,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var l0e=m_[" useId ".trim().toString()]||(()=>{}),u0e=0;function ov(e){const[t,n]=C.useState(l0e());return Eo(()=>{e||n(r=>r??String(u0e++))},[e]),e||(t?`radix-${t}`:"")}const c0e=["top","right","bottom","left"],nc=Math.min,fi=Math.max,LS=Math.round,jx=Math.floor,xo=e=>({x:e,y:e}),f0e={left:"right",right:"left",bottom:"top",top:"bottom"},d0e={start:"end",end:"start"};function Y4(e,t,n){return fi(e,nc(t,n))}function Sl(e,t){return typeof e=="function"?e(t):e}function kl(e){return e.split("-")[0]}function Lg(e){return e.split("-")[1]}function wj(e){return e==="x"?"y":"x"}function xj(e){return e==="y"?"height":"width"}const p0e=new Set(["top","bottom"]);function ho(e){return p0e.has(kl(e))?"y":"x"}function Sj(e){return wj(ho(e))}function h0e(e,t,n){n===void 0&&(n=!1);const r=Lg(e),a=Sj(e),i=xj(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=_S(s)),[s,_S(s)]}function m0e(e){const t=_S(e);return[Q4(e),t,Q4(t)]}function Q4(e){return e.replace(/start|end/g,t=>d0e[t])}const zz=["left","right"],Bz=["right","left"],g0e=["top","bottom"],y0e=["bottom","top"];function v0e(e,t,n){switch(e){case"top":case"bottom":return n?t?Bz:zz:t?zz:Bz;case"left":case"right":return t?g0e:y0e;default:return[]}}function b0e(e,t,n,r){const a=Lg(e);let i=v0e(kl(e),n==="start",r);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(Q4)))),i}function _S(e){return e.replace(/left|right|bottom|top/g,t=>f0e[t])}function w0e(e){return{top:0,right:0,bottom:0,left:0,...e}}function KH(e){return typeof e!="number"?w0e(e):{top:e,right:e,bottom:e,left:e}}function jS(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function Uz(e,t,n){let{reference:r,floating:a}=e;const i=ho(t),s=Sj(t),o=xj(s),l=kl(t),u=i==="y",c=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,d=r[o]/2-a[o]/2;let p;switch(l){case"top":p={x:c,y:r.y-a.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-a.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Lg(t)){case"start":p[s]-=d*(n&&u?-1:1);break;case"end":p[s]+=d*(n&&u?-1:1);break}return p}const x0e=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n,o=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:c,y:f}=Uz(u,r,l),d=r,p={},h=0;for(let m=0;m<o.length;m++){const{name:g,fn:y}=o[m],{x:v,y:b,data:x,reset:S}=await y({x:c,y:f,initialPlacement:r,placement:d,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});c=v??c,f=b??f,p={...p,[g]:{...p[g],...x}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:c,y:f}=Uz(u,d,l)),m=-1)}return{x:c,y:f,placement:d,strategy:a,middlewareData:p}};async function lv(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:s,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Sl(t,e),h=KH(p),g=o[d?f==="floating"?"reference":"floating":f],y=jS(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),v=f==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),x=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=jS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:b,strategy:l}):v);return{top:(y.top-S.top+h.top)/x.y,bottom:(S.bottom-y.bottom+h.bottom)/x.y,left:(y.left-S.left+h.left)/x.x,right:(S.right-y.right+h.right)/x.x}}const S0e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:s,elements:o,middlewareData:l}=t,{element:u,padding:c=0}=Sl(e,t)||{};if(u==null)return{};const f=KH(c),d={x:n,y:r},p=Sj(a),h=xj(p),m=await s.getDimensions(u),g=p==="y",y=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",x=i.reference[h]+i.reference[p]-d[p]-i.floating[h],S=d[p]-i.reference[p],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let I=k?k[b]:0;(!I||!await(s.isElement==null?void 0:s.isElement(k)))&&(I=o.floating[b]||i.floating[h]);const N=x/2-S/2,T=I/2-m[h]/2-1,L=nc(f[y],T),E=nc(f[v],T),M=L,j=I-m[h]-E,D=I/2-m[h]/2+N,F=Y4(M,D,j),$=!l.arrow&&Lg(a)!=null&&D!==F&&i.reference[h]/2-(D<M?L:E)-m[h]/2<0,B=$?D<M?D-M:D-j:0;return{[p]:d[p]+B,data:{[p]:F,centerOffset:D-F-B,...$&&{alignmentOffset:B}},reset:$}}}),k0e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=Sl(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=kl(a),v=ho(o),b=kl(o)===o,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=d||(b||!m?[_S(o)]:m0e(o)),k=h!=="none";!d&&k&&S.push(...b0e(o,m,h,x));const I=[o,...S],N=await lv(t,g),T=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&T.push(N[y]),f){const D=h0e(a,s,x);T.push(N[D[0]],N[D[1]])}if(L=[...L,{placement:a,overflows:T}],!T.every(D=>D<=0)){var E,M;const D=(((E=i.flip)==null?void 0:E.index)||0)+1,F=I[D];if(F&&(!(f==="alignment"?v!==ho(F):!1)||L.every(O=>O.overflows[0]>0&&ho(O.placement)===v)))return{data:{index:D,overflows:L},reset:{placement:F}};let $=(M=L.filter(B=>B.overflows[0]<=0).sort((B,O)=>B.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!$)switch(p){case"bestFit":{var j;const B=(j=L.filter(O=>{if(k){const P=ho(O.placement);return P===v||P==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(P=>P>0).reduce((P,W)=>P+W,0)]).sort((O,P)=>O[1]-P[1])[0])==null?void 0:j[0];B&&($=B);break}case"initialPlacement":$=o;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function Wz(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vz(e){return c0e.some(t=>e[t]>=0)}const C0e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Sl(e,t);switch(r){case"referenceHidden":{const i=await lv(t,{...a,elementContext:"reference"}),s=Wz(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Vz(s)}}}case"escaped":{const i=await lv(t,{...a,altBoundary:!0}),s=Wz(i,n.floating);return{data:{escapedOffsets:s,escaped:Vz(s)}}}default:return{}}}}},JH=new Set(["left","top"]);async function I0e(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=kl(n),o=Lg(n),l=ho(n)==="y",u=JH.has(s)?-1:1,c=i&&l?-1:1,f=Sl(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof h=="number"&&(p=o==="end"?h*-1:h),l?{x:p*c,y:d*u}:{x:d*u,y:p*c}}const N0e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:s,middlewareData:o}=t,l=await I0e(t,e);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:s}}}}},M0e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=Sl(e,t),u={x:n,y:r},c=await lv(t,l),f=ho(kl(a)),d=wj(f);let p=u[d],h=u[f];if(i){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=p+c[g],b=p-c[y];p=Y4(v,p,b)}if(s){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=h+c[g],b=h-c[y];h=Y4(v,h,b)}const m=o.fn({...t,[d]:p,[f]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:i,[f]:s}}}}}},T0e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Sl(e,t),c={x:n,y:r},f=ho(a),d=wj(f);let p=c[d],h=c[f];const m=Sl(o,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=d==="y"?"height":"width",x=i.reference[d]-i.floating[b]+g.mainAxis,S=i.reference[d]+i.reference[b]-g.mainAxis;p<x?p=x:p>S&&(p=S)}if(u){var y,v;const b=d==="y"?"width":"height",x=JH.has(kl(a)),S=i.reference[f]-i.floating[b]+(x&&((y=s.offset)==null?void 0:y[f])||0)+(x?0:g.crossAxis),k=i.reference[f]+i.reference[b]+(x?0:((v=s.offset)==null?void 0:v[f])||0)-(x?g.crossAxis:0);h<S?h=S:h>k&&(h=k)}return{[d]:p,[f]:h}}}},E0e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:s,elements:o}=t,{apply:l=()=>{},...u}=Sl(e,t),c=await lv(t,u),f=kl(a),d=Lg(a),p=ho(a)==="y",{width:h,height:m}=i.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=d===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,g=d==="end"?"top":"bottom");const v=m-c.top-c.bottom,b=h-c.left-c.right,x=nc(m-c[g],v),S=nc(h-c[y],b),k=!t.middlewareData.shift;let I=x,N=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=v),k&&!d){const L=fi(c.left,0),E=fi(c.right,0),M=fi(c.top,0),j=fi(c.bottom,0);p?N=h-2*(L!==0||E!==0?L+E:fi(c.left,c.right)):I=m-2*(M!==0||j!==0?M+j:fi(c.top,c.bottom))}await l({...t,availableWidth:N,availableHeight:I});const T=await s.getDimensions(o.floating);return h!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function JC(){return typeof window<"u"}function _g(e){return ZH(e)?(e.nodeName||"").toLowerCase():"#document"}function wi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ro(e){var t;return(t=(ZH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ZH(e){return JC()?e instanceof Node||e instanceof wi(e).Node:!1}function zs(e){return JC()?e instanceof Element||e instanceof wi(e).Element:!1}function Ao(e){return JC()?e instanceof HTMLElement||e instanceof wi(e).HTMLElement:!1}function Gz(e){return!JC()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wi(e).ShadowRoot}const A0e=new Set(["inline","contents"]);function Db(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Bs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!A0e.has(a)}const L0e=new Set(["table","td","th"]);function _0e(e){return L0e.has(_g(e))}const j0e=[":popover-open",":modal"];function ZC(e){return j0e.some(t=>{try{return e.matches(t)}catch{return!1}})}const $0e=["transform","translate","scale","rotate","perspective"],D0e=["transform","translate","scale","rotate","perspective","filter"],O0e=["paint","layout","strict","content"];function kj(e){const t=Cj(),n=zs(e)?Bs(e):e;return $0e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||D0e.some(r=>(n.willChange||"").includes(r))||O0e.some(r=>(n.contain||"").includes(r))}function R0e(e){let t=rc(e);for(;Ao(t)&&!jm(t);){if(kj(t))return t;if(ZC(t))return null;t=rc(t)}return null}function Cj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const P0e=new Set(["html","body","#document"]);function jm(e){return P0e.has(_g(e))}function Bs(e){return wi(e).getComputedStyle(e)}function XC(e){return zs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rc(e){if(_g(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gz(e)&&e.host||Ro(e);return Gz(t)?t.host:t}function XH(e){const t=rc(e);return jm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ao(t)&&Db(t)?t:XH(t)}function uv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=XH(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),s=wi(a);if(i){const o=K4(s);return t.concat(s,s.visualViewport||[],Db(a)?a:[],o&&n?uv(o):[])}return t.concat(a,uv(a,[],n))}function K4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eq(e){const t=Bs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ao(e),i=a?e.offsetWidth:n,s=a?e.offsetHeight:r,o=LS(n)!==i||LS(r)!==s;return o&&(n=i,r=s),{width:n,height:r,$:o}}function Ij(e){return zs(e)?e:e.contextElement}function Xh(e){const t=Ij(e);if(!Ao(t))return xo(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=eq(t);let s=(i?LS(n.width):n.width)/r,o=(i?LS(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const F0e=xo(0);function tq(e){const t=wi(e);return!Cj()||!t.visualViewport?F0e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function z0e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wi(e)?!1:t}function qf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Ij(e);let s=xo(1);t&&(r?zs(r)&&(s=Xh(r)):s=Xh(e));const o=z0e(i,n,r)?tq(i):xo(0);let l=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,c=a.width/s.x,f=a.height/s.y;if(i){const d=wi(i),p=r&&zs(r)?wi(r):r;let h=d,m=K4(h);for(;m&&r&&p!==h;){const g=Xh(m),y=m.getBoundingClientRect(),v=Bs(m),b=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,x=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,f*=g.y,l+=b,u+=x,h=wi(m),m=K4(h)}}return jS({width:c,height:f,x:l,y:u})}function Nj(e,t){const n=XC(e).scrollLeft;return t?t.left+n:qf(Ro(e)).left+n}function nq(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:Nj(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function B0e(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",s=Ro(r),o=t?ZC(t.floating):!1;if(r===s||o&&i)return n;let l={scrollLeft:0,scrollTop:0},u=xo(1);const c=xo(0),f=Ao(r);if((f||!f&&!i)&&((_g(r)!=="body"||Db(s))&&(l=XC(r)),Ao(r))){const p=qf(r);u=Xh(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const d=s&&!f&&!i?nq(s,l,!0):xo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function U0e(e){return Array.from(e.getClientRects())}function W0e(e){const t=Ro(e),n=XC(e),r=e.ownerDocument.body,a=fi(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=fi(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Nj(e);const o=-n.scrollTop;return Bs(r).direction==="rtl"&&(s+=fi(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:s,y:o}}function V0e(e,t){const n=wi(e),r=Ro(e),a=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;const u=Cj();(!u||u&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o,y:l}}const G0e=new Set(["absolute","fixed"]);function H0e(e,t){const n=qf(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Ao(e)?Xh(e):xo(1),s=e.clientWidth*i.x,o=e.clientHeight*i.y,l=a*i.x,u=r*i.y;return{width:s,height:o,x:l,y:u}}function Hz(e,t,n){let r;if(t==="viewport")r=V0e(e,n);else if(t==="document")r=W0e(Ro(e));else if(zs(t))r=H0e(t,n);else{const a=tq(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return jS(r)}function rq(e,t){const n=rc(e);return n===t||!zs(n)||jm(n)?!1:Bs(n).position==="fixed"||rq(n,t)}function q0e(e,t){const n=t.get(e);if(n)return n;let r=uv(e,[],!1).filter(o=>zs(o)&&_g(o)!=="body"),a=null;const i=Bs(e).position==="fixed";let s=i?rc(e):e;for(;zs(s)&&!jm(s);){const o=Bs(s),l=kj(s);!l&&o.position==="fixed"&&(a=null),(i?!l&&!a:!l&&o.position==="static"&&!!a&&G0e.has(a.position)||Db(s)&&!l&&rq(e,s))?r=r.filter(c=>c!==s):a=o,s=rc(s)}return t.set(e,r),r}function Y0e(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?ZC(t)?[]:q0e(t,this._c):[].concat(n),r],o=s[0],l=s.reduce((u,c)=>{const f=Hz(t,c,a);return u.top=fi(f.top,u.top),u.right=nc(f.right,u.right),u.bottom=nc(f.bottom,u.bottom),u.left=fi(f.left,u.left),u},Hz(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Q0e(e){const{width:t,height:n}=eq(e);return{width:t,height:n}}function K0e(e,t,n){const r=Ao(t),a=Ro(t),i=n==="fixed",s=qf(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=xo(0);function u(){l.x=Nj(a)}if(r||!r&&!i)if((_g(t)!=="body"||Db(a))&&(o=XC(t)),r){const p=qf(t,!0,i,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else a&&u();i&&!r&&a&&u();const c=a&&!r&&!i?nq(a,o):xo(0),f=s.left+o.scrollLeft-l.x-c.x,d=s.top+o.scrollTop-l.y-c.y;return{x:f,y:d,width:s.width,height:s.height}}function jT(e){return Bs(e).position==="static"}function qz(e,t){if(!Ao(e)||Bs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ro(e)===n&&(n=n.ownerDocument.body),n}function aq(e,t){const n=wi(e);if(ZC(e))return n;if(!Ao(e)){let a=rc(e);for(;a&&!jm(a);){if(zs(a)&&!jT(a))return a;a=rc(a)}return n}let r=qz(e,t);for(;r&&_0e(r)&&jT(r);)r=qz(r,t);return r&&jm(r)&&jT(r)&&!kj(r)?n:r||R0e(e)||n}const J0e=async function(e){const t=this.getOffsetParent||aq,n=this.getDimensions,r=await n(e.floating);return{reference:K0e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Z0e(e){return Bs(e).direction==="rtl"}const X0e={convertOffsetParentRelativeRectToViewportRelativeRect:B0e,getDocumentElement:Ro,getClippingRect:Y0e,getOffsetParent:aq,getElementRects:J0e,getClientRects:U0e,getDimensions:Q0e,getScale:Xh,isElement:zs,isRTL:Z0e};function iq(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function e1e(e,t){let n=null,r;const a=Ro(e);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:c,top:f,width:d,height:p}=u;if(o||t(),!d||!p)return;const h=jx(f),m=jx(a.clientWidth-(c+d)),g=jx(a.clientHeight-(f+p)),y=jx(c),b={rootMargin:-h+"px "+-m+"px "+-g+"px "+-y+"px",threshold:fi(0,nc(1,l))||1};let x=!0;function S(k){const I=k[0].intersectionRatio;if(I!==l){if(!x)return s();I?s(!1,I):r=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!iq(u,e.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(e)}return s(!0),i}function t1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ij(e),c=a||i?[...u?uv(u):[],...uv(t)]:[];c.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&o?e1e(u,n):null;let d=-1,p=null;s&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let h,m=l?qf(e):null;l&&g();function g(){const y=qf(e);m&&!iq(m,y)&&n(),m=y,h=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{a&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const n1e=N0e,r1e=M0e,a1e=k0e,i1e=E0e,s1e=C0e,Yz=S0e,o1e=T0e,l1e=(e,t,n)=>{const r=new Map,a={platform:X0e,...n},i={...a.platform,_c:r};return x0e(e,t,{...a,platform:i})};var u1e=typeof document<"u",c1e=function(){},O2=u1e?C.useLayoutEffect:c1e;function $S(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!$S(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!$S(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function sq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qz(e,t){const n=sq(e);return Math.round(t*n)/n}function $T(e){const t=C.useRef(e);return O2(()=>{t.current=e}),t}function f1e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[c,f]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,p]=C.useState(r);$S(d,r)||p(r);const[h,m]=C.useState(null),[g,y]=C.useState(null),v=C.useCallback(O=>{O!==k.current&&(k.current=O,m(O))},[]),b=C.useCallback(O=>{O!==I.current&&(I.current=O,y(O))},[]),x=i||h,S=s||g,k=C.useRef(null),I=C.useRef(null),N=C.useRef(c),T=l!=null,L=$T(l),E=$T(a),M=$T(u),j=C.useCallback(()=>{if(!k.current||!I.current)return;const O={placement:t,strategy:n,middleware:d};E.current&&(O.platform=E.current),l1e(k.current,I.current,O).then(P=>{const W={...P,isPositioned:M.current!==!1};D.current&&!$S(N.current,W)&&(N.current=W,Lb.flushSync(()=>{f(W)}))})},[d,t,n,E,M]);O2(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const D=C.useRef(!1);O2(()=>(D.current=!0,()=>{D.current=!1}),[]),O2(()=>{if(x&&(k.current=x),S&&(I.current=S),x&&S){if(L.current)return L.current(x,S,j);j()}},[x,S,j,L,T]);const F=C.useMemo(()=>({reference:k,floating:I,setReference:v,setFloating:b}),[v,b]),$=C.useMemo(()=>({reference:x,floating:S}),[x,S]),B=C.useMemo(()=>{const O={position:n,left:0,top:0};if(!$.floating)return O;const P=Qz($.floating,c.x),W=Qz($.floating,c.y);return o?{...O,transform:"translate("+P+"px, "+W+"px)",...sq($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:W}},[n,o,$.floating,c.x,c.y]);return C.useMemo(()=>({...c,update:j,refs:F,elements:$,floatingStyles:B}),[c,j,F,$,B])}const d1e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Yz({element:r.current,padding:a}).fn(n):{}:r?Yz({element:r,padding:a}).fn(n):{}}}},p1e=(e,t)=>({...n1e(e),options:[e,t]}),h1e=(e,t)=>({...r1e(e),options:[e,t]}),m1e=(e,t)=>({...o1e(e),options:[e,t]}),g1e=(e,t)=>({...a1e(e),options:[e,t]}),y1e=(e,t)=>({...i1e(e),options:[e,t]}),v1e=(e,t)=>({...s1e(e),options:[e,t]}),b1e=(e,t)=>({...d1e(e),options:[e,t]});var w1e="Arrow",oq=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return w.jsx(Ct.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});oq.displayName=w1e;var x1e=oq;function S1e(e){const[t,n]=C.useState(void 0);return Eo(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=e.offsetWidth,o=e.offsetHeight;n({width:s,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Mj="Popper",[lq,jg]=qs(Mj),[k1e,uq]=lq(Mj),cq=e=>{const{__scopePopper:t,children:n}=e,[r,a]=C.useState(null);return w.jsx(k1e,{scope:t,anchor:r,onAnchorChange:a,children:n})};cq.displayName=Mj;var fq="PopperAnchor",dq=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=uq(fq,n),s=C.useRef(null),o=dn(t,s);return C.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:w.jsx(Ct.div,{...a,ref:o})});dq.displayName=fq;var Tj="PopperContent",[C1e,I1e]=lq(Tj),pq=C.forwardRef((e,t)=>{var he,me,se,ge,we,oe;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:p="optimized",onPlaced:h,...m}=e,g=uq(Tj,n),[y,v]=C.useState(null),b=dn(t,Be=>v(Be)),[x,S]=C.useState(null),k=S1e(x),I=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,T=r+(i!=="center"?"-"+i:""),L=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},E=Array.isArray(u)?u:[u],M=E.length>0,j={padding:L,boundary:E.filter(M1e),altBoundary:M},{refs:D,floatingStyles:F,placement:$,isPositioned:B,middlewareData:O}=f1e({strategy:"fixed",placement:T,whileElementsMounted:(...Be)=>t1e(...Be,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[p1e({mainAxis:a+N,alignmentAxis:s}),l&&h1e({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?m1e():void 0,...j}),l&&g1e({...j}),y1e({...j,apply:({elements:Be,rects:Te,availableWidth:We,availableHeight:Le})=>{const{width:Ye,height:ot}=Te.reference,Zt=Be.floating.style;Zt.setProperty("--radix-popper-available-width",`${We}px`),Zt.setProperty("--radix-popper-available-height",`${Le}px`),Zt.setProperty("--radix-popper-anchor-width",`${Ye}px`),Zt.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),x&&b1e({element:x,padding:o}),T1e({arrowWidth:I,arrowHeight:N}),d&&v1e({strategy:"referenceHidden",...j})]}),[P,W]=gq($),H=er(h);Eo(()=>{B&&(H==null||H())},[B,H]);const q=(he=O.arrow)==null?void 0:he.x,J=(me=O.arrow)==null?void 0:me.y,re=((se=O.arrow)==null?void 0:se.centerOffset)!==0,[ce,ye]=C.useState();return Eo(()=>{y&&ye(window.getComputedStyle(y).zIndex)},[y]),w.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:B?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(ge=O.transformOrigin)==null?void 0:ge.x,(we=O.transformOrigin)==null?void 0:we.y].join(" "),...((oe=O.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:w.jsx(C1e,{scope:n,placedSide:P,onArrowChange:S,arrowX:q,arrowY:J,shouldHideArrow:re,children:w.jsx(Ct.div,{"data-side":P,"data-align":W,...m,ref:b,style:{...m.style,animation:B?void 0:"none"}})})})});pq.displayName=Tj;var hq="PopperArrow",N1e={top:"bottom",right:"left",bottom:"top",left:"right"},mq=C.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=I1e(hq,r),s=N1e[i.placedSide];return w.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:w.jsx(x1e,{...a,ref:n,style:{...a.style,display:"block"}})})});mq.displayName=hq;function M1e(e){return e!==null}var T1e=e=>({name:"transformOrigin",options:e,fn(t){var g,y,v;const{placement:n,rects:r,middlewareData:a}=t,s=((g=a.arrow)==null?void 0:g.centerOffset)!==0,o=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,c]=gq(n),f={start:"0%",center:"50%",end:"100%"}[c],d=(((y=a.arrow)==null?void 0:y.x)??0)+o/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+l/2;let h="",m="";return u==="bottom"?(h=s?f:`${d}px`,m=`${-l}px`):u==="top"?(h=s?f:`${d}px`,m=`${r.floating.height+l}px`):u==="right"?(h=`${-l}px`,m=s?f:`${p}px`):u==="left"&&(h=`${r.floating.width+l}px`,m=s?f:`${p}px`),{data:{x:h,y:m}}}});function gq(e){const[t,n="center"]=e.split("-");return[t,n]}var yq=cq,eI=dq,Ej=pq,Aj=mq,[tI,OAt]=qs("Tooltip",[jg]),Lj=jg(),vq="TooltipProvider",E1e=700,Kz="tooltip.open",[A1e,bq]=tI(vq),wq=e=>{const{__scopeTooltip:t,delayDuration:n=E1e,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,s=C.useRef(!0),o=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),w.jsx(A1e,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(u=>{o.current=u},[]),disableHoverableContent:a,children:i})};wq.displayName=vq;var xq="Tooltip",[RAt,nI]=tI(xq),J4="TooltipTrigger",L1e=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=nI(J4,n),i=bq(J4,n),s=Lj(n),o=C.useRef(null),l=dn(t,o,a.onTriggerChange),u=C.useRef(!1),c=C.useRef(!1),f=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),w.jsx(eI,{asChild:!0,...s,children:w.jsx(Ct.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:l,onPointerMove:Pe(e.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),c.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{a.onTriggerLeave(),c.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Pe(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Pe(e.onBlur,a.onClose),onClick:Pe(e.onClick,a.onClose)})})});L1e.displayName=J4;var _1e="TooltipPortal",[PAt,j1e]=tI(_1e,{forceMount:void 0}),$m="TooltipContent",Sq=C.forwardRef((e,t)=>{const n=j1e($m,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,s=nI($m,e.__scopeTooltip);return w.jsx(ni,{present:r||s.open,children:s.disableHoverableContent?w.jsx(kq,{side:a,...i,ref:t}):w.jsx($1e,{side:a,...i,ref:t})})}),$1e=C.forwardRef((e,t)=>{const n=nI($m,e.__scopeTooltip),r=bq($m,e.__scopeTooltip),a=C.useRef(null),i=dn(t,a),[s,o]=C.useState(null),{trigger:l,onClose:u}=n,c=a.current,{onPointerInTransitChange:f}=r,d=C.useCallback(()=>{o(null),f(!1)},[f]),p=C.useCallback((h,m)=>{const g=h.currentTarget,y={x:h.clientX,y:h.clientY},v=F1e(y,g.getBoundingClientRect()),b=z1e(y,v),x=B1e(m.getBoundingClientRect()),S=W1e([...b,...x]);o(S),f(!0)},[f]);return C.useEffect(()=>()=>d(),[d]),C.useEffect(()=>{if(l&&c){const h=g=>p(g,c),m=g=>p(g,l);return l.addEventListener("pointerleave",h),c.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",h),c.removeEventListener("pointerleave",m)}}},[l,c,p,d]),C.useEffect(()=>{if(s){const h=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},v=(l==null?void 0:l.contains(g))||(c==null?void 0:c.contains(g)),b=!U1e(y,s);v?d():b&&(d(),u())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[l,c,s,u,d]),w.jsx(kq,{...e,ref:i})}),[D1e,O1e]=tI(xq,{isInside:!1}),R1e=Che("TooltipContent"),kq=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...o}=e,l=nI($m,n),u=Lj(n),{onClose:c}=l;return C.useEffect(()=>(document.addEventListener(Kz,c),()=>document.removeEventListener(Kz,c)),[c]),C.useEffect(()=>{if(l.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,c]),w.jsx(_b,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:w.jsxs(Ej,{"data-state":l.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(R1e,{children:r}),w.jsx(D1e,{scope:n,isInside:!0,children:w.jsx(qhe,{id:l.contentId,role:"tooltip",children:a||r})})]})})});Sq.displayName=$m;var Cq="TooltipArrow",P1e=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Lj(n);return O1e(Cq,n).isInside?null:w.jsx(Aj,{...a,...r,ref:t})});P1e.displayName=Cq;function F1e(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function z1e(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function B1e(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function U1e(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const o=t[i],l=t[s],u=o.x,c=o.y,f=l.x,d=l.y;c>r!=d>r&&n<(f-u)*(r-c)/(d-c)+u&&(a=!a)}return a}function W1e(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),V1e(t)}function V1e(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var G1e=wq,Iq=Sq;const H1e=G1e,q1e=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>w.jsx(Iq,{ref:r,sideOffset:t,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));q1e.displayName=Iq.displayName;const Nq="https://nexus-ztlg.onrender.com",Y1e=async()=>{try{const e=await fetch(`${Nq}/api/health`);return e.ok?(await e.json()).status==="OK":!1}catch(e){return console.error("Backend health check failed:",e),!1}};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cv.apply(this,arguments)}var Nu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nu||(Nu={}));const Jz="popstate";function Q1e(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:s,hash:o}=r.location;return Z4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:DS(a)}return J1e(t,n,null,e)}function Hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mq(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K1e(){return Math.random().toString(36).substr(2,8)}function Zz(e,t){return{usr:e.state,key:e.key,idx:t}}function Z4(e,t,n,r){return n===void 0&&(n=null),cv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$g(t):t,{state:n,key:t&&t.key||r||K1e()})}function DS(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function J1e(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o=Nu.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(cv({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){o=Nu.Pop;let g=c(),y=g==null?null:g-u;u=g,l&&l({action:o,location:m.location,delta:y})}function d(g,y){o=Nu.Push;let v=Z4(m.location,g,y);u=c()+1;let b=Zz(v,u),x=m.createHref(v);try{s.pushState(b,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(x)}i&&l&&l({action:o,location:m.location,delta:1})}function p(g,y){o=Nu.Replace;let v=Z4(m.location,g,y);u=c();let b=Zz(v,u),x=m.createHref(v);s.replaceState(b,"",x),i&&l&&l({action:o,location:m.location,delta:0})}function h(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof g=="string"?g:DS(g);return v=v.replace(/ $/,"%20"),Hn(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return o},get location(){return e(a,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Jz,f),l=g,()=>{a.removeEventListener(Jz,f),l=null}},createHref(g){return t(a,g)},createURL:h,encodeLocation(g){let y=h(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(g){return s.go(g)}};return m}var Xz;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xz||(Xz={}));function Z1e(e,t,n){return n===void 0&&(n="/"),X1e(e,t,n,!1)}function X1e(e,t,n,r){let a=typeof t=="string"?$g(t):t,i=_j(a.pathname||"/",n);if(i==null)return null;let s=Tq(e);eye(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=fye(i);o=uye(s[l],u,r)}return o}function Tq(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Hn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Vu([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Hn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tq(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:oye(u,i.index),routesMeta:c})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of Eq(i.path))a(i,s,l)}),t}function Eq(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=Eq(r.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function eye(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lye(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tye=/^:[\w-]+$/,nye=3,rye=2,aye=1,iye=10,sye=-2,e9=e=>e==="*";function oye(e,t){let n=e.split("/"),r=n.length;return n.some(e9)&&(r+=sye),t&&(r+=rye),n.filter(a=>!e9(a)).reduce((a,i)=>a+(tye.test(i)?nye:i===""?aye:iye),r)}function lye(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function uye(e,t,n){let{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=t9({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=t9({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Vu([i,f.pathname]),pathnameBase:mye(Vu([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=Vu([i,f.pathnameBase]))}return s}function t9(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cye(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const h=o[f];return p&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function cye(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Mq(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function fye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mq(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _j(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dye(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?$g(e):e;return{pathname:n?n.startsWith("/")?n:pye(n,t):t,search:gye(r),hash:yye(a)}}function pye(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function DT(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hye(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jj(e,t){let n=hye(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $j(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=$g(e):(a=cv({},e),Hn(!a.pathname||!a.pathname.includes("?"),DT("?","pathname","search",a)),Hn(!a.pathname||!a.pathname.includes("#"),DT("#","pathname","hash",a)),Hn(!a.search||!a.search.includes("#"),DT("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;a.pathname=d.join("/")}o=f>=0?t[f]:"/"}let l=dye(a,o),u=s&&s!=="/"&&s.endsWith("/"),c=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Vu=e=>e.join("/").replace(/\/\/+/g,"/"),mye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vye(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Aq=["post","put","patch","delete"];new Set(Aq);const bye=["get",...Aq];new Set(bye);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(this,arguments)}const Dj=C.createContext(null),wye=C.createContext(null),kc=C.createContext(null),rI=C.createContext(null),_l=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Lq=C.createContext(null);function xye(e,t){let{relative:n}=t===void 0?{}:t;Dg()||Hn(!1);let{basename:r,navigator:a}=C.useContext(kc),{hash:i,pathname:s,search:o}=jq(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Vu([r,s])),a.createHref({pathname:l,search:o,hash:i})}function Dg(){return C.useContext(rI)!=null}function Sd(){return Dg()||Hn(!1),C.useContext(rI).location}function _q(e){C.useContext(kc).static||C.useLayoutEffect(e)}function aI(){let{isDataRoute:e}=C.useContext(_l);return e?Oye():Sye()}function Sye(){Dg()||Hn(!1);let e=C.useContext(Dj),{basename:t,future:n,navigator:r}=C.useContext(kc),{matches:a}=C.useContext(_l),{pathname:i}=Sd(),s=JSON.stringify(jj(a,n.v7_relativeSplatPath)),o=C.useRef(!1);return _q(()=>{o.current=!0}),C.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=$j(u,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Vu([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,s,i,e])}const kye=C.createContext(null);function Cye(e){let t=C.useContext(_l).outlet;return t&&C.createElement(kye.Provider,{value:e},t)}function jq(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(kc),{matches:a}=C.useContext(_l),{pathname:i}=Sd(),s=JSON.stringify(jj(a,r.v7_relativeSplatPath));return C.useMemo(()=>$j(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function Iye(e,t){return Nye(e,t)}function Nye(e,t,n,r){Dg()||Hn(!1);let{navigator:a}=C.useContext(kc),{matches:i}=C.useContext(_l),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Sd(),c;if(t){var f;let g=typeof t=="string"?$g(t):t;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||Hn(!1),c=g}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let h=Z1e(e,{pathname:p}),m=Lye(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Vu([l,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Vu([l,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,r);return t&&m?C.createElement(rI.Provider,{value:{location:fv({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Nu.Pop}},m):m}function Mye(){let e=Dye(),t=vye(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:a},n):null,null)}const Tye=C.createElement(Mye,null);class Eye extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(_l.Provider,{value:this.props.routeContext},C.createElement(Lq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Aye(e){let{routeContext:t,match:n,children:r}=e,a=C.useContext(Dj);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(_l.Provider,{value:t},r)}function Lye(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let c=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||Hn(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,h=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||h){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let p,h=!1,m=null,g=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||Tye,l&&(u<0&&d===0?(h=!0,g=null):u===d&&(h=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,d+1)),v=()=>{let b;return p?b=m:h?b=g:f.route.Component?b=C.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,C.createElement(Aye,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?C.createElement(Eye,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var $q=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($q||{}),OS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(OS||{});function _ye(e){let t=C.useContext(Dj);return t||Hn(!1),t}function jye(e){let t=C.useContext(wye);return t||Hn(!1),t}function $ye(e){let t=C.useContext(_l);return t||Hn(!1),t}function Dq(e){let t=$ye(),n=t.matches[t.matches.length-1];return n.route.id||Hn(!1),n.route.id}function Dye(){var e;let t=C.useContext(Lq),n=jye(OS.UseRouteError),r=Dq(OS.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Oye(){let{router:e}=_ye($q.UseNavigateStable),t=Dq(OS.UseNavigateStable),n=C.useRef(!1);return _q(()=>{n.current=!0}),C.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,fv({fromRouteId:t},i)))},[e,t])}function Rye(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function X4(e){let{to:t,replace:n,state:r,relative:a}=e;Dg()||Hn(!1);let{future:i,static:s}=C.useContext(kc),{matches:o}=C.useContext(_l),{pathname:l}=Sd(),u=aI(),c=$j(t,jj(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(c);return C.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:a}),[u,f,a,n,r]),null}function Pye(e){return Cye(e.context)}function Qo(e){Hn(!1)}function Fye(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Nu.Pop,navigator:i,static:s=!1,future:o}=e;Dg()&&Hn(!1);let l=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:i,static:s,future:fv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof r=="string"&&(r=$g(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:h="default"}=r,m=C.useMemo(()=>{let g=_j(c,l);return g==null?null:{location:{pathname:g,search:f,hash:d,state:p,key:h},navigationType:a}},[l,c,f,d,p,h,a]);return m==null?null:C.createElement(kc.Provider,{value:u},C.createElement(rI.Provider,{children:n,value:m}))}function zye(e){let{children:t,location:n}=e;return Iye(e3(t),n)}new Promise(()=>{});function e3(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,a)=>{if(!C.isValidElement(r))return;let i=[...t,a];if(r.type===C.Fragment){n.push.apply(n,e3(r.props.children,i));return}r.type!==Qo&&Hn(!1),!r.props.index||!r.props.children||Hn(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=e3(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t3.apply(this,arguments)}function Bye(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Uye(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wye(e,t){return e.button===0&&(!t||t==="_self")&&!Uye(e)}const Vye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gye="6";try{window.__reactRouterVersion=Gye}catch{}const Hye="startTransition",n9=m_[Hye];function qye(e){let{basename:t,children:n,future:r,window:a}=e,i=C.useRef();i.current==null&&(i.current=Q1e({window:a,v5Compat:!0}));let s=i.current,[o,l]=C.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=C.useCallback(f=>{u&&n9?n9(()=>l(f)):l(f)},[l,u]);return C.useLayoutEffect(()=>s.listen(c),[s,c]),C.useEffect(()=>Rye(r),[r]),C.createElement(Fye,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const Yye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oj=C.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=t,d=Bye(t,Vye),{basename:p}=C.useContext(kc),h,m=!1;if(typeof u=="string"&&Qye.test(u)&&(h=u,Yye))try{let b=new URL(window.location.href),x=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=_j(x.pathname,p);x.origin===b.origin&&S!=null?u=S+x.search+x.hash:m=!0}catch{}let g=xye(u,{relative:a}),y=Kye(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:a,viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||y(b)}return C.createElement("a",t3({},d,{href:h||g,onClick:m||i?r:v,ref:n,target:l}))});var r9;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r9||(r9={}));var a9;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(a9||(a9={}));function Kye(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=aI(),u=Sd(),c=jq(e,{relative:s});return C.useCallback(f=>{if(Wye(f,n)){f.preventDefault();let d=r!==void 0?r:DS(u)===DS(c);l(e,{replace:d,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,c,r,a,n,e,i,s,o])}const Oq=C.createContext(void 0),ht=`${Nq}/api`;function Jye({children:e}){const[t,n]=C.useState(null),[r,a]=C.useState(null),[i,s]=C.useState(!0),o=aI();C.useEffect(()=>{const p=localStorage.getItem("nexus_token"),h=localStorage.getItem("nexus_user");p&&h&&(a(p),n(JSON.parse(h))),s(!1)},[]);const l=async p=>{try{const m=await(await fetch(`${ht}/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:p})})).json();m.token&&(a(m.token),localStorage.setItem("nexus_token",m.token),m.user&&(n(m.user),localStorage.setItem("nexus_user",JSON.stringify(m.user))))}catch(h){throw console.error("Login failed:",h),h}},u=async()=>{try{const h=await(await fetch(`${ht}/auth/demo`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();if(h.token&&(a(h.token),localStorage.setItem("nexus_token",h.token),h.user)){const m=h.user||{id:"demo-id",name:"Nexus Demo User",email:"demo@nexus.sys",nexusId:"NEX-DEMO-001",role:"user",status:"APPROVED",online:!0};n(m),localStorage.setItem("nexus_user",JSON.stringify(m))}}catch(p){throw console.error("Demo Login failed:",p),p}},c=async()=>{try{r&&await fetch(`${ht}/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})}catch(p){console.error("Logout API failed",p)}finally{n(null),a(null),localStorage.removeItem("nexus_token"),localStorage.removeItem("nexus_user"),localStorage.removeItem("nexus_active_tab"),o("/login")}},f=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",d=(t==null?void 0:t.role)==="moderator"||(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="ADMIN";return w.jsx(Oq.Provider,{value:{user:t,token:r,isLoading:i,isAdmin:f,isModerator:d,login:l,loginDemo:u,logout:c,setUser:n,setToken:a},children:e})}function ur(){const e=C.useContext(Oq);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var Og=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yf=typeof window>"u"||"Deno"in globalThis;function ba(){}function Zye(e,t){return typeof e=="function"?e(t):e}function n3(e){return typeof e=="number"&&e>=0&&e!==1/0}function Rq(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gu(e,t){return typeof e=="function"?e(t):e}function Vi(e,t){return typeof e=="function"?e(t):e}function i9(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(r){if(t.queryHash!==Rj(s,t.options))return!1}else if(!dv(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function s9(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Qf(t.options.mutationKey)!==Qf(i))return!1}else if(!dv(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Rj(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qf)(e)}function Qf(e){return JSON.stringify(e,(t,n)=>r3(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function dv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>dv(e[n],t[n])):!1}function Pq(e,t){if(e===t)return e;const n=o9(e)&&o9(t);if(n||r3(e)&&r3(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),s=i.length,o=n?[]:{},l=new Set(r);let u=0;for(let c=0;c<s;c++){const f=n?c:i[c];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,u++):(o[f]=Pq(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&u++)}return a===s&&u===a?e:o}return t}function RS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function o9(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function r3(e){if(!l9(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!l9(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function l9(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xye(e){return new Promise(t=>{setTimeout(t,e)})}function a3(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Pq(e,t):t}function eve(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function tve(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Pj=Symbol();function Fq(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Pj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function zq(e,t){return typeof e=="function"?e(...t):!!e}var kf,hu,dm,jV,nve=(jV=class extends Og{constructor(){super();Ge(this,kf);Ge(this,hu);Ge(this,dm);_e(this,dm,t=>{if(!Yf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ee(this,hu)||this.setEventListener(ee(this,dm))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,hu))==null||t.call(this),_e(this,hu,void 0))}setEventListener(t){var n;_e(this,dm,t),(n=ee(this,hu))==null||n.call(this),_e(this,hu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ee(this,kf)!==t&&(_e(this,kf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ee(this,kf)=="boolean"?ee(this,kf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},kf=new WeakMap,hu=new WeakMap,dm=new WeakMap,jV),Fj=new nve,pm,mu,hm,$V,rve=($V=class extends Og{constructor(){super();Ge(this,pm,!0);Ge(this,mu);Ge(this,hm);_e(this,hm,t=>{if(!Yf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ee(this,mu)||this.setEventListener(ee(this,hm))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,mu))==null||t.call(this),_e(this,mu,void 0))}setEventListener(t){var n;_e(this,hm,t),(n=ee(this,mu))==null||n.call(this),_e(this,mu,t(this.setOnline.bind(this)))}setOnline(t){ee(this,pm)!==t&&(_e(this,pm,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ee(this,pm)}},pm=new WeakMap,mu=new WeakMap,hm=new WeakMap,$V),PS=new rve;function i3(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function ave(e){return Math.min(1e3*2**e,3e4)}function Bq(e){return(e??"online")==="online"?PS.isOnline():!0}var Uq=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function OT(e){return e instanceof Uq}function Wq(e){let t=!1,n=0,r=!1,a;const i=i3(),s=m=>{var g;r||(d(new Uq(m)),(g=e.abort)==null||g.call(e))},o=()=>{t=!0},l=()=>{t=!1},u=()=>Fj.isFocused()&&(e.networkMode==="always"||PS.isOnline())&&e.canRun(),c=()=>Bq(e.networkMode)&&e.canRun(),f=m=>{var g;r||(r=!0,(g=e.onSuccess)==null||g.call(e,m),a==null||a(),i.resolve(m))},d=m=>{var g;r||(r=!0,(g=e.onError)==null||g.call(e,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var g;a=y=>{(r||u())&&m(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;a=void 0,r||(m=e.onContinue)==null||m.call(e)}),h=()=>{if(r)return;let m;const g=n===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var k;if(r)return;const v=e.retry??(Yf?0:3),b=e.retryDelay??ave,x=typeof b=="function"?b(n,y):b,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!S){d(y);return}n++,(k=e.onFail)==null||k.call(e,n,y),Xye(x).then(()=>u()?void 0:p()).then(()=>{t?d(y):h()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?h():p().then(h),i)}}var ive=e=>setTimeout(e,0);function sve(){let e=[],t=0,n=o=>{o()},r=o=>{o()},a=ive;const i=o=>{t?e.push(o):a(()=>{n(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{a=o}}}var yr=sve(),Cf,DV,Vq=(DV=class{constructor(){Ge(this,Cf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n3(this.gcTime)&&_e(this,Cf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yf?1/0:5*60*1e3))}clearGcTimeout(){ee(this,Cf)&&(clearTimeout(ee(this,Cf)),_e(this,Cf,void 0))}},Cf=new WeakMap,DV),mm,If,Bi,Nf,Zr,Sb,Mf,Ss,Ko,OV,ove=(OV=class extends Vq{constructor(t){super();Ge(this,Ss);Ge(this,mm);Ge(this,If);Ge(this,Bi);Ge(this,Nf);Ge(this,Zr);Ge(this,Sb);Ge(this,Mf);_e(this,Mf,!1),_e(this,Sb,t.defaultOptions),this.setOptions(t.options),this.observers=[],_e(this,Nf,t.client),_e(this,Bi,ee(this,Nf).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_e(this,mm,lve(this.options)),this.state=t.state??ee(this,mm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ee(this,Zr))==null?void 0:t.promise}setOptions(t){this.options={...ee(this,Sb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,Bi).remove(this)}setData(t,n){const r=a3(this.state.data,t,this.options);return ft(this,Ss,Ko).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ft(this,Ss,Ko).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=ee(this,Zr))==null?void 0:r.promise;return(a=ee(this,Zr))==null||a.cancel(t),n?n.then(ba).catch(ba):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,mm))}isActive(){return this.observers.some(t=>Vi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Rq(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ee(this,Zr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ee(this,Zr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ee(this,Bi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ee(this,Zr)&&(ee(this,Mf)?ee(this,Zr).cancel({revert:!0}):ee(this,Zr).cancelRetry()),this.scheduleGc()),ee(this,Bi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,Ss,Ko).call(this,{type:"invalidate"})}fetch(t,n){var u,c,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ee(this,Zr))return ee(this,Zr).continueRetry(),ee(this,Zr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(_e(this,Mf,!0),r.signal)})},i=()=>{const d=Fq(this.options,n),h=(()=>{const m={client:ee(this,Nf),queryKey:this.queryKey,meta:this.meta};return a(m),m})();return _e(this,Mf,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ee(this,Nf),state:this.state,fetchFn:i};return a(d),d})();(u=this.options.behavior)==null||u.onFetch(o,this),_e(this,If,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&ft(this,Ss,Ko).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=d=>{var p,h,m,g;OT(d)&&d.silent||ft(this,Ss,Ko).call(this,{type:"error",error:d}),OT(d)||((h=(p=ee(this,Bi).config).onError)==null||h.call(p,d,this),(g=(m=ee(this,Bi).config).onSettled)==null||g.call(m,this.state.data,d,this)),this.scheduleGc()};return _e(this,Zr,Wq({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,h,m,g;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){l(y);return}(h=(p=ee(this,Bi).config).onSuccess)==null||h.call(p,d,this),(g=(m=ee(this,Bi).config).onSettled)==null||g.call(m,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,p)=>{ft(this,Ss,Ko).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{ft(this,Ss,Ko).call(this,{type:"pause"})},onContinue:()=>{ft(this,Ss,Ko).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ee(this,Zr).start()}},mm=new WeakMap,If=new WeakMap,Bi=new WeakMap,Nf=new WeakMap,Zr=new WeakMap,Sb=new WeakMap,Mf=new WeakMap,Ss=new WeakSet,Ko=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Gq(r.data,this.options),fetchMeta:t.meta??null};case"success":return _e(this,If,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return OT(a)&&a.revert&&ee(this,If)?{...ee(this,If),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),yr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ee(this,Bi).notify({query:this,type:"updated",action:t})})},OV);function Gq(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bq(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lve(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var io,RV,uve=(RV=class extends Og{constructor(t={}){super();Ge(this,io);this.config=t,_e(this,io,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??Rj(a,n);let s=this.get(i);return s||(s=new ove({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){ee(this,io).has(t.queryHash)||(ee(this,io).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ee(this,io).get(t.queryHash);n&&(t.destroy(),n===t&&ee(this,io).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ee(this,io).get(t)}getAll(){return[...ee(this,io).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>i9(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>i9(t,r)):n}notify(t){yr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){yr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},io=new WeakMap,RV),so,ga,Tf,oo,eu,PV,cve=(PV=class extends Vq{constructor(t){super();Ge(this,oo);Ge(this,so);Ge(this,ga);Ge(this,Tf);this.mutationId=t.mutationId,_e(this,ga,t.mutationCache),_e(this,so,[]),this.state=t.state||Hq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ee(this,so).includes(t)||(ee(this,so).push(t),this.clearGcTimeout(),ee(this,ga).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_e(this,so,ee(this,so).filter(n=>n!==t)),this.scheduleGc(),ee(this,ga).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ee(this,so).length||(this.state.status==="pending"?this.scheduleGc():ee(this,ga).remove(this))}continue(){var t;return((t=ee(this,Tf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,o,l,u,c,f,d,p,h,m,g,y,v,b,x,S,k,I,N;const n=()=>{ft(this,oo,eu).call(this,{type:"continue"})};_e(this,Tf,Wq({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,L)=>{ft(this,oo,eu).call(this,{type:"failed",failureCount:T,error:L})},onPause:()=>{ft(this,oo,eu).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,ga).canRun(this)}));const r=this.state.status==="pending",a=!ee(this,Tf).canStart();try{if(r)n();else{ft(this,oo,eu).call(this,{type:"pending",variables:t,isPaused:a}),await((s=(i=ee(this,ga).config).onMutate)==null?void 0:s.call(i,t,this));const L=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));L!==this.state.context&&ft(this,oo,eu).call(this,{type:"pending",context:L,variables:t,isPaused:a})}const T=await ee(this,Tf).start();return await((c=(u=ee(this,ga).config).onSuccess)==null?void 0:c.call(u,T,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,T,t,this.state.context)),await((h=(p=ee(this,ga).config).onSettled)==null?void 0:h.call(p,T,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,T,null,t,this.state.context)),ft(this,oo,eu).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(y=ee(this,ga).config).onError)==null?void 0:v.call(y,T,t,this.state.context,this)),await((x=(b=this.options).onError)==null?void 0:x.call(b,T,t,this.state.context)),await((k=(S=ee(this,ga).config).onSettled)==null?void 0:k.call(S,void 0,T,this.state.variables,this.state.context,this)),await((N=(I=this.options).onSettled)==null?void 0:N.call(I,void 0,T,t,this.state.context)),T}finally{ft(this,oo,eu).call(this,{type:"error",error:T})}}finally{ee(this,ga).runNext(this)}}},so=new WeakMap,ga=new WeakMap,Tf=new WeakMap,oo=new WeakSet,eu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),yr.batch(()=>{ee(this,so).forEach(r=>{r.onMutationUpdate(t)}),ee(this,ga).notify({mutation:this,type:"updated",action:t})})},PV);function Hq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rl,ks,kb,FV,fve=(FV=class extends Og{constructor(t={}){super();Ge(this,rl);Ge(this,ks);Ge(this,kb);this.config=t,_e(this,rl,new Set),_e(this,ks,new Map),_e(this,kb,0)}build(t,n,r){const a=new cve({mutationCache:this,mutationId:++fx(this,kb)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){ee(this,rl).add(t);const n=$x(t);if(typeof n=="string"){const r=ee(this,ks).get(n);r?r.push(t):ee(this,ks).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ee(this,rl).delete(t)){const n=$x(t);if(typeof n=="string"){const r=ee(this,ks).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&ee(this,ks).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=$x(t);if(typeof n=="string"){const r=ee(this,ks).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=$x(t);if(typeof n=="string"){const a=(r=ee(this,ks).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yr.batch(()=>{ee(this,rl).forEach(t=>{this.notify({type:"removed",mutation:t})}),ee(this,rl).clear(),ee(this,ks).clear()})}getAll(){return Array.from(ee(this,rl))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>s9(n,r))}findAll(t={}){return this.getAll().filter(n=>s9(t,n))}notify(t){yr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return yr.batch(()=>Promise.all(t.map(n=>n.continue().catch(ba))))}},rl=new WeakMap,ks=new WeakMap,kb=new WeakMap,FV);function $x(e){var t;return(t=e.options.scope)==null?void 0:t.id}function u9(e){return{onFetch:(t,n)=>{var c,f,d,p,h;const r=t.options,a=(d=(f=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((h=t.state.data)==null?void 0:h.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=Fq(t.options,t.fetchOptions),v=async(b,x,S)=>{if(m)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const I=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:x,direction:S?"backward":"forward",meta:t.options.meta};return g(E),E})(),N=await y(I),{maxPages:T}=t.options,L=S?tve:eve;return{pages:L(b.pages,N,T),pageParams:L(b.pageParams,x,T)}};if(a&&i.length){const b=a==="backward",x=b?dve:c9,S={pages:i,pageParams:s},k=x(r,S);o=await v(S,k,b)}else{const b=e??i.length;do{const x=l===0?s[0]??r.initialPageParam:c9(r,o);if(l>0&&x==null)break;o=await v(o,x),l++}while(l<b)}return o};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function c9(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function dve(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var On,gu,yu,gm,ym,vu,vm,bm,zV,pve=(zV=class{constructor(e={}){Ge(this,On);Ge(this,gu);Ge(this,yu);Ge(this,gm);Ge(this,ym);Ge(this,vu);Ge(this,vm);Ge(this,bm);_e(this,On,e.queryCache||new uve),_e(this,gu,e.mutationCache||new fve),_e(this,yu,e.defaultOptions||{}),_e(this,gm,new Map),_e(this,ym,new Map),_e(this,vu,0)}mount(){fx(this,vu)._++,ee(this,vu)===1&&(_e(this,vm,Fj.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,On).onFocus())})),_e(this,bm,PS.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,On).onOnline())})))}unmount(){var e,t;fx(this,vu)._--,ee(this,vu)===0&&((e=ee(this,vm))==null||e.call(this),_e(this,vm,void 0),(t=ee(this,bm))==null||t.call(this),_e(this,bm,void 0))}isFetching(e){return ee(this,On).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ee(this,gu).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ee(this,On).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ee(this,On).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Gu(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ee(this,On).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=ee(this,On).get(r.queryHash),i=a==null?void 0:a.state.data,s=Zye(t,i);if(s!==void 0)return ee(this,On).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return yr.batch(()=>ee(this,On).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ee(this,On).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ee(this,On);yr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ee(this,On);return yr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=yr.batch(()=>ee(this,On).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(ba).catch(ba)}invalidateQueries(e,t={}){return yr.batch(()=>(ee(this,On).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=yr.batch(()=>ee(this,On).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(ba)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ba)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ee(this,On).build(this,t);return n.isStaleByTime(Gu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ba).catch(ba)}fetchInfiniteQuery(e){return e.behavior=u9(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ba).catch(ba)}ensureInfiniteQueryData(e){return e.behavior=u9(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return PS.isOnline()?ee(this,gu).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,On)}getMutationCache(){return ee(this,gu)}getDefaultOptions(){return ee(this,yu)}setDefaultOptions(e){_e(this,yu,e)}setQueryDefaults(e,t){ee(this,gm).set(Qf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ee(this,gm).values()],n={};return t.forEach(r=>{dv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ee(this,ym).set(Qf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ee(this,ym).values()],n={};return t.forEach(r=>{dv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ee(this,yu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ee(this,yu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ee(this,On).clear(),ee(this,gu).clear()}},On=new WeakMap,gu=new WeakMap,yu=new WeakMap,gm=new WeakMap,ym=new WeakMap,vu=new WeakMap,vm=new WeakMap,bm=new WeakMap,zV),Ra,Nt,Cb,ya,Ef,wm,bu,wu,Ib,xm,Sm,Af,Lf,xu,km,zt,sy,s3,o3,l3,u3,c3,f3,d3,qq,BV,hve=(BV=class extends Og{constructor(t,n){super();Ge(this,zt);Ge(this,Ra);Ge(this,Nt);Ge(this,Cb);Ge(this,ya);Ge(this,Ef);Ge(this,wm);Ge(this,bu);Ge(this,wu);Ge(this,Ib);Ge(this,xm);Ge(this,Sm);Ge(this,Af);Ge(this,Lf);Ge(this,xu);Ge(this,km,new Set);this.options=n,_e(this,Ra,t),_e(this,wu,null),_e(this,bu,i3()),this.options.experimental_prefetchInRender||ee(this,bu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ee(this,Nt).addObserver(this),f9(ee(this,Nt),this.options)?ft(this,zt,sy).call(this):this.updateResult(),ft(this,zt,u3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return p3(ee(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return p3(ee(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ft(this,zt,c3).call(this),ft(this,zt,f3).call(this),ee(this,Nt).removeObserver(this)}setOptions(t){const n=this.options,r=ee(this,Nt);if(this.options=ee(this,Ra).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vi(this.options.enabled,ee(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ft(this,zt,d3).call(this),ee(this,Nt).setOptions(this.options),n._defaulted&&!RS(this.options,n)&&ee(this,Ra).getQueryCache().notify({type:"observerOptionsUpdated",query:ee(this,Nt),observer:this});const a=this.hasListeners();a&&d9(ee(this,Nt),r,this.options,n)&&ft(this,zt,sy).call(this),this.updateResult(),a&&(ee(this,Nt)!==r||Vi(this.options.enabled,ee(this,Nt))!==Vi(n.enabled,ee(this,Nt))||Gu(this.options.staleTime,ee(this,Nt))!==Gu(n.staleTime,ee(this,Nt)))&&ft(this,zt,s3).call(this);const i=ft(this,zt,o3).call(this);a&&(ee(this,Nt)!==r||Vi(this.options.enabled,ee(this,Nt))!==Vi(n.enabled,ee(this,Nt))||i!==ee(this,xu))&&ft(this,zt,l3).call(this,i)}getOptimisticResult(t){const n=ee(this,Ra).getQueryCache().build(ee(this,Ra),t),r=this.createResult(n,t);return gve(this,r)&&(_e(this,ya,r),_e(this,wm,this.options),_e(this,Ef,ee(this,Nt).state)),r}getCurrentResult(){return ee(this,ya)}trackResult(t,n){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),n==null||n(a),Reflect.get(r,a))})}trackProp(t){ee(this,km).add(t)}getCurrentQuery(){return ee(this,Nt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ee(this,Ra).defaultQueryOptions(t),r=ee(this,Ra).getQueryCache().build(ee(this,Ra),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ft(this,zt,sy).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ee(this,ya)))}createResult(t,n){var T;const r=ee(this,Nt),a=this.options,i=ee(this,ya),s=ee(this,Ef),o=ee(this,wm),u=t!==r?t.state:ee(this,Cb),{state:c}=t;let f={...c},d=!1,p;if(n._optimisticResults){const L=this.hasListeners(),E=!L&&f9(t,n),M=L&&d9(t,r,n,a);(E||M)&&(f={...f,...Gq(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:g}=f;p=f.data;let y=!1;if(n.placeholderData!==void 0&&p===void 0&&g==="pending"){let L;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(L=i.data,y=!0):L=typeof n.placeholderData=="function"?n.placeholderData((T=ee(this,Sm))==null?void 0:T.state.data,ee(this,Sm)):n.placeholderData,L!==void 0&&(g="success",p=a3(i==null?void 0:i.data,L,n),d=!0)}if(n.select&&p!==void 0&&!y)if(i&&p===(s==null?void 0:s.data)&&n.select===ee(this,Ib))p=ee(this,xm);else try{_e(this,Ib,n.select),p=n.select(p),p=a3(i==null?void 0:i.data,p,n),_e(this,xm,p),_e(this,wu,null)}catch(L){_e(this,wu,L)}ee(this,wu)&&(h=ee(this,wu),p=ee(this,xm),m=Date.now(),g="error");const v=f.fetchStatus==="fetching",b=g==="pending",x=g==="error",S=b&&v,k=p!==void 0,N={status:g,fetchStatus:f.fetchStatus,isPending:b,isSuccess:g==="success",isError:x,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:x&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:x&&k,isStale:zj(t,n),refetch:this.refetch,promise:ee(this,bu),isEnabled:Vi(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const L=j=>{N.status==="error"?j.reject(N.error):N.data!==void 0&&j.resolve(N.data)},E=()=>{const j=_e(this,bu,N.promise=i3());L(j)},M=ee(this,bu);switch(M.status){case"pending":t.queryHash===r.queryHash&&L(M);break;case"fulfilled":(N.status==="error"||N.data!==M.value)&&E();break;case"rejected":(N.status!=="error"||N.error!==M.reason)&&E();break}}return N}updateResult(){const t=ee(this,ya),n=this.createResult(ee(this,Nt),this.options);if(_e(this,Ef,ee(this,Nt).state),_e(this,wm,this.options),ee(this,Ef).data!==void 0&&_e(this,Sm,ee(this,Nt)),RS(n,t))return;_e(this,ya,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!ee(this,km).size)return!0;const s=new Set(i??ee(this,km));return this.options.throwOnError&&s.add("error"),Object.keys(ee(this,ya)).some(o=>{const l=o;return ee(this,ya)[l]!==t[l]&&s.has(l)})};ft(this,zt,qq).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ft(this,zt,u3).call(this)}},Ra=new WeakMap,Nt=new WeakMap,Cb=new WeakMap,ya=new WeakMap,Ef=new WeakMap,wm=new WeakMap,bu=new WeakMap,wu=new WeakMap,Ib=new WeakMap,xm=new WeakMap,Sm=new WeakMap,Af=new WeakMap,Lf=new WeakMap,xu=new WeakMap,km=new WeakMap,zt=new WeakSet,sy=function(t){ft(this,zt,d3).call(this);let n=ee(this,Nt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ba)),n},s3=function(){ft(this,zt,c3).call(this);const t=Gu(this.options.staleTime,ee(this,Nt));if(Yf||ee(this,ya).isStale||!n3(t))return;const r=Rq(ee(this,ya).dataUpdatedAt,t)+1;_e(this,Af,setTimeout(()=>{ee(this,ya).isStale||this.updateResult()},r))},o3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ee(this,Nt)):this.options.refetchInterval)??!1},l3=function(t){ft(this,zt,f3).call(this),_e(this,xu,t),!(Yf||Vi(this.options.enabled,ee(this,Nt))===!1||!n3(ee(this,xu))||ee(this,xu)===0)&&_e(this,Lf,setInterval(()=>{(this.options.refetchIntervalInBackground||Fj.isFocused())&&ft(this,zt,sy).call(this)},ee(this,xu)))},u3=function(){ft(this,zt,s3).call(this),ft(this,zt,l3).call(this,ft(this,zt,o3).call(this))},c3=function(){ee(this,Af)&&(clearTimeout(ee(this,Af)),_e(this,Af,void 0))},f3=function(){ee(this,Lf)&&(clearInterval(ee(this,Lf)),_e(this,Lf,void 0))},d3=function(){const t=ee(this,Ra).getQueryCache().build(ee(this,Ra),this.options);if(t===ee(this,Nt))return;const n=ee(this,Nt);_e(this,Nt,t),_e(this,Cb,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},qq=function(t){yr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ee(this,ya))}),ee(this,Ra).getQueryCache().notify({query:ee(this,Nt),type:"observerResultsUpdated"})})},BV);function mve(e,t){return Vi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function f9(e,t){return mve(e,t)||e.state.data!==void 0&&p3(e,t,t.refetchOnMount)}function p3(e,t,n){if(Vi(t.enabled,e)!==!1&&Gu(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&zj(e,t)}return!1}function d9(e,t,n,r){return(e!==t||Vi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&zj(e,n)}function zj(e,t){return Vi(t.enabled,e)!==!1&&e.isStaleByTime(Gu(t.staleTime,e))}function gve(e,t){return!RS(e.getCurrentResult(),t)}var Su,ku,Pa,al,yl,R2,h3,UV,yve=(UV=class extends Og{constructor(n,r){super();Ge(this,yl);Ge(this,Su);Ge(this,ku);Ge(this,Pa);Ge(this,al);_e(this,Su,n),this.setOptions(r),this.bindMethods(),ft(this,yl,R2).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=ee(this,Su).defaultMutationOptions(n),RS(this.options,r)||ee(this,Su).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ee(this,Pa),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Qf(r.mutationKey)!==Qf(this.options.mutationKey)?this.reset():((a=ee(this,Pa))==null?void 0:a.state.status)==="pending"&&ee(this,Pa).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ee(this,Pa))==null||n.removeObserver(this)}onMutationUpdate(n){ft(this,yl,R2).call(this),ft(this,yl,h3).call(this,n)}getCurrentResult(){return ee(this,ku)}reset(){var n;(n=ee(this,Pa))==null||n.removeObserver(this),_e(this,Pa,void 0),ft(this,yl,R2).call(this),ft(this,yl,h3).call(this)}mutate(n,r){var a;return _e(this,al,r),(a=ee(this,Pa))==null||a.removeObserver(this),_e(this,Pa,ee(this,Su).getMutationCache().build(ee(this,Su),this.options)),ee(this,Pa).addObserver(this),ee(this,Pa).execute(n)}},Su=new WeakMap,ku=new WeakMap,Pa=new WeakMap,al=new WeakMap,yl=new WeakSet,R2=function(){var r;const n=((r=ee(this,Pa))==null?void 0:r.state)??Hq();_e(this,ku,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},h3=function(n){yr.batch(()=>{var r,a,i,s,o,l,u,c;if(ee(this,al)&&this.hasListeners()){const f=ee(this,ku).variables,d=ee(this,ku).context;(n==null?void 0:n.type)==="success"?((a=(r=ee(this,al)).onSuccess)==null||a.call(r,n.data,f,d),(s=(i=ee(this,al)).onSettled)==null||s.call(i,n.data,null,f,d)):(n==null?void 0:n.type)==="error"&&((l=(o=ee(this,al)).onError)==null||l.call(o,n.error,f,d),(c=(u=ee(this,al)).onSettled)==null||c.call(u,void 0,n.error,f,d))}this.listeners.forEach(f=>{f(ee(this,ku))})})},UV),Yq=C.createContext(void 0),Rg=e=>{const t=C.useContext(Yq);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vve=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),w.jsx(Yq.Provider,{value:e,children:t})),Qq=C.createContext(!1),bve=()=>C.useContext(Qq);Qq.Provider;function wve(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var xve=C.createContext(wve()),Sve=()=>C.useContext(xve),kve=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Cve=e=>{C.useEffect(()=>{e.clearReset()},[e])},Ive=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||zq(n,[e.error,r])),Nve=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Mve=(e,t)=>e.isLoading&&e.isFetching&&!t,Tve=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,p9=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Eve(e,t,n){var f,d,p,h,m;const r=bve(),a=Sve(),i=Rg(),s=i.defaultQueryOptions(e);(d=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,s),s._optimisticResults=r?"isRestoring":"optimistic",Nve(s),kve(s,a),Cve(a);const o=!i.getQueryCache().get(s.queryHash),[l]=C.useState(()=>new t(i,s)),u=l.getOptimisticResult(s),c=!r&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(g=>{const y=c?l.subscribe(yr.batchCalls(g)):ba;return l.updateResult(),y},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),C.useEffect(()=>{l.setOptions(s)},[s,l]),Tve(s,u))throw p9(s,l,a);if(Ive({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((h=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||h.call(p,s,u),s.experimental_prefetchInRender&&!Yf&&Mve(u,r)){const g=o?p9(s,l,a):(m=i.getQueryCache().get(s.queryHash))==null?void 0:m.promise;g==null||g.catch(ba).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function xa(e,t){return Eve(e,hve)}function So(e,t){const n=Rg(),[r]=C.useState(()=>new yve(n,e));C.useEffect(()=>{r.setOptions(e)},[r,e]);const a=C.useSyncExternalStore(C.useCallback(s=>r.subscribe(yr.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=C.useCallback((s,o)=>{r.mutate(s,o).catch(ba)},[r]);if(a.error&&zq(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Ave=[{icon:jH,label:"Admin Panel",id:"admin",adminOnly:!0},{icon:Hf,label:"Security",id:"security"},{icon:gj,label:"Messages",id:"messages"},{icon:_H,label:"File Vault",id:"vault"},{icon:pj,label:"Utilities",id:"ai"},{icon:vj,label:"Tasks",id:"tasks"}];function Lve({activeTab:e,onTabChange:t}){const[n,r]=C.useState(!1),{isAdmin:a}=ur(),i=Ave.filter(s=>!s.adminOnly||a);return w.jsxs("aside",{className:ke("hidden md:flex flex-col glass-panel border-r border-primary/10 transition-all duration-300",n?"w-20":"w-64"),children:[w.jsxs("div",{className:"flex items-center gap-3 p-5 border-b border-primary/10",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center border border-primary/30 neon-border",children:w.jsx("span",{className:"font-display font-bold text-primary text-lg",children:"NX"})}),!n&&w.jsxs("div",{className:"animate-fade-in",children:[w.jsx("h1",{className:"font-display font-bold text-lg text-foreground",children:"NEXUS"}),w.jsx("p",{className:"text-xs text-muted-foreground",children:"Cyber-Minimalism"})]})]}),w.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i.map(s=>{const o=e===s.id;return w.jsxs("button",{onClick:()=>t(s.id),className:ke("w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200",o?"bg-primary/15 border border-primary/30 text-primary neon-border":"text-muted-foreground hover:bg-secondary/50 hover:text-foreground border border-transparent",s.adminOnly&&"border-l-2 border-l-yellow-400/50"),children:[w.jsx(s.icon,{className:ke("w-5 h-5",o&&"drop-shadow-[0_0_8px_hsl(185,100%,50%)]")}),!n&&w.jsx("span",{className:"font-medium text-sm",children:s.label}),!n&&s.adminOnly&&w.jsx("span",{className:"ml-auto text-[10px] text-yellow-400 bg-yellow-400/10 px-1.5 py-0.5 rounded",children:"ADMIN"})]},s.id)})}),w.jsx("div",{className:"p-4 border-t border-primary/10",children:w.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-secondary/50 transition-colors",children:[n?w.jsx(AH,{className:"w-4 h-4"}):w.jsx(gme,{className:"w-4 h-4"}),!n&&w.jsx("span",{className:"text-sm",children:"Collapse"})]})})]})}var _ve=C.createContext(void 0);function iI(e){const t=C.useContext(_ve);return e||t||"ltr"}var RT=0;function Kq(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??h9()),document.body.insertAdjacentElement("beforeend",e[1]??h9()),RT++,()=>{RT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),RT--}},[])}function h9(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var PT="focusScope.autoFocusOnMount",FT="focusScope.autoFocusOnUnmount",m9={bubbles:!1,cancelable:!0},jve="FocusScope",Bj=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[o,l]=C.useState(null),u=er(a),c=er(i),f=C.useRef(null),d=dn(t,m=>l(m)),p=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let m=function(b){if(p.paused||!o)return;const x=b.target;o.contains(x)?f.current=x:tu(f.current,{select:!0})},g=function(b){if(p.paused||!o)return;const x=b.relatedTarget;x!==null&&(o.contains(x)||tu(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&tu(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const v=new MutationObserver(y);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),v.disconnect()}}},[r,o,p.paused]),C.useEffect(()=>{if(o){y9.add(p);const m=document.activeElement;if(!o.contains(m)){const y=new CustomEvent(PT,m9);o.addEventListener(PT,u),o.dispatchEvent(y),y.defaultPrevented||($ve(Fve(Jq(o)),{select:!0}),document.activeElement===m&&tu(o))}return()=>{o.removeEventListener(PT,u),setTimeout(()=>{const y=new CustomEvent(FT,m9);o.addEventListener(FT,c),o.dispatchEvent(y),y.defaultPrevented||tu(m??document.body,{select:!0}),o.removeEventListener(FT,c),y9.remove(p)},0)}}},[o,u,c,p]);const h=C.useCallback(m=>{if(!n&&!r||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const v=m.currentTarget,[b,x]=Dve(v);b&&x?!m.shiftKey&&y===x?(m.preventDefault(),n&&tu(b,{select:!0})):m.shiftKey&&y===b&&(m.preventDefault(),n&&tu(x,{select:!0})):y===v&&m.preventDefault()}},[n,r,p.paused]);return w.jsx(Ct.div,{tabIndex:-1,...s,ref:d,onKeyDown:h})});Bj.displayName=jve;function $ve(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(tu(r,{select:t}),document.activeElement!==n)return}function Dve(e){const t=Jq(e),n=g9(t,e),r=g9(t.reverse(),e);return[n,r]}function Jq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function g9(e,t){for(const n of e)if(!Ove(n,{upTo:t}))return n}function Ove(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Rve(e){return e instanceof HTMLInputElement&&"select"in e}function tu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Rve(e)&&t&&e.select()}}var y9=Pve();function Pve(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=v9(e,t),e.unshift(t)},remove(t){var n;e=v9(e,t),(n=e[0])==null||n.resume()}}}function v9(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Fve(e){return e.filter(t=>t.tagName!=="A")}var zT="rovingFocusGroup.onEntryFocus",zve={bubbles:!1,cancelable:!0},Ob="RovingFocusGroup",[m3,Zq,Bve]=oj(Ob),[Uve,sI]=qs(Ob,[Bve]),[Wve,Vve]=Uve(Ob),Xq=C.forwardRef((e,t)=>w.jsx(m3.Provider,{scope:e.__scopeRovingFocusGroup,children:w.jsx(m3.Slot,{scope:e.__scopeRovingFocusGroup,children:w.jsx(Gve,{...e,ref:t})})}));Xq.displayName=Ob;var Gve=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...f}=e,d=C.useRef(null),p=dn(t,d),h=iI(i),[m,g]=jb({prop:s,defaultProp:o??null,onChange:l,caller:Ob}),[y,v]=C.useState(!1),b=er(u),x=Zq(n),S=C.useRef(!1),[k,I]=C.useState(0);return C.useEffect(()=>{const N=d.current;if(N)return N.addEventListener(zT,b),()=>N.removeEventListener(zT,b)},[b]),w.jsx(Wve,{scope:n,orientation:r,dir:h,loop:a,currentTabStopId:m,onItemFocus:C.useCallback(N=>g(N),[g]),onItemShiftTab:C.useCallback(()=>v(!0),[]),onFocusableItemAdd:C.useCallback(()=>I(N=>N+1),[]),onFocusableItemRemove:C.useCallback(()=>I(N=>N-1),[]),children:w.jsx(Ct.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{S.current=!0}),onFocus:Pe(e.onFocus,N=>{const T=!S.current;if(N.target===N.currentTarget&&T&&!y){const L=new CustomEvent(zT,zve);if(N.currentTarget.dispatchEvent(L),!L.defaultPrevented){const E=x().filter($=>$.focusable),M=E.find($=>$.active),j=E.find($=>$.id===m),F=[M,j,...E].filter(Boolean).map($=>$.ref.current);nY(F,c)}}S.current=!1}),onBlur:Pe(e.onBlur,()=>v(!1))})})}),eY="RovingFocusGroupItem",tY=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:s,...o}=e,l=ov(),u=i||l,c=Vve(eY,n),f=c.currentTabStopId===u,d=Zq(n),{onFocusableItemAdd:p,onFocusableItemRemove:h,currentTabStopId:m}=c;return C.useEffect(()=>{if(r)return p(),()=>h()},[r,p,h]),w.jsx(m3.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:w.jsx(Ct.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:Pe(e.onMouseDown,g=>{r?c.onItemFocus(u):g.preventDefault()}),onFocus:Pe(e.onFocus,()=>c.onItemFocus(u)),onKeyDown:Pe(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=Yve(g,c.orientation,c.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=d().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const x=b.indexOf(g.currentTarget);b=c.loop?Qve(b,x+1):b.slice(x+1)}setTimeout(()=>nY(b))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});tY.displayName=eY;var Hve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qve(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Yve(e,t,n){const r=qve(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Hve[r]}function nY(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Qve(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var rY=Xq,aY=tY,Kve=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yh=new WeakMap,Dx=new WeakMap,Ox={},BT=0,iY=function(e){return e&&(e.host||iY(e.parentNode))},Jve=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=iY(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Zve=function(e,t,n,r){var a=Jve(t,Array.isArray(e)?e:[e]);Ox[n]||(Ox[n]=new WeakMap);var i=Ox[n],s=[],o=new Set,l=new Set(a),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};a.forEach(u);var c=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(o.has(d))c(d);else try{var p=d.getAttribute(r),h=p!==null&&p!=="false",m=(yh.get(d)||0)+1,g=(i.get(d)||0)+1;yh.set(d,m),i.set(d,g),s.push(d),m===1&&h&&Dx.set(d,!0),g===1&&d.setAttribute(n,"true"),h||d.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",d,y)}})};return c(t),o.clear(),BT++,function(){s.forEach(function(f){var d=yh.get(f)-1,p=i.get(f)-1;yh.set(f,d),i.set(f,p),d||(Dx.has(f)||f.removeAttribute(r),Dx.delete(f)),p||f.removeAttribute(n)}),BT--,BT||(yh=new WeakMap,yh=new WeakMap,Dx=new WeakMap,Ox={})}},sY=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Kve(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Zve(r,a,n,"aria-hidden")):function(){return null}},po=function(){return po=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},po.apply(this,arguments)};function oY(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Xve(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var P2="right-scroll-bar-position",F2="width-before-scroll-bar",ebe="with-scroll-bars-hidden",tbe="--removed-body-scroll-bar-size";function UT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nbe(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var rbe=typeof window<"u"?C.useLayoutEffect:C.useEffect,b9=new WeakMap;function abe(e,t){var n=nbe(null,function(r){return e.forEach(function(a){return UT(a,r)})});return rbe(function(){var r=b9.get(n);if(r){var a=new Set(r),i=new Set(e),s=n.current;a.forEach(function(o){i.has(o)||UT(o,null)}),i.forEach(function(o){a.has(o)||UT(o,s)})}b9.set(n,e)},[e]),n}function ibe(e){return e}function sbe(e,t){t===void 0&&(t=ibe);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(o){return o!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var o=n;n=[],o.forEach(i),s=n}var l=function(){var c=s;s=[],c.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return a}function obe(e){e===void 0&&(e={});var t=sbe(null);return t.options=po({async:!0,ssr:!1},e),t}var lY=function(e){var t=e.sideCar,n=oY(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,po({},n))};lY.isSideCarExport=!0;function lbe(e,t){return e.useMedium(t),lY}var uY=obe(),WT=function(){},oI=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:WT,onWheelCapture:WT,onTouchMoveCapture:WT}),a=r[0],i=r[1],s=e.forwardProps,o=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,f=e.shards,d=e.sideCar,p=e.noRelative,h=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=e.gapMode,x=oY(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=d,k=abe([n,t]),I=po(po({},x),a);return C.createElement(C.Fragment,null,c&&C.createElement(S,{sideCar:uY,removeScrollBar:u,shards:f,noRelative:p,noIsolation:h,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:b}),s?C.cloneElement(C.Children.only(o),po(po({},I),{ref:k})):C.createElement(v,po({},I,{className:l,ref:k}),o))});oI.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oI.classNames={fullWidth:F2,zeroRight:P2};var ube=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cbe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ube();return t&&e.setAttribute("nonce",t),e}function fbe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dbe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pbe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=cbe())&&(fbe(t,n),dbe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hbe=function(){var e=pbe();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},cY=function(){var e=hbe(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},mbe={left:0,top:0,right:0,gap:0},VT=function(e){return parseInt(e||"",10)||0},gbe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[VT(n),VT(r),VT(a)]},ybe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mbe;var t=gbe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},vbe=cY(),em="data-scroll-locked",bbe=function(e,t,n,r){var a=e.left,i=e.top,s=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ebe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(em,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(P2,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(F2,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(P2," .").concat(P2,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(F2," .").concat(F2,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(em,`] {
    `).concat(tbe,": ").concat(o,`px;
  }
`)},w9=function(){var e=parseInt(document.body.getAttribute(em)||"0",10);return isFinite(e)?e:0},wbe=function(){C.useEffect(function(){return document.body.setAttribute(em,(w9()+1).toString()),function(){var e=w9()-1;e<=0?document.body.removeAttribute(em):document.body.setAttribute(em,e.toString())}},[])},xbe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;wbe();var i=C.useMemo(function(){return ybe(a)},[a]);return C.createElement(vbe,{styles:bbe(i,!t,a,n?"":"!important")})},g3=!1;if(typeof window<"u")try{var Rx=Object.defineProperty({},"passive",{get:function(){return g3=!0,!0}});window.addEventListener("test",Rx,Rx),window.removeEventListener("test",Rx,Rx)}catch{g3=!1}var vh=g3?{passive:!1}:!1,Sbe=function(e){return e.tagName==="TEXTAREA"},fY=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Sbe(e)&&n[t]==="visible")},kbe=function(e){return fY(e,"overflowY")},Cbe=function(e){return fY(e,"overflowX")},x9=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=dY(e,r);if(a){var i=pY(e,r),s=i[1],o=i[2];if(s>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ibe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Nbe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},dY=function(e,t){return e==="v"?kbe(t):Cbe(t)},pY=function(e,t){return e==="v"?Ibe(t):Nbe(t)},Mbe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Tbe=function(e,t,n,r,a){var i=Mbe(e,window.getComputedStyle(t).direction),s=i*r,o=n.target,l=t.contains(o),u=!1,c=s>0,f=0,d=0;do{if(!o)break;var p=pY(e,o),h=p[0],m=p[1],g=p[2],y=m-g-i*h;(h||y)&&dY(e,o)&&(f+=y,d+=h);var v=o.parentNode;o=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(c&&(Math.abs(f)<1||!a)||!c&&(Math.abs(d)<1||!a))&&(u=!0),u},Px=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},S9=function(e){return[e.deltaX,e.deltaY]},k9=function(e){return e&&"current"in e?e.current:e},Ebe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Abe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Lbe=0,bh=[];function _be(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),a=C.useState(Lbe++)[0],i=C.useState(cY)[0],s=C.useRef(e);C.useEffect(function(){s.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=Xve([e.lockRef.current],(e.shards||[]).map(k9),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=C.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var y=Px(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-y[0],x="deltaY"in m?m.deltaY:v[1]-y[1],S,k=m.target,I=Math.abs(b)>Math.abs(x)?"h":"v";if("touches"in m&&I==="h"&&k.type==="range")return!1;var N=x9(I,k);if(!N)return!0;if(N?S=I:(S=I==="v"?"h":"v",N=x9(I,k)),!N)return!1;if(!r.current&&"changedTouches"in m&&(b||x)&&(r.current=S),!S)return!0;var T=r.current||S;return Tbe(T,g,m,T==="h"?b:x,!0)},[]),l=C.useCallback(function(m){var g=m;if(!(!bh.length||bh[bh.length-1]!==i)){var y="deltaY"in g?S9(g):Px(g),v=t.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&Ebe(S.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(k9).filter(Boolean).filter(function(S){return S.contains(g.target)}),x=b.length>0?o(g,b[0]):!s.current.noIsolation;x&&g.cancelable&&g.preventDefault()}}},[]),u=C.useCallback(function(m,g,y,v){var b={name:m,delta:g,target:y,should:v,shadowParent:jbe(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(x){return x!==b})},1)},[]),c=C.useCallback(function(m){n.current=Px(m),r.current=void 0},[]),f=C.useCallback(function(m){u(m.type,S9(m),m.target,o(m,e.lockRef.current))},[]),d=C.useCallback(function(m){u(m.type,Px(m),m.target,o(m,e.lockRef.current))},[]);C.useEffect(function(){return bh.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,vh),document.addEventListener("touchmove",l,vh),document.addEventListener("touchstart",c,vh),function(){bh=bh.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,vh),document.removeEventListener("touchmove",l,vh),document.removeEventListener("touchstart",c,vh)}},[]);var p=e.removeScrollBar,h=e.inert;return C.createElement(C.Fragment,null,h?C.createElement(i,{styles:Abe(a)}):null,p?C.createElement(xbe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jbe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $be=lbe(uY,_be);var Uj=C.forwardRef(function(e,t){return C.createElement(oI,po({},e,{ref:t,sideCar:$be}))});Uj.classNames=oI.classNames;var y3=["Enter"," "],Dbe=["ArrowDown","PageUp","Home"],hY=["ArrowUp","PageDown","End"],Obe=[...Dbe,...hY],Rbe={ltr:[...y3,"ArrowRight"],rtl:[...y3,"ArrowLeft"]},Pbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rb="Menu",[pv,Fbe,zbe]=oj(Rb),[kd,mY]=qs(Rb,[zbe,jg,sI]),lI=jg(),gY=sI(),[Bbe,Cd]=kd(Rb),[Ube,Pb]=kd(Rb),yY=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:s=!0}=e,o=lI(t),[l,u]=C.useState(null),c=C.useRef(!1),f=er(i),d=iI(a);return C.useEffect(()=>{const p=()=>{c.current=!0,document.addEventListener("pointerdown",h,{capture:!0,once:!0}),document.addEventListener("pointermove",h,{capture:!0,once:!0})},h=()=>c.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",h,{capture:!0}),document.removeEventListener("pointermove",h,{capture:!0})}},[]),w.jsx(yq,{...o,children:w.jsx(Bbe,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:u,children:w.jsx(Ube,{scope:t,onClose:C.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:c,dir:d,modal:s,children:r})})})};yY.displayName=Rb;var Wbe="MenuAnchor",Wj=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=lI(n);return w.jsx(eI,{...a,...r,ref:t})});Wj.displayName=Wbe;var Vj="MenuPortal",[Vbe,vY]=kd(Vj,{forceMount:void 0}),bY=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Cd(Vj,t);return w.jsx(Vbe,{scope:t,forceMount:n,children:w.jsx(ni,{present:n||i.open,children:w.jsx(GC,{asChild:!0,container:a,children:r})})})};bY.displayName=Vj;var Xi="MenuContent",[Gbe,Gj]=kd(Xi),wY=C.forwardRef((e,t)=>{const n=vY(Xi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Cd(Xi,e.__scopeMenu),s=Pb(Xi,e.__scopeMenu);return w.jsx(pv.Provider,{scope:e.__scopeMenu,children:w.jsx(ni,{present:r||i.open,children:w.jsx(pv.Slot,{scope:e.__scopeMenu,children:s.modal?w.jsx(Hbe,{...a,ref:t}):w.jsx(qbe,{...a,ref:t})})})})}),Hbe=C.forwardRef((e,t)=>{const n=Cd(Xi,e.__scopeMenu),r=C.useRef(null),a=dn(t,r);return C.useEffect(()=>{const i=r.current;if(i)return sY(i)},[]),w.jsx(Hj,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),qbe=C.forwardRef((e,t)=>{const n=Cd(Xi,e.__scopeMenu);return w.jsx(Hj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ybe=Lm("MenuContent.ScrollLock"),Hj=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:d,onDismiss:p,disableOutsideScroll:h,...m}=e,g=Cd(Xi,n),y=Pb(Xi,n),v=lI(n),b=gY(n),x=Fbe(n),[S,k]=C.useState(null),I=C.useRef(null),N=dn(t,I,g.onContentChange),T=C.useRef(0),L=C.useRef(""),E=C.useRef(0),M=C.useRef(null),j=C.useRef("right"),D=C.useRef(0),F=h?Uj:C.Fragment,$=h?{as:Ybe,allowPinchZoom:!0}:void 0,B=P=>{var he,me;const W=L.current+P,H=x().filter(se=>!se.disabled),q=document.activeElement,J=(he=H.find(se=>se.ref.current===q))==null?void 0:he.textValue,re=H.map(se=>se.textValue),ce=swe(re,W,J),ye=(me=H.find(se=>se.textValue===ce))==null?void 0:me.ref.current;(function se(ge){L.current=ge,window.clearTimeout(T.current),ge!==""&&(T.current=window.setTimeout(()=>se(""),1e3))})(W),ye&&setTimeout(()=>ye.focus())};C.useEffect(()=>()=>window.clearTimeout(T.current),[]),Kq();const O=C.useCallback(P=>{var H,q;return j.current===((H=M.current)==null?void 0:H.side)&&lwe(P,(q=M.current)==null?void 0:q.area)},[]);return w.jsx(Gbe,{scope:n,searchRef:L,onItemEnter:C.useCallback(P=>{O(P)&&P.preventDefault()},[O]),onItemLeave:C.useCallback(P=>{var W;O(P)||((W=I.current)==null||W.focus(),k(null))},[O]),onTriggerLeave:C.useCallback(P=>{O(P)&&P.preventDefault()},[O]),pointerGraceTimerRef:E,onPointerGraceIntentChange:C.useCallback(P=>{M.current=P},[]),children:w.jsx(F,{...$,children:w.jsx(Bj,{asChild:!0,trapped:a,onMountAutoFocus:Pe(i,P=>{var W;P.preventDefault(),(W=I.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:w.jsx(_b,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:d,onDismiss:p,children:w.jsx(rY,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:Pe(l,P=>{y.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(Ej,{role:"menu","aria-orientation":"vertical","data-state":OY(g.open),"data-radix-menu-content":"",dir:y.dir,...v,...m,ref:N,style:{outline:"none",...m.style},onKeyDown:Pe(m.onKeyDown,P=>{const H=P.target.closest("[data-radix-menu-content]")===P.currentTarget,q=P.ctrlKey||P.altKey||P.metaKey,J=P.key.length===1;H&&(P.key==="Tab"&&P.preventDefault(),!q&&J&&B(P.key));const re=I.current;if(P.target!==re||!Obe.includes(P.key))return;P.preventDefault();const ye=x().filter(he=>!he.disabled).map(he=>he.ref.current);hY.includes(P.key)&&ye.reverse(),awe(ye)}),onBlur:Pe(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(T.current),L.current="")}),onPointerMove:Pe(e.onPointerMove,hv(P=>{const W=P.target,H=D.current!==P.clientX;if(P.currentTarget.contains(W)&&H){const q=P.clientX>D.current?"right":"left";j.current=q,D.current=P.clientX}}))})})})})})})});wY.displayName=Xi;var Qbe="MenuGroup",qj=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return w.jsx(Ct.div,{role:"group",...r,ref:t})});qj.displayName=Qbe;var Kbe="MenuLabel",xY=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return w.jsx(Ct.div,{...r,ref:t})});xY.displayName=Kbe;var FS="MenuItem",C9="menu.itemSelect",uI=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=C.useRef(null),s=Pb(FS,e.__scopeMenu),o=Gj(FS,e.__scopeMenu),l=dn(t,i),u=C.useRef(!1),c=()=>{const f=i.current;if(!n&&f){const d=new CustomEvent(C9,{bubbles:!0,cancelable:!0});f.addEventListener(C9,p=>r==null?void 0:r(p),{once:!0}),lj(f,d),d.defaultPrevented?u.current=!1:s.onClose()}};return w.jsx(SY,{...a,ref:l,disabled:n,onClick:Pe(e.onClick,c),onPointerDown:f=>{var d;(d=e.onPointerDown)==null||d.call(e,f),u.current=!0},onPointerUp:Pe(e.onPointerUp,f=>{var d;u.current||(d=f.currentTarget)==null||d.click()}),onKeyDown:Pe(e.onKeyDown,f=>{const d=o.searchRef.current!=="";n||d&&f.key===" "||y3.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});uI.displayName=FS;var SY=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,s=Gj(FS,n),o=gY(n),l=C.useRef(null),u=dn(t,l),[c,f]=C.useState(!1),[d,p]=C.useState("");return C.useEffect(()=>{const h=l.current;h&&p((h.textContent??"").trim())},[i.children]),w.jsx(pv.ItemSlot,{scope:n,disabled:r,textValue:a??d,children:w.jsx(aY,{asChild:!0,...o,focusable:!r,children:w.jsx(Ct.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Pe(e.onPointerMove,hv(h=>{r?s.onItemLeave(h):(s.onItemEnter(h),h.defaultPrevented||h.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,hv(h=>s.onItemLeave(h))),onFocus:Pe(e.onFocus,()=>f(!0)),onBlur:Pe(e.onBlur,()=>f(!1))})})})}),Jbe="MenuCheckboxItem",kY=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return w.jsx(TY,{scope:e.__scopeMenu,checked:n,children:w.jsx(uI,{role:"menuitemcheckbox","aria-checked":zS(n)?"mixed":n,...a,ref:t,"data-state":Qj(n),onSelect:Pe(a.onSelect,()=>r==null?void 0:r(zS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kY.displayName=Jbe;var CY="MenuRadioGroup",[Zbe,Xbe]=kd(CY,{value:void 0,onValueChange:()=>{}}),IY=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=er(r);return w.jsx(Zbe,{scope:e.__scopeMenu,value:n,onValueChange:i,children:w.jsx(qj,{...a,ref:t})})});IY.displayName=CY;var NY="MenuRadioItem",MY=C.forwardRef((e,t)=>{const{value:n,...r}=e,a=Xbe(NY,e.__scopeMenu),i=n===a.value;return w.jsx(TY,{scope:e.__scopeMenu,checked:i,children:w.jsx(uI,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Qj(i),onSelect:Pe(r.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,n)},{checkForDefaultPrevented:!1})})})});MY.displayName=NY;var Yj="MenuItemIndicator",[TY,ewe]=kd(Yj,{checked:!1}),EY=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=ewe(Yj,n);return w.jsx(ni,{present:r||zS(i.checked)||i.checked===!0,children:w.jsx(Ct.span,{...a,ref:t,"data-state":Qj(i.checked)})})});EY.displayName=Yj;var twe="MenuSeparator",AY=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return w.jsx(Ct.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});AY.displayName=twe;var nwe="MenuArrow",LY=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=lI(n);return w.jsx(Aj,{...a,...r,ref:t})});LY.displayName=nwe;var rwe="MenuSub",[zAt,_Y]=kd(rwe),oy="MenuSubTrigger",jY=C.forwardRef((e,t)=>{const n=Cd(oy,e.__scopeMenu),r=Pb(oy,e.__scopeMenu),a=_Y(oy,e.__scopeMenu),i=Gj(oy,e.__scopeMenu),s=C.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},c=C.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return C.useEffect(()=>c,[c]),C.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),w.jsx(Wj,{asChild:!0,...u,children:w.jsx(SY,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":OY(n.open),...e,ref:VC(t,a.onTriggerChange),onClick:f=>{var d;(d=e.onClick)==null||d.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,hv(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),c()},100))})),onPointerLeave:Pe(e.onPointerLeave,hv(f=>{var p,h;c();const d=(p=n.content)==null?void 0:p.getBoundingClientRect();if(d){const m=(h=n.content)==null?void 0:h.dataset.side,g=m==="right",y=g?-5:5,v=d[g?"left":"right"],b=d[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:d.top},{x:b,y:d.top},{x:b,y:d.bottom},{x:v,y:d.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,f=>{var p;const d=i.searchRef.current!=="";e.disabled||d&&f.key===" "||Rbe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});jY.displayName=oy;var $Y="MenuSubContent",DY=C.forwardRef((e,t)=>{const n=vY(Xi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Cd(Xi,e.__scopeMenu),s=Pb(Xi,e.__scopeMenu),o=_Y($Y,e.__scopeMenu),l=C.useRef(null),u=dn(t,l);return w.jsx(pv.Provider,{scope:e.__scopeMenu,children:w.jsx(ni,{present:r||i.open,children:w.jsx(pv.Slot,{scope:e.__scopeMenu,children:w.jsx(Hj,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,c=>{c.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,c=>{s.onClose(),c.preventDefault()}),onKeyDown:Pe(e.onKeyDown,c=>{var p;const f=c.currentTarget.contains(c.target),d=Pbe[s.dir].includes(c.key);f&&d&&(i.onOpenChange(!1),(p=o.trigger)==null||p.focus(),c.preventDefault())})})})})})});DY.displayName=$Y;function OY(e){return e?"open":"closed"}function zS(e){return e==="indeterminate"}function Qj(e){return zS(e)?"indeterminate":e?"checked":"unchecked"}function awe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function iwe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function swe(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=iwe(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==n?l:void 0}function owe(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const o=t[i],l=t[s],u=o.x,c=o.y,f=l.x,d=l.y;c>r!=d>r&&n<(f-u)*(r-c)/(d-c)+u&&(a=!a)}return a}function lwe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return owe(n,t)}function hv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var uwe=yY,cwe=Wj,fwe=bY,dwe=wY,pwe=qj,hwe=xY,mwe=uI,gwe=kY,ywe=IY,vwe=MY,bwe=EY,wwe=AY,xwe=LY,Swe=jY,kwe=DY,cI="DropdownMenu",[Cwe,BAt]=qs(cI,[mY]),ja=mY(),[Iwe,RY]=Cwe(cI),PY=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=ja(t),u=C.useRef(null),[c,f]=jb({prop:a,defaultProp:i??!1,onChange:s,caller:cI});return w.jsx(Iwe,{scope:t,triggerId:ov(),triggerRef:u,contentId:ov(),open:c,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(d=>!d),[f]),modal:o,children:w.jsx(uwe,{...l,open:c,onOpenChange:f,dir:r,modal:o,children:n})})};PY.displayName=cI;var FY="DropdownMenuTrigger",zY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=RY(FY,n),s=ja(n);return w.jsx(cwe,{asChild:!0,...s,children:w.jsx(Ct.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:VC(t,i.triggerRef),onPointerDown:Pe(e.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:Pe(e.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});zY.displayName=FY;var Nwe="DropdownMenuPortal",BY=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ja(t);return w.jsx(fwe,{...r,...n})};BY.displayName=Nwe;var UY="DropdownMenuContent",WY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=RY(UY,n),i=ja(n),s=C.useRef(!1);return w.jsx(dwe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,o=>{var l;s.current||(l=a.triggerRef.current)==null||l.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;(!a.modal||c)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WY.displayName=UY;var Mwe="DropdownMenuGroup",Twe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(pwe,{...a,...r,ref:t})});Twe.displayName=Mwe;var Ewe="DropdownMenuLabel",VY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(hwe,{...a,...r,ref:t})});VY.displayName=Ewe;var Awe="DropdownMenuItem",GY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(mwe,{...a,...r,ref:t})});GY.displayName=Awe;var Lwe="DropdownMenuCheckboxItem",HY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(gwe,{...a,...r,ref:t})});HY.displayName=Lwe;var _we="DropdownMenuRadioGroup",jwe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(ywe,{...a,...r,ref:t})});jwe.displayName=_we;var $we="DropdownMenuRadioItem",qY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(vwe,{...a,...r,ref:t})});qY.displayName=$we;var Dwe="DropdownMenuItemIndicator",YY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(bwe,{...a,...r,ref:t})});YY.displayName=Dwe;var Owe="DropdownMenuSeparator",QY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(wwe,{...a,...r,ref:t})});QY.displayName=Owe;var Rwe="DropdownMenuArrow",Pwe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(xwe,{...a,...r,ref:t})});Pwe.displayName=Rwe;var Fwe="DropdownMenuSubTrigger",KY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(Swe,{...a,...r,ref:t})});KY.displayName=Fwe;var zwe="DropdownMenuSubContent",JY=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ja(n);return w.jsx(kwe,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JY.displayName=zwe;var Bwe=PY,Uwe=zY,Wwe=BY,ZY=WY,XY=VY,eQ=GY,tQ=HY,nQ=qY,rQ=YY,aQ=QY,iQ=KY,sQ=JY;const Vwe=Bwe,Gwe=Uwe,Hwe=C.forwardRef(({className:e,inset:t,children:n,...r},a)=>w.jsxs(iQ,{ref:a,className:ke("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,w.jsx(AH,{className:"ml-auto h-4 w-4"})]}));Hwe.displayName=iQ.displayName;const qwe=C.forwardRef(({className:e,...t},n)=>w.jsx(sQ,{ref:n,className:ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));qwe.displayName=sQ.displayName;const oQ=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>w.jsx(Wwe,{children:w.jsx(ZY,{ref:r,sideOffset:t,className:ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));oQ.displayName=ZY.displayName;const z2=C.forwardRef(({className:e,inset:t,...n},r)=>w.jsx(eQ,{ref:r,className:ke("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));z2.displayName=eQ.displayName;const Ywe=C.forwardRef(({className:e,children:t,checked:n,...r},a)=>w.jsxs(tQ,{ref:a,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(rQ,{children:w.jsx(hj,{className:"h-4 w-4"})})}),t]}));Ywe.displayName=tQ.displayName;const Qwe=C.forwardRef(({className:e,children:t,...n},r)=>w.jsxs(nQ,{ref:r,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(rQ,{children:w.jsx(mj,{className:"h-2 w-2 fill-current"})})}),t]}));Qwe.displayName=nQ.displayName;const lQ=C.forwardRef(({className:e,inset:t,...n},r)=>w.jsx(XY,{ref:r,className:ke("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));lQ.displayName=XY.displayName;const v3=C.forwardRef(({className:e,...t},n)=>w.jsx(aQ,{ref:n,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));v3.displayName=aQ.displayName;var fI="Popover",[uQ,UAt]=qs(fI,[jg]),Fb=jg(),[Kwe,Cc]=uQ(fI),cQ=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:s=!1}=e,o=Fb(t),l=C.useRef(null),[u,c]=C.useState(!1),[f,d]=jb({prop:r,defaultProp:a??!1,onChange:i,caller:fI});return w.jsx(yq,{...o,children:w.jsx(Kwe,{scope:t,contentId:ov(),triggerRef:l,open:f,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(p=>!p),[d]),hasCustomAnchor:u,onCustomAnchorAdd:C.useCallback(()=>c(!0),[]),onCustomAnchorRemove:C.useCallback(()=>c(!1),[]),modal:s,children:n})})};cQ.displayName=fI;var fQ="PopoverAnchor",Jwe=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Cc(fQ,n),i=Fb(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=a;return C.useEffect(()=>(s(),()=>o()),[s,o]),w.jsx(eI,{...i,...r,ref:t})});Jwe.displayName=fQ;var dQ="PopoverTrigger",pQ=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Cc(dQ,n),i=Fb(n),s=dn(t,a.triggerRef),o=w.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vQ(a.open),...r,ref:s,onClick:Pe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:w.jsx(eI,{asChild:!0,...i,children:o})});pQ.displayName=dQ;var Kj="PopoverPortal",[Zwe,Xwe]=uQ(Kj,{forceMount:void 0}),hQ=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=Cc(Kj,t);return w.jsx(Zwe,{scope:t,forceMount:n,children:w.jsx(ni,{present:n||i.open,children:w.jsx(GC,{asChild:!0,container:a,children:r})})})};hQ.displayName=Kj;var Dm="PopoverContent",mQ=C.forwardRef((e,t)=>{const n=Xwe(Dm,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=Cc(Dm,e.__scopePopover);return w.jsx(ni,{present:r||i.open,children:i.modal?w.jsx(txe,{...a,ref:t}):w.jsx(nxe,{...a,ref:t})})});mQ.displayName=Dm;var exe=Lm("PopoverContent.RemoveScroll"),txe=C.forwardRef((e,t)=>{const n=Cc(Dm,e.__scopePopover),r=C.useRef(null),a=dn(t,r),i=C.useRef(!1);return C.useEffect(()=>{const s=r.current;if(s)return sY(s)},[]),w.jsx(Uj,{as:exe,allowPinchZoom:!0,children:w.jsx(gQ,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),i.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Pe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),nxe=C.forwardRef((e,t)=>{const n=Cc(Dm,e.__scopePopover),r=C.useRef(!1),a=C.useRef(!1);return w.jsx(gQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),gQ=C.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...f}=e,d=Cc(Dm,n),p=Fb(n);return Kq(),w.jsx(Bj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:w.jsx(_b,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:c,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>d.onOpenChange(!1),children:w.jsx(Ej,{"data-state":vQ(d.open),role:"dialog",id:d.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yQ="PopoverClose",rxe=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Cc(yQ,n);return w.jsx(Ct.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>a.onOpenChange(!1))})});rxe.displayName=yQ;var axe="PopoverArrow",ixe=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Fb(n);return w.jsx(Aj,{...a,...r,ref:t})});ixe.displayName=axe;function vQ(e){return e?"open":"closed"}var sxe=cQ,oxe=pQ,lxe=hQ,bQ=mQ;const uxe=sxe,cxe=oxe,wQ=C.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>w.jsx(lxe,{children:w.jsx(bQ,{ref:a,align:t,sideOffset:n,className:ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));wQ.displayName=bQ.displayName;const fxe=dj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),yt=C.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const s=r?She:"button";return w.jsx(s,{className:ke(fxe({variant:t,size:n,className:e})),ref:i,...a})});yt.displayName="Button";function dxe({onLockToggle:e,isLocked:t}){const{user:n,logout:r}=ur(),[a,i]=C.useState(null),[s,o]=C.useState([{id:1,title:"System Secure",message:"Identity verification complete.",time:"Now",unread:!0},{id:2,title:"Update Available",message:"Nexus Protocol v2.1 is ready.",time:"2h ago",unread:!1},{id:3,title:"Welcome",message:"Connection established to Neural Link.",time:"1d ago",unread:!1}]);C.useEffect(()=>{const f=d=>{d.preventDefault(),i(d)};return window.addEventListener("beforeinstallprompt",f),()=>window.removeEventListener("beforeinstallprompt",f)},[]);const l=()=>{a&&(a.prompt(),a.userChoice.then(f=>{f.outcome==="accepted"&&console.log("User accepted the install prompt"),i(null)}))},u=()=>{o(f=>f.map(d=>({...d,unread:!1})))},c=s.filter(f=>f.unread).length;return w.jsxs("header",{className:"flex items-center justify-between px-4 md:px-6 py-3 md:py-4 glass-panel border-b border-primary/10",children:[w.jsxs("div",{className:"flex md:hidden items-center gap-3",children:[w.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary/20 flex items-center justify-center border border-primary/30 neon-border",children:w.jsx("span",{className:"font-display font-bold text-primary text-sm",children:"NX"})}),w.jsx("div",{children:w.jsx("h1",{className:"font-display font-bold text-base text-foreground",children:"NEXUS"})})]}),w.jsx("div",{className:"hidden md:block",children:w.jsx("h2",{className:"font-display text-sm text-muted-foreground tracking-wider",children:"Cyber-Minimalism Dashboard"})}),w.jsxs("div",{className:"flex items-center gap-3",children:[a&&w.jsxs(yt,{variant:"outline",size:"sm",onClick:l,className:"hidden sm:flex items-center gap-2 border-primary/30 text-primary hover:bg-primary/10 hover:border-primary/50 transition-all",children:[w.jsx(TS,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden lg:inline",children:"Install NEXUS"})]}),w.jsx("button",{onClick:e,className:`p-2.5 rounded-lg border transition-all duration-300 ${t?"bg-destructive/20 border-destructive/50 text-destructive":"bg-secondary/50 border-primary/20 text-muted-foreground hover:text-primary hover:border-primary/40"}`,children:w.jsx(tc,{className:"w-4 h-4"})}),w.jsxs(uxe,{children:[w.jsx(cxe,{asChild:!0,children:w.jsxs("button",{className:"relative p-2.5 rounded-lg bg-secondary/50 border border-primary/20 text-muted-foreground hover:text-primary hover:border-primary/40 transition-all outline-none",children:[w.jsx(mme,{className:"w-4 h-4"}),c>0&&w.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-destructive rounded-full animate-pulse"})]})}),w.jsxs(wQ,{align:"end",className:"w-80 p-0 bg-[#0f172a] border-slate-800 text-slate-200",children:[w.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center",children:[w.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),c>0&&w.jsx("button",{onClick:u,className:"text-xs text-primary hover:underline",children:"Mark all read"})]}),w.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:s.length===0?w.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No new notifications"}):s.map(f=>w.jsxs("div",{className:`p-4 border-b border-slate-800 hover:bg-slate-800/50 transition-colors ${f.unread?"bg-primary/5":""}`,children:[w.jsxs("div",{className:"flex justify-between items-start mb-1",children:[w.jsx("span",{className:`font-medium text-sm ${f.unread?"text-primary":"text-slate-300"}`,children:f.title}),w.jsx("span",{className:"text-[10px] text-muted-foreground",children:f.time})]}),w.jsx("p",{className:"text-xs text-muted-foreground",children:f.message})]},f.id))})]})]}),w.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-primary/10",children:[w.jsxs("div",{className:"hidden sm:block text-right",children:[w.jsx("p",{className:"text-sm font-medium text-foreground",children:n!=null&&n.nexusId?n.nexusId.startsWith("NEX-")?n.nexusId:`NEX-${n.nexusId}`:"NEX-????"}),w.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n!=null&&n.online?"bg-green-500 shadow-[0_0_8px_#22c55e]":"bg-slate-500"}`}),w.jsx("span",{className:"text-muted-foreground",children:n!=null&&n.online?"Online":"Offline"})]}),w.jsx("span",{className:"text-primary/50",children:""}),w.jsxs("span",{className:"status-verified flex items-center gap-1",children:[w.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),"Face-ID Verified"]})]})]}),w.jsxs(Vwe,{children:[w.jsx(Gwe,{className:"outline-none",children:w.jsxs("div",{className:"relative cursor-pointer transition-transform active:scale-95",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/30 to-accent/30 flex items-center justify-center border-2 border-primary/40 animate-pulse-glow hover:border-primary/80 transition-colors",children:w.jsx("span",{className:"font-display font-bold text-primary text-sm",children:n!=null&&n.name?n.name.substring(0,2).toUpperCase():"NX"})}),w.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full bg-nexus-green border-2 border-background"})]})}),w.jsxs(oQ,{align:"end",className:"w-56 bg-[#0f172a] border-slate-800 text-slate-200",children:[w.jsx(lQ,{children:"My Account"}),w.jsx(v3,{className:"bg-slate-800"}),w.jsxs(z2,{className:"cursor-pointer focus:bg-slate-800 focus:text-white",children:[w.jsx(vme,{className:"mr-2 h-4 w-4"}),w.jsx("span",{children:"Profile"})]}),w.jsx(z2,{className:"cursor-pointer focus:bg-slate-800 focus:text-white",children:w.jsxs(Oj,{to:"/settings/security",className:"flex items-center w-full",children:[w.jsx(RH,{className:"mr-2 h-4 w-4"}),w.jsx("span",{children:"Settings"})]})}),w.jsx(v3,{className:"bg-slate-800"}),w.jsxs(z2,{className:"cursor-pointer text-red-400 focus:text-red-300 focus:bg-red-900/20",onClick:()=>r(),children:[w.jsx(Lme,{className:"mr-2 h-4 w-4"}),w.jsx("span",{children:"Log out"})]})]})]})]})]})]})}const xQ=C.createContext(void 0),SQ=()=>{const e=C.useContext(xQ);if(!e)throw new Error("useFaceMonitor must be used within a FaceMonitorProvider");return e},pxe=({children:e})=>{const[t,n]=C.useState(null),[r,a]=C.useState(!0),[i,s]=C.useState(null),o=C.useRef(null);C.useEffect(()=>((async()=>{try{const c=await navigator.mediaDevices.getUserMedia({video:{width:320,height:240,frameRate:15}});n(c)}catch(c){console.error("Failed to access camera for monitoring",c)}})(),()=>{t&&t.getTracks().forEach(c=>c.stop())}),[]),C.useEffect(()=>{o.current&&t&&(o.current.srcObject=t,o.current.play().catch(u=>console.error("Autoplay failed",u)))},[t,o]);const l={stream:t,isAuthorized:r,lastCheckTime:i,videoRef:o,setIsAuthorized:a,setLastCheckTime:s};return w.jsxs(xQ.Provider,{value:l,children:[w.jsx("video",{ref:o,autoPlay:!0,muted:!0,playsInline:!0,style:{position:"fixed",top:-1e3,left:-1e3,visibility:"hidden"}}),e]})};function hxe(){const{stream:e,isAuthorized:t}=SQ(),n=C.useRef(null);return C.useEffect(()=>{n.current&&e&&(n.current.srcObject=e)},[e]),w.jsxs("div",{className:"glass-panel-hover p-4 h-full flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center",children:w.jsx(Hf,{className:"w-4 h-4 text-primary"})}),w.jsx("h3",{className:"font-display font-semibold text-sm",children:"Security Monitor"})]}),w.jsx(Oj,{to:"/settings/security",children:w.jsx(RH,{className:"w-4 h-4 text-muted-foreground hover:text-primary transition-colors cursor-pointer"})})]}),w.jsx("span",{className:`text-xs px-2 py-1 rounded-full w-fit mb-2 ${t?"bg-nexus-green/20 text-nexus-green":"bg-red-500/20 text-red-500"}`,children:t?"Identity Verified":"UNAUTHORIZED"}),w.jsxs("div",{className:"relative flex-1 min-h-[200px] bg-secondary/30 rounded-xl overflow-hidden border border-primary/10",children:[w.jsx("video",{ref:n,autoPlay:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover opacity-80"}),w.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),w.jsx("div",{className:"scan-line pointer-events-none"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:w.jsxs("div",{className:`relative w-48 h-48 border-2 rounded-2xl transition-all duration-500 ${t?"border-nexus-green/50":"border-red-500/50"}`,children:[w.jsx("div",{className:`absolute -top-1 -left-1 w-4 h-4 border-t-2 border-l-2 rounded-tl-lg ${t?"border-nexus-green":"border-red-500"}`}),w.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 border-t-2 border-r-2 rounded-tr-lg ${t?"border-nexus-green":"border-red-500"}`}),w.jsx("div",{className:`absolute -bottom-1 -left-1 w-4 h-4 border-b-2 border-l-2 rounded-bl-lg ${t?"border-nexus-green":"border-red-500"}`}),w.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 border-b-2 border-r-2 rounded-br-lg ${t?"border-nexus-green":"border-red-500"}`}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-50",children:t?w.jsx(Eme,{className:"w-8 h-8 text-nexus-green"}):w.jsx(tc,{className:"w-8 h-8 text-red-500"})})]})}),w.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-background/90 to-transparent p-4",children:w.jsx("p",{className:"text-center text-sm font-mono tracking-wider",children:t?w.jsxs("span",{className:"text-nexus-green flex items-center justify-center gap-2",children:[w.jsx(QC,{className:"w-3 h-3"})," ACTIVE MONITORING"]}):w.jsxs("span",{className:"text-red-500 flex items-center justify-center gap-2",children:[w.jsx(tc,{className:"w-3 h-3"})," ACCESS RESTRICTED"]})})})]})]})}function I9(){const{token:e,user:t}=ur(),{data:n=[],isLoading:r}=xa({queryKey:["activity-logs"],enabled:!!e&&(t==null?void 0:t.role)==="ADMIN",queryFn:async()=>{const i=await fetch(`${ht}/admin/activity`,{headers:{Authorization:`Bearer ${e}`}});if(!i.ok){if(i.status===403)return[];throw new Error("Failed to fetch logs")}return i.json()}}),a=i=>i.includes("LOGIN")||i.includes("AUTH")?Hf:i.includes("UPLOAD")||i.includes("FILE")?PH:i.includes("LOCK")||i.includes("Security")?QC:_m;return w.jsxs("div",{className:"glass-panel-hover p-4 h-full flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h3",{className:"font-display font-semibold text-sm",children:"System Audit Stream"}),w.jsx("span",{className:"text-xs text-muted-foreground",children:"Live"})]}),w.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto scrollbar-nexus min-h-0",children:r?w.jsx("div",{className:"text-xs text-muted-foreground text-center py-4",children:"Syncing with Neural Core..."}):n.length===0?w.jsx("div",{className:"text-xs text-muted-foreground text-center py-4",children:"No recent system signatures detected."}):n.map((i,s)=>{var l;const o=a(i.action);return w.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/20 hover:bg-secondary/40 transition-colors animate-fade-in",style:{animationDelay:`${s*50}ms`},children:[w.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 text-primary bg-primary/10",children:w.jsx(o,{className:"w-4 h-4"})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("h4",{className:"text-sm font-medium text-foreground truncate",children:i.action.replace(/_/g," ")}),w.jsxs("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:[((l=i.actor)==null?void 0:l.name)||"System","  ",i.target||"N/A"]}),w.jsx("span",{className:"text-[10px] mt-1 inline-block text-primary/70 font-mono",children:new Date(i.createdAt).toLocaleTimeString()})]})]},i._id)})})]})}const mxe=dj("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Hu({className:e,variant:t,...n}){return w.jsx("div",{className:ke(mxe({variant:t}),e),...n})}function N9(){const{token:e,isAdmin:t}=ur(),n=Rg(),{data:r=[],isLoading:a}=xa({queryKey:[t?"admin-all-tasks":"my-tasks"],queryFn:async()=>{const l=t?`${ht}/tasks/all`:`${ht}/tasks`,u=await fetch(l,{headers:{Authorization:`Bearer ${e}`}});if(!u.ok)throw new Error("Failed");return u.json()},enabled:!!e}),i=So({mutationFn:async({id:l,progress:u})=>{await fetch(`${ht}/tasks/${l}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({progress:u})})},onSuccess:()=>{n.invalidateQueries({queryKey:["my-tasks"]}),t&&n.invalidateQueries({queryKey:["admin-all-tasks"]}),tn.success("Task Updated")}}),s=r.length?Math.round(r.reduce((l,u)=>l+u.progress,0)/r.length):0,o=l=>{switch(l){case"completed":return w.jsx(LH,{className:"w-4 h-4 text-nexus-green"});case"in-progress":return w.jsx(YC,{className:"w-4 h-4 text-primary animate-pulse"});case"pending":return w.jsx(mj,{className:"w-4 h-4 text-muted-foreground"})}};return t?w.jsxs("div",{className:"glass-panel p-6 h-full flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2",children:[w.jsx(KC,{className:"w-5 h-5 text-primary"}),"Global Directive Oversight"]}),w.jsxs(Hu,{variant:"outline",className:"text-primary border-primary/30",children:[r.length," Active Directives"]})]}),w.jsxs("div",{className:"flex-1 overflow-auto scrollbar-nexus",children:[w.jsxs("table",{className:"hidden md:table w-full text-left border-collapse",children:[w.jsx("thead",{className:"bg-white/5 text-xs text-muted-foreground uppercase tracking-wider sticky top-0 backdrop-blur-md z-10",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-3 rounded-tl-lg",children:"Directive"}),w.jsx("th",{className:"p-3",children:"Assignee"}),w.jsx("th",{className:"p-3",children:"Due Date"}),w.jsx("th",{className:"p-3",children:"Progress"}),w.jsx("th",{className:"p-3 rounded-tr-lg",children:"Status"})]})}),w.jsx("tbody",{className:"text-sm",children:r.map(l=>{var u;return w.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[w.jsxs("td",{className:"p-3 font-medium text-foreground",children:[l.title,w.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 max-w-[200px] truncate",children:l.description})]}),w.jsx("td",{className:"p-3",children:w.jsx("span",{className:"text-primary font-mono",children:((u=l.assignedTo)==null?void 0:u.nexusId)||"Unassigned"})}),w.jsx("td",{className:"p-3 font-mono text-xs text-muted-foreground",children:new Date(l.dueDate).toLocaleDateString()}),w.jsx("td",{className:"p-3 w-[20%]",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"h-1.5 flex-1 bg-white/10 rounded-full overflow-hidden",children:w.jsx("div",{className:ke("h-full rounded-full transition-all",l.status==="completed"?"bg-nexus-green":"bg-primary"),style:{width:`${l.progress}%`}})}),w.jsxs("span",{className:"text-xs w-8 text-right",children:[l.progress,"%"]})]})}),w.jsx("td",{className:"p-3",children:w.jsx(Hu,{variant:"outline",className:ke("text-[10px] h-5",l.status==="completed"?"text-nexus-green border-nexus-green/30":l.status==="in-progress"?"text-blue-400 border-blue-400/30":"text-zinc-500"),children:l.status.toUpperCase()})})]},l._id)})})]}),w.jsx("div",{className:"md:hidden space-y-3",children:r.map(l=>{var u;return w.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 space-y-3",children:[w.jsxs("div",{className:"flex items-start justify-between gap-3",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-medium text-sm text-foreground",children:l.title}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:l.description})]}),w.jsx(Hu,{variant:"outline",className:ke("text-[10px] h-5 shrink-0",l.status==="completed"?"text-nexus-green border-nexus-green/30":l.status==="in-progress"?"text-blue-400 border-blue-400/30":"text-zinc-500"),children:l.status.toUpperCase()})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[w.jsxs("div",{className:"bg-black/20 p-2 rounded",children:[w.jsx("span",{className:"text-muted-foreground block mb-0.5",children:"Assignee"}),w.jsx("span",{className:"text-primary font-mono",children:((u=l.assignedTo)==null?void 0:u.nexusId)||"Unassigned"})]}),w.jsxs("div",{className:"bg-black/20 p-2 rounded",children:[w.jsx("span",{className:"text-muted-foreground block mb-0.5",children:"Due"}),w.jsx("span",{className:"font-mono",children:new Date(l.dueDate).toLocaleDateString()})]})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[w.jsx("span",{children:"Progress"}),w.jsxs("span",{children:[l.progress,"%"]})]}),w.jsx("div",{className:"h-1.5 w-full bg-white/10 rounded-full overflow-hidden",children:w.jsx("div",{className:ke("h-full rounded-full transition-all",l.status==="completed"?"bg-nexus-green":"bg-primary"),style:{width:`${l.progress}%`}})})]})]},l._id)})}),r.length===0&&w.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"No directives found in the registry."})]})]}):w.jsxs("div",{className:"glass-panel-hover p-4 h-full flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h3",{className:"font-display font-semibold text-sm",children:"Active Tasks"}),w.jsxs("span",{className:"text-primary text-sm font-medium",children:[s,"% Complete"]})]}),w.jsxs("div",{className:"mb-4",children:[w.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[w.jsx("span",{className:"text-muted-foreground",children:"Overall Progress"}),w.jsxs("span",{className:"text-primary font-medium",children:[s,"%"]})]}),w.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-nexus-green rounded-full transition-all duration-500 progress-glow",style:{width:`${s}%`}})})]}),w.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto scrollbar-nexus",children:r.length===0?w.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"All directives completed. Awaiting orders."}):r.map((l,u)=>w.jsxs("div",{className:"p-3 rounded-lg bg-secondary/20 animate-fade-in group relative",style:{animationDelay:`${u*50}ms`},children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o(l.status),w.jsxs("div",{className:"flex-1",children:[w.jsx("span",{className:ke("text-sm block transition-all",l.status==="completed"?"text-muted-foreground line-through decoration-primary/50":"text-foreground"),children:l.title}),w.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["Due: ",new Date(l.dueDate).toLocaleDateString()]})]}),l.status!=="completed"&&w.jsx("button",{onClick:()=>i.mutate({id:l._id,progress:100}),className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-md hover:bg-nexus-green/20 text-nexus-green transition-all",title:"Mark Complete",children:w.jsx(hj,{className:"w-3.5 h-3.5"})})]}),w.jsx("div",{className:"h-1 bg-secondary rounded-full overflow-hidden ml-7",children:w.jsx("div",{className:ke("h-full rounded-full transition-all duration-300",l.status==="completed"?"bg-nexus-green":l.status==="in-progress"?"bg-primary":"bg-muted-foreground/30"),style:{width:`${l.progress}%`}})})]},l._id))})]})}const BS=C.forwardRef(({className:e,type:t,...n},r)=>w.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));BS.displayName="Input";var Jj="Progress",Zj=100,[gxe,WAt]=qs(Jj),[yxe,vxe]=gxe(Jj),kQ=C.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=bxe,...s}=e;(a||a===0)&&!M9(a)&&console.error(wxe(`${a}`,"Progress"));const o=M9(a)?a:Zj;r!==null&&!T9(r,o)&&console.error(xxe(`${r}`,"Progress"));const l=T9(r,o)?r:null,u=US(l)?i(l,o):void 0;return w.jsx(yxe,{scope:n,value:l,max:o,children:w.jsx(Ct.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":US(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":NQ(l,o),"data-value":l??void 0,"data-max":o,...s,ref:t})})});kQ.displayName=Jj;var CQ="ProgressIndicator",IQ=C.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=vxe(CQ,n);return w.jsx(Ct.div,{"data-state":NQ(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});IQ.displayName=CQ;function bxe(e,t){return`${Math.round(e/t*100)}%`}function NQ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function US(e){return typeof e=="number"}function M9(e){return US(e)&&!isNaN(e)&&e>0}function T9(e,t){return US(e)&&!isNaN(e)&&e<=t&&e>=0}function wxe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Zj}\`.`}function xxe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Zj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MQ=kQ,Sxe=IQ;const b3=C.forwardRef(({className:e,value:t,...n},r)=>w.jsx(MQ,{ref:r,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:w.jsx(Sxe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));b3.displayName=MQ.displayName;const Lo=Object.create(null);Lo.open="0";Lo.close="1";Lo.ping="2";Lo.pong="3";Lo.message="4";Lo.upgrade="5";Lo.noop="6";const B2=Object.create(null);Object.keys(Lo).forEach(e=>{B2[Lo[e]]=e});const w3={type:"error",data:"parser error"},TQ=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",EQ=typeof ArrayBuffer=="function",AQ=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Xj=({type:e,data:t},n,r)=>TQ&&t instanceof Blob?n?r(t):E9(t,r):EQ&&(t instanceof ArrayBuffer||AQ(t))?n?r(t):E9(new Blob([t]),r):r(Lo[e]+(t||"")),E9=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function A9(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let GT;function kxe(e,t){if(TQ&&e.data instanceof Blob)return e.data.arrayBuffer().then(A9).then(t);if(EQ&&(e.data instanceof ArrayBuffer||AQ(e.data)))return t(A9(e.data));Xj(e,!1,n=>{GT||(GT=new TextEncoder),t(GT.encode(n))})}const L9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ly=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<L9.length;e++)ly[L9.charCodeAt(e)]=e;const Cxe=e=>{let t=e.length*.75,n=e.length,r,a=0,i,s,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),c=new Uint8Array(u);for(r=0;r<n;r+=4)i=ly[e.charCodeAt(r)],s=ly[e.charCodeAt(r+1)],o=ly[e.charCodeAt(r+2)],l=ly[e.charCodeAt(r+3)],c[a++]=i<<2|s>>4,c[a++]=(s&15)<<4|o>>2,c[a++]=(o&3)<<6|l&63;return u},Ixe=typeof ArrayBuffer=="function",e$=(e,t)=>{if(typeof e!="string")return{type:"message",data:LQ(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Nxe(e.substring(1),t)}:B2[n]?e.length>1?{type:B2[n],data:e.substring(1)}:{type:B2[n]}:w3},Nxe=(e,t)=>{if(Ixe){const n=Cxe(e);return LQ(n,t)}else return{base64:!0,data:e}},LQ=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},_Q="",Mxe=(e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach((i,s)=>{Xj(i,!1,o=>{r[s]=o,++a===n&&t(r.join(_Q))})})},Txe=(e,t)=>{const n=e.split(_Q),r=[];for(let a=0;a<n.length;a++){const i=e$(n[a],t);if(r.push(i),i.type==="error")break}return r};function Exe(){return new TransformStream({transform(e,t){kxe(e,n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let HT;function Fx(e){return e.reduce((t,n)=>t+n.length,0)}function zx(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Axe(e,t){HT||(HT=new TextDecoder);const n=[];let r=0,a=-1,i=!1;return new TransformStream({transform(s,o){for(n.push(s);;){if(r===0){if(Fx(n)<1)break;const l=zx(n,1);i=(l[0]&128)===128,a=l[0]&127,a<126?r=3:a===126?r=1:r=2}else if(r===1){if(Fx(n)<2)break;const l=zx(n,2);a=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Fx(n)<8)break;const l=zx(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){o.enqueue(w3);break}a=c*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Fx(n)<a)break;const l=zx(n,a);o.enqueue(e$(i?l:HT.decode(l),t)),r=0}if(a===0||a>e){o.enqueue(w3);break}}}})}const jQ=4;function nr(e){if(e)return Lxe(e)}function Lxe(e){for(var t in nr.prototype)e[t]=nr.prototype[t];return e}nr.prototype.on=nr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};nr.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};nr.prototype.off=nr.prototype.removeListener=nr.prototype.removeAllListeners=nr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,a=0;a<n.length;a++)if(r=n[a],r===t||r.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};nr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,a=n.length;r<a;++r)n[r].apply(this,t)}return this};nr.prototype.emitReserved=nr.prototype.emit;nr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};nr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const dI=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),qi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_xe="arraybuffer";function $Q(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const jxe=qi.setTimeout,$xe=qi.clearTimeout;function pI(e,t){t.useNativeTimers?(e.setTimeoutFn=jxe.bind(qi),e.clearTimeoutFn=$xe.bind(qi)):(e.setTimeoutFn=qi.setTimeout.bind(qi),e.clearTimeoutFn=qi.clearTimeout.bind(qi))}const Dxe=1.33;function Oxe(e){return typeof e=="string"?Rxe(e):Math.ceil((e.byteLength||e.size)*Dxe)}function Rxe(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function DQ(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Pxe(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Fxe(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class zxe extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class t$ extends nr{constructor(t){super(),this.writable=!1,pI(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new zxe(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=e$(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Pxe(t);return n.length?"?"+n:""}}class Bxe extends t${constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Txe(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Mxe(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=DQ()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let OQ=!1;try{OQ=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Uxe=OQ;function Wxe(){}class Vxe extends Bxe{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class ko extends nr{constructor(t,n,r){super(),this.createRequest=t,pI(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=$Q(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var a;r.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ko.requestsCount++,ko.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Wxe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ko.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ko.requestsCount=0;ko.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",_9);else if(typeof addEventListener=="function"){const e="onpagehide"in qi?"pagehide":"unload";addEventListener(e,_9,!1)}}function _9(){for(let e in ko.requests)ko.requests.hasOwnProperty(e)&&ko.requests[e].abort()}const Gxe=function(){const e=RQ({xdomain:!1});return e&&e.responseType!==null}();class Hxe extends Vxe{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Gxe&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ko(RQ,this.uri(),t)}}function RQ(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Uxe))return new XMLHttpRequest}catch{}if(!t)try{return new qi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const PQ=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class qxe extends t${get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=PQ?{}:$Q(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],a=n===t.length-1;Xj(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}a&&dI(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=DQ()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const qT=qi.WebSocket||qi.MozWebSocket;let Yxe=class extends qxe{createSocket(t,n,r){return PQ?new qT(t,n,r):n?new qT(t,n):new qT(t)}doWrite(t,n){this.ws.send(n)}},Qxe=class extends t${get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Axe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),a=Exe();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{r.read().then(({done:o,value:l})=>{o||(this.onPacket(l),i())}).catch(o=>{})};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],a=n===t.length-1;this._writer.write(r).then(()=>{a&&dI(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};const Kxe={websocket:Yxe,webtransport:Qxe,polling:Hxe},Jxe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Zxe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function x3(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=Jxe.exec(e||""),i={},s=14;for(;s--;)i[Zxe[s]]=a[s]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Xxe(i,i.path),i.queryKey=e2e(i,i.query),i}function Xxe(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function e2e(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,a,i){a&&(n[a]=i)}),n}const S3=typeof addEventListener=="function"&&typeof removeEventListener=="function",U2=[];S3&&addEventListener("offline",()=>{U2.forEach(e=>e())},!1);class qu extends nr{constructor(t,n){if(super(),this.binaryType=_xe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=x3(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=x3(n.host).host);pI(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const a=r.prototype.name;this.transports.push(a),this._transportsByName[a]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Fxe(this.opts.query)),S3&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},U2.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=jQ,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&qu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",qu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const a=this.writeBuffer[r].data;if(a&&(n+=Oxe(a)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,dI(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,a){if(typeof n=="function"&&(a=n,n=void 0),typeof r=="function"&&(a=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(qu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),S3&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=U2.indexOf(this._offlineEventListener);r!==-1&&U2.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}qu.protocol=jQ;class t2e extends qu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;qu.priorWebsocketSuccess=!1;const a=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;qu.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function i(){r||(r=!0,c(),n.close(),n=null)}const s=f=>{const d=new Error("probe error: "+f);d.transport=n.name,i(),this.emitReserved("upgradeError",d)};function o(){s("transport closed")}function l(){s("socket closed")}function u(f){n&&f.name!==n.name&&i()}const c=()=>{n.removeListener("open",a),n.removeListener("error",s),n.removeListener("close",o),this.off("close",l),this.off("upgrading",u)};n.once("open",a),n.once("error",s),n.once("close",o),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let n2e=class extends t2e{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(a=>Kxe[a]).filter(a=>!!a)),super(t,r)}};function r2e(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=x3(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const a2e=typeof ArrayBuffer=="function",i2e=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,FQ=Object.prototype.toString,s2e=typeof Blob=="function"||typeof Blob<"u"&&FQ.call(Blob)==="[object BlobConstructor]",o2e=typeof File=="function"||typeof File<"u"&&FQ.call(File)==="[object FileConstructor]";function n$(e){return a2e&&(e instanceof ArrayBuffer||i2e(e))||s2e&&e instanceof Blob||o2e&&e instanceof File}function W2(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(W2(e[n]))return!0;return!1}if(n$(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return W2(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&W2(e[n]))return!0;return!1}function l2e(e){const t=[],n=e.data,r=e;return r.data=k3(n,t),r.attachments=t.length,{packet:r,buffers:t}}function k3(e,t){if(!e)return e;if(n$(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=k3(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=k3(e[r],t));return n}return e}function u2e(e,t){return e.data=C3(e.data,t),delete e.attachments,e}function C3(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=C3(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=C3(e[n],t));return e}const zQ=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],c2e=5;var dt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(dt||(dt={}));class f2e{constructor(t){this.replacer=t}encode(t){return(t.type===dt.EVENT||t.type===dt.ACK)&&W2(t)?this.encodeAsBinary({type:t.type===dt.EVENT?dt.BINARY_EVENT:dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===dt.BINARY_EVENT||t.type===dt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=l2e(t),r=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(r),a}}class r$ extends nr{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===dt.BINARY_EVENT;r||n.type===dt.BINARY_ACK?(n.type=r?dt.EVENT:dt.ACK,this.reconstructor=new d2e(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(n$(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(dt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===dt.BINARY_EVENT||r.type===dt.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(i,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const i=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(r$.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case dt.CONNECT:return WS(n);case dt.DISCONNECT:return n===void 0;case dt.CONNECT_ERROR:return typeof n=="string"||WS(n);case dt.EVENT:case dt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&zQ.indexOf(n[0])===-1);case dt.ACK:case dt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class d2e{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=u2e(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function p2e(e){return typeof e=="string"}const h2e=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function m2e(e){return e===void 0||h2e(e)}function WS(e){return Object.prototype.toString.call(e)==="[object Object]"}function g2e(e,t){switch(e){case dt.CONNECT:return t===void 0||WS(t);case dt.DISCONNECT:return t===void 0;case dt.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&zQ.indexOf(t[0])===-1);case dt.ACK:return Array.isArray(t);case dt.CONNECT_ERROR:return typeof t=="string"||WS(t);default:return!1}}function y2e(e){return p2e(e.nsp)&&m2e(e.id)&&g2e(e.type,e.data)}const v2e=Object.freeze(Object.defineProperty({__proto__:null,Decoder:r$,Encoder:f2e,get PacketType(){return dt},isPacketValid:y2e,protocol:c2e},Symbol.toStringTag,{value:"Module"}));function Is(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const b2e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class BQ extends nr{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Is(t,"open",this.onopen.bind(this)),Is(t,"packet",this.onpacket.bind(this)),Is(t,"error",this.onerror.bind(this)),Is(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,a,i;if(b2e.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:dt.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,f=n.pop();this._registerAckCallback(c,f),s.id=c}const o=(a=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||a===void 0?void 0:a.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var r;const a=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},a),s=(...o)=>{this.io.clearTimeoutFn(i),n.apply(this,o)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...n){return new Promise((r,a)=>{const i=(s,o)=>s?a(s):r(o);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>(this._queue[0],a!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case dt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dt.EVENT:case dt.BINARY_EVENT:this.onevent(t);break;case dt.ACK:case dt.BINARY_ACK:this.onack(t);break;case dt.DISCONNECT:this.ondisconnect();break;case dt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...a){r||(r=!0,n.packet({type:dt.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Pg(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Pg.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Pg.prototype.reset=function(){this.attempts=0};Pg.prototype.setMin=function(e){this.ms=e};Pg.prototype.setMax=function(e){this.max=e};Pg.prototype.setJitter=function(e){this.jitter=e};class I3 extends nr{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,pI(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Pg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||v2e;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new n2e(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=Is(n,"open",function(){r.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},s=Is(n,"error",i);if(this._timeout!==!1){const o=this._timeout,l=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),n.close()},o);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(a),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Is(t,"ping",this.onping.bind(this)),Is(t,"data",this.ondata.bind(this)),Is(t,"error",this.onerror.bind(this)),Is(t,"close",this.onclose.bind(this)),Is(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){dI(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new BQ(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const R1={};function Ly(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=r2e(e,t.path||"/socket.io"),r=n.source,a=n.id,i=n.path,s=R1[a]&&i in R1[a].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let l;return o?l=new I3(r,t):(R1[a]||(R1[a]=new I3(r,t)),l=R1[a]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(Ly,{Manager:I3,Socket:BQ,io:Ly,connect:Ly});class w2e{constructor(){eT(this,"socket",null);eT(this,"listeners",new Map)}connect(t){if(this.socket)return;const n=ht.replace("/api","");this.socket=Ly(n,{auth:{token:t},transports:["websocket","polling"],reconnectionAttempts:5}),this.socket.on("connect",()=>{var r;console.log("Socket Service Connected:",(r=this.socket)==null?void 0:r.id),this.attachPendingListeners()}),this.socket.on("connect_error",r=>{console.error("Socket Service Error:",r)}),this.attachPendingListeners()}attachPendingListeners(){this.socket&&this.listeners.forEach((t,n)=>{t.forEach(r=>{var a,i;(a=this.socket)==null||a.off(n,r),(i=this.socket)==null||i.on(n,r)})})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}emit(t,n){var r;(r=this.socket)==null||r.emit(t,n)}on(t,n){var r;this.socket&&this.socket.on(t,n),this.listeners.has(t)||this.listeners.set(t,[]),(r=this.listeners.get(t))==null||r.push(n)}off(t,n){var r;if((r=this.socket)==null||r.off(t,n),n&&this.listeners.has(t)){const a=this.listeners.get(t)||[];this.listeners.set(t,a.filter(i=>i!==n))}else n||this.listeners.delete(t)}}const zi=new w2e;function x2e(e){const[t,n]=C.useState({callStatus:"idle",localStream:null,remoteStream:null,incomingCaller:null,remotePeerId:null,fileProgress:0,incomingFile:null,downloadUrl:null,lastReceivedFile:null,receivedHistory:[],isDataOnly:!1}),r=C.useRef(null),a=C.useRef(null);C.useRef(null);const i=C.useRef(null),s={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},o=C.useCallback(()=>{if(r.current)return r.current;const I=new RTCPeerConnection(s);return r.current=I,I.onicecandidate=N=>{N.candidate&&i.current&&zi.emit("webrtc-ice-candidate",{to:i.current,candidate:N.candidate})},I.ontrack=N=>{console.log("Remote stream received"),n(T=>({...T,remoteStream:N.streams[0]}))},I.ondatachannel=N=>{l(N.channel)},I},[]),l=I=>{I.onopen=()=>{console.log("Data Channel Open"),tn.success("P2P Data Link Established")},I.onmessage=u,a.current=I},u=I=>{const{data:N}=I;if(typeof N=="string"){try{const T=JSON.parse(N);T.type==="FILE_START"?(n(L=>({...L,incomingFile:{meta:T.meta,receivedBytes:0,chunks:[],progress:0}})),tn.info(`Receiving ${T.meta.name}...`)):T.type==="FILE_END"&&c()}catch(T){console.error("Failed to parse signalling message",T)}return}N instanceof ArrayBuffer&&n(T=>{if(!T.incomingFile)return T;const L=[...T.incomingFile.chunks,N],E=T.incomingFile.receivedBytes+N.byteLength,M=Math.round(E/T.incomingFile.meta.size*100);return{...T,incomingFile:{...T.incomingFile,receivedBytes:E,chunks:L,progress:M}}})},c=()=>{n(I=>{if(!I.incomingFile)return I;const N=new Blob(I.incomingFile.chunks,{type:I.incomingFile.meta.type}),T=URL.createObjectURL(N);tn.success(`Received ${I.incomingFile.meta.name}`);const L={id:I.incomingFile.meta.id,name:I.incomingFile.meta.name,size:I.incomingFile.meta.size,senderId:I.remotePeerId||"Unknown",timestamp:new Date,url:T};return{...I,downloadUrl:T,lastReceivedFile:{name:I.incomingFile.meta.name,url:T},incomingFile:null,receivedHistory:[L,...I.receivedHistory]}})},f=async I=>{const N=localStorage.getItem("nexus_token"),T=await fetch(`${ht}/chat/lookup?nexusId=${I}`,{headers:{Authorization:`Bearer ${N}`}});if(!T.ok)throw new Error("User not found");return T.json()},d=async(I,N=!0)=>{if(!I){console.error("startCall called with missing targetUserId"),tn.error("Cannot connect: Invalid Target ID");return}i.current=I,n(T=>({...T,callStatus:"calling",remotePeerId:I,isDataOnly:!N}));try{const T=o();if(N){const M=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n(j=>({...j,localStream:M})),M.getTracks().forEach(j=>T.addTrack(j,M))}const L=T.createDataChannel("fileTransfer");l(L);const E=await T.createOffer();await T.setLocalDescription(E),zi.emit("webrtc-offer",{to:I,offer:E,isDataOnly:!N})}catch(T){console.error("Failed to start call:",T),tn.error("Connection failed"),x()}},p=async()=>{if(!t.incomingCaller||!e)return;const I=t.incomingCaller.from;i.current=I,n(N=>({...N,callStatus:"connected",remotePeerId:I,incomingCaller:null}));try{const N=o();if(!t.isDataOnly)try{const L=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n(E=>({...E,localStream:L})),L.getTracks().forEach(E=>N.addTrack(E,L))}catch{console.warn("No media devices found or permission denied")}await N.setRemoteDescription(new RTCSessionDescription(t.incomingCaller.offer));const T=await N.createAnswer();for(await N.setLocalDescription(T),zi.emit("webrtc-answer",{to:I,answer:T});k.current.length>0;){const L=k.current.shift();L&&await N.addIceCandidate(new RTCIceCandidate(L))}}catch(N){console.error("Answer failed:",N),x()}},[h,m]=C.useState([]),[g,y]=C.useState(!1);C.useEffect(()=>{if(h.length>0&&!g&&t.callStatus==="connected"){const I=h[0];b(I)}},[h,g,t.callStatus]);const v=I=>{m(N=>[...N,...I])},b=I=>{const N=a.current;if(!N||N.readyState!=="open"){tn.error("P2P Link Unstable"),m([]);return}y(!0);const T={id:crypto.randomUUID(),name:I.name,size:I.size,type:I.type};N.send(JSON.stringify({type:"FILE_START",meta:T}));const L=16*1024;let E=0;const M=new FileReader;M.onload=D=>{var F;if((F=D.target)!=null&&F.result){const $=D.target.result;N.send($),E+=$.byteLength,n(B=>({...B,fileProgress:Math.round(E/I.size*100)})),E<I.size?setTimeout(()=>j(E),0):(N.send(JSON.stringify({type:"FILE_END",id:T.id})),tn.success(`Sent: ${I.name}`),y(!1),n(B=>({...B,fileProgress:0})),m(B=>B.slice(1)))}};const j=D=>{const F=I.slice(D,D+L);M.readAsArrayBuffer(F)};j(0)},x=()=>{r.current&&(r.current.close(),r.current=null),t.localStream&&t.localStream.getTracks().forEach(I=>I.stop()),n(I=>({...I,callStatus:"idle",localStream:null,remoteStream:null,incomingCaller:null,remotePeerId:null,fileProgress:0,incomingFile:null}))},S=()=>{x()},k=C.useRef([]);return C.useEffect(()=>{const I=L=>{console.log("Incoming Offer:",L),i.current=L.from,n(E=>E.callStatus!=="idle"?E:{...E,callStatus:"incoming",incomingCaller:L,remotePeerId:L.from,isDataOnly:!!L.isDataOnly})},N=async L=>{if(console.log("Incoming Answer:",L),r.current)for(await r.current.setRemoteDescription(new RTCSessionDescription(L.answer)),n(E=>({...E,callStatus:"connected"}));k.current.length>0;){const E=k.current.shift();E&&await r.current.addIceCandidate(new RTCIceCandidate(E))}},T=async L=>{if(r.current&&r.current.remoteDescription)try{await r.current.addIceCandidate(new RTCIceCandidate(L.candidate))}catch(E){console.error("Error adding received ice candidate",E)}else console.log("Queuing ICE candidate (PC not ready)"),k.current.push(L.candidate)};return zi.on("webrtc-offer",I),zi.on("webrtc-answer",N),zi.on("webrtc-ice-candidate",T),()=>{zi.off("webrtc-offer"),zi.off("webrtc-answer"),zi.off("webrtc-ice-candidate")}},[]),{...t,startCall:d,answerCall:p,rejectCall:S,endCall:x,sendFiles:v,lookupUser:f}}function j9({stream:e,isLocal:t=!1,className:n}){const r=C.useRef(null);return C.useEffect(()=>{r.current&&e&&(r.current.srcObject=e)},[e]),w.jsxs("div",{className:ke("relative overflow-hidden rounded-2xl bg-black border border-primary/20",n),children:[w.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:t,className:ke("w-full h-full object-cover",t&&"scale-x-[-1]")}),w.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 px-2 py-0.5 rounded text-xs text-white",children:t?"You":"Peer"})]})}function S2e({localStream:e,remoteStream:t,onEndCall:n,onSendFile:r}){const[a,i]=C.useState(!1),[s,o]=C.useState(!1),l=()=>{e&&(e.getAudioTracks().forEach(f=>f.enabled=!f.enabled),i(!a))},u=()=>{e&&(e.getVideoTracks().forEach(f=>f.enabled=!f.enabled),o(!s))},c=f=>{f.target.files&&f.target.files[0]&&r(f.target.files[0])};return w.jsxs("div",{className:"fixed inset-0 z-[90] bg-black/90 backdrop-blur-sm flex flex-col items-center justify-center p-4",children:[w.jsxs("div",{className:"relative w-full max-w-5xl aspect-video grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsx("div",{className:"relative h-full w-full rounded-2xl overflow-hidden bg-zinc-900 border border-zinc-800",children:t?w.jsx(j9,{stream:t,className:"w-full h-full"}):w.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground animate-pulse",children:"Connecting..."})}),w.jsx("div",{className:"absolute top-4 right-4 w-48 aspect-video md:static md:w-full md:h-full md:aspect-auto rounded-2xl overflow-hidden bg-zinc-900 border border-primary/20 shadow-2xl",children:w.jsx(j9,{stream:e,isLocal:!0})})]}),w.jsxs("div",{className:"mt-8 flex items-center gap-4 bg-secondary/50 p-4 rounded-full backdrop-blur-md border border-white/10",children:[w.jsx(yt,{variant:a?"destructive":"secondary",size:"icon",className:"rounded-full w-12 h-12",onClick:l,children:a?w.jsx(_me,{className:"w-5 h-5"}):w.jsx(jme,{className:"w-5 h-5"})}),w.jsx(yt,{variant:s?"destructive":"secondary",size:"icon",className:"rounded-full w-12 h-12",onClick:u,children:s?w.jsx(qme,{className:"w-5 h-5"}):w.jsx(ES,{className:"w-5 h-5"})}),w.jsx(yt,{variant:"destructive",size:"icon",className:"rounded-full w-14 h-14",onClick:n,children:w.jsx($H,{className:"w-6 h-6"})}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"file",className:"hidden",id:"file-upload-call",onChange:c}),w.jsx(yt,{variant:"secondary",size:"icon",className:"rounded-full w-12 h-12",onClick:()=>{var f;return(f=document.getElementById("file-upload-call"))==null?void 0:f.click()},children:w.jsx(PH,{className:"w-5 h-5"})})]})]})]})}function k2e({callerId:e,onAccept:t,onReject:n,isDataOnly:r}){return w.jsxs("div",{className:"fixed top-4 right-4 z-[100] w-80 bg-background/90 backdrop-blur-xl border border-primary/30 shadow-2xl rounded-2xl p-4 animate-in slide-in-from-top-4 duration-300",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/20 flex items-center justify-center animate-pulse",children:r?w.jsx(ES,{className:"w-6 h-6 text-primary"}):w.jsx(ES,{className:"w-6 h-6 text-primary"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:r?"Secure Data Link Request":"Incoming Call"}),w.jsx("p",{className:"text-lg font-bold text-foreground truncate",children:e})]})]}),w.jsxs("div",{className:"flex gap-2 mt-4",children:[w.jsxs(yt,{variant:"destructive",className:"flex-1 gap-2",onClick:n,children:[w.jsx($H,{className:"w-4 h-4"})," Reject"]}),w.jsxs(yt,{className:"flex-1 gap-2 bg-green-600 hover:bg-green-700 text-white",onClick:t,children:[w.jsx(DH,{className:"w-4 h-4"})," ",r?"Initialize Link":"Accept"]})]})]})}const UQ=C.createContext(void 0);function C2e({children:e}){const{token:t,user:n}=ur(),r=x2e(n==null?void 0:n.id),{callStatus:a,localStream:i,remoteStream:s,incomingCaller:o,startCall:l,answerCall:u,rejectCall:c,endCall:f,sendFiles:d}=r;return C.useEffect(()=>{t?zi.connect(t):zi.disconnect()},[t]),w.jsxs(UQ.Provider,{value:{...r},children:[e,a==="incoming"&&o&&w.jsx(k2e,{callerId:o.from,onAccept:u,onReject:c,isDataOnly:r.isDataOnly}),(a==="connected"||a==="calling")&&!r.isDataOnly&&w.jsx(S2e,{localStream:i,remoteStream:s,onEndCall:f,onSendFile:p=>d([p])})]})}function WQ(){const e=C.useContext(UQ);if(e===void 0)throw new Error("useWebRTCContext must be used within a WebRTCProvider");return e}const VQ=C.forwardRef(({className:e,...t},n)=>w.jsx("div",{className:"relative w-full overflow-auto",children:w.jsx("table",{ref:n,className:ke("w-full caption-bottom text-sm",e),...t})}));VQ.displayName="Table";const GQ=C.forwardRef(({className:e,...t},n)=>w.jsx("thead",{ref:n,className:ke("[&_tr]:border-b",e),...t}));GQ.displayName="TableHeader";const HQ=C.forwardRef(({className:e,...t},n)=>w.jsx("tbody",{ref:n,className:ke("[&_tr:last-child]:border-0",e),...t}));HQ.displayName="TableBody";const I2e=C.forwardRef(({className:e,...t},n)=>w.jsx("tfoot",{ref:n,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));I2e.displayName="TableFooter";const V2=C.forwardRef(({className:e,...t},n)=>w.jsx("tr",{ref:n,className:ke("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));V2.displayName="TableRow";const Ih=C.forwardRef(({className:e,...t},n)=>w.jsx("th",{ref:n,className:ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ih.displayName="TableHead";const ef=C.forwardRef(({className:e,...t},n)=>w.jsx("td",{ref:n,className:ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ef.displayName="TableCell";const N2e=C.forwardRef(({className:e,...t},n)=>w.jsx("caption",{ref:n,className:ke("mt-4 text-sm text-muted-foreground",e),...t}));N2e.displayName="TableCaption";function $9(){var x,S;const{startCall:e,sendFiles:t,callStatus:n,fileProgress:r,incomingFile:a,lastReceivedFile:i,lookupUser:s,receivedHistory:o}=WQ(),[l,u]=C.useState(""),[c,f]=C.useState(null),[d,p]=C.useState(!1),[h,m]=C.useState(null),g=async()=>{if(l.trim()){p(!0);try{const k=await s(l);console.log("Lookup Result:",k),f(k),tn.success(`Found user: ${k.name||k.nexusId}`)}catch{tn.error("User not found"),f(null)}finally{p(!1)}}},y=()=>{console.log("Connect requested. Target User:",c),c&&c._id?e(c._id,!1):tn.error("Invalid user data: Missing ID")},v=k=>{k.target.files&&k.target.files.length>0&&m(k.target.files)},b=()=>{h&&h.length>0&&(t(Array.from(h)),m(null))};return w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 md:gap-6 h-full",children:[w.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-4 glass-panel p-4",children:[w.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-primary/10",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:w.jsx(KC,{className:"w-5 h-5 text-primary"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-display font-bold text-lg",children:"Transfer Control"}),w.jsxs("p",{className:"text-xs text-muted-foreground",children:["My ID: ",w.jsx("span",{className:"text-primary font-mono select-all",children:((x=ur().user)==null?void 0:x.nexusId)||"Unknown"})]})]})]}),w.jsxs("div",{className:"flex items-center justify-between px-4 py-3 rounded-xl bg-secondary/30 border border-primary/10",children:[w.jsx("span",{className:"text-xs font-medium uppercase text-muted-foreground",children:"Link Status"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:`w-2 h-2 rounded-full ${n==="connected"?"bg-nexus-green animate-pulse":n==="calling"?"bg-yellow-500 animate-pulse":"bg-slate-500"}`}),w.jsx("span",{className:`text-xs font-bold ${n==="connected"?"text-nexus-green":"text-muted-foreground"}`,children:n==="connected"?"ACTIVE":n==="calling"?"CONNECTING...":"STANDBY"})]})]}),n==="idle"?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-muted-foreground uppercase font-medium mb-1.5 block",children:"Target Nexus ID"}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[w.jsx(BS,{placeholder:"e.g. NEX-816269",value:l||"",onChange:k=>u(k.target.value),className:"bg-black/20 border-primary/20 font-mono text-sm"},"nexus-id-input"),w.jsxs(yt,{onClick:g,disabled:d,variant:"secondary",className:"sm:w-auto w-full",children:[d?w.jsx(V4,{className:"w-4 h-4 animate-spin"}):w.jsx(OH,{className:"w-4 h-4"}),w.jsx("span",{className:"sm:hidden ml-2",children:"Search User"})]})]})]}),c&&w.jsxs("div",{className:"p-4 rounded-xl bg-primary/5 border border-primary/20 animate-in fade-in",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center text-sm font-bold text-white shrink-0",children:((S=c.name)==null?void 0:S[0])||"?"}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("p",{className:"text-sm font-medium font-display truncate",children:c.name}),w.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:c.nexusId})]})]}),w.jsxs(yt,{onClick:y,className:"w-full gap-2",children:["Initialize Link ",w.jsx(TH,{className:"w-3 h-3"})]})]})]}):w.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[w.jsxs("div",{className:"p-4 rounded-xl bg-secondary/10 border border-primary/10",children:[w.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[w.jsx(wme,{className:"w-4 h-4 text-primary"})," Outgoing Stream"]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(BS,{type:"file",multiple:!0,onChange:v,className:"text-xs cursor-pointer file:bg-primary/10 file:text-primary file:border-0 file:rounded-md file:px-2 file:py-1 file:mr-2 w-full"},"file-input"),w.jsxs(yt,{onClick:b,disabled:!h||h.length===0||r>0,className:"w-full gap-2",size:"sm",children:[w.jsx(G4,{className:"w-3 h-3"})," Transmit ",(h==null?void 0:h.length)||0," File(s)"]})]}),r>0&&w.jsxs("div",{className:"mt-3 space-y-1.5",children:[w.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground uppercase",children:[w.jsx("span",{children:"Encrypting & Sending"}),w.jsxs("span",{children:[r,"%"]})]}),w.jsx(b3,{value:r,className:"h-1"})]})]}),a&&w.jsxs("div",{className:"p-4 rounded-xl bg-nexus-green/5 border border-nexus-green/20 animate-in slide-in-from-bottom-2",children:[w.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2 text-nexus-green",children:[w.jsx(TS,{className:"w-4 h-4"})," Incoming Data"]}),w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx(V4,{className:"w-4 h-4 animate-spin text-nexus-green"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-mono truncate max-w-[150px]",children:a.meta.name}),w.jsxs("p",{className:"text-[10px] opacity-70",children:[(a.meta.size/1024).toFixed(1)," KB"]})]})]}),w.jsx(b3,{value:a.progress,className:"h-1 bg-nexus-green/20 [&>div]:bg-nexus-green"})]})]})]}),w.jsxs("div",{className:"lg:col-span-8 glass-panel p-4 flex flex-col overflow-hidden min-h-0",children:[w.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-primary/10 mb-2",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/30 flex items-center justify-center",children:w.jsx(Tme,{className:"w-5 h-5 text-muted-foreground"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-display font-bold text-lg",children:"Secure Vault Storage"}),w.jsx("p",{className:"text-xs text-muted-foreground",children:"Received Files History"})]})]}),w.jsxs("div",{className:"px-3 py-1 rounded-full bg-secondary/20 text-xs font-mono text-muted-foreground",children:[(o==null?void 0:o.length)||0," FILES STORED"]})]}),w.jsx("div",{className:"flex-1 overflow-auto scrollbar-nexus relative",children:w.jsxs(VQ,{children:[w.jsx(GQ,{className:"sticky top-0 bg-background/80 backdrop-blur-md z-10",children:w.jsxs(V2,{className:"hover:bg-transparent border-primary/10",children:[w.jsx(Ih,{className:"w-[40%]",children:"Filename"}),w.jsx(Ih,{children:"Sender ID"}),w.jsx(Ih,{children:"Size"}),w.jsx(Ih,{children:"Time"}),w.jsx(Ih,{className:"text-right",children:"Action"})]})}),w.jsx(HQ,{children:o&&o.length>0?o.map((k,I)=>w.jsxs(V2,{className:"border-primary/5 hover:bg-white/5 group",children:[w.jsx(ef,{className:"font-medium",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Ime,{className:"w-4 h-4 text-primary opacity-70 group-hover:opacity-100"}),w.jsx("span",{className:"truncate max-w-[200px]",title:k.name,children:k.name})]})}),w.jsx(ef,{className:"font-mono text-xs text-muted-foreground",children:k.senderId}),w.jsxs(ef,{className:"text-xs text-muted-foreground",children:[(k.size/1024).toFixed(1)," KB"]}),w.jsx(ef,{className:"text-xs text-muted-foreground",children:w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(YC,{className:"w-3 h-3"}),new Date(k.timestamp).toLocaleTimeString()]})}),w.jsx(ef,{className:"text-right",children:w.jsx("a",{href:k.url,download:k.name,children:w.jsx(yt,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-nexus-green hover:bg-nexus-green/10 hover:text-nexus-green",children:w.jsx(TS,{className:"w-4 h-4"})})})})]},I)):w.jsx(V2,{children:w.jsx(ef,{colSpan:5,className:"h-48 text-center text-muted-foreground/50 text-sm",children:"No files received in this session."})})})]})})]})]})}var M2e=Array.isArray,ri=M2e,T2e=typeof dx=="object"&&dx&&dx.Object===Object&&dx,qQ=T2e,E2e=qQ,A2e=typeof self=="object"&&self&&self.Object===Object&&self,L2e=E2e||A2e||Function("return this")(),Po=L2e,_2e=Po,j2e=_2e.Symbol,zb=j2e,D9=zb,YQ=Object.prototype,$2e=YQ.hasOwnProperty,D2e=YQ.toString,P1=D9?D9.toStringTag:void 0;function O2e(e){var t=$2e.call(e,P1),n=e[P1];try{e[P1]=void 0;var r=!0}catch{}var a=D2e.call(e);return r&&(t?e[P1]=n:delete e[P1]),a}var R2e=O2e,P2e=Object.prototype,F2e=P2e.toString;function z2e(e){return F2e.call(e)}var B2e=z2e,O9=zb,U2e=R2e,W2e=B2e,V2e="[object Null]",G2e="[object Undefined]",R9=O9?O9.toStringTag:void 0;function H2e(e){return e==null?e===void 0?G2e:V2e:R9&&R9 in Object(e)?U2e(e):W2e(e)}var jl=H2e;function q2e(e){return e!=null&&typeof e=="object"}var $l=q2e,Y2e=jl,Q2e=$l,K2e="[object Symbol]";function J2e(e){return typeof e=="symbol"||Q2e(e)&&Y2e(e)==K2e}var Fg=J2e,Z2e=ri,X2e=Fg,eSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tSe=/^\w*$/;function nSe(e,t){if(Z2e(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||X2e(e)?!0:tSe.test(e)||!eSe.test(e)||t!=null&&e in Object(t)}var a$=nSe;function rSe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ic=rSe;const zg=un(Ic);var aSe=jl,iSe=Ic,sSe="[object AsyncFunction]",oSe="[object Function]",lSe="[object GeneratorFunction]",uSe="[object Proxy]";function cSe(e){if(!iSe(e))return!1;var t=aSe(e);return t==oSe||t==lSe||t==sSe||t==uSe}var i$=cSe;const gt=un(i$);var fSe=Po,dSe=fSe["__core-js_shared__"],pSe=dSe,YT=pSe,P9=function(){var e=/[^.]+$/.exec(YT&&YT.keys&&YT.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hSe(e){return!!P9&&P9 in e}var mSe=hSe,gSe=Function.prototype,ySe=gSe.toString;function vSe(e){if(e!=null){try{return ySe.call(e)}catch{}try{return e+""}catch{}}return""}var QQ=vSe,bSe=i$,wSe=mSe,xSe=Ic,SSe=QQ,kSe=/[\\^$.*+?()[\]{}|]/g,CSe=/^\[object .+?Constructor\]$/,ISe=Function.prototype,NSe=Object.prototype,MSe=ISe.toString,TSe=NSe.hasOwnProperty,ESe=RegExp("^"+MSe.call(TSe).replace(kSe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ASe(e){if(!xSe(e)||wSe(e))return!1;var t=bSe(e)?ESe:CSe;return t.test(SSe(e))}var LSe=ASe;function _Se(e,t){return e==null?void 0:e[t]}var jSe=_Se,$Se=LSe,DSe=jSe;function OSe(e,t){var n=DSe(e,t);return $Se(n)?n:void 0}var Id=OSe,RSe=Id,PSe=RSe(Object,"create"),hI=PSe,F9=hI;function FSe(){this.__data__=F9?F9(null):{},this.size=0}var zSe=FSe;function BSe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var USe=BSe,WSe=hI,VSe="__lodash_hash_undefined__",GSe=Object.prototype,HSe=GSe.hasOwnProperty;function qSe(e){var t=this.__data__;if(WSe){var n=t[e];return n===VSe?void 0:n}return HSe.call(t,e)?t[e]:void 0}var YSe=qSe,QSe=hI,KSe=Object.prototype,JSe=KSe.hasOwnProperty;function ZSe(e){var t=this.__data__;return QSe?t[e]!==void 0:JSe.call(t,e)}var XSe=ZSe,eke=hI,tke="__lodash_hash_undefined__";function nke(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=eke&&t===void 0?tke:t,this}var rke=nke,ake=zSe,ike=USe,ske=YSe,oke=XSe,lke=rke;function Bg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bg.prototype.clear=ake;Bg.prototype.delete=ike;Bg.prototype.get=ske;Bg.prototype.has=oke;Bg.prototype.set=lke;var uke=Bg;function cke(){this.__data__=[],this.size=0}var fke=cke;function dke(e,t){return e===t||e!==e&&t!==t}var s$=dke,pke=s$;function hke(e,t){for(var n=e.length;n--;)if(pke(e[n][0],t))return n;return-1}var mI=hke,mke=mI,gke=Array.prototype,yke=gke.splice;function vke(e){var t=this.__data__,n=mke(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():yke.call(t,n,1),--this.size,!0}var bke=vke,wke=mI;function xke(e){var t=this.__data__,n=wke(t,e);return n<0?void 0:t[n][1]}var Ske=xke,kke=mI;function Cke(e){return kke(this.__data__,e)>-1}var Ike=Cke,Nke=mI;function Mke(e,t){var n=this.__data__,r=Nke(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Tke=Mke,Eke=fke,Ake=bke,Lke=Ske,_ke=Ike,jke=Tke;function Ug(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ug.prototype.clear=Eke;Ug.prototype.delete=Ake;Ug.prototype.get=Lke;Ug.prototype.has=_ke;Ug.prototype.set=jke;var gI=Ug,$ke=Id,Dke=Po,Oke=$ke(Dke,"Map"),o$=Oke,z9=uke,Rke=gI,Pke=o$;function Fke(){this.size=0,this.__data__={hash:new z9,map:new(Pke||Rke),string:new z9}}var zke=Fke;function Bke(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Uke=Bke,Wke=Uke;function Vke(e,t){var n=e.__data__;return Wke(t)?n[typeof t=="string"?"string":"hash"]:n.map}var yI=Vke,Gke=yI;function Hke(e){var t=Gke(this,e).delete(e);return this.size-=t?1:0,t}var qke=Hke,Yke=yI;function Qke(e){return Yke(this,e).get(e)}var Kke=Qke,Jke=yI;function Zke(e){return Jke(this,e).has(e)}var Xke=Zke,eCe=yI;function tCe(e,t){var n=eCe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var nCe=tCe,rCe=zke,aCe=qke,iCe=Kke,sCe=Xke,oCe=nCe;function Wg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wg.prototype.clear=rCe;Wg.prototype.delete=aCe;Wg.prototype.get=iCe;Wg.prototype.has=sCe;Wg.prototype.set=oCe;var l$=Wg,KQ=l$,lCe="Expected a function";function u$(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lCe);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var s=e.apply(this,r);return n.cache=i.set(a,s)||i,s};return n.cache=new(u$.Cache||KQ),n}u$.Cache=KQ;var JQ=u$;const uCe=un(JQ);var cCe=JQ,fCe=500;function dCe(e){var t=cCe(e,function(r){return n.size===fCe&&n.clear(),r}),n=t.cache;return t}var pCe=dCe,hCe=pCe,mCe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gCe=/\\(\\)?/g,yCe=hCe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(mCe,function(n,r,a,i){t.push(a?i.replace(gCe,"$1"):r||n)}),t}),vCe=yCe;function bCe(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var c$=bCe,B9=zb,wCe=c$,xCe=ri,SCe=Fg,kCe=1/0,U9=B9?B9.prototype:void 0,W9=U9?U9.toString:void 0;function ZQ(e){if(typeof e=="string")return e;if(xCe(e))return wCe(e,ZQ)+"";if(SCe(e))return W9?W9.call(e):"";var t=e+"";return t=="0"&&1/e==-kCe?"-0":t}var CCe=ZQ,ICe=CCe;function NCe(e){return e==null?"":ICe(e)}var XQ=NCe,MCe=ri,TCe=a$,ECe=vCe,ACe=XQ;function LCe(e,t){return MCe(e)?e:TCe(e,t)?[e]:ECe(ACe(e))}var eK=LCe,_Ce=Fg,jCe=1/0;function $Ce(e){if(typeof e=="string"||_Ce(e))return e;var t=e+"";return t=="0"&&1/e==-jCe?"-0":t}var vI=$Ce,DCe=eK,OCe=vI;function RCe(e,t){t=DCe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[OCe(t[n++])];return n&&n==r?e:void 0}var f$=RCe,PCe=f$;function FCe(e,t,n){var r=e==null?void 0:PCe(e,t);return r===void 0?n:r}var tK=FCe;const es=un(tK);function zCe(e){return e==null}var BCe=zCe;const St=un(BCe);var UCe=jl,WCe=ri,VCe=$l,GCe="[object String]";function HCe(e){return typeof e=="string"||!WCe(e)&&VCe(e)&&UCe(e)==GCe}var qCe=HCe;const Kf=un(qCe);var nK={exports:{}},Jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d$=Symbol.for("react.element"),p$=Symbol.for("react.portal"),bI=Symbol.for("react.fragment"),wI=Symbol.for("react.strict_mode"),xI=Symbol.for("react.profiler"),SI=Symbol.for("react.provider"),kI=Symbol.for("react.context"),YCe=Symbol.for("react.server_context"),CI=Symbol.for("react.forward_ref"),II=Symbol.for("react.suspense"),NI=Symbol.for("react.suspense_list"),MI=Symbol.for("react.memo"),TI=Symbol.for("react.lazy"),QCe=Symbol.for("react.offscreen"),rK;rK=Symbol.for("react.module.reference");function os(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case d$:switch(e=e.type,e){case bI:case xI:case wI:case II:case NI:return e;default:switch(e=e&&e.$$typeof,e){case YCe:case kI:case CI:case TI:case MI:case SI:return e;default:return t}}case p$:return t}}}Jt.ContextConsumer=kI;Jt.ContextProvider=SI;Jt.Element=d$;Jt.ForwardRef=CI;Jt.Fragment=bI;Jt.Lazy=TI;Jt.Memo=MI;Jt.Portal=p$;Jt.Profiler=xI;Jt.StrictMode=wI;Jt.Suspense=II;Jt.SuspenseList=NI;Jt.isAsyncMode=function(){return!1};Jt.isConcurrentMode=function(){return!1};Jt.isContextConsumer=function(e){return os(e)===kI};Jt.isContextProvider=function(e){return os(e)===SI};Jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===d$};Jt.isForwardRef=function(e){return os(e)===CI};Jt.isFragment=function(e){return os(e)===bI};Jt.isLazy=function(e){return os(e)===TI};Jt.isMemo=function(e){return os(e)===MI};Jt.isPortal=function(e){return os(e)===p$};Jt.isProfiler=function(e){return os(e)===xI};Jt.isStrictMode=function(e){return os(e)===wI};Jt.isSuspense=function(e){return os(e)===II};Jt.isSuspenseList=function(e){return os(e)===NI};Jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bI||e===xI||e===wI||e===II||e===NI||e===QCe||typeof e=="object"&&e!==null&&(e.$$typeof===TI||e.$$typeof===MI||e.$$typeof===SI||e.$$typeof===kI||e.$$typeof===CI||e.$$typeof===rK||e.getModuleId!==void 0)};Jt.typeOf=os;nK.exports=Jt;var KCe=nK.exports,JCe=jl,ZCe=$l,XCe="[object Number]";function eIe(e){return typeof e=="number"||ZCe(e)&&JCe(e)==XCe}var aK=eIe;const tIe=un(aK);var nIe=aK;function rIe(e){return nIe(e)&&e!=+e}var aIe=rIe;const Vg=un(aIe);var Ls=function(t){return t===0?0:t>0?1:-1},gf=function(t){return Kf(t)&&t.indexOf("%")===t.length-1},Ne=function(t){return tIe(t)&&!Vg(t)},iIe=function(t){return St(t)},Sr=function(t){return Ne(t)||Kf(t)},sIe=0,Bb=function(t){var n=++sIe;return"".concat(t||"").concat(n)},Jf=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&!Kf(t))return r;var i;if(gf(t)){var s=t.indexOf("%");i=n*parseFloat(t.slice(0,s))/100}else i=+t;return Vg(i)&&(i=r),a&&i>n&&(i=n),i},Nh=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},oIe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Yi=function(t,n){return Ne(t)&&Ne(n)?function(r){return t+r*(n-t)}:function(){return n}};function VS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):es(r,t))===n})}var lIe=function(t,n){return Ne(t)&&Ne(n)?t-n:Kf(t)&&Kf(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function tm(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function N3(e){"@babel/helpers - typeof";return N3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N3(e)}var uIe=["viewBox","children"],cIe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],V9=["points","pathLength"],QT={svg:uIe,polygon:V9,polyline:V9},h$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],GS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),!zg(r))return null;var a={};return Object.keys(r).forEach(function(i){h$.includes(i)&&(a[i]=n||function(s){return r[i](r,s)})}),a},fIe=function(t,n,r){return function(a){return t(n,r,a),null}},HS=function(t,n,r){if(!zg(t)||N3(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];h$.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=fIe(s,n,r))}),a},dIe=["children"],pIe=["children"];function G9(e,t){if(e==null)return{};var n=hIe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function M3(e){"@babel/helpers - typeof";return M3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M3(e)}var H9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},q9=null,KT=null,m$=function e(t){if(t===q9&&Array.isArray(KT))return KT;var n=[];return C.Children.forEach(t,function(r){St(r)||(KCe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),KT=n,q9=t,n};function $s(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return fl(a)}):r=[fl(t)],m$(e).forEach(function(a){var i=es(a,"type.displayName")||es(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function ci(e,t){var n=$s(e,t);return n&&n[0]}var Y9=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Ne(r)||r<=0||!Ne(a)||a<=0)},mIe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gIe=function(t){return t&&t.type&&Kf(t.type)&&mIe.indexOf(t.type)>=0},yIe=function(t){return t&&M3(t)==="object"&&"clipDot"in t},vIe=function(t,n,r,a){var i,s=(i=QT==null?void 0:QT[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!gt(t)&&(a&&s.includes(n)||cIe.includes(n))||r&&h$.includes(n)},xt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(C.isValidElement(t)&&(a=t.props),!zg(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;vIe((o=a)===null||o===void 0?void 0:o[s],s,n,r)&&(i[s]=a[s])}),i},T3=function e(t,n){if(t===n)return!0;var r=C.Children.count(t);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Q9(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],s=n[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!Q9(i,s))return!1}return!0},Q9=function(t,n){if(St(t)&&St(n))return!0;if(!St(t)&&!St(n)){var r=t.props||{},a=r.children,i=G9(r,dIe),s=n.props||{},o=s.children,l=G9(s,pIe);return a&&o?tm(i,l)&&T3(a,o):!a&&!o?tm(i,l):!1}return!1},K9=function(t,n){var r=[],a={};return m$(t).forEach(function(i,s){if(gIe(i))r.push(i);else if(i){var o=fl(i.type),l=n[o]||{},u=l.handler,c=l.once;if(u&&(!c||!a[o])){var f=u(i,o,s);r.push(f),a[o]=!0}}}),r},bIe=function(t){var n=t&&t.type;return n&&H9[n]?H9[n]:null},wIe=function(t,n){return m$(n).indexOf(t)},xIe=["children","width","height","viewBox","className","style","title","desc"];function E3(){return E3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E3.apply(this,arguments)}function SIe(e,t){if(e==null)return{};var n=kIe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function A3(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,u=SIe(e,xIe),c=a||{width:n,height:r,x:0,y:0},f=Mt("recharts-surface",i);return V.createElement("svg",E3({},xt(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),V.createElement("title",null,o),V.createElement("desc",null,l),t)}var CIe=["children","className"];function L3(){return L3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L3.apply(this,arguments)}function IIe(e,t){if(e==null)return{};var n=NIe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Ln=V.forwardRef(function(e,t){var n=e.children,r=e.className,a=IIe(e,CIe),i=Mt("recharts-layer",r);return V.createElement("g",L3({className:i},xt(a,!0),{ref:t}),n)}),$f=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function MIe(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var TIe=MIe,EIe=TIe;function AIe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:EIe(e,t,n)}var LIe=AIe,_Ie="\\ud800-\\udfff",jIe="\\u0300-\\u036f",$Ie="\\ufe20-\\ufe2f",DIe="\\u20d0-\\u20ff",OIe=jIe+$Ie+DIe,RIe="\\ufe0e\\ufe0f",PIe="\\u200d",FIe=RegExp("["+PIe+_Ie+OIe+RIe+"]");function zIe(e){return FIe.test(e)}var iK=zIe;function BIe(e){return e.split("")}var UIe=BIe,sK="\\ud800-\\udfff",WIe="\\u0300-\\u036f",VIe="\\ufe20-\\ufe2f",GIe="\\u20d0-\\u20ff",HIe=WIe+VIe+GIe,qIe="\\ufe0e\\ufe0f",YIe="["+sK+"]",_3="["+HIe+"]",j3="\\ud83c[\\udffb-\\udfff]",QIe="(?:"+_3+"|"+j3+")",oK="[^"+sK+"]",lK="(?:\\ud83c[\\udde6-\\uddff]){2}",uK="[\\ud800-\\udbff][\\udc00-\\udfff]",KIe="\\u200d",cK=QIe+"?",fK="["+qIe+"]?",JIe="(?:"+KIe+"(?:"+[oK,lK,uK].join("|")+")"+fK+cK+")*",ZIe=fK+cK+JIe,XIe="(?:"+[oK+_3+"?",_3,lK,uK,YIe].join("|")+")",eNe=RegExp(j3+"(?="+j3+")|"+XIe+ZIe,"g");function tNe(e){return e.match(eNe)||[]}var nNe=tNe,rNe=UIe,aNe=iK,iNe=nNe;function sNe(e){return aNe(e)?iNe(e):rNe(e)}var oNe=sNe,lNe=LIe,uNe=iK,cNe=oNe,fNe=XQ;function dNe(e){return function(t){t=fNe(t);var n=uNe(t)?cNe(t):void 0,r=n?n[0]:t.charAt(0),a=n?lNe(n,1).join(""):t.slice(1);return r[e]()+a}}var pNe=dNe,hNe=pNe,mNe=hNe("toUpperCase"),gNe=mNe;const EI=un(gNe);function cn(e){return function(){return e}}const dK=Math.cos,qS=Math.sin,Ys=Math.sqrt,YS=Math.PI,AI=2*YS,$3=Math.PI,D3=2*$3,tf=1e-6,yNe=D3-tf;function pK(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vNe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pK;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class bNe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pK:vNe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,s){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=r-t,u=a-n,c=s-t,f=o-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>tf)if(!(Math.abs(f*l-u*c)>tf)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,h=a-o,m=l*l+u*u,g=p*p+h*h,y=Math.sqrt(m),v=Math.sqrt(d),b=i*Math.tan(($3-Math.acos((m+d-g)/(2*y*v)))/2),x=b/v,S=b/y;Math.abs(x-1)>tf&&this._append`L${t+x*c},${n+x*f}`,this._append`A${i},${i},0,0,${+(f*p>c*h)},${this._x1=t+S*l},${this._y1=n+S*u}`}}arc(t,n,r,a,i,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(a),l=r*Math.sin(a),u=t+o,c=n+l,f=1^s,d=s?a-i:i-a;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>tf||Math.abs(this._y1-c)>tf)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%D3+D3),d>yNe?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>tf&&this._append`A${r},${r},0,${+(d>=$3)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function g$(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new bNe(t)}function y$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hK(e){this._context=e}hK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function LI(e){return new hK(e)}function mK(e){return e[0]}function gK(e){return e[1]}function yK(e,t){var n=cn(!0),r=null,a=LI,i=null,s=g$(o);e=typeof e=="function"?e:e===void 0?mK:cn(e),t=typeof t=="function"?t:t===void 0?gK:cn(t);function o(l){var u,c=(l=y$(l)).length,f,d=!1,p;for(r==null&&(i=a(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(f,u,l),+t(f,u,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:cn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:cn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:cn(!!l),o):n},o.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),o):a},o.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),o):r},o}function Bx(e,t,n){var r=null,a=cn(!0),i=null,s=LI,o=null,l=g$(u);e=typeof e=="function"?e:e===void 0?mK:cn(+e),t=typeof t=="function"?t:cn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?gK:cn(+n);function u(f){var d,p,h,m=(f=y$(f)).length,g,y=!1,v,b=new Array(m),x=new Array(m);for(i==null&&(o=s(v=l())),d=0;d<=m;++d){if(!(d<m&&a(g=f[d],d,f))===y)if(y=!y)p=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=p;--h)o.point(b[h],x[h]);o.lineEnd(),o.areaEnd()}y&&(b[d]=+e(g,d,f),x[d]=+t(g,d,f),o.point(r?+r(g,d,f):b[d],n?+n(g,d,f):x[d]))}if(v)return o=null,v+""||null}function c(){return yK().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:cn(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:cn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:cn(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class vK{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function wNe(e){return new vK(e,!0)}function xNe(e){return new vK(e,!1)}const v$={draw(e,t){const n=Ys(t/YS);e.moveTo(n,0),e.arc(0,0,n,0,AI)}},SNe={draw(e,t){const n=Ys(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},bK=Ys(1/3),kNe=bK*2,CNe={draw(e,t){const n=Ys(t/kNe),r=n*bK;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},INe={draw(e,t){const n=Ys(t),r=-n/2;e.rect(r,r,n,n)}},NNe=.8908130915292852,wK=qS(YS/10)/qS(7*YS/10),MNe=qS(AI/10)*wK,TNe=-dK(AI/10)*wK,ENe={draw(e,t){const n=Ys(t*NNe),r=MNe*n,a=TNe*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const s=AI*i/5,o=dK(s),l=qS(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*a,l*r+o*a)}e.closePath()}},JT=Ys(3),ANe={draw(e,t){const n=-Ys(t/(JT*3));e.moveTo(0,n*2),e.lineTo(-JT*n,-n),e.lineTo(JT*n,-n),e.closePath()}},$i=-.5,Di=Ys(3)/2,O3=1/Ys(12),LNe=(O3/2+1)*3,_Ne={draw(e,t){const n=Ys(t/LNe),r=n/2,a=n*O3,i=r,s=n*O3+n,o=-i,l=s;e.moveTo(r,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo($i*r-Di*a,Di*r+$i*a),e.lineTo($i*i-Di*s,Di*i+$i*s),e.lineTo($i*o-Di*l,Di*o+$i*l),e.lineTo($i*r+Di*a,$i*a-Di*r),e.lineTo($i*i+Di*s,$i*s-Di*i),e.lineTo($i*o+Di*l,$i*l-Di*o),e.closePath()}};function jNe(e,t){let n=null,r=g$(a);e=typeof e=="function"?e:cn(e||v$),t=typeof t=="function"?t:cn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:cn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:cn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function QS(){}function KS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function xK(e){this._context=e}xK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:KS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:KS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $Ne(e){return new xK(e)}function SK(e){this._context=e}SK.prototype={areaStart:QS,areaEnd:QS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:KS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DNe(e){return new SK(e)}function kK(e){this._context=e}kK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:KS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ONe(e){return new kK(e)}function CK(e){this._context=e}CK.prototype={areaStart:QS,areaEnd:QS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function RNe(e){return new CK(e)}function J9(e){return e<0?-1:1}function Z9(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),s=(n-e._y1)/(a||r<0&&-0),o=(i*a+s*r)/(r+a);return(J9(i)+J9(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function X9(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ZT(e,t,n){var r=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,a+o*t,i-o,s-o*n,i,s)}function JS(e){this._context=e}JS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZT(this,this._t0,X9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ZT(this,X9(this,n=Z9(this,e,t)),n);break;default:ZT(this,this._t0,n=Z9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function IK(e){this._context=new NK(e)}(IK.prototype=Object.create(JS.prototype)).point=function(e,t){JS.prototype.point.call(this,t,e)};function NK(e){this._context=e}NK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function PNe(e){return new JS(e)}function FNe(e){return new IK(e)}function MK(e){this._context=e}MK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=eB(e),a=eB(t),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eB(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,s[t]-=r*s[t-1];for(a[n-1]=s[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function zNe(e){return new MK(e)}function _I(e,t){this._context=e,this._t=t}_I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function BNe(e){return new _I(e,.5)}function UNe(e){return new _I(e,0)}function WNe(e){return new _I(e,1)}function Om(e,t){if((s=e.length)>1)for(var n=1,r,a,i=e[t[0]],s,o=i.length;n<s;++n)for(a=i,i=e[t[n]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function R3(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function VNe(e,t){return e[t]}function GNe(e){const t=[];return t.key=e,t}function HNe(){var e=cn([]),t=R3,n=Om,r=VNe;function a(i){var s=Array.from(e.apply(this,arguments),GNe),o,l=s.length,u=-1,c;for(const f of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,i)]).data=f;for(o=0,c=y$(t(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:cn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:cn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?R3:typeof i=="function"?i:cn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Om,a):n},a}function qNe(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,s;a<i;++a){for(s=n=0;n<r;++n)s+=e[n][a][1]||0;if(s)for(n=0;n<r;++n)e[n][a][1]/=s}Om(e,t)}}function YNe(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var s=0,o=0;s<a;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Om(e,t)}}function QNe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,s;r<i;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,h=0;h<o;++h){var m=e[t[h]],g=m[r][1]||0,y=m[r-1][1]||0;p+=g-y}l+=f,u+=p*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=u/l)}a[r-1][1]+=a[r-1][0]=n,Om(e,t)}}function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}var KNe=["type","size","sizeType"];function P3(){return P3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P3.apply(this,arguments)}function tB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tB(Object(n),!0).forEach(function(r){JNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JNe(e,t,n){return t=ZNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZNe(e){var t=XNe(e,"string");return mv(t)=="symbol"?t:t+""}function XNe(e,t){if(mv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eMe(e,t){if(e==null)return{};var n=tMe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var TK={symbolCircle:v$,symbolCross:SNe,symbolDiamond:CNe,symbolSquare:INe,symbolStar:ENe,symbolTriangle:ANe,symbolWye:_Ne},nMe=Math.PI/180,rMe=function(t){var n="symbol".concat(EI(t));return TK[n]||v$},aMe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*nMe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},iMe=function(t,n){TK["symbol".concat(EI(t))]=n},b$=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=eMe(t,KNe),u=nB(nB({},l),{},{type:r,size:i,sizeType:o}),c=function(){var g=rMe(r),y=jNe().type(g).size(aMe(i,o,r));return y()},f=u.className,d=u.cx,p=u.cy,h=xt(u,!0);return d===+d&&p===+p&&i===+i?V.createElement("path",P3({},h,{className:Mt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};b$.registerSymbol=iMe;function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function F3(){return F3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F3.apply(this,arguments)}function rB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rB(Object(n),!0).forEach(function(r){gv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AK(r.key),r)}}function uMe(e,t,n){return t&&lMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cMe(e,t,n){return t=ZS(t),fMe(e,EK()?Reflect.construct(t,n||[],ZS(e).constructor):t.apply(e,n))}function fMe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dMe(e)}function dMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EK=function(){return!!e})()}function ZS(e){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZS(e)}function pMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z3(e,t)}function z3(e,t){return z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},z3(e,t)}function gv(e,t,n){return t=AK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AK(e){var t=hMe(e,"string");return Rm(t)=="symbol"?t:t+""}function hMe(e,t){if(Rm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi=32,w$=function(e){function t(){return oMe(this,t),cMe(this,t,arguments)}return pMe(t,e),uMe(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=Oi/2,s=Oi/6,o=Oi/3,l=r.inactive?a:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Oi,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Oi,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Oi/8,"h").concat(Oi,"v").concat(Oi*3/4,"h").concat(-Oi,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var u=sMe({},r);return delete u.legendIcon,V.cloneElement(r.legendIcon,u)}return V.createElement(b$,{fill:l,cx:i,cy:i,size:Oi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,u=a.inactiveColor,c={x:0,y:0,width:Oi,height:Oi},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,h){var m=p.formatter||l,g=Mt(gv(gv({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=gt(p.value)?null:p.value;$f(!gt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return V.createElement("li",F3({className:g,style:f,key:"legend-item-".concat(h)},HS(r.props,p,h)),V.createElement(A3,{width:s,height:s,viewBox:c,style:d},r.renderIcon(p)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(y,p,h):y))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,s=r.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(C.PureComponent);gv(w$,"displayName","Legend");gv(w$,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mMe=gI;function gMe(){this.__data__=new mMe,this.size=0}var yMe=gMe;function vMe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var bMe=vMe;function wMe(e){return this.__data__.get(e)}var xMe=wMe;function SMe(e){return this.__data__.has(e)}var kMe=SMe,CMe=gI,IMe=o$,NMe=l$,MMe=200;function TMe(e,t){var n=this.__data__;if(n instanceof CMe){var r=n.__data__;if(!IMe||r.length<MMe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new NMe(r)}return n.set(e,t),this.size=n.size,this}var EMe=TMe,AMe=gI,LMe=yMe,_Me=bMe,jMe=xMe,$Me=kMe,DMe=EMe;function Gg(e){var t=this.__data__=new AMe(e);this.size=t.size}Gg.prototype.clear=LMe;Gg.prototype.delete=_Me;Gg.prototype.get=jMe;Gg.prototype.has=$Me;Gg.prototype.set=DMe;var LK=Gg,OMe="__lodash_hash_undefined__";function RMe(e){return this.__data__.set(e,OMe),this}var PMe=RMe;function FMe(e){return this.__data__.has(e)}var zMe=FMe,BMe=l$,UMe=PMe,WMe=zMe;function XS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new BMe;++t<n;)this.add(e[t])}XS.prototype.add=XS.prototype.push=UMe;XS.prototype.has=WMe;var _K=XS;function VMe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jK=VMe;function GMe(e,t){return e.has(t)}var $K=GMe,HMe=_K,qMe=jK,YMe=$K,QMe=1,KMe=2;function JMe(e,t,n,r,a,i){var s=n&QMe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,p=n&KMe?new HMe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var h=e[f],m=t[f];if(r)var g=s?r(m,h,f,t,e,i):r(h,m,f,e,t,i);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!qMe(t,function(y,v){if(!YMe(p,v)&&(h===y||a(h,y,n,r,i)))return p.push(v)})){d=!1;break}}else if(!(h===m||a(h,m,n,r,i))){d=!1;break}}return i.delete(e),i.delete(t),d}var DK=JMe,ZMe=Po,XMe=ZMe.Uint8Array,eTe=XMe;function tTe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var nTe=tTe;function rTe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var x$=rTe,aB=zb,iB=eTe,aTe=s$,iTe=DK,sTe=nTe,oTe=x$,lTe=1,uTe=2,cTe="[object Boolean]",fTe="[object Date]",dTe="[object Error]",pTe="[object Map]",hTe="[object Number]",mTe="[object RegExp]",gTe="[object Set]",yTe="[object String]",vTe="[object Symbol]",bTe="[object ArrayBuffer]",wTe="[object DataView]",sB=aB?aB.prototype:void 0,XT=sB?sB.valueOf:void 0;function xTe(e,t,n,r,a,i,s){switch(n){case wTe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bTe:return!(e.byteLength!=t.byteLength||!i(new iB(e),new iB(t)));case cTe:case fTe:case hTe:return aTe(+e,+t);case dTe:return e.name==t.name&&e.message==t.message;case mTe:case yTe:return e==t+"";case pTe:var o=sTe;case gTe:var l=r&lTe;if(o||(o=oTe),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=uTe,s.set(e,t);var c=iTe(o(e),o(t),r,a,i,s);return s.delete(e),c;case vTe:if(XT)return XT.call(e)==XT.call(t)}return!1}var STe=xTe;function kTe(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var OK=kTe,CTe=OK,ITe=ri;function NTe(e,t,n){var r=t(e);return ITe(e)?r:CTe(r,n(e))}var MTe=NTe;function TTe(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[a++]=s)}return i}var ETe=TTe;function ATe(){return[]}var LTe=ATe,_Te=ETe,jTe=LTe,$Te=Object.prototype,DTe=$Te.propertyIsEnumerable,oB=Object.getOwnPropertySymbols,OTe=oB?function(e){return e==null?[]:(e=Object(e),_Te(oB(e),function(t){return DTe.call(e,t)}))}:jTe,RTe=OTe;function PTe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var FTe=PTe,zTe=jl,BTe=$l,UTe="[object Arguments]";function WTe(e){return BTe(e)&&zTe(e)==UTe}var VTe=WTe,lB=VTe,GTe=$l,RK=Object.prototype,HTe=RK.hasOwnProperty,qTe=RK.propertyIsEnumerable,YTe=lB(function(){return arguments}())?lB:function(e){return GTe(e)&&HTe.call(e,"callee")&&!qTe.call(e,"callee")},S$=YTe,ek={exports:{}};function QTe(){return!1}var KTe=QTe;ek.exports;(function(e,t){var n=Po,r=KTe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;e.exports=u})(ek,ek.exports);var PK=ek.exports,JTe=9007199254740991,ZTe=/^(?:0|[1-9]\d*)$/;function XTe(e,t){var n=typeof e;return t=t??JTe,!!t&&(n=="number"||n!="symbol"&&ZTe.test(e))&&e>-1&&e%1==0&&e<t}var k$=XTe,eEe=9007199254740991;function tEe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eEe}var C$=tEe,nEe=jl,rEe=C$,aEe=$l,iEe="[object Arguments]",sEe="[object Array]",oEe="[object Boolean]",lEe="[object Date]",uEe="[object Error]",cEe="[object Function]",fEe="[object Map]",dEe="[object Number]",pEe="[object Object]",hEe="[object RegExp]",mEe="[object Set]",gEe="[object String]",yEe="[object WeakMap]",vEe="[object ArrayBuffer]",bEe="[object DataView]",wEe="[object Float32Array]",xEe="[object Float64Array]",SEe="[object Int8Array]",kEe="[object Int16Array]",CEe="[object Int32Array]",IEe="[object Uint8Array]",NEe="[object Uint8ClampedArray]",MEe="[object Uint16Array]",TEe="[object Uint32Array]",gn={};gn[wEe]=gn[xEe]=gn[SEe]=gn[kEe]=gn[CEe]=gn[IEe]=gn[NEe]=gn[MEe]=gn[TEe]=!0;gn[iEe]=gn[sEe]=gn[vEe]=gn[oEe]=gn[bEe]=gn[lEe]=gn[uEe]=gn[cEe]=gn[fEe]=gn[dEe]=gn[pEe]=gn[hEe]=gn[mEe]=gn[gEe]=gn[yEe]=!1;function EEe(e){return aEe(e)&&rEe(e.length)&&!!gn[nEe(e)]}var AEe=EEe;function LEe(e){return function(t){return e(t)}}var FK=LEe,tk={exports:{}};tk.exports;(function(e,t){var n=qQ,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,s=i&&n.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(tk,tk.exports);var _Ee=tk.exports,jEe=AEe,$Ee=FK,uB=_Ee,cB=uB&&uB.isTypedArray,DEe=cB?$Ee(cB):jEe,zK=DEe,OEe=FTe,REe=S$,PEe=ri,FEe=PK,zEe=k$,BEe=zK,UEe=Object.prototype,WEe=UEe.hasOwnProperty;function VEe(e,t){var n=PEe(e),r=!n&&REe(e),a=!n&&!r&&FEe(e),i=!n&&!r&&!a&&BEe(e),s=n||r||a||i,o=s?OEe(e.length,String):[],l=o.length;for(var u in e)(t||WEe.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zEe(u,l)))&&o.push(u);return o}var GEe=VEe,HEe=Object.prototype;function qEe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||HEe;return e===n}var YEe=qEe;function QEe(e,t){return function(n){return e(t(n))}}var BK=QEe,KEe=BK,JEe=KEe(Object.keys,Object),ZEe=JEe,XEe=YEe,e4e=ZEe,t4e=Object.prototype,n4e=t4e.hasOwnProperty;function r4e(e){if(!XEe(e))return e4e(e);var t=[];for(var n in Object(e))n4e.call(e,n)&&n!="constructor"&&t.push(n);return t}var a4e=r4e,i4e=i$,s4e=C$;function o4e(e){return e!=null&&s4e(e.length)&&!i4e(e)}var jI=o4e,l4e=GEe,u4e=a4e,c4e=jI;function f4e(e){return c4e(e)?l4e(e):u4e(e)}var I$=f4e,d4e=MTe,p4e=RTe,h4e=I$;function m4e(e){return d4e(e,h4e,p4e)}var g4e=m4e,fB=g4e,y4e=1,v4e=Object.prototype,b4e=v4e.hasOwnProperty;function w4e(e,t,n,r,a,i){var s=n&y4e,o=fB(e),l=o.length,u=fB(t),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=o[f];if(!(s?d in t:b4e.call(t,d)))return!1}var p=i.get(e),h=i.get(t);if(p&&h)return p==t&&h==e;var m=!0;i.set(e,t),i.set(t,e);for(var g=s;++f<l;){d=o[f];var y=e[d],v=t[d];if(r)var b=s?r(v,y,d,t,e,i):r(y,v,d,e,t,i);if(!(b===void 0?y===v||a(y,v,n,r,i):b)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var x=e.constructor,S=t.constructor;x!=S&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return i.delete(e),i.delete(t),m}var x4e=w4e,S4e=Id,k4e=Po,C4e=S4e(k4e,"DataView"),I4e=C4e,N4e=Id,M4e=Po,T4e=N4e(M4e,"Promise"),E4e=T4e,A4e=Id,L4e=Po,_4e=A4e(L4e,"Set"),UK=_4e,j4e=Id,$4e=Po,D4e=j4e($4e,"WeakMap"),O4e=D4e,B3=I4e,U3=o$,W3=E4e,V3=UK,G3=O4e,WK=jl,Hg=QQ,dB="[object Map]",R4e="[object Object]",pB="[object Promise]",hB="[object Set]",mB="[object WeakMap]",gB="[object DataView]",P4e=Hg(B3),F4e=Hg(U3),z4e=Hg(W3),B4e=Hg(V3),U4e=Hg(G3),nf=WK;(B3&&nf(new B3(new ArrayBuffer(1)))!=gB||U3&&nf(new U3)!=dB||W3&&nf(W3.resolve())!=pB||V3&&nf(new V3)!=hB||G3&&nf(new G3)!=mB)&&(nf=function(e){var t=WK(e),n=t==R4e?e.constructor:void 0,r=n?Hg(n):"";if(r)switch(r){case P4e:return gB;case F4e:return dB;case z4e:return pB;case B4e:return hB;case U4e:return mB}return t});var W4e=nf,eE=LK,V4e=DK,G4e=STe,H4e=x4e,yB=W4e,vB=ri,bB=PK,q4e=zK,Y4e=1,wB="[object Arguments]",xB="[object Array]",Ux="[object Object]",Q4e=Object.prototype,SB=Q4e.hasOwnProperty;function K4e(e,t,n,r,a,i){var s=vB(e),o=vB(t),l=s?xB:yB(e),u=o?xB:yB(t);l=l==wB?Ux:l,u=u==wB?Ux:u;var c=l==Ux,f=u==Ux,d=l==u;if(d&&bB(e)){if(!bB(t))return!1;s=!0,c=!1}if(d&&!c)return i||(i=new eE),s||q4e(e)?V4e(e,t,n,r,a,i):G4e(e,t,l,n,r,a,i);if(!(n&Y4e)){var p=c&&SB.call(e,"__wrapped__"),h=f&&SB.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,g=h?t.value():t;return i||(i=new eE),a(m,g,n,r,i)}}return d?(i||(i=new eE),H4e(e,t,n,r,a,i)):!1}var J4e=K4e,Z4e=J4e,kB=$l;function VK(e,t,n,r,a){return e===t?!0:e==null||t==null||!kB(e)&&!kB(t)?e!==e&&t!==t:Z4e(e,t,n,r,VK,a)}var N$=VK,X4e=LK,e3e=N$,t3e=1,n3e=2;function r3e(e,t,n,r){var a=n.length,i=a,s=!r;if(e==null)return!i;for(e=Object(e);a--;){var o=n[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=n[a];var l=o[0],u=e[l],c=o[1];if(s&&o[2]){if(u===void 0&&!(l in e))return!1}else{var f=new X4e;if(r)var d=r(u,c,l,e,t,f);if(!(d===void 0?e3e(c,u,t3e|n3e,r,f):d))return!1}}return!0}var a3e=r3e,i3e=Ic;function s3e(e){return e===e&&!i3e(e)}var GK=s3e,o3e=GK,l3e=I$;function u3e(e){for(var t=l3e(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,o3e(a)]}return t}var c3e=u3e;function f3e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var HK=f3e,d3e=a3e,p3e=c3e,h3e=HK;function m3e(e){var t=p3e(e);return t.length==1&&t[0][2]?h3e(t[0][0],t[0][1]):function(n){return n===e||d3e(n,e,t)}}var g3e=m3e;function y3e(e,t){return e!=null&&t in Object(e)}var v3e=y3e,b3e=eK,w3e=S$,x3e=ri,S3e=k$,k3e=C$,C3e=vI;function I3e(e,t,n){t=b3e(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var s=C3e(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&k3e(a)&&S3e(s,a)&&(x3e(e)||w3e(e)))}var N3e=I3e,M3e=v3e,T3e=N3e;function E3e(e,t){return e!=null&&T3e(e,t,M3e)}var A3e=E3e,L3e=N$,_3e=tK,j3e=A3e,$3e=a$,D3e=GK,O3e=HK,R3e=vI,P3e=1,F3e=2;function z3e(e,t){return $3e(e)&&D3e(t)?O3e(R3e(e),t):function(n){var r=_3e(n,e);return r===void 0&&r===t?j3e(n,e):L3e(t,r,P3e|F3e)}}var B3e=z3e;function U3e(e){return e}var qg=U3e;function W3e(e){return function(t){return t==null?void 0:t[e]}}var V3e=W3e,G3e=f$;function H3e(e){return function(t){return G3e(t,e)}}var q3e=H3e,Y3e=V3e,Q3e=q3e,K3e=a$,J3e=vI;function Z3e(e){return K3e(e)?Y3e(J3e(e)):Q3e(e)}var X3e=Z3e,eAe=g3e,tAe=B3e,nAe=qg,rAe=ri,aAe=X3e;function iAe(e){return typeof e=="function"?e:e==null?nAe:typeof e=="object"?rAe(e)?tAe(e[0],e[1]):eAe(e):aAe(e)}var Yg=iAe;function sAe(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var oAe=sAe;function lAe(e){return e!==e}var uAe=lAe;function cAe(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var fAe=cAe,dAe=oAe,pAe=uAe,hAe=fAe;function mAe(e,t,n){return t===t?hAe(e,t,n):dAe(e,pAe,n)}var gAe=mAe,yAe=gAe;function vAe(e,t){var n=e==null?0:e.length;return!!n&&yAe(e,t,0)>-1}var bAe=vAe;function wAe(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var xAe=wAe;function SAe(){}var kAe=SAe,tE=UK,CAe=kAe,IAe=x$,NAe=1/0,MAe=tE&&1/IAe(new tE([,-0]))[1]==NAe?function(e){return new tE(e)}:CAe,TAe=MAe,EAe=_K,AAe=bAe,LAe=xAe,_Ae=$K,jAe=TAe,$Ae=x$,DAe=200;function OAe(e,t,n){var r=-1,a=AAe,i=e.length,s=!0,o=[],l=o;if(n)s=!1,a=LAe;else if(i>=DAe){var u=t?null:jAe(e);if(u)return $Ae(u);s=!1,a=_Ae,l=new EAe}else l=t?[]:o;e:for(;++r<i;){var c=e[r],f=t?t(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),o.push(c)}else a(l,f,n)||(l!==o&&l.push(f),o.push(c))}return o}var RAe=OAe,PAe=Yg,FAe=RAe;function zAe(e,t){return e&&e.length?FAe(e,PAe(t)):[]}var BAe=zAe;const CB=un(BAe);function qK(e,t,n){return t===!0?CB(e,n):gt(t)?CB(e,t):e}function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}var UAe=["ref"];function IB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IB(Object(n),!0).forEach(function(r){$I(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QK(r.key),r)}}function VAe(e,t,n){return t&&NB(e.prototype,t),n&&NB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GAe(e,t,n){return t=nk(t),HAe(e,YK()?Reflect.construct(t,n||[],nk(e).constructor):t.apply(e,n))}function HAe(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qAe(e)}function qAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YK=function(){return!!e})()}function nk(e){return nk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nk(e)}function YAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H3(e,t)}function H3(e,t){return H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},H3(e,t)}function $I(e,t,n){return t=QK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QK(e){var t=QAe(e,"string");return Pm(t)=="symbol"?t:t+""}function QAe(e,t){if(Pm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KAe(e,t){if(e==null)return{};var n=JAe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ZAe(e){return e.value}function XAe(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var n=KAe(t,UAe);return V.createElement(w$,n)}var MB=1,nm=function(e){function t(){var n;WAe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=GAe(this,t,[].concat(a)),$I(n,"lastBoundingBox",{width:-1,height:-1}),n}return YAe(t,e),VAe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>MB||Math.abs(a.height-this.lastBoundingBox.height)>MB)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,u=a.chartWidth,c=a.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var h=this.getBBoxSnapshot();d={top:((c||0)-h.height)/2}}else d=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Yo(Yo({},f),d)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,c=a.payload,f=Yo(Yo({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return V.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},XAe(i,Yo(Yo({},this.props),{},{payload:qK(c,u,ZAe)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Yo(Yo({},this.defaultProps),r.props),s=i.layout;return s==="vertical"&&Ne(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||a}:null}}])}(C.PureComponent);$I(nm,"displayName","Legend");$I(nm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var TB=zb,eLe=S$,tLe=ri,EB=TB?TB.isConcatSpreadable:void 0;function nLe(e){return tLe(e)||eLe(e)||!!(EB&&e&&e[EB])}var rLe=nLe,aLe=OK,iLe=rLe;function KK(e,t,n,r,a){var i=-1,s=e.length;for(n||(n=iLe),a||(a=[]);++i<s;){var o=e[i];t>0&&n(o)?t>1?KK(o,t-1,n,r,a):aLe(a,o):r||(a[a.length]=o)}return a}var JK=KK;function sLe(e){return function(t,n,r){for(var a=-1,i=Object(t),s=r(t),o=s.length;o--;){var l=s[e?o:++a];if(n(i[l],l,i)===!1)break}return t}}var oLe=sLe,lLe=oLe,uLe=lLe(),cLe=uLe,fLe=cLe,dLe=I$;function pLe(e,t){return e&&fLe(e,t,dLe)}var ZK=pLe,hLe=jI;function mLe(e,t){return function(n,r){if(n==null)return n;if(!hLe(n))return e(n,r);for(var a=n.length,i=t?a:-1,s=Object(n);(t?i--:++i<a)&&r(s[i],i,s)!==!1;);return n}}var gLe=mLe,yLe=ZK,vLe=gLe,bLe=vLe(yLe),M$=bLe,wLe=M$,xLe=jI;function SLe(e,t){var n=-1,r=xLe(e)?Array(e.length):[];return wLe(e,function(a,i,s){r[++n]=t(a,i,s)}),r}var XK=SLe;function kLe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var CLe=kLe,AB=Fg;function ILe(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=AB(e),s=t!==void 0,o=t===null,l=t===t,u=AB(t);if(!o&&!u&&!i&&e>t||i&&s&&l&&!o&&!u||r&&s&&l||!n&&l||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||o&&n&&a||!s&&a||!l)return-1}return 0}var NLe=ILe,MLe=NLe;function TLe(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,s=a.length,o=n.length;++r<s;){var l=MLe(a[r],i[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var ELe=TLe,nE=c$,ALe=f$,LLe=Yg,_Le=XK,jLe=CLe,$Le=FK,DLe=ELe,OLe=qg,RLe=ri;function PLe(e,t,n){t.length?t=nE(t,function(i){return RLe(i)?function(s){return ALe(s,i.length===1?i[0]:i)}:i}):t=[OLe];var r=-1;t=nE(t,$Le(LLe));var a=_Le(e,function(i,s,o){var l=nE(t,function(u){return u(i)});return{criteria:l,index:++r,value:i}});return jLe(a,function(i,s){return DLe(i,s,n)})}var FLe=PLe;function zLe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var BLe=zLe,ULe=BLe,LB=Math.max;function WLe(e,t,n){return t=LB(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=LB(r.length-t,0),s=Array(i);++a<i;)s[a]=r[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=r[a];return o[t]=n(s),ULe(e,this,o)}}var VLe=WLe;function GLe(e){return function(){return e}}var HLe=GLe,qLe=Id,YLe=function(){try{var e=qLe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),eJ=YLe,QLe=HLe,_B=eJ,KLe=qg,JLe=_B?function(e,t){return _B(e,"toString",{configurable:!0,enumerable:!1,value:QLe(t),writable:!0})}:KLe,ZLe=JLe,XLe=800,e_e=16,t_e=Date.now;function n_e(e){var t=0,n=0;return function(){var r=t_e(),a=e_e-(r-n);if(n=r,a>0){if(++t>=XLe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r_e=n_e,a_e=ZLe,i_e=r_e,s_e=i_e(a_e),o_e=s_e,l_e=qg,u_e=VLe,c_e=o_e;function f_e(e,t){return c_e(u_e(e,t,l_e),e+"")}var d_e=f_e,p_e=s$,h_e=jI,m_e=k$,g_e=Ic;function y_e(e,t,n){if(!g_e(n))return!1;var r=typeof t;return(r=="number"?h_e(n)&&m_e(t,n.length):r=="string"&&t in n)?p_e(n[t],e):!1}var DI=y_e,v_e=JK,b_e=FLe,w_e=d_e,jB=DI,x_e=w_e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&jB(e,t[0],t[1])?t=[]:n>2&&jB(t[0],t[1],t[2])&&(t=[t[0]]),b_e(e,v_e(t,1),[])}),S_e=x_e;const T$=un(S_e);function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function q3(){return q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q3.apply(this,arguments)}function k_e(e,t){return M_e(e)||N_e(e,t)||I_e(e,t)||C_e()}function C_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_e(e,t){if(e){if(typeof e=="string")return $B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $B(e,t)}}function $B(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function M_e(e){if(Array.isArray(e))return e}function DB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DB(Object(n),!0).forEach(function(r){T_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T_e(e,t,n){return t=E_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E_e(e){var t=A_e(e,"string");return yv(t)=="symbol"?t:t+""}function A_e(e,t){if(yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L_e(e){return Array.isArray(e)&&Sr(e[0])&&Sr(e[1])?e.join(" ~ "):e}var __e=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,u=l===void 0?{}:l,c=t.payload,f=t.formatter,d=t.itemSorter,p=t.wrapperClassName,h=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,v=y===void 0?!1:y,b=function(){if(c&&c.length){var M={padding:0,margin:0},j=(d?T$(c,d):c).map(function(D,F){if(D.type==="none")return null;var $=rE({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},o),B=D.formatter||f||L_e,O=D.value,P=D.name,W=O,H=P;if(B&&W!=null&&H!=null){var q=B(O,P,D,F,c);if(Array.isArray(q)){var J=k_e(q,2);W=J[0],H=J[1]}else W=q}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:$},Sr(H)?V.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Sr(H)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},W),V.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:M},j)}return null},x=rE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=rE({margin:0},u),k=!St(m),I=k?m:"",N=Mt("recharts-default-tooltip",p),T=Mt("recharts-tooltip-label",h);k&&g&&c!==void 0&&c!==null&&(I=g(m,c));var L=v?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",q3({className:N,style:x},L),V.createElement("p",{className:T,style:S},V.isValidElement(I)?I:"".concat(I)),b())};function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function Wx(e,t,n){return t=j_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_e(e){var t=$_e(e,"string");return vv(t)=="symbol"?t:t+""}function $_e(e,t){if(vv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F1="recharts-tooltip-wrapper",D_e={visibility:"hidden"};function O_e(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Mt(F1,Wx(Wx(Wx(Wx({},"".concat(F1,"-right"),Ne(n)&&t&&Ne(t.x)&&n>=t.x),"".concat(F1,"-left"),Ne(n)&&t&&Ne(t.x)&&n<t.x),"".concat(F1,"-bottom"),Ne(r)&&t&&Ne(t.y)&&r>=t.y),"".concat(F1,"-top"),Ne(r)&&t&&Ne(t.y)&&r<t.y))}function OB(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&Ne(i[r]))return i[r];var c=n[r]-o-a,f=n[r]+a;if(t[r])return s[r]?c:f;if(s[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var h=f+o,m=l[r]+u;return h>m?Math.max(c,l[r]):Math.max(f,l[r])}function R_e(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function P_e(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=OB({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=OB({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=R_e({translateX:c,translateY:f,useTranslate3d:o})):u=D_e,{cssProperties:u,cssClasses:O_e({translateX:c,translateY:f,coordinate:n})}}function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function RB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RB(Object(n),!0).forEach(function(r){Q3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nJ(r.key),r)}}function B_e(e,t,n){return t&&z_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U_e(e,t,n){return t=rk(t),W_e(e,tJ()?Reflect.construct(t,n||[],rk(e).constructor):t.apply(e,n))}function W_e(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V_e(e)}function V_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tJ=function(){return!!e})()}function rk(e){return rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rk(e)}function G_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y3(e,t)}function Y3(e,t){return Y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Y3(e,t)}function Q3(e,t,n){return t=nJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nJ(e){var t=H_e(e,"string");return Fm(t)=="symbol"?t:t+""}function H_e(e,t){if(Fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FB=1,q_e=function(e){function t(){var n;F_e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=U_e(this,t,[].concat(a)),Q3(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Q3(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return G_e(t,e),B_e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>FB||Math.abs(r.height-this.state.lastBoundingBox.height)>FB)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.children,c=a.coordinate,f=a.hasPayload,d=a.isAnimationActive,p=a.offset,h=a.position,m=a.reverseDirection,g=a.useTranslate3d,y=a.viewBox,v=a.wrapperStyle,b=P_e({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:h,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),x=b.cssClasses,S=b.cssProperties,k=PB(PB({transition:d&&i?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return V.createElement("div",{tabIndex:-1,className:x,style:k,ref:function(N){r.wrapperNode=N}},u)}}])}(C.PureComponent),Y_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dl={isSsr:Y_e(),get:function(t){return dl[t]},set:function(t,n){if(typeof t=="string")dl[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){dl[a]=t[a]})}}};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function zB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zB(Object(n),!0).forEach(function(r){E$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aJ(r.key),r)}}function J_e(e,t,n){return t&&K_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z_e(e,t,n){return t=ak(t),X_e(e,rJ()?Reflect.construct(t,n||[],ak(e).constructor):t.apply(e,n))}function X_e(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eje(e)}function eje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rJ=function(){return!!e})()}function ak(e){return ak=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ak(e)}function tje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K3(e,t)}function K3(e,t){return K3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},K3(e,t)}function E$(e,t,n){return t=aJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e){var t=nje(e,"string");return zm(t)=="symbol"?t:t+""}function nje(e,t){if(zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rje(e){return e.dataKey}function aje(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(__e,t)}var Zo=function(e){function t(){return Q_e(this,t),Z_e(this,t,arguments)}return tje(t,e),J_e(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.content,c=a.coordinate,f=a.filterNull,d=a.isAnimationActive,p=a.offset,h=a.payload,m=a.payloadUniqBy,g=a.position,y=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,S=h??[];f&&S.length&&(S=qK(h.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),m,rje));var k=S.length>0;return V.createElement(q_e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:i,coordinate:c,hasPayload:k,offset:p,position:g,reverseDirection:y,useTranslate3d:v,viewBox:b,wrapperStyle:x},aje(u,BB(BB({},this.props),{},{payload:S})))}}])}(C.PureComponent);E$(Zo,"displayName","Tooltip");E$(Zo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ije=Po,sje=function(){return ije.Date.now()},oje=sje,lje=/\s/;function uje(e){for(var t=e.length;t--&&lje.test(e.charAt(t)););return t}var cje=uje,fje=cje,dje=/^\s+/;function pje(e){return e&&e.slice(0,fje(e)+1).replace(dje,"")}var hje=pje,mje=hje,UB=Ic,gje=Fg,WB=NaN,yje=/^[-+]0x[0-9a-f]+$/i,vje=/^0b[01]+$/i,bje=/^0o[0-7]+$/i,wje=parseInt;function xje(e){if(typeof e=="number")return e;if(gje(e))return WB;if(UB(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=UB(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mje(e);var n=vje.test(e);return n||bje.test(e)?wje(e.slice(2),n?2:8):yje.test(e)?WB:+e}var iJ=xje,Sje=Ic,aE=oje,VB=iJ,kje="Expected a function",Cje=Math.max,Ije=Math.min;function Nje(e,t,n){var r,a,i,s,o,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(kje);t=VB(t)||0,Sje(n)&&(c=!!n.leading,f="maxWait"in n,i=f?Cje(VB(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d);function p(k){var I=r,N=a;return r=a=void 0,u=k,s=e.apply(N,I),s}function h(k){return u=k,o=setTimeout(y,t),c?p(k):s}function m(k){var I=k-l,N=k-u,T=t-I;return f?Ije(T,i-N):T}function g(k){var I=k-l,N=k-u;return l===void 0||I>=t||I<0||f&&N>=i}function y(){var k=aE();if(g(k))return v(k);o=setTimeout(y,m(k))}function v(k){return o=void 0,d&&r?p(k):(r=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,r=l=a=o=void 0}function x(){return o===void 0?s:v(aE())}function S(){var k=aE(),I=g(k);if(r=arguments,a=this,l=k,I){if(o===void 0)return h(l);if(f)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return S.cancel=b,S.flush=x,S}var Mje=Nje,Tje=Mje,Eje=Ic,Aje="Expected a function";function Lje(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(Aje);return Eje(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Tje(e,t,{leading:r,maxWait:t,trailing:a})}var _je=Lje;const sJ=un(_je);function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GB(Object(n),!0).forEach(function(r){jje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jje(e,t,n){return t=$je(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $je(e){var t=Dje(e,"string");return bv(t)=="symbol"?t:t+""}function Dje(e,t){if(bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oje(e,t){return zje(e)||Fje(e,t)||Pje(e,t)||Rje()}function Rje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pje(e,t){if(e){if(typeof e=="string")return HB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HB(e,t)}}function HB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function zje(e){if(Array.isArray(e))return e}var Bje=C.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,u=e.minWidth,c=u===void 0?0:u,f=e.minHeight,d=e.maxHeight,p=e.children,h=e.debounce,m=h===void 0?0:h,g=e.id,y=e.className,v=e.onResize,b=e.style,x=b===void 0?{}:b,S=C.useRef(null),k=C.useRef();k.current=v,C.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var I=C.useState({containerWidth:a.width,containerHeight:a.height}),N=Oje(I,2),T=N[0],L=N[1],E=C.useCallback(function(j,D){L(function(F){var $=Math.round(j),B=Math.round(D);return F.containerWidth===$&&F.containerHeight===B?F:{containerWidth:$,containerHeight:B}})},[]);C.useEffect(function(){var j=function(P){var W,H=P[0].contentRect,q=H.width,J=H.height;E(q,J),(W=k.current)===null||W===void 0||W.call(k,q,J)};m>0&&(j=sJ(j,m,{trailing:!0,leading:!1}));var D=new ResizeObserver(j),F=S.current.getBoundingClientRect(),$=F.width,B=F.height;return E($,B),D.observe(S.current),function(){D.disconnect()}},[E,m]);var M=C.useMemo(function(){var j=T.containerWidth,D=T.containerHeight;if(j<0||D<0)return null;$f(gf(s)||gf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),$f(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=gf(s)?j:s,$=gf(l)?D:l;n&&n>0&&(F?$=F/n:$&&(F=$*n),d&&$>d&&($=d)),$f(F>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,$,s,l,c,f,n);var B=!Array.isArray(p)&&fl(p.type).endsWith("Chart");return V.Children.map(p,function(O){return V.isValidElement(O)?C.cloneElement(O,Vx({width:F,height:$},B?{style:Vx({height:"100%",width:"100%",maxHeight:$,maxWidth:F},O.props.style)}:{})):O})},[n,p,l,d,f,c,T,s]);return V.createElement("div",{id:g?"".concat(g):void 0,className:Mt("recharts-responsive-container",y),style:Vx(Vx({},x),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:S},M)}),oJ=function(t){return null};oJ.displayName="Cell";function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function qB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qB(Object(n),!0).forEach(function(r){Uje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uje(e,t,n){return t=Wje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wje(e){var t=Vje(e,"string");return wv(t)=="symbol"?t:t+""}function Vje(e,t){if(wv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wh={widthCache:{},cacheCount:0},Gje=2e3,Hje={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YB="recharts_measurement_span";function qje(e){var t=J3({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var _y=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||dl.isSsr)return{width:0,height:0};var r=qje(n),a=JSON.stringify({text:t,copyStyle:r});if(wh.widthCache[a])return wh.widthCache[a];try{var i=document.getElementById(YB);i||(i=document.createElement("span"),i.setAttribute("id",YB),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=J3(J3({},Hje),r);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return wh.widthCache[a]=l,++wh.cacheCount>Gje&&(wh.cacheCount=0,wh.widthCache={}),l}catch{return{width:0,height:0}}},Yje=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}function ik(e,t){return Zje(e)||Jje(e,t)||Kje(e,t)||Qje()}function Qje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kje(e,t){if(e){if(typeof e=="string")return QB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QB(e,t)}}function QB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Zje(e){if(Array.isArray(e))return e}function Xje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t$e(r.key),r)}}function e$e(e,t,n){return t&&KB(e.prototype,t),n&&KB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t$e(e){var t=n$e(e,"string");return xv(t)=="symbol"?t:t+""}function n$e(e,t){if(xv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,a$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},i$e=Object.keys(lJ),Uh="NaN";function s$e(e,t){return e*lJ[t]}var Gx=function(){function e(t,n){Xje(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!r$e.test(n)&&(this.num=NaN,this.unit=""),i$e.includes(n)&&(this.num=s$e(t,n),this.unit="px")}return e$e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=a$e.exec(n))!==null&&r!==void 0?r:[],i=ik(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function uJ(e){if(e.includes(Uh))return Uh;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=JB.exec(t))!==null&&n!==void 0?n:[],a=ik(r,4),i=a[1],s=a[2],o=a[3],l=Gx.parse(i??""),u=Gx.parse(o??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Uh;t=t.replace(JB,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,d=(f=ZB.exec(t))!==null&&f!==void 0?f:[],p=ik(d,4),h=p[1],m=p[2],g=p[3],y=Gx.parse(h??""),v=Gx.parse(g??""),b=m==="+"?y.add(v):y.subtract(v);if(b.isNaN())return Uh;t=t.replace(ZB,b.toString())}return t}var XB=/\(([^()]*)\)/;function o$e(e){for(var t=e;t.includes("(");){var n=XB.exec(t),r=ik(n,2),a=r[1];t=t.replace(XB,uJ(a))}return t}function l$e(e){var t=e.replace(/\s+/g,"");return t=o$e(t),t=uJ(t),t}function u$e(e){try{return l$e(e)}catch{return Uh}}function iE(e){var t=u$e(e.slice(5,-1));return t===Uh?"":t}var c$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],f$e=["dx","dy","angle","className","breakAll"];function Z3(){return Z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z3.apply(this,arguments)}function e5(e,t){if(e==null)return{};var n=d$e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function t5(e,t){return g$e(e)||m$e(e,t)||h$e(e,t)||p$e()}function p$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$e(e,t){if(e){if(typeof e=="string")return n5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n5(e,t)}}function n5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function g$e(e){if(Array.isArray(e))return e}var cJ=/[ \f\n\r\t\v\u2028\u2029]+/,fJ=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];St(n)||(r?i=n.toString().split(""):i=n.toString().split(cJ));var s=i.map(function(l){return{word:l,width:_y(l,a).width}}),o=r?0:_y("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},y$e=function(t,n,r,a,i){var s=t.maxLines,o=t.children,l=t.style,u=t.breakAll,c=Ne(s),f=o,d=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function($,B){var O=B.word,P=B.width,W=$[$.length-1];if(W&&(a==null||i||W.width+P+r<Number(a)))W.words.push(O),W.width+=P+r;else{var H={words:[O],width:P};$.push(H)}return $},[])},p=d(n),h=function(F){return F.reduce(function($,B){return $.width>B.width?$:B})};if(!c)return p;for(var m="",g=function(F){var $=f.slice(0,F),B=fJ({breakAll:u,style:l,children:$+m}).wordsWithComputedWidth,O=d(B),P=O.length>s||h(O).width>Number(a);return[P,O]},y=0,v=f.length-1,b=0,x;y<=v&&b<=f.length-1;){var S=Math.floor((y+v)/2),k=S-1,I=g(k),N=t5(I,2),T=N[0],L=N[1],E=g(S),M=t5(E,1),j=M[0];if(!T&&!j&&(y=S+1),T&&j&&(v=S-1),!T&&j){x=L;break}b++}return x||p},r5=function(t){var n=St(t)?[]:t.toString().split(cJ);return[{words:n}]},v$e=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((n||r)&&!dl.isSsr){var l,u,c=fJ({breakAll:s,children:a,style:i});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return r5(a);return y$e({breakAll:s,children:a,maxLines:o,style:i},l,u,n,r)}return r5(a)},a5="#808080",sk=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,u=l===void 0?"0.71em":l,c=t.scaleToFit,f=c===void 0?!1:c,d=t.textAnchor,p=d===void 0?"start":d,h=t.verticalAnchor,m=h===void 0?"end":h,g=t.fill,y=g===void 0?a5:g,v=e5(t,c$e),b=C.useMemo(function(){return v$e({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),x=v.dx,S=v.dy,k=v.angle,I=v.className,N=v.breakAll,T=e5(v,f$e);if(!Sr(r)||!Sr(i))return null;var L=r+(Ne(x)?x:0),E=i+(Ne(S)?S:0),M;switch(m){case"start":M=iE("calc(".concat(u,")"));break;case"middle":M=iE("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:M=iE("calc(".concat(b.length-1," * -").concat(o,")"));break}var j=[];if(f){var D=b[0].width,F=v.width;j.push("scale(".concat((Ne(F)?F/D:1)/D,")"))}return k&&j.push("rotate(".concat(k,", ").concat(L,", ").concat(E,")")),j.length&&(T.transform=j.join(" ")),V.createElement("text",Z3({},xt(T,!0),{x:L,y:E,className:Mt("recharts-text",I),textAnchor:p,fill:y.includes("url")?a5:y}),b.map(function($,B){var O=$.words.join(N?"":" ");return V.createElement("tspan",{x:L,dy:B===0?M:o,key:"".concat(O,"-").concat(B)},O)}))};function Yu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function b$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function A$(e){let t,n,r;e.length!==2?(t=Yu,n=(o,l)=>Yu(e(o),l),r=(o,l)=>e(o)-l):(t=e===Yu||e===b$e?e:w$e,n=e,r=e);function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=a(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function w$e(){return 0}function dJ(e){return e===null?NaN:+e}function*x$e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const S$e=A$(Yu),Ub=S$e.right;A$(dJ).center;class i5 extends Map{constructor(t,n=I$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(s5(this,t))}has(t){return super.has(s5(this,t))}set(t,n){return super.set(k$e(this,t),n)}delete(t){return super.delete(C$e(this,t))}}function s5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function k$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function C$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function I$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N$e(e=Yu){if(e===Yu)return pJ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function pJ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const M$e=Math.sqrt(50),T$e=Math.sqrt(10),E$e=Math.sqrt(2);function ok(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=M$e?10:i>=T$e?5:i>=E$e?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?ok(e,t,n*2):[o,l,u]}function X3(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,s]=r?ok(t,e,n):ok(e,t,n);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(i-u)/-s;else for(let u=0;u<o;++u)l[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(a+u)/-s;else for(let u=0;u<o;++u)l[u]=(a+u)*s;return l}function eA(e,t,n){return t=+t,e=+e,n=+n,ok(e,t,n)[2]}function tA(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?eA(t,e,n):eA(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function o5(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function l5(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hJ(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?pJ:N$e(a);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+d)),h=Math.min(r,Math.floor(t+(l-u)*f/l+d));hJ(e,t,p,h,a)}const i=e[t];let s=n,o=r;for(z1(e,n,t),a(e[r],i)>0&&z1(e,n,r);s<o;){for(z1(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[n],i)===0?z1(e,n,o):(++o,z1(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function z1(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function A$e(e,t,n){if(e=Float64Array.from(x$e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return l5(e);if(t>=1)return o5(e);var r,a=(r-1)*t,i=Math.floor(a),s=o5(hJ(e,i).subarray(0,i+1)),o=l5(e.subarray(i+1));return s+(o-s)*(a-i)}}function L$e(e,t,n=dJ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),s=+n(e[i],i,e),o=+n(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function _$e(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function ls(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nA=Symbol("implicit");function L$(){var e=new i5,t=[],n=[],r=nA;function a(i){let s=e.get(i);if(s===void 0){if(r!==nA)return r;e.set(i,s=t.push(i)-1)}return n[s%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new i5;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return L$(t,n).unknown(r)},ls.apply(a,arguments),a}function Sv(){var e=L$().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,p=a<r,h=p?a:r,m=p?r:a;i=(m-h)/Math.max(1,d-l+u*2),o&&(i=Math.floor(i)),h+=(m-h-i*(d-l))*c,s=i*(1-l),o&&(h=Math.round(h),s=Math.round(s));var g=_$e(d).map(function(y){return h+i*y});return n(p?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,a]=d,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(d){return[r,a]=d,r=+r,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(d){return arguments.length?(o=!!d,f()):o},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return Sv(t(),[r,a]).round(o).paddingInner(l).paddingOuter(u).align(c)},ls.apply(f(),arguments)}function mJ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mJ(t())},e}function jy(){return mJ(Sv.apply(null,arguments).paddingInner(1))}function _$(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gJ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Wb(){}var kv=.7,lk=1/kv,rm="\\s*([+-]?\\d+)\\s*",Cv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j$e=/^#([0-9a-f]{3,8})$/,$$e=new RegExp(`^rgb\\(${rm},${rm},${rm}\\)$`),D$e=new RegExp(`^rgb\\(${Co},${Co},${Co}\\)$`),O$e=new RegExp(`^rgba\\(${rm},${rm},${rm},${Cv}\\)$`),R$e=new RegExp(`^rgba\\(${Co},${Co},${Co},${Cv}\\)$`),P$e=new RegExp(`^hsl\\(${Cv},${Co},${Co}\\)$`),F$e=new RegExp(`^hsla\\(${Cv},${Co},${Co},${Cv}\\)$`),u5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_$(Wb,Iv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c5,formatHex:c5,formatHex8:z$e,formatHsl:B$e,formatRgb:f5,toString:f5});function c5(){return this.rgb().formatHex()}function z$e(){return this.rgb().formatHex8()}function B$e(){return yJ(this).formatHsl()}function f5(){return this.rgb().formatRgb()}function Iv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=j$e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?d5(t):n===3?new Ga(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$$e.exec(e))?new Ga(t[1],t[2],t[3],1):(t=D$e.exec(e))?new Ga(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=O$e.exec(e))?Hx(t[1],t[2],t[3],t[4]):(t=R$e.exec(e))?Hx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=P$e.exec(e))?m5(t[1],t[2]/100,t[3]/100,1):(t=F$e.exec(e))?m5(t[1],t[2]/100,t[3]/100,t[4]):u5.hasOwnProperty(e)?d5(u5[e]):e==="transparent"?new Ga(NaN,NaN,NaN,0):null}function d5(e){return new Ga(e>>16&255,e>>8&255,e&255,1)}function Hx(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ga(e,t,n,r)}function U$e(e){return e instanceof Wb||(e=Iv(e)),e?(e=e.rgb(),new Ga(e.r,e.g,e.b,e.opacity)):new Ga}function rA(e,t,n,r){return arguments.length===1?U$e(e):new Ga(e,t,n,r??1)}function Ga(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_$(Ga,rA,gJ(Wb,{brighter(e){return e=e==null?lk:Math.pow(lk,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kv:Math.pow(kv,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ga(Df(this.r),Df(this.g),Df(this.b),uk(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p5,formatHex:p5,formatHex8:W$e,formatRgb:h5,toString:h5}));function p5(){return`#${yf(this.r)}${yf(this.g)}${yf(this.b)}`}function W$e(){return`#${yf(this.r)}${yf(this.g)}${yf(this.b)}${yf((isNaN(this.opacity)?1:this.opacity)*255)}`}function h5(){const e=uk(this.opacity);return`${e===1?"rgb(":"rgba("}${Df(this.r)}, ${Df(this.g)}, ${Df(this.b)}${e===1?")":`, ${e})`}`}function uk(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Df(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yf(e){return e=Df(e),(e<16?"0":"")+e.toString(16)}function m5(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new As(e,t,n,r)}function yJ(e){if(e instanceof As)return new As(e.h,e.s,e.l,e.opacity);if(e instanceof Wb||(e=Iv(e)),!e)return new As;if(e instanceof As)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(n-r)/o+(n<r)*6:n===i?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new As(s,o,l,e.opacity)}function V$e(e,t,n,r){return arguments.length===1?yJ(e):new As(e,t,n,r??1)}function As(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_$(As,V$e,gJ(Wb,{brighter(e){return e=e==null?lk:Math.pow(lk,e),new As(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kv:Math.pow(kv,e),new As(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ga(sE(e>=240?e-240:e+120,a,r),sE(e,a,r),sE(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new As(g5(this.h),qx(this.s),qx(this.l),uk(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uk(this.opacity);return`${e===1?"hsl(":"hsla("}${g5(this.h)}, ${qx(this.s)*100}%, ${qx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function g5(e){return e=(e||0)%360,e<0?e+360:e}function qx(e){return Math.max(0,Math.min(1,e||0))}function sE(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const j$=e=>()=>e;function G$e(e,t){return function(n){return e+n*t}}function H$e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function q$e(e){return(e=+e)==1?vJ:function(t,n){return n-t?H$e(t,n,e):j$(isNaN(t)?n:t)}}function vJ(e,t){var n=t-e;return n?G$e(e,n):j$(isNaN(e)?t:e)}const y5=function e(t){var n=q$e(t);function r(a,i){var s=n((a=rA(a)).r,(i=rA(i)).r),o=n(a.g,i.g),l=n(a.b,i.b),u=vJ(a.opacity,i.opacity);return function(c){return a.r=s(c),a.g=o(c),a.b=l(c),a.opacity=u(c),a+""}}return r.gamma=e,r}(1);function Y$e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Q$e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function K$e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=Qg(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(o){for(s=0;s<r;++s)i[s]=a[s](o);return i}}function J$e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ck(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Z$e(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Qg(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var aA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oE=new RegExp(aA.source,"g");function X$e(e){return function(){return e}}function eDe(e){return function(t){return e(t)+""}}function tDe(e,t){var n=aA.lastIndex=oE.lastIndex=0,r,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=aA.exec(e))&&(a=oE.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:ck(r,a)})),n=oE.lastIndex;return n<t.length&&(i=t.slice(n),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?eDe(l[0].x):X$e(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function Qg(e,t){var n=typeof t,r;return t==null||n==="boolean"?j$(t):(n==="number"?ck:n==="string"?(r=Iv(t))?(t=r,y5):tDe:t instanceof Iv?y5:t instanceof Date?J$e:Q$e(t)?Y$e:Array.isArray(t)?K$e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Z$e:ck)(e,t)}function $$(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function nDe(e,t){t===void 0&&(t=e,e=Qg);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return i[o](s-o)}}function rDe(e){return function(){return e}}function fk(e){return+e}var v5=[0,1];function Sa(e){return e}function iA(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rDe(isNaN(t)?NaN:.5)}function aDe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function iDe(e,t,n){var r=e[0],a=e[1],i=t[0],s=t[1];return a<r?(r=iA(a,r),i=n(s,i)):(r=iA(r,a),i=n(i,s)),function(o){return i(r(o))}}function sDe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=iA(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(o){var l=Ub(e,o,1,r)-1;return i[l](a[l](o))}}function Vb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function OI(){var e=v5,t=v5,n=Qg,r,a,i,s=Sa,o,l,u;function c(){var d=Math.min(e.length,t.length);return s!==Sa&&(s=aDe(e[0],e[d-1])),o=d>2?sDe:iDe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?i:(l||(l=o(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(a((u||(u=o(t,e.map(r),ck)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,fk),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=$$,c()},f.clamp=function(d){return arguments.length?(s=d?!0:Sa,c()):s!==Sa},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(i=d,f):i},function(d,p){return r=d,a=p,c()}}function D$(){return OI()(Sa,Sa)}function oDe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dk(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Bm(e){return e=dk(Math.abs(e)),e?e[1]:NaN}function lDe(e,t){return function(n,r){for(var a=n.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(n.substring(a-=o,a+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function uDe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var cDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nv(e){if(!(t=cDe.exec(e)))throw new Error("invalid format: "+e);var t;return new O$({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nv.prototype=O$.prototype;function O$(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}O$.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fDe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var bJ;function dDe(e,t){var n=dk(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(bJ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+dk(e,Math.max(0,t+i-1))[0]}function b5(e,t){var n=dk(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const w5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oDe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>b5(e*100,t),r:b5,s:dDe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function x5(e){return e}var S5=Array.prototype.map,k5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pDe(e){var t=e.grouping===void 0||e.thousands===void 0?x5:lDe(S5.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?x5:uDe(S5.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Nv(f);var d=f.fill,p=f.align,h=f.sign,m=f.symbol,g=f.zero,y=f.width,v=f.comma,b=f.precision,x=f.trim,S=f.type;S==="n"?(v=!0,S="g"):w5[S]||(b===void 0&&(b=12),x=!0,S="g"),(g||d==="0"&&p==="=")&&(g=!0,d="0",p="=");var k=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",I=m==="$"?r:/[%p]/.test(S)?s:"",N=w5[S],T=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function L(E){var M=k,j=I,D,F,$;if(S==="c")j=N(E)+j,E="";else{E=+E;var B=E<0||1/E<0;if(E=isNaN(E)?l:N(Math.abs(E),b),x&&(E=fDe(E)),B&&+E==0&&h!=="+"&&(B=!1),M=(B?h==="("?h:o:h==="-"||h==="("?"":h)+M,j=(S==="s"?k5[8+bJ/3]:"")+j+(B&&h==="("?")":""),T){for(D=-1,F=E.length;++D<F;)if($=E.charCodeAt(D),48>$||$>57){j=($===46?a+E.slice(D+1):E.slice(D))+j,E=E.slice(0,D);break}}}v&&!g&&(E=t(E,1/0));var O=M.length+E.length+j.length,P=O<y?new Array(y-O+1).join(d):"";switch(v&&g&&(E=t(P+E,P.length?y-j.length:1/0),P=""),p){case"<":E=M+E+j+P;break;case"=":E=M+P+E+j;break;case"^":E=P.slice(0,O=P.length>>1)+M+E+j+P.slice(O);break;default:E=P+M+E+j;break}return i(E)}return L.toString=function(){return f+""},L}function c(f,d){var p=u((f=Nv(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(Bm(d)/3)))*3,m=Math.pow(10,-h),g=k5[8+h/3];return function(y){return p(m*y)+g}}return{format:u,formatPrefix:c}}var Yx,R$,wJ;hDe({thousands:",",grouping:[3],currency:["$",""]});function hDe(e){return Yx=pDe(e),R$=Yx.format,wJ=Yx.formatPrefix,Yx}function mDe(e){return Math.max(0,-Bm(Math.abs(e)))}function gDe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bm(t)/3)))*3-Bm(Math.abs(e)))}function yDe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bm(t)-Bm(e))+1}function xJ(e,t,n,r){var a=tA(e,t,n),i;switch(r=Nv(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=gDe(a,s))&&(r.precision=i),wJ(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=yDe(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=mDe(a))&&(r.precision=i-(r.type==="%")*2);break}}return R$(r)}function Nc(e){var t=e.domain;return e.ticks=function(n){var r=t();return X3(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return xJ(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,s=r[a],o=r[i],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);c-- >0;){if(u=eA(s,o,n),u===l)return r[a]=s,r[i]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function pk(){var e=D$();return e.copy=function(){return Vb(e,pk())},ls.apply(e,arguments),Nc(e)}function SJ(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,fk),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return SJ(e).unknown(t)},e=arguments.length?Array.from(e,fk):[0,1],Nc(n)}function kJ(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],s;return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),e[n]=t.floor(a),e[r]=t.ceil(i),e}function C5(e){return Math.log(e)}function I5(e){return Math.exp(e)}function vDe(e){return-Math.log(-e)}function bDe(e){return-Math.exp(-e)}function wDe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xDe(e){return e===10?wDe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function SDe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function N5(e){return(t,n)=>-e(-t,n)}function P$(e){const t=e(C5,I5),n=t.domain;let r=10,a,i;function s(){return a=SDe(r),i=xDe(r),n()[0]<0?(a=N5(a),i=N5(i),e(vDe,bDe)):e(C5,I5),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=a(u),p=a(c),h,m;const g=o==null?10:+o;let y=[];if(!(r%1)&&p-d<g){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(h=1;h<r;++h)if(m=d<0?h/i(-d):h*i(d),!(m<u)){if(m>c)break;y.push(m)}}else for(;d<=p;++d)for(h=r-1;h>=1;--h)if(m=d>0?h/i(-d):h*i(d),!(m<u)){if(m>c)break;y.push(m)}y.length*2<g&&(y=X3(u,c,g))}else y=X3(d,p,Math.min(p-d,g)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Nv(l)).precision==null&&(l.trim=!0),l=R$(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let f=c/i(Math.round(a(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(kJ(n(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function CJ(){const e=P$(OI()).domain([1,10]);return e.copy=()=>Vb(e,CJ()).base(e.base()),ls.apply(e,arguments),e}function M5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function T5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function F$(e){var t=1,n=e(M5(t),T5(t));return n.constant=function(r){return arguments.length?e(M5(t=+r),T5(t)):t},Nc(n)}function IJ(){var e=F$(OI());return e.copy=function(){return Vb(e,IJ()).constant(e.constant())},ls.apply(e,arguments)}function E5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kDe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CDe(e){return e<0?-e*e:e*e}function z$(e){var t=e(Sa,Sa),n=1;function r(){return n===1?e(Sa,Sa):n===.5?e(kDe,CDe):e(E5(n),E5(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Nc(t)}function B$(){var e=z$(OI());return e.copy=function(){return Vb(e,B$()).exponent(e.exponent())},ls.apply(e,arguments),e}function IDe(){return B$.apply(null,arguments).exponent(.5)}function A5(e){return Math.sign(e)*e*e}function NDe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function NJ(){var e=D$(),t=[0,1],n=!1,r;function a(i){var s=NDe(e(i));return isNaN(s)?r:n?Math.round(s):s}return a.invert=function(i){return e.invert(A5(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,fk)).map(A5)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return NJ(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ls.apply(a,arguments),Nc(a)}function MJ(){var e=[],t=[],n=[],r;function a(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=L$e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?r:t[Ub(n,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Yu),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return MJ().domain(e).range(t).unknown(r)},ls.apply(i,arguments)}function TJ(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Ub(r,l,0,n)]:i}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return TJ().domain([e,t]).range(a).unknown(i)},ls.apply(Nc(s),arguments)}function EJ(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Ub(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return EJ().domain(e).range(t).unknown(n)},ls.apply(a,arguments)}const lE=new Date,uE=new Date;function Mr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let u;do l.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return l},a.filter=i=>Mr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),n&&(a.count=(i,s)=>(lE.setTime(+i),uE.setTime(+s),e(lE),e(uE),Math.floor(n(lE,uE))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?s=>r(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const hk=Mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hk.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):hk);hk.range;const ll=1e3,Ki=ll*60,ul=Ki*60,Cl=ul*24,U$=Cl*7,L5=Cl*30,cE=Cl*365,vf=Mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ll)},(e,t)=>(t-e)/ll,e=>e.getUTCSeconds());vf.range;const W$=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ll)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getMinutes());W$.range;const V$=Mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCMinutes());V$.range;const G$=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ll-e.getMinutes()*Ki)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getHours());G$.range;const H$=Mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getUTCHours());H$.range;const Gb=Mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ki)/Cl,e=>e.getDate()-1);Gb.range;const RI=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cl,e=>e.getUTCDate()-1);RI.range;const AJ=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cl,e=>Math.floor(e/Cl));AJ.range;function Nd(e){return Mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ki)/U$)}const PI=Nd(0),mk=Nd(1),MDe=Nd(2),TDe=Nd(3),Um=Nd(4),EDe=Nd(5),ADe=Nd(6);PI.range;mk.range;MDe.range;TDe.range;Um.range;EDe.range;ADe.range;function Md(e){return Mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/U$)}const FI=Md(0),gk=Md(1),LDe=Md(2),_De=Md(3),Wm=Md(4),jDe=Md(5),$De=Md(6);FI.range;gk.range;LDe.range;_De.range;Wm.range;jDe.range;$De.range;const q$=Mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());q$.range;const Y$=Mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Y$.range;const Il=Mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Il.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Il.range;const Nl=Mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Nl.range;function LJ(e,t,n,r,a,i){const s=[[vf,1,ll],[vf,5,5*ll],[vf,15,15*ll],[vf,30,30*ll],[i,1,Ki],[i,5,5*Ki],[i,15,15*Ki],[i,30,30*Ki],[a,1,ul],[a,3,3*ul],[a,6,6*ul],[a,12,12*ul],[r,1,Cl],[r,2,2*Cl],[n,1,U$],[t,1,L5],[t,3,3*L5],[e,1,cE]];function o(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),h=p?p.range(u,+c+1):[];return d?h.reverse():h}function l(u,c,f){const d=Math.abs(c-u)/f,p=A$(([,,g])=>g).right(s,d);if(p===s.length)return e.every(tA(u/cE,c/cE,f));if(p===0)return hk.every(Math.max(tA(u,c,f),1));const[h,m]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return h.every(m)}return[o,l]}const[DDe,ODe]=LJ(Nl,Y$,FI,AJ,H$,V$),[RDe,PDe]=LJ(Il,q$,PI,Gb,G$,W$);function fE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function B1(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function FDe(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=U1(a),c=W1(a),f=U1(i),d=W1(i),p=U1(s),h=W1(s),m=U1(o),g=W1(o),y=U1(l),v=W1(l),b={a:B,A:O,b:P,B:W,c:null,d:R5,e:R5,f:lOe,g:vOe,G:wOe,H:iOe,I:sOe,j:oOe,L:_J,m:uOe,M:cOe,p:H,q,Q:z5,s:B5,S:fOe,u:dOe,U:pOe,V:hOe,w:mOe,W:gOe,x:null,X:null,y:yOe,Y:bOe,Z:xOe,"%":F5},x={a:J,A:re,b:ce,B:ye,c:null,d:P5,e:P5,f:IOe,g:DOe,G:ROe,H:SOe,I:kOe,j:COe,L:$J,m:NOe,M:MOe,p:he,q:me,Q:z5,s:B5,S:TOe,u:EOe,U:AOe,V:LOe,w:_Oe,W:jOe,x:null,X:null,y:$Oe,Y:OOe,Z:POe,"%":F5},S={a:L,A:E,b:M,B:j,c:D,d:D5,e:D5,f:tOe,g:$5,G:j5,H:O5,I:O5,j:JDe,L:eOe,m:KDe,M:ZDe,p:T,q:QDe,Q:rOe,s:aOe,S:XDe,u:VDe,U:GDe,V:HDe,w:WDe,W:qDe,x:F,X:$,y:$5,Y:j5,Z:YDe,"%":nOe};b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x);function k(se,ge){return function(we){var oe=[],Be=-1,Te=0,We=se.length,Le,Ye,ot;for(we instanceof Date||(we=new Date(+we));++Be<We;)se.charCodeAt(Be)===37&&(oe.push(se.slice(Te,Be)),(Ye=_5[Le=se.charAt(++Be)])!=null?Le=se.charAt(++Be):Ye=Le==="e"?" ":"0",(ot=ge[Le])&&(Le=ot(we,Ye)),oe.push(Le),Te=Be+1);return oe.push(se.slice(Te,Be)),oe.join("")}}function I(se,ge){return function(we){var oe=B1(1900,void 0,1),Be=N(oe,se,we+="",0),Te,We;if(Be!=we.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(ge&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Te=dE(B1(oe.y,0,1)),We=Te.getUTCDay(),Te=We>4||We===0?gk.ceil(Te):gk(Te),Te=RI.offset(Te,(oe.V-1)*7),oe.y=Te.getUTCFullYear(),oe.m=Te.getUTCMonth(),oe.d=Te.getUTCDate()+(oe.w+6)%7):(Te=fE(B1(oe.y,0,1)),We=Te.getDay(),Te=We>4||We===0?mk.ceil(Te):mk(Te),Te=Gb.offset(Te,(oe.V-1)*7),oe.y=Te.getFullYear(),oe.m=Te.getMonth(),oe.d=Te.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),We="Z"in oe?dE(B1(oe.y,0,1)).getUTCDay():fE(B1(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(We+5)%7:oe.w+oe.U*7-(We+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,dE(oe)):fE(oe)}}function N(se,ge,we,oe){for(var Be=0,Te=ge.length,We=we.length,Le,Ye;Be<Te;){if(oe>=We)return-1;if(Le=ge.charCodeAt(Be++),Le===37){if(Le=ge.charAt(Be++),Ye=S[Le in _5?ge.charAt(Be++):Le],!Ye||(oe=Ye(se,we,oe))<0)return-1}else if(Le!=we.charCodeAt(oe++))return-1}return oe}function T(se,ge,we){var oe=u.exec(ge.slice(we));return oe?(se.p=c.get(oe[0].toLowerCase()),we+oe[0].length):-1}function L(se,ge,we){var oe=p.exec(ge.slice(we));return oe?(se.w=h.get(oe[0].toLowerCase()),we+oe[0].length):-1}function E(se,ge,we){var oe=f.exec(ge.slice(we));return oe?(se.w=d.get(oe[0].toLowerCase()),we+oe[0].length):-1}function M(se,ge,we){var oe=y.exec(ge.slice(we));return oe?(se.m=v.get(oe[0].toLowerCase()),we+oe[0].length):-1}function j(se,ge,we){var oe=m.exec(ge.slice(we));return oe?(se.m=g.get(oe[0].toLowerCase()),we+oe[0].length):-1}function D(se,ge,we){return N(se,t,ge,we)}function F(se,ge,we){return N(se,n,ge,we)}function $(se,ge,we){return N(se,r,ge,we)}function B(se){return s[se.getDay()]}function O(se){return i[se.getDay()]}function P(se){return l[se.getMonth()]}function W(se){return o[se.getMonth()]}function H(se){return a[+(se.getHours()>=12)]}function q(se){return 1+~~(se.getMonth()/3)}function J(se){return s[se.getUTCDay()]}function re(se){return i[se.getUTCDay()]}function ce(se){return l[se.getUTCMonth()]}function ye(se){return o[se.getUTCMonth()]}function he(se){return a[+(se.getUTCHours()>=12)]}function me(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ge=k(se+="",b);return ge.toString=function(){return se},ge},parse:function(se){var ge=I(se+="",!1);return ge.toString=function(){return se},ge},utcFormat:function(se){var ge=k(se+="",x);return ge.toString=function(){return se},ge},utcParse:function(se){var ge=I(se+="",!0);return ge.toString=function(){return se},ge}}}var _5={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,zDe=/^%/,BDe=/[\\^$*+?|[\]().{}]/g;function $t(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function UDe(e){return e.replace(BDe,"\\$&")}function U1(e){return new RegExp("^(?:"+e.map(UDe).join("|")+")","i")}function W1(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function WDe(e,t,n){var r=Dr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function VDe(e,t,n){var r=Dr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function GDe(e,t,n){var r=Dr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function HDe(e,t,n){var r=Dr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function qDe(e,t,n){var r=Dr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function j5(e,t,n){var r=Dr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $5(e,t,n){var r=Dr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function YDe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function QDe(e,t,n){var r=Dr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function KDe(e,t,n){var r=Dr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function D5(e,t,n){var r=Dr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function JDe(e,t,n){var r=Dr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function O5(e,t,n){var r=Dr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ZDe(e,t,n){var r=Dr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function XDe(e,t,n){var r=Dr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function eOe(e,t,n){var r=Dr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function tOe(e,t,n){var r=Dr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nOe(e,t,n){var r=zDe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function rOe(e,t,n){var r=Dr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function aOe(e,t,n){var r=Dr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function R5(e,t){return $t(e.getDate(),t,2)}function iOe(e,t){return $t(e.getHours(),t,2)}function sOe(e,t){return $t(e.getHours()%12||12,t,2)}function oOe(e,t){return $t(1+Gb.count(Il(e),e),t,3)}function _J(e,t){return $t(e.getMilliseconds(),t,3)}function lOe(e,t){return _J(e,t)+"000"}function uOe(e,t){return $t(e.getMonth()+1,t,2)}function cOe(e,t){return $t(e.getMinutes(),t,2)}function fOe(e,t){return $t(e.getSeconds(),t,2)}function dOe(e){var t=e.getDay();return t===0?7:t}function pOe(e,t){return $t(PI.count(Il(e)-1,e),t,2)}function jJ(e){var t=e.getDay();return t>=4||t===0?Um(e):Um.ceil(e)}function hOe(e,t){return e=jJ(e),$t(Um.count(Il(e),e)+(Il(e).getDay()===4),t,2)}function mOe(e){return e.getDay()}function gOe(e,t){return $t(mk.count(Il(e)-1,e),t,2)}function yOe(e,t){return $t(e.getFullYear()%100,t,2)}function vOe(e,t){return e=jJ(e),$t(e.getFullYear()%100,t,2)}function bOe(e,t){return $t(e.getFullYear()%1e4,t,4)}function wOe(e,t){var n=e.getDay();return e=n>=4||n===0?Um(e):Um.ceil(e),$t(e.getFullYear()%1e4,t,4)}function xOe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$t(t/60|0,"0",2)+$t(t%60,"0",2)}function P5(e,t){return $t(e.getUTCDate(),t,2)}function SOe(e,t){return $t(e.getUTCHours(),t,2)}function kOe(e,t){return $t(e.getUTCHours()%12||12,t,2)}function COe(e,t){return $t(1+RI.count(Nl(e),e),t,3)}function $J(e,t){return $t(e.getUTCMilliseconds(),t,3)}function IOe(e,t){return $J(e,t)+"000"}function NOe(e,t){return $t(e.getUTCMonth()+1,t,2)}function MOe(e,t){return $t(e.getUTCMinutes(),t,2)}function TOe(e,t){return $t(e.getUTCSeconds(),t,2)}function EOe(e){var t=e.getUTCDay();return t===0?7:t}function AOe(e,t){return $t(FI.count(Nl(e)-1,e),t,2)}function DJ(e){var t=e.getUTCDay();return t>=4||t===0?Wm(e):Wm.ceil(e)}function LOe(e,t){return e=DJ(e),$t(Wm.count(Nl(e),e)+(Nl(e).getUTCDay()===4),t,2)}function _Oe(e){return e.getUTCDay()}function jOe(e,t){return $t(gk.count(Nl(e)-1,e),t,2)}function $Oe(e,t){return $t(e.getUTCFullYear()%100,t,2)}function DOe(e,t){return e=DJ(e),$t(e.getUTCFullYear()%100,t,2)}function OOe(e,t){return $t(e.getUTCFullYear()%1e4,t,4)}function ROe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Wm(e):Wm.ceil(e),$t(e.getUTCFullYear()%1e4,t,4)}function POe(){return"+0000"}function F5(){return"%"}function z5(e){return+e}function B5(e){return Math.floor(+e/1e3)}var xh,OJ,RJ;FOe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FOe(e){return xh=FDe(e),OJ=xh.format,xh.parse,RJ=xh.utcFormat,xh.utcParse,xh}function zOe(e){return new Date(e)}function BOe(e){return e instanceof Date?+e:+new Date(+e)}function Q$(e,t,n,r,a,i,s,o,l,u){var c=D$(),f=c.invert,d=c.domain,p=u(".%L"),h=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function S(k){return(l(k)<k?p:o(k)<k?h:s(k)<k?m:i(k)<k?g:r(k)<k?a(k)<k?y:v:n(k)<k?b:x)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?d(Array.from(k,BOe)):d().map(zOe)},c.ticks=function(k){var I=d();return e(I[0],I[I.length-1],k??10)},c.tickFormat=function(k,I){return I==null?S:u(I)},c.nice=function(k){var I=d();return(!k||typeof k.range!="function")&&(k=t(I[0],I[I.length-1],k??10)),k?d(kJ(I,k)):c},c.copy=function(){return Vb(c,Q$(e,t,n,r,a,i,s,o,l,u))},c}function UOe(){return ls.apply(Q$(RDe,PDe,Il,q$,PI,Gb,G$,W$,vf,OJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WOe(){return ls.apply(Q$(DDe,ODe,Nl,Y$,FI,RI,H$,V$,vf,RJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zI(){var e=0,t=1,n,r,a,i,s=Sa,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-n)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var p,h;return arguments.length?([p,h]=d,s=f(p,h),u):[s(0),s(1)]}}return u.range=c(Qg),u.rangeRound=c($$),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function Mc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function PJ(){var e=Nc(zI()(Sa));return e.copy=function(){return Mc(e,PJ())},Dl.apply(e,arguments)}function FJ(){var e=P$(zI()).domain([1,10]);return e.copy=function(){return Mc(e,FJ()).base(e.base())},Dl.apply(e,arguments)}function zJ(){var e=F$(zI());return e.copy=function(){return Mc(e,zJ()).constant(e.constant())},Dl.apply(e,arguments)}function K$(){var e=z$(zI());return e.copy=function(){return Mc(e,K$()).exponent(e.exponent())},Dl.apply(e,arguments)}function VOe(){return K$.apply(null,arguments).exponent(.5)}function BJ(){var e=[],t=Sa;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ub(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Yu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>A$e(e,i/r))},n.copy=function(){return BJ(t).domain(e)},Dl.apply(n,arguments)}function BI(){var e=0,t=.5,n=1,r=1,a,i,s,o,l,u=Sa,c,f=!1,d;function p(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-i)*(r*m<r*i?o:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,n]=m,a=c(e=+e),i=c(t=+t),s=c(n=+n),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),r=i<a?-1:1,p):[e,t,n]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function h(m){return function(g){var y,v,b;return arguments.length?([y,v,b]=g,u=nDe(m,[y,v,b]),p):[u(0),u(.5),u(1)]}}return p.range=h(Qg),p.rangeRound=h($$),p.unknown=function(m){return arguments.length?(d=m,p):d},function(m){return c=m,a=m(e),i=m(t),s=m(n),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),r=i<a?-1:1,p}}function UJ(){var e=Nc(BI()(Sa));return e.copy=function(){return Mc(e,UJ())},Dl.apply(e,arguments)}function WJ(){var e=P$(BI()).domain([.1,1,10]);return e.copy=function(){return Mc(e,WJ()).base(e.base())},Dl.apply(e,arguments)}function VJ(){var e=F$(BI());return e.copy=function(){return Mc(e,VJ()).constant(e.constant())},Dl.apply(e,arguments)}function J$(){var e=z$(BI());return e.copy=function(){return Mc(e,J$()).exponent(e.exponent())},Dl.apply(e,arguments)}function GOe(){return J$.apply(null,arguments).exponent(.5)}const U5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sv,scaleDiverging:UJ,scaleDivergingLog:WJ,scaleDivergingPow:J$,scaleDivergingSqrt:GOe,scaleDivergingSymlog:VJ,scaleIdentity:SJ,scaleImplicit:nA,scaleLinear:pk,scaleLog:CJ,scaleOrdinal:L$,scalePoint:jy,scalePow:B$,scaleQuantile:MJ,scaleQuantize:TJ,scaleRadial:NJ,scaleSequential:PJ,scaleSequentialLog:FJ,scaleSequentialPow:K$,scaleSequentialQuantile:BJ,scaleSequentialSqrt:VOe,scaleSequentialSymlog:zJ,scaleSqrt:IDe,scaleSymlog:IJ,scaleThreshold:EJ,scaleTime:UOe,scaleUtc:WOe,tickFormat:xJ},Symbol.toStringTag,{value:"Module"}));var HOe=Fg;function qOe(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],s=t(i);if(s!=null&&(o===void 0?s===s&&!HOe(s):n(s,o)))var o=s,l=i}return l}var GJ=qOe;function YOe(e,t){return e>t}var QOe=YOe,KOe=GJ,JOe=QOe,ZOe=qg;function XOe(e){return e&&e.length?KOe(e,ZOe,JOe):void 0}var eRe=XOe;const Mu=un(eRe);function tRe(e,t){return e<t}var nRe=tRe,rRe=GJ,aRe=nRe,iRe=qg;function sRe(e){return e&&e.length?rRe(e,iRe,aRe):void 0}var oRe=sRe;const UI=un(oRe);var lRe=c$,uRe=Yg,cRe=XK,fRe=ri;function dRe(e,t){var n=fRe(e)?lRe:cRe;return n(e,uRe(t))}var pRe=dRe,hRe=JK,mRe=pRe;function gRe(e,t){return hRe(mRe(e,t),1)}var yRe=gRe;const vRe=un(yRe);var bRe=N$;function wRe(e,t){return bRe(e,t)}var xRe=wRe;const Mv=un(xRe);var Kg=1e9,SRe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X$,Nn=!0,as="[DecimalError] ",Of=as+"Invalid argument: ",Z$=as+"Exponent out of range: ",Jg=Math.floor,rf=Math.pow,kRe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,di,Er=1e7,yn=7,HJ=9007199254740991,yk=Jg(HJ/yn),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*yn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(e){return pl(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,n=t.constructor;return sn(pl(t,new n(e),0,1),n.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return ir(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(di))throw Error(as+"NaN");if(n.s<1)throw Error(as+(n.s?"NaN":"-Infinity"));return n.eq(di)?new r(0):(Nn=!1,t=pl(Tv(n,i),Tv(e,i),i),Nn=!0,sn(t,a))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QJ(t,e):qJ(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(as+"NaN");return n.s?(Nn=!1,t=pl(n,e,0,1).times(e),Nn=!0,n.minus(t)):sn(new r(n),a)};Re.naturalExponential=Re.exp=function(){return YJ(this)};Re.naturalLogarithm=Re.ln=function(){return Tv(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qJ(t,e):QJ(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Of+e);if(t=ir(a)+1,r=a.d.length-1,n=r*yn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Re.squareRoot=Re.sqrt=function(){var e,t,n,r,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(as+"NaN")}for(e=ir(o),Nn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=mo(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Jg((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=s=n+3;;)if(i=r,r=i.plus(pl(o,i,s+2)).times(.5),mo(i.d).slice(0,s)===(t=mo(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(sn(i,n+1,0),i.times(i).eq(o)){r=i;break}}else if(t!="9999")break;s+=4}return Nn=!0,sn(r,n)};Re.times=Re.mul=function(e){var t,n,r,a,i,s,o,l,u,c=this,f=c.constructor,d=c.d,p=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=d.length,u=p.length,l<u&&(i=d,d=p,p=i,s=l,l=u,u=s),i=[],s=l+u,r=s;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=l+r;a>r;)o=i[a]+p[r]*d[a-r-1]+t,i[a--]=o%Er|0,t=o/Er|0;i[a]=(i[a]+t)%Er|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Nn?sn(e,f.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(_o(e,0,Kg),t===void 0?t=r.rounding:_o(t,0,8),sn(n,e+ir(n)+1,t))};Re.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Zf(r,!0):(_o(e,0,Kg),t===void 0?t=a.rounding:_o(t,0,8),r=sn(new a(r),e+1,t),n=Zf(r,!0,e+1)),n};Re.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Zf(a):(_o(e,0,Kg),t===void 0?t=i.rounding:_o(t,0,8),r=sn(new i(a),e+ir(a)+1,t),n=Zf(r.abs(),!1,e+ir(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return sn(new t(e),ir(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,n,r,a,i,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(di);if(o=new l(o),!o.s){if(e.s<1)throw Error(as+"Infinity");return o}if(o.eq(di))return o;if(r=l.precision,e.eq(di))return sn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,i=o.s,s){if((n=c<0?-c:c)<=HJ){for(a=new l(di),t=Math.ceil(r/yn+4),Nn=!1;n%2&&(a=a.times(o),V5(a.d,t)),n=Jg(n/2),n!==0;)o=o.times(o),V5(o.d,t);return Nn=!0,e.s<0?new l(di).div(a):sn(a,r)}}else if(i<0)throw Error(as+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,Nn=!1,a=e.times(Tv(o,r+u)),Nn=!0,a=YJ(a),a.s=i,a};Re.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=ir(a),r=Zf(a,n<=i.toExpNeg||n>=i.toExpPos)):(_o(e,1,Kg),t===void 0?t=i.rounding:_o(t,0,8),a=sn(new i(a),e,t),n=ir(a),r=Zf(a,e<=n||n<=i.toExpNeg,e)),r};Re.toSignificantDigits=Re.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(_o(e,1,Kg),t===void 0?t=r.rounding:_o(t,0,8)),sn(new r(n),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ir(e),n=e.constructor;return Zf(e,t<=n.toExpNeg||t>=n.toExpPos)};function qJ(e,t){var n,r,a,i,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Nn?sn(t,f):t;if(l=e.d,u=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(r=l,i=-i,o=u.length):(r=u,a=s,o=l.length),s=Math.ceil(f/yn),o=s>o?s+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=l.length,i=u.length,o-i<0&&(i=o,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/Er|0,l[i]%=Er;for(n&&(l.unshift(n),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Nn?sn(t,f):t}function _o(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Of+e)}function mo(e){var t,n,r,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)r=e[t]+"",n=yn-r.length,n&&(i+=lu(n)),i+=r;s=e[t],r=s+"",n=yn-r.length,n&&(i+=lu(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var pl=function(){function e(r,a){var i,s=0,o=r.length;for(r=r.slice();o--;)i=r[o]*a+s,r[o]=i%Er|0,s=i/Er|0;return s&&r.unshift(s),r}function t(r,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(r[o]!=a[o]){l=r[o]>a[o]?1:-1;break}return l}function n(r,a,i){for(var s=0;i--;)r[i]-=s,s=r[i]<a[i]?1:0,r[i]=s*Er+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,s){var o,l,u,c,f,d,p,h,m,g,y,v,b,x,S,k,I,N,T=r.constructor,L=r.s==a.s?1:-1,E=r.d,M=a.d;if(!r.s)return new T(r);if(!a.s)throw Error(as+"Division by zero");for(l=r.e-a.e,I=M.length,S=E.length,p=new T(L),h=p.d=[],u=0;M[u]==(E[u]||0);)++u;if(M[u]>(E[u]||0)&&--l,i==null?v=i=T.precision:s?v=i+(ir(r)-ir(a))+1:v=i,v<0)return new T(0);if(v=v/yn+2|0,u=0,I==1)for(c=0,M=M[0],v++;(u<S||c)&&v--;u++)b=c*Er+(E[u]||0),h[u]=b/M|0,c=b%M|0;else{for(c=Er/(M[0]+1)|0,c>1&&(M=e(M,c),E=e(E,c),I=M.length,S=E.length),x=I,m=E.slice(0,I),g=m.length;g<I;)m[g++]=0;N=M.slice(),N.unshift(0),k=M[0],M[1]>=Er/2&&++k;do c=0,o=t(M,m,I,g),o<0?(y=m[0],I!=g&&(y=y*Er+(m[1]||0)),c=y/k|0,c>1?(c>=Er&&(c=Er-1),f=e(M,c),d=f.length,g=m.length,o=t(f,m,d,g),o==1&&(c--,n(f,I<d?N:M,d))):(c==0&&(o=c=1),f=M.slice()),d=f.length,d<g&&f.unshift(0),n(m,f,g),o==-1&&(g=m.length,o=t(M,m,I,g),o<1&&(c++,n(m,I<g?N:M,g))),g=m.length):o===0&&(c++,m=[0]),h[u++]=c,o&&m[0]?m[g++]=E[x]||0:(m=[E[x]],g=1);while((x++<S||m[0]!==void 0)&&v--)}return h[0]||h.shift(),p.e=l,sn(p,s?i+ir(p)+1:i)}}();function YJ(e,t){var n,r,a,i,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(ir(e)>16)throw Error(Z$+ir(e));if(!e.s)return new c(di);for(t==null?(Nn=!1,o=f):o=t,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(rf(2,u))/Math.LN10*2+5|0,o+=r,n=a=i=new c(di),c.precision=o;;){if(a=sn(a.times(e),o),n=n.times(++l),s=i.plus(pl(a,n,o)),mo(s.d).slice(0,o)===mo(i.d).slice(0,o)){for(;u--;)i=sn(i.times(i),o);return c.precision=f,t==null?(Nn=!0,sn(i,f)):i}i=s}}function ir(e){for(var t=e.e*yn,n=e.d[0];n>=10;n/=10)t++;return t}function pE(e,t,n){if(t>e.LN10.sd())throw Nn=!0,n&&(e.precision=n),Error(as+"LN10 precision limit exceeded");return sn(new e(e.LN10),t)}function lu(e){for(var t="";e--;)t+="0";return t}function Tv(e,t){var n,r,a,i,s,o,l,u,c,f=1,d=10,p=e,h=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(as+(p.s?"NaN":"-Infinity"));if(p.eq(di))return new m(0);if(t==null?(Nn=!1,u=g):u=t,p.eq(10))return t==null&&(Nn=!0),pE(m,u);if(u+=d,m.precision=u,n=mo(h),r=n.charAt(0),i=ir(p),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=mo(p.d),r=n.charAt(0),f++;i=ir(p),r>1?(p=new m("0."+n),i++):p=new m(r+"."+n.slice(1))}else return l=pE(m,u+2,g).times(i+""),p=Tv(new m(r+"."+n.slice(1)),u-d).plus(l),m.precision=g,t==null?(Nn=!0,sn(p,g)):p;for(o=s=p=pl(p.minus(di),p.plus(di),u),c=sn(p.times(p),u),a=3;;){if(s=sn(s.times(c),u),l=o.plus(pl(s,new m(a),u)),mo(l.d).slice(0,u)===mo(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(pE(m,u+2,g).times(i+""))),o=pl(o,new m(f),u),m.precision=g,t==null?(Nn=!0,sn(o,g)):o;o=l,a+=2}}function W5(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Jg(n/yn),e.d=[],r=(n+1)%yn,n<0&&(r+=yn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=yn;r<a;)e.d.push(+t.slice(r,r+=yn));t=t.slice(r),r=yn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Nn&&(e.e>yk||e.e<-yk))throw Error(Z$+n)}else e.s=0,e.e=0,e.d=[0];return e}function sn(e,t,n){var r,a,i,s,o,l,u,c,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(r=t-s,r<0)r+=yn,a=t,u=f[c=0];else{if(c=Math.ceil((r+1)/yn),i=f.length,c>=i)return e;for(u=i=f[c],s=1;i>=10;i/=10)s++;r%=yn,a=r-yn+s}if(n!==void 0&&(i=rf(10,s-a-1),o=u/i%10|0,l=t<0||f[c+1]!==void 0||u%i,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?a>0?u/rf(10,s-a):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=ir(e),f.length=1,t=t-i-1,f[0]=rf(10,(yn-t%yn)%yn),e.e=Jg(-t/yn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,i=1,c--):(f.length=c+1,i=rf(10,yn-r),f[c]=a>0?(u/rf(10,s-a)%rf(10,a)|0)*i:0),l)for(;;)if(c==0){(f[0]+=i)==Er&&(f[0]=1,++e.e);break}else{if(f[c]+=i,f[c]!=Er)break;f[c--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(Nn&&(e.e>yk||e.e<-yk))throw Error(Z$+ir(e));return e}function QJ(e,t){var n,r,a,i,s,o,l,u,c,f,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),Nn?sn(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),a=Math.max(Math.ceil(p/yn),o)+2,s>a&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for(a=l.length,o=f.length,c=a<o,c&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){c=l[a]<f[a];break}s=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Er-1;--l[i],l[a]+=Er}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Nn?sn(t,p):t):new d(0)}function Zf(e,t,n){var r,a=ir(e),i=mo(e.d),s=i.length;return t?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+lu(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+lu(-a-1)+i,n&&(r=n-s)>0&&(i+=lu(r))):a>=s?(i+=lu(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+lu(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=lu(r))),e.s<0?"-"+i:i}function V5(e,t){if(e.length>t)return e.length=t,!0}function KJ(e){var t,n,r;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Of+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return W5(s,i.toString())}else if(typeof i!="string")throw Error(Of+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,kRe.test(i))W5(s,i);else throw Error(Of+i)}if(a.prototype=Re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=KJ,a.config=a.set=CRe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function CRe(e){if(!e||typeof e!="object")throw Error(as+"Object expected");var t,n,r,a=["precision",1,Kg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Jg(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Of+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Of+n+": "+r);return this}var X$=KJ(SRe);di=new X$(1);const en=X$;function IRe(e){return ERe(e)||TRe(e)||MRe(e)||NRe()}function NRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MRe(e,t){if(e){if(typeof e=="string")return sA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(e,t)}}function TRe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ERe(e){if(Array.isArray(e))return sA(e)}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ARe=function(t){return t},JJ={"@@functional/placeholder":!0},ZJ=function(t){return t===JJ},G5=function(t){return function n(){return arguments.length===0||arguments.length===1&&ZJ(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},LRe=function e(t,n){return t===1?n:G5(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==JJ}).length;return s>=t?n.apply(void 0,a):e(t-s,G5(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=a.map(function(f){return ZJ(f)?l.shift():f});return n.apply(void 0,IRe(c).concat(l))}))})},WI=function(t){return LRe(t.length,t)},oA=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},_Re=WI(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),jRe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return ARe;var a=n.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},lA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},XJ=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n&&i.every(function(o,l){return o===n[l]})||(n=i,r=t.apply(void 0,i)),r}};function $Re(e){var t;return e===0?t=1:t=Math.floor(new en(e).abs().log(10).toNumber())+1,t}function DRe(e,t,n){for(var r=new en(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var ORe=WI(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),RRe=WI(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),PRe=WI(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const VI={rangeStep:DRe,getDigitCount:$Re,interpolateNumber:ORe,uninterpolateNumber:RRe,uninterpolateTruncation:PRe};function uA(e){return BRe(e)||zRe(e)||eZ(e)||FRe()}function FRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zRe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function BRe(e){if(Array.isArray(e))return cA(e)}function Ev(e,t){return VRe(e)||WRe(e,t)||eZ(e,t)||URe()}function URe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eZ(e,t){if(e){if(typeof e=="string")return cA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(e,t)}}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WRe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(t&&n.length===t));r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw i}}return n}}function VRe(e){if(Array.isArray(e))return e}function tZ(e){var t=Ev(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function nZ(e,t,n){if(e.lte(0))return new en(0);var r=VI.getDigitCount(e.toNumber()),a=new en(10).pow(r),i=e.div(a),s=r!==1?.05:.1,o=new en(Math.ceil(i.div(s).toNumber())).add(n).mul(s),l=o.mul(a);return t?l:new en(Math.ceil(l))}function GRe(e,t,n){var r=1,a=new en(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new en(10).pow(VI.getDigitCount(e)-1),a=new en(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new en(Math.floor(e)))}else e===0?a=new en(Math.floor((t-1)/2)):n||(a=new en(Math.floor(e)));var s=Math.floor((t-1)/2),o=jRe(_Re(function(l){return a.add(new en(l-s).mul(r)).toNumber()}),oA);return o(0,t)}function rZ(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new en(0),tickMin:new en(0),tickMax:new en(0)};var i=nZ(new en(t).sub(e).div(n-1),r,a),s;e<=0&&t>=0?s=new en(0):(s=new en(e).add(t).div(2),s=s.sub(new en(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new en(t).sub(s).div(i).toNumber()),u=o+l+1;return u>n?rZ(e,t,n,r,a+1):(u<n&&(l=t>0?l+(n-u):l,o=t>0?o:o+(n-u)),{step:i,tickMin:s.sub(new en(o).mul(i)),tickMax:s.add(new en(l).mul(i))})}function HRe(e){var t=Ev(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=tZ([n,r]),l=Ev(o,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(uA(oA(0,a-1).map(function(){return 1/0}))):[].concat(uA(oA(0,a-1).map(function(){return-1/0})),[c]);return n>r?lA(f):f}if(u===c)return GRe(u,a,i);var d=rZ(u,c,s,i),p=d.step,h=d.tickMin,m=d.tickMax,g=VI.rangeStep(h,m.add(new en(.1).mul(p)),p);return n>r?lA(g):g}function qRe(e,t){var n=Ev(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=tZ([r,a]),o=Ev(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,a];if(l===u)return[l];var c=Math.max(t,2),f=nZ(new en(u).sub(l).div(c-1),i,0),d=[].concat(uA(VI.rangeStep(new en(l),new en(u).sub(new en(.99).mul(f)),f)),[u]);return r>a?lA(d):d}var YRe=XJ(HRe),QRe=XJ(qRe),KRe="Invariant failed";function Xf(e,t){throw new Error(KRe)}var JRe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vk.apply(this,arguments)}function ZRe(e,t){return nPe(e)||tPe(e,t)||ePe(e,t)||XRe()}function XRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ePe(e,t){if(e){if(typeof e=="string")return H5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H5(e,t)}}function H5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function nPe(e){if(Array.isArray(e))return e}function rPe(e,t){if(e==null)return{};var n=aPe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sZ(r.key),r)}}function oPe(e,t,n){return t&&sPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lPe(e,t,n){return t=bk(t),uPe(e,aZ()?Reflect.construct(t,n||[],bk(e).constructor):t.apply(e,n))}function uPe(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cPe(e)}function cPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aZ=function(){return!!e})()}function bk(e){return bk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bk(e)}function fPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fA(e,t)}function fA(e,t){return fA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fA(e,t)}function iZ(e,t,n){return t=sZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sZ(e){var t=dPe(e,"string");return Vm(t)=="symbol"?t:t+""}function dPe(e,t){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GI=function(e){function t(){return iPe(this,t),lPe(this,t,arguments)}return fPe(t,e),oPe(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,s=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=rPe(r,JRe),p=xt(d,!1);this.props.direction==="x"&&c.type!=="number"&&Xf();var h=l.map(function(m){var g=u(m,o),y=g.x,v=g.y,b=g.value,x=g.errorVal;if(!x)return null;var S=[],k,I;if(Array.isArray(x)){var N=ZRe(x,2);k=N[0],I=N[1]}else k=I=x;if(i==="vertical"){var T=c.scale,L=v+a,E=L+s,M=L-s,j=T(b-k),D=T(b+I);S.push({x1:D,y1:E,x2:D,y2:M}),S.push({x1:j,y1:L,x2:D,y2:L}),S.push({x1:j,y1:E,x2:j,y2:M})}else if(i==="horizontal"){var F=f.scale,$=y+a,B=$-s,O=$+s,P=F(b-k),W=F(b+I);S.push({x1:B,y1:W,x2:O,y2:W}),S.push({x1:$,y1:P,x2:$,y2:W}),S.push({x1:B,y1:P,x2:O,y2:P})}return V.createElement(Ln,vk({className:"recharts-errorBar",key:"bar-".concat(S.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),S.map(function(H){return V.createElement("line",vk({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return V.createElement(Ln,{className:"recharts-errorBars"},h)}}])}(V.Component);iZ(GI,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});iZ(GI,"displayName","ErrorBar");function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(r){pPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pPe(e,t,n){return t=hPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hPe(e){var t=mPe(e,"string");return Av(t)=="symbol"?t:t+""}function mPe(e,t){if(Av(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oZ=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=ci(n,nm);if(!s)return null;var o=nm.defaultProps,l=o!==void 0?Qc(Qc({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,h=p.sectors||p.data||[];return c.concat(h.map(function(m){return{type:s.props.iconType||d.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Qc(Qc({},d),f.props):{},h=p.dataKey,m=p.name,g=p.legendType,y=p.hide;return{inactive:y,dataKey:h,type:l.iconType||g||"square",color:eD(f),value:m||h,payload:p}}),Qc(Qc(Qc({},l),nm.getWithHeight(s,a)),{},{payload:u,item:s})};function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function Y5(e){return bPe(e)||vPe(e)||yPe(e)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yPe(e,t){if(e){if(typeof e=="string")return dA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(e,t)}}function vPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bPe(e){if(Array.isArray(e))return dA(e)}function dA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(n),!0).forEach(function(r){am(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function am(e,t,n){return t=wPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wPe(e){var t=xPe(e,"string");return Lv(t)=="symbol"?t:t+""}function xPe(e,t){if(Lv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ki(e,t,n){return St(e)||St(t)?n:Sr(t)?es(e,t,n):gt(t)?t(e):n}function $y(e,t,n,r){var a=vRe(e,function(o){return ki(o,t)});if(n==="number"){var i=a.filter(function(o){return Ne(o)||parseFloat(o)});return i.length?[UI(i),Mu(i)]:[1/0,-1/0]}var s=r?a.filter(function(o){return!St(o)}):a;return s.map(function(o){return Sr(o)||o instanceof Date?o:""})}var SPe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<o;u++){var c=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,d=u>=o-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Ls(f-c)!==Ls(d-f)){var h=[];if(Ls(d-f)===Ls(l[1]-l[0])){p=d;var m=f+l[1]-l[0];h[0]=Math.min(m,(m+c)/2),h[1]=Math.max(m,(m+c)/2)}else{p=c;var g=d+l[1]-l[0];h[0]=Math.min(f,(g+f)/2),h[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=h[0]&&t<=h[1]){s=a[u].index;break}}else{var v=Math.min(c,d),b=Math.max(c,d);if(t>(v+f)/2&&t<=(b+f)/2){s=a[u].index;break}}}else for(var x=0;x<o;x++)if(x===0&&t<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<o-1&&t>(r[x].coordinate+r[x-1].coordinate)/2&&t<=(r[x].coordinate+r[x+1].coordinate)/2||x===o-1&&t>(r[x].coordinate+r[x-1].coordinate)/2){s=r[x].index;break}return s},eD=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Pn(Pn({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},kPe=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,u=o.length;l<u;l++)for(var c=i[o[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var h=c[f[d]],m=h.items,g=h.cateAxisId,y=m.filter(function(I){return fl(I.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,b=v!==void 0?Pn(Pn({},v),y[0].props):y[0].props,x=b.barSize,S=b[g];s[S]||(s[S]=[]);var k=St(x)?n:x;s[S].push({item:y[0],stackList:y.slice(1),barSize:St(k)?void 0:Jf(k,r,0)})}}return s},CPe=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var u=Jf(n,a,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,p=a/l,h=s.reduce(function(x,S){return x+S.barSize||0},0);h+=(l-1)*u,h>=a&&(h-=(l-1)*u,u=0),h>=a&&p>0&&(d=!0,p*=.9,h=l*p);var m=(a-h)/2>>0,g={offset:m-u,size:0};c=s.reduce(function(x,S){var k={item:S.item,position:{offset:g.offset+g.size+u,size:d?p:S.barSize}},I=[].concat(Y5(x),[k]);return g=I[I.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){I.push({item:N,position:g})}),I},f)}else{var y=Jf(r,a,0,!0);a-2*y-(l-1)*u<=0&&(u=0);var v=(a-2*y-(l-1)*u)/l;v>1&&(v>>=0);var b=o===+o?Math.min(v,o):v;c=s.reduce(function(x,S,k){var I=[].concat(Y5(x),[{item:S.item,position:{offset:y+(v+u)*k+(v-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){I.push({item:N,position:I[I.length-1].position})}),I},f)}return c},IPe=function(t,n,r,a){var i=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),u=oZ({children:i,legendWidth:l});if(u){var c=a||{},f=c.width,d=c.height,p=u.align,h=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&h==="middle")&&p!=="center"&&Ne(t[p]))return Pn(Pn({},t),{},am({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&h!=="middle"&&Ne(t[h]))return Pn(Pn({},t),{},am({},h,t[h]+(d||0)))}return t},NPe=function(t,n,r){return St(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},lZ=function(t,n,r,a,i){var s=n.props.children,o=$s(s,GI).filter(function(u){return NPe(a,i,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,c){var f=ki(c,r);if(St(f))return u;var d=Array.isArray(f)?[UI(f),Mu(f)]:[f,f],p=l.reduce(function(h,m){var g=ki(c,m,0),y=d[0]-Math.abs(Array.isArray(g)?g[0]:g),v=d[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,h[0]),Math.max(v,h[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},MPe=function(t,n,r,a,i){var s=n.map(function(o){return lZ(t,o,r,i,a)}).filter(function(o){return!St(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},uZ=function(t,n,r,a,i){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&lZ(t,l,u,a)||$y(t,u,r,i)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)o[u[c]]||(o[u[c]]=!0,l.push(u[c]));return l},[])},cZ=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},bf=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ls(o[0]-o[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var c=(t.ticks||t.niceTicks).map(function(f){var d=i?i.indexOf(f):f;return{coordinate:a(d)+u,value:f,offset:u}});return c.filter(function(f){return!Vg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,d){return{coordinate:a(f)+u,value:f,index:d,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,d){return{coordinate:a(f)+u,value:i?i[f]:f,index:d,offset:u}})},hE=new WeakMap,Qx=function(t,n){if(typeof n!="function")return t;hE.has(t)||hE.set(t,new WeakMap);var r=hE.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},TPe=function(t,n,r){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Sv(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:pk(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:jy(),realScaleType:"point"}:i==="category"?{scale:Sv(),realScaleType:"band"}:{scale:pk(),realScaleType:"linear"};if(Kf(a)){var l="scale".concat(EI(a));return{scale:(U5[l]||jy)(),realScaleType:U5[l]?l:"point"}}return gt(a)?{scale:a}:{scale:jy(),realScaleType:"point"}},K5=1e-4,EPe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-K5,s=Math.max(a[0],a[1])+K5,o=t(n[0]),l=t(n[r-1]);(o<i||o>s||l<i||l>s)&&t.domain([n[0],n[r-1]])}},APe=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},LPe=function(t,n){if(!n||n.length!==2||!Ne(n[0])||!Ne(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<r)&&(i[0]=r),(!Ne(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},_Pe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,s=0,o=0;o<n;++o){var l=Vg(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=s,t[o][r][1]=s+l,s=t[o][r][1])}},jPe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,s=0;s<n;++s){var o=Vg(t[s][r][1])?t[s][r][0]:t[s][r][1];o>=0?(t[s][r][0]=i,t[s][r][1]=i+o,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},$Pe={sign:_Pe,expand:qNe,none:Om,silhouette:YNe,wiggle:QNe,positive:jPe},DPe=function(t,n,r){var a=n.map(function(o){return o.props.dataKey}),i=$Pe[r],s=HNe().keys(a).value(function(o,l){return+ki(o,l,0)}).order(R3).offset(i);return s(t)},OPe=function(t,n,r,a,i,s){if(!t)return null;var o=s?n.reverse():n,l={},u=o.reduce(function(f,d){var p,h=(p=d.type)!==null&&p!==void 0&&p.defaultProps?Pn(Pn({},d.type.defaultProps),d.props):d.props,m=h.stackId,g=h.hide;if(g)return f;var y=h[r],v=f[y]||{hasStack:!1,stackGroups:{}};if(Sr(m)){var b=v.stackGroups[m]||{numericAxisId:r,cateAxisId:a,items:[]};b.items.push(d),v.hasStack=!0,v.stackGroups[m]=b}else v.stackGroups[Bb("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[d]};return Pn(Pn({},f),{},am({},y,v))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var h={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var y=p.stackGroups[g];return Pn(Pn({},m),{},am({},g,{numericAxisId:r,cateAxisId:a,items:y.items,stackedData:DPe(t,y.items,i)}))},h)}return Pn(Pn({},f),{},am({},d,p))},c)},RPe=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var c=YRe(u,i,o);return t.domain([UI(c),Mu(c)]),{niceTicks:c}}if(i&&a==="number"){var f=t.domain(),d=QRe(f,i,o);return{niceTicks:d}}return null};function J5(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!St(a[t.dataKey])){var o=VS(n,"value",a[t.dataKey]);if(o)return o.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=ki(a,St(s)?t.dataKey:s);return St(l)?null:t.scale(l)}var Z5=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(n.type==="category")return r[o]?r[o].coordinate+a:null;var l=ki(s,n.dataKey,n.domain[o]);return St(l)?null:n.scale(l)-i/2+a},PPe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},FPe=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Pn(Pn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Sr(i)){var s=n[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},zPe=function(t){return t.reduce(function(n,r){return[UI(r.concat([n[0]]).filter(Ne)),Mu(r.concat([n[1]]).filter(Ne))]},[1/0,-1/0])},fZ=function(t,n,r){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(u,c){var f=zPe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},X5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pA=function(t,n,r){if(gt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Ne(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(X5.test(t[0])){var i=+X5.exec(t[0])[1];a[0]=n[0]-i}else gt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Ne(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(eU.test(t[1])){var s=+eU.exec(t[1])[1];a[1]=n[1]+s}else gt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},wk=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=T$(n,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var u=i[o],c=i[o-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},tU=function(t,n,r){return!t||!t.length||Mv(t,es(r,"type.defaultProps.domain"))?n:t},dZ=function(t,n){var r=t.type.defaultProps?Pn(Pn({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Pn(Pn({},xt(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:eD(t),value:ki(n,a),type:l,payload:n,chartType:u,hide:c})};function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function nU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(n),!0).forEach(function(r){BPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BPe(e,t,n){return t=UPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UPe(e){var t=WPe(e,"string");return _v(t)=="symbol"?t:t+""}function WPe(e,t){if(_v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xk=Math.PI/180,VPe=function(t){return t*180/Math.PI},zr=function(t,n,r,a){return{x:t+Math.cos(-xk*a)*r,y:n+Math.sin(-xk*a)*r}},GPe=function(t,n){var r=t.x,a=t.y,i=n.x,s=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-s,2))},HPe=function(t,n){var r=t.x,a=t.y,i=n.cx,s=n.cy,o=GPe({x:r,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(r-i)/o,u=Math.acos(l);return a>s&&(u=2*Math.PI-u),{radius:o,angle:VPe(u),angleInRadian:u}},qPe=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),s=Math.min(a,i);return{startAngle:n-s*360,endAngle:r-s*360}},YPe=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},aU=function(t,n){var r=t.x,a=t.y,i=HPe({x:r,y:a},n),s=i.radius,o=i.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=qPe(n),f=c.startAngle,d=c.endAngle,p=o,h;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;h=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;h=p>=d&&p<=f}return h?rU(rU({},n),{},{radius:s,angle:YPe(p,n)}):null};function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}var QPe=["offset"];function KPe(e){return e6e(e)||XPe(e)||ZPe(e)||JPe()}function JPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZPe(e,t){if(e){if(typeof e=="string")return hA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(e,t)}}function XPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e6e(e){if(Array.isArray(e))return hA(e)}function hA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t6e(e,t){if(e==null)return{};var n=n6e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function n6e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iU(Object(n),!0).forEach(function(r){r6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r6e(e,t,n){return t=a6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a6e(e){var t=i6e(e,"string");return jv(t)=="symbol"?t:t+""}function i6e(e,t){if(jv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(this,arguments)}var s6e=function(t){var n=t.value,r=t.formatter,a=St(t.children)?n:t.children;return gt(r)?r(a):a},o6e=function(t,n){var r=Ls(n-t),a=Math.min(Math.abs(n-t),360);return r*a},l6e=function(t,n,r){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,h=l.endAngle,m=l.clockWise,g=(f+d)/2,y=o6e(p,h),v=y>=0?1:-1,b,x;a==="insideStart"?(b=p+v*s,x=m):a==="insideEnd"?(b=h-v*s,x=!m):a==="end"&&(b=h+v*s,x=m),x=y<=0?x:!x;var S=zr(u,c,g,b),k=zr(u,c,g,b+(x?1:-1)*359),I="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(k.x,",").concat(k.y),N=St(t.id)?Bb("recharts-radial-line-"):t.id;return V.createElement("text",$v({},r,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",o)}),V.createElement("defs",null,V.createElement("path",{id:N,d:I})),V.createElement("textPath",{xlinkHref:"#".concat(N)},n))},u6e=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,s=i.cx,o=i.cy,l=i.innerRadius,u=i.outerRadius,c=i.startAngle,f=i.endAngle,d=(c+f)/2;if(a==="outside"){var p=zr(s,o,u+r,d),h=p.x,m=p.y;return{x:h,y:m,textAnchor:h>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+u)/2,y=zr(s,o,g,d),v=y.x,b=y.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},c6e=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,s=n,o=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,d=f*a,p=f>0?"end":"start",h=f>0?"start":"end",m=u>=0?1:-1,g=m*a,y=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var b={x:o+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return pr(pr({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(i==="bottom"){var x={x:o+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:h};return pr(pr({},x),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(i==="left"){var S={x:o-g,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return pr(pr({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(i==="right"){var k={x:o+u+g,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return pr(pr({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var I=r?{width:u,height:c}:{};return i==="insideLeft"?pr({x:o+g,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},I):i==="insideRight"?pr({x:o+u-g,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},I):i==="insideTop"?pr({x:o+u/2,y:l+d,textAnchor:"middle",verticalAnchor:h},I):i==="insideBottom"?pr({x:o+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},I):i==="insideTopLeft"?pr({x:o+g,y:l+d,textAnchor:v,verticalAnchor:h},I):i==="insideTopRight"?pr({x:o+u-g,y:l+d,textAnchor:y,verticalAnchor:h},I):i==="insideBottomLeft"?pr({x:o+g,y:l+c-d,textAnchor:v,verticalAnchor:p},I):i==="insideBottomRight"?pr({x:o+u-g,y:l+c-d,textAnchor:y,verticalAnchor:p},I):zg(i)&&(Ne(i.x)||gf(i.x))&&(Ne(i.y)||gf(i.y))?pr({x:o+Jf(i.x,u),y:l+Jf(i.y,c),textAnchor:"end",verticalAnchor:"end"},I):pr({x:o+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},f6e=function(t){return"cx"in t&&Ne(t.cx)};function ta(e){var t=e.offset,n=t===void 0?5:t,r=t6e(e,QPe),a=pr({offset:n},r),i=a.viewBox,s=a.position,o=a.value,l=a.children,u=a.content,c=a.className,f=c===void 0?"":c,d=a.textBreakAll;if(!i||St(o)&&St(l)&&!C.isValidElement(u)&&!gt(u))return null;if(C.isValidElement(u))return C.cloneElement(u,a);var p;if(gt(u)){if(p=C.createElement(u,a),C.isValidElement(p))return p}else p=s6e(a);var h=f6e(i),m=xt(a,!0);if(h&&(s==="insideStart"||s==="insideEnd"||s==="end"))return l6e(a,p,m);var g=h?u6e(a):c6e(a);return V.createElement(sk,$v({className:Mt("recharts-label",f)},m,g,{breakAll:d}),p)}ta.displayName="Label";var pZ=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,u=t.innerRadius,c=t.outerRadius,f=t.x,d=t.y,p=t.top,h=t.left,m=t.width,g=t.height,y=t.clockWise,v=t.labelViewBox;if(v)return v;if(Ne(m)&&Ne(g)){if(Ne(f)&&Ne(d))return{x:f,y:d,width:m,height:g};if(Ne(p)&&Ne(h))return{x:p,y:h,width:m,height:g}}return Ne(f)&&Ne(d)?{x:f,y:d,width:0,height:0}:Ne(n)&&Ne(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:c||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},d6e=function(t,n){return t?t===!0?V.createElement(ta,{key:"label-implicit",viewBox:n}):Sr(t)?V.createElement(ta,{key:"label-implicit",viewBox:n,value:t}):C.isValidElement(t)?t.type===ta?C.cloneElement(t,{key:"label-implicit",viewBox:n}):V.createElement(ta,{key:"label-implicit",content:t,viewBox:n}):gt(t)?V.createElement(ta,{key:"label-implicit",content:t,viewBox:n}):zg(t)?V.createElement(ta,$v({viewBox:n},t,{key:"label-implicit"})):null:null},p6e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=pZ(t),s=$s(a,ta).map(function(l,u){return C.cloneElement(l,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return s;var o=d6e(t.label,n||i);return[o].concat(KPe(s))};ta.parseViewBox=pZ;ta.renderCallByParent=p6e;function h6e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var m6e=h6e;const g6e=un(m6e);function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}var y6e=["valueAccessor"],v6e=["data","dataKey","clockWise","id","textBreakAll"];function b6e(e){return k6e(e)||S6e(e)||x6e(e)||w6e()}function w6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x6e(e,t){if(e){if(typeof e=="string")return mA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(e,t)}}function S6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k6e(e){if(Array.isArray(e))return mA(e)}function mA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sk.apply(this,arguments)}function sU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sU(Object(n),!0).forEach(function(r){C6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C6e(e,t,n){return t=I6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I6e(e){var t=N6e(e,"string");return Dv(t)=="symbol"?t:t+""}function N6e(e,t){if(Dv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lU(e,t){if(e==null)return{};var n=M6e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M6e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var T6e=function(t){return Array.isArray(t.value)?g6e(t.value):t.value};function Qu(e){var t=e.valueAccessor,n=t===void 0?T6e:t,r=lU(e,y6e),a=r.data,i=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,u=lU(r,v6e);return!a||!a.length?null:V.createElement(Ln,{className:"recharts-label-list"},a.map(function(c,f){var d=St(i)?n(c,f):ki(c&&c.payload,i),p=St(o)?{}:{id:"".concat(o,"-").concat(f)};return V.createElement(ta,Sk({},xt(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:ta.parseViewBox(St(s)?c:oU(oU({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Qu.displayName="LabelList";function E6e(e,t){return e?e===!0?V.createElement(Qu,{key:"labelList-implicit",data:t}):V.isValidElement(e)||gt(e)?V.createElement(Qu,{key:"labelList-implicit",data:t,content:e}):zg(e)?V.createElement(Qu,Sk({data:t},e,{key:"labelList-implicit"})):null:null}function A6e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=$s(r,Qu).map(function(s,o){return C.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!n)return a;var i=E6e(e.label,t);return[i].concat(b6e(a))}Qu.renderCallByParent=A6e;function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function gA(){return gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gA.apply(this,arguments)}function uU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(n),!0).forEach(function(r){L6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L6e(e,t,n){return t=_6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _6e(e){var t=j6e(e,"string");return Ov(t)=="symbol"?t:t+""}function j6e(e,t){if(Ov(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $6e=function(t,n){var r=Ls(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Kx=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,c=l*(o?1:-1)+a,f=Math.asin(l/c)/xk,d=u?i:i+s*f,p=zr(n,r,c,d),h=zr(n,r,a,d),m=u?i-s*f:i,g=zr(n,r,c*Math.cos(f*xk),m);return{center:p,circleTangency:h,lineTangency:g,theta:f}},hZ=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=$6e(s,o),u=s+l,c=zr(n,r,i,s),f=zr(n,r,i,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=zr(n,r,a,s),h=zr(n,r,a,u);d+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},D6e=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,f=Ls(c-u),d=Kx({cx:n,cy:r,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=d.circleTangency,h=d.lineTangency,m=d.theta,g=Kx({cx:n,cy:r,radius:i,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=g.circleTangency,v=g.lineTangency,b=g.theta,x=l?Math.abs(u-c):Math.abs(u-c)-m-b;if(x<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):hZ({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:c});var S="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var k=Kx({cx:n,cy:r,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=k.circleTangency,N=k.lineTangency,T=k.theta,L=Kx({cx:n,cy:r,radius:a,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=L.circleTangency,M=L.lineTangency,j=L.theta,D=l?Math.abs(u-c):Math.abs(u-c)-T-j;if(D<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},O6e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mZ=function(t){var n=cU(cU({},O6e),t),r=n.cx,a=n.cy,i=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(s<i||c===f)return null;var p=Mt("recharts-sector",d),h=s-i,m=Jf(o,h,0,!0),g;return m>0&&Math.abs(c-f)<360?g=D6e({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,h/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):g=hZ({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:c,endAngle:f}),V.createElement("path",gA({},xt(n,!0),{className:p,d:g,role:"img"}))};function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function yA(){return yA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yA.apply(this,arguments)}function fU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(n),!0).forEach(function(r){R6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R6e(e,t,n){return t=P6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P6e(e){var t=F6e(e,"string");return Rv(t)=="symbol"?t:t+""}function F6e(e,t){if(Rv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pU={curveBasisClosed:DNe,curveBasisOpen:ONe,curveBasis:$Ne,curveBumpX:wNe,curveBumpY:xNe,curveLinearClosed:RNe,curveLinear:LI,curveMonotoneX:PNe,curveMonotoneY:FNe,curveNatural:zNe,curveStep:BNe,curveStepAfter:WNe,curveStepBefore:UNe},Jx=function(t){return t.x===+t.x&&t.y===+t.y},V1=function(t){return t.x},G1=function(t){return t.y},z6e=function(t,n){if(gt(t))return t;var r="curve".concat(EI(t));return(r==="curveMonotone"||r==="curveBump")&&n?pU["".concat(r).concat(n==="vertical"?"Y":"X")]:pU[r]||LI},B6e=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,u=l===void 0?!1:l,c=z6e(r,o),f=u?i.filter(function(m){return Jx(m)}):i,d;if(Array.isArray(s)){var p=u?s.filter(function(m){return Jx(m)}):s,h=f.map(function(m,g){return dU(dU({},m),{},{base:p[g]})});return o==="vertical"?d=Bx().y(G1).x1(V1).x0(function(m){return m.base.x}):d=Bx().x(V1).y1(G1).y0(function(m){return m.base.y}),d.defined(Jx).curve(c),d(h)}return o==="vertical"&&Ne(s)?d=Bx().y(G1).x1(V1).x0(s):Ne(s)?d=Bx().x(V1).y1(G1).y0(s):d=yK().x(V1).y(G1),d.defined(Jx).curve(c),d(f)},Dy=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var s=r&&r.length?B6e(t):a;return C.createElement("path",yA({},xt(t,!1),GS(t),{className:Mt("recharts-curve",n),d:s,ref:i}))},gZ={exports:{}},U6e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W6e=U6e,V6e=W6e;function yZ(){}function vZ(){}vZ.resetWarningCache=yZ;var G6e=function(){function e(r,a,i,s,o,l){if(l!==V6e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:vZ,resetWarningCache:yZ};return n.PropTypes=n,n};gZ.exports=G6e();var H6e=gZ.exports;const Rt=un(H6e);var q6e=Object.getOwnPropertyNames,Y6e=Object.getOwnPropertySymbols,Q6e=Object.prototype.hasOwnProperty;function hU(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function Zx(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,s=i.get(n),o=i.get(r);if(s&&o)return s===r&&o===n;i.set(n,r),i.set(r,n);var l=e(n,r,a);return i.delete(n),i.delete(r),l}}function mU(e){return q6e(e).concat(Y6e(e))}var K6e=Object.hasOwn||function(e,t){return Q6e.call(e,t)};function Td(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var J6e="__v",Z6e="__o",X6e="_owner",gU=Object.getOwnPropertyDescriptor,yU=Object.keys;function eFe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function tFe(e,t){return Td(e.getTime(),t.getTime())}function nFe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rFe(e,t){return e===t}function vU(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var u=t.entries(),c=!1,f=0;(o=u.next())&&!o.done;){if(a[f]){f++;continue}var d=s.value,p=o.value;if(n.equals(d[0],p[0],l,f,e,t,n)&&n.equals(d[1],p[1],d[0],p[0],e,t,n)){c=a[f]=!0;break}f++}if(!c)return!1;l++}return!0}var aFe=Td;function iFe(e,t,n){var r=yU(e),a=r.length;if(yU(t).length!==a)return!1;for(;a-- >0;)if(!bZ(e,t,n,r[a]))return!1;return!0}function H1(e,t,n){var r=mU(e),a=r.length;if(mU(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=r[a],!bZ(e,t,n,i)||(s=gU(e,i),o=gU(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function sFe(e,t){return Td(e.valueOf(),t.valueOf())}function oFe(e,t){return e.source===t.source&&e.flags===t.flags}function bU(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),u=!1,c=0;(o=l.next())&&!o.done;){if(!a[c]&&n.equals(s.value,o.value,s.value,o.value,e,t,n)){u=a[c]=!0;break}c++}if(!u)return!1}return!0}function lFe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function uFe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function bZ(e,t,n,r){return(r===X6e||r===Z6e||r===J6e)&&(e.$$typeof||t.$$typeof)?!0:K6e(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var cFe="[object Arguments]",fFe="[object Boolean]",dFe="[object Date]",pFe="[object Error]",hFe="[object Map]",mFe="[object Number]",gFe="[object Object]",yFe="[object RegExp]",vFe="[object Set]",bFe="[object String]",wFe="[object URL]",xFe=Array.isArray,wU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,xU=Object.assign,SFe=Object.prototype.toString.call.bind(Object.prototype.toString);function kFe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,c=e.areSetsEqual,f=e.areTypedArraysEqual,d=e.areUrlsEqual;return function(h,m,g){if(h===m)return!0;if(h==null||m==null)return!1;var y=typeof h;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(h,m,g):y==="function"?a(h,m,g):!1;var v=h.constructor;if(v!==m.constructor)return!1;if(v===Object)return o(h,m,g);if(xFe(h))return t(h,m,g);if(wU!=null&&wU(h))return f(h,m,g);if(v===Date)return n(h,m,g);if(v===RegExp)return u(h,m,g);if(v===Map)return i(h,m,g);if(v===Set)return c(h,m,g);var b=SFe(h);return b===dFe?n(h,m,g):b===yFe?u(h,m,g):b===hFe?i(h,m,g):b===vFe?c(h,m,g):b===gFe?typeof h.then!="function"&&typeof m.then!="function"&&o(h,m,g):b===wFe?d(h,m,g):b===pFe?r(h,m,g):b===cFe?o(h,m,g):b===fFe||b===mFe||b===bFe?l(h,m,g):!1}}function CFe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?H1:eFe,areDatesEqual:tFe,areErrorsEqual:nFe,areFunctionsEqual:rFe,areMapsEqual:r?hU(vU,H1):vU,areNumbersEqual:aFe,areObjectsEqual:r?H1:iFe,arePrimitiveWrappersEqual:sFe,areRegExpsEqual:oFe,areSetsEqual:r?hU(bU,H1):bU,areTypedArraysEqual:r?H1:lFe,areUrlsEqual:uFe};if(n&&(a=xU({},a,n(a))),t){var i=Zx(a.areArraysEqual),s=Zx(a.areMapsEqual),o=Zx(a.areObjectsEqual),l=Zx(a.areSetsEqual);a=xU({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function IFe(e){return function(t,n,r,a,i,s,o){return e(t,n,o)}}function NFe(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?t?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:a,meta:p,strict:i})};if(t)return function(l,u){return n(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return n(l,u,s)}}var MFe=Tc();Tc({strict:!0});Tc({circular:!0});Tc({circular:!0,strict:!0});Tc({createInternalComparator:function(){return Td}});Tc({strict:!0,createInternalComparator:function(){return Td}});Tc({circular:!0,createInternalComparator:function(){return Td}});Tc({circular:!0,createInternalComparator:function(){return Td},strict:!0});function Tc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=CFe(e),l=kFe(o),u=r?r(l):IFe(l);return NFe({circular:n,comparator:l,createState:a,equals:u,strict:s})}function TFe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function SU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):TFe(a)};requestAnimationFrame(r)}function vA(e){"@babel/helpers - typeof";return vA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vA(e)}function EFe(e){return jFe(e)||_Fe(e)||LFe(e)||AFe()}function AFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LFe(e,t){if(e){if(typeof e=="string")return kU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kU(e,t)}}function kU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _Fe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jFe(e){if(Array.isArray(e))return e}function $Fe(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,o=EFe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){SU(a.bind(null,u),l);return}a(l),SU(a.bind(null,u));return}vA(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function CU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CU(Object(n),!0).forEach(function(r){wZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wZ(e,t,n){return t=DFe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DFe(e){var t=OFe(e,"string");return Pv(t)==="symbol"?t:String(t)}function OFe(e,t){if(Pv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RFe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},PFe=function(t){return t},FFe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Oy=function(t,n){return Object.keys(n).reduce(function(r,a){return IU(IU({},r),{},wZ({},a,t(a,n[a])))},{})},NU=function(t,n,r){return t.map(function(a){return"".concat(FFe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function zFe(e,t){return WFe(e)||UFe(e,t)||xZ(e,t)||BFe()}function BFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UFe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function WFe(e){if(Array.isArray(e))return e}function VFe(e){return qFe(e)||HFe(e)||xZ(e)||GFe()}function GFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(e,t){if(e){if(typeof e=="string")return bA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bA(e,t)}}function HFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qFe(e){if(Array.isArray(e))return bA(e)}function bA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kk=1e-4,SZ=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},kZ=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},MU=function(t,n){return function(r){var a=SZ(t,n);return kZ(a,r)}},YFe=function(t,n){return function(r){var a=SZ(t,n),i=[].concat(VFe(a.map(function(s,o){return s*o}).slice(1)),[0]);return kZ(i,r)}},TU=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),c=zFe(u,4);a=c[0],i=c[1],s=c[2],o=c[3]}}}var f=MU(a,s),d=MU(i,o),p=YFe(a,s),h=function(y){return y>1?1:y<0?0:y},m=function(y){for(var v=y>1?1:y,b=v,x=0;x<8;++x){var S=f(b)-v,k=p(b);if(Math.abs(S-v)<kk||k<kk)return d(b);b=h(b-S/k)}return d(b)};return m.isStepper=!1,m},QFe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(c,f,d){var p=-(c-f)*r,h=d*i,m=d+(p-h)*o/1e3,g=d*o/1e3+c;return Math.abs(g-f)<kk&&Math.abs(m)<kk?[f,0]:[g,m]};return l.isStepper=!0,l.dt=o,l},KFe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TU(a);case"spring":return QFe();default:if(a.split("(")[0]==="cubic-bezier")return TU(a)}return typeof a=="function"?a:null};function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function EU(e){return XFe(e)||ZFe(e)||CZ(e)||JFe()}function JFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XFe(e){if(Array.isArray(e))return xA(e)}function AU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(n),!0).forEach(function(r){wA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wA(e,t,n){return t=eze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eze(e){var t=tze(e,"string");return Fv(t)==="symbol"?t:String(t)}function tze(e,t){if(Fv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nze(e,t){return ize(e)||aze(e,t)||CZ(e,t)||rze()}function rze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CZ(e,t){if(e){if(typeof e=="string")return xA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xA(e,t)}}function xA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aze(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function ize(e){if(Array.isArray(e))return e}var Ck=function(t,n,r){return t+(n-t)*r},SA=function(t){var n=t.from,r=t.to;return n!==r},sze=function e(t,n,r){var a=Oy(function(i,s){if(SA(s)){var o=t(s.from,s.to,s.velocity),l=nze(o,2),u=l[0],c=l[1];return Pr(Pr({},s),{},{from:u,velocity:c})}return s},n);return r<1?Oy(function(i,s){return SA(s)?Pr(Pr({},s),{},{velocity:Ck(s.velocity,a[i].velocity,r),from:Ck(s.from,a[i].from,r)}):s},n):e(t,a,r-1)};const oze=function(e,t,n,r,a){var i=RFe(e,t),s=i.reduce(function(g,y){return Pr(Pr({},g),{},wA({},y,[e[y],t[y]]))},{}),o=i.reduce(function(g,y){return Pr(Pr({},g),{},wA({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Oy(function(y,v){return v.from},o)},p=function(){return!Object.values(o).filter(SA).length},h=function(y){u||(u=y);var v=y-u,b=v/n.dt;o=sze(n,o,b),a(Pr(Pr(Pr({},e),t),d())),u=y,p()||(l=requestAnimationFrame(f))},m=function(y){c||(c=y);var v=(y-c)/r,b=Oy(function(S,k){return Ck.apply(void 0,EU(k).concat([n(v)]))},s);if(a(Pr(Pr(Pr({},e),t),b)),v<1)l=requestAnimationFrame(f);else{var x=Oy(function(S,k){return Ck.apply(void 0,EU(k).concat([n(1)]))},s);a(Pr(Pr(Pr({},e),t),x))}};return f=n.isStepper?h:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}var lze=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uze(e,t){if(e==null)return{};var n=cze(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cze(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function mE(e){return hze(e)||pze(e)||dze(e)||fze()}function fze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dze(e,t){if(e){if(typeof e=="string")return kA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(e,t)}}function pze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hze(e){if(Array.isArray(e))return kA(e)}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LU(Object(n),!0).forEach(function(r){uy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uy(e,t,n){return t=IZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IZ(r.key),r)}}function yze(e,t,n){return t&&gze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IZ(e){var t=vze(e,"string");return Gm(t)==="symbol"?t:String(t)}function vze(e,t){if(Gm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CA(e,t)}function CA(e,t){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},CA(e,t)}function wze(e){var t=xze();return function(){var r=Ik(e),a;if(t){var i=Ik(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return IA(this,a)}}function IA(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NA(e)}function NA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ik(e){return Ik=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ik(e)}var Ml=function(e){bze(n,e);var t=wze(n);function n(r,a){var i;mze(this,n),i=t.call(this,r,a);var s=i.props,o=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,d=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(NA(i)),i.changeStyle=i.changeStyle.bind(NA(i)),!o||p<=0)return i.state={style:{}},typeof d=="function"&&(i.state={style:c}),IA(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof d=="function")return i.state={style:u},IA(i);i.state={style:l?uy({},l,u):u}}else i.state={style:{}};return i}return yze(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,c=i.to,f=i.from,d=this.state.style;if(o){if(!s){var p={style:l?uy({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(MFe(a.to,c)&&a.canBegin&&a.isActive)){var h=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=h||u?f:a.to;if(this.state&&d){var g={style:l?uy({},l,m):m};(l&&d[l]!==m||!l&&d!==m)&&this.setState(g)}this.runAnimation(ys(ys({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,u=a.easing,c=a.begin,f=a.onAnimationEnd,d=a.onAnimationStart,p=oze(s,o,KFe(u),l,this.changeStyle),h=function(){i.stopJSAnimation=p()};this.manager.start([d,c,h,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,u=s[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(m,g,y){if(y===0)return m;var v=g.duration,b=g.easing,x=b===void 0?"ease":b,S=g.style,k=g.properties,I=g.onAnimationEnd,N=y>0?s[y-1]:g,T=k||Object.keys(S);if(typeof x=="function"||x==="spring")return[].concat(mE(m),[i.runJSAnimation.bind(i,{from:N.style,to:S,duration:v,easing:x}),v]);var L=NU(T,v,x),E=ys(ys(ys({},N.style),S),{},{transition:L});return[].concat(mE(m),[E,v,I]).filter(PFe)};return this.manager.start([l].concat(mE(s.reduce(p,[c,Math.max(d,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=$Fe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,u=a.easing,c=a.onAnimationStart,f=a.onAnimationEnd,d=a.steps,p=a.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(d.length>1){this.runStepAnimation(a);return}var m=o?uy({},o,l):l,g=NU(Object.keys(m),s,u);h.start([c,i,ys(ys({},m),{},{transition:g}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=uze(a,lze),u=C.Children.count(i),c=this.state.style;if(typeof i=="function")return i(c);if(!o||u===0||s<=0)return i;var f=function(p){var h=p.props,m=h.style,g=m===void 0?{}:m,y=h.className,v=C.cloneElement(p,ys(ys({},l),{},{style:ys(ys({},g),c),className:y}));return v};return u===1?f(C.Children.only(i)):V.createElement("div",null,C.Children.map(i,function(d){return f(d)}))}}]),n}(C.PureComponent);Ml.displayName="Animate";Ml.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ml.propTypes={from:Rt.oneOfType([Rt.object,Rt.string]),to:Rt.oneOfType([Rt.object,Rt.string]),attributeName:Rt.string,duration:Rt.number,begin:Rt.number,easing:Rt.oneOfType([Rt.string,Rt.func]),steps:Rt.arrayOf(Rt.shape({duration:Rt.number.isRequired,style:Rt.object.isRequired,easing:Rt.oneOfType([Rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Rt.func]),properties:Rt.arrayOf("string"),onAnimationEnd:Rt.func})),children:Rt.oneOfType([Rt.node,Rt.func]),isActive:Rt.bool,canBegin:Rt.bool,onAnimationEnd:Rt.func,shouldReAnimate:Rt.bool,onAnimationStart:Rt.func,onAnimationReStart:Rt.func};function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nk.apply(this,arguments)}function Sze(e,t){return Nze(e)||Ize(e,t)||Cze(e,t)||kze()}function kze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cze(e,t){if(e){if(typeof e=="string")return _U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _U(e,t)}}function _U(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ize(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Nze(e){if(Array.isArray(e))return e}function jU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $U(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jU(Object(n),!0).forEach(function(r){Mze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mze(e,t,n){return t=Tze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tze(e){var t=Eze(e,"string");return zv(t)=="symbol"?t:t+""}function Eze(e,t){if(zv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DU=function(t,n,r,a,i){var s=Math.min(Math.abs(r)/2,Math.abs(a)/2),o=a>=0?1:-1,l=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,c;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=i[d]>s?s:i[d];c="M".concat(t,",").concat(n+o*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(n)),c+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+o*f[1])),c+="L ".concat(t+r,",").concat(n+a-o*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-l*f[2],",").concat(n+a)),c+="L ".concat(t+l*f[3],",").concat(n+a),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-o*f[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);c="M ".concat(t,",").concat(n+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+l*h,",").concat(n,`
            L `).concat(t+r-l*h,",").concat(n,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+r,",").concat(n+o*h,`
            L `).concat(t+r,",").concat(n+a-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+r-l*h,",").concat(n+a,`
            L `).concat(t+l*h,",").concat(n+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t,",").concat(n+a-o*h," Z")}else c="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return c},Aze=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(i,i+o),c=Math.max(i,i+o),f=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=c&&a>=f&&a<=d}return!1},Lze={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tD=function(t){var n=$U($U({},Lze),t),r=C.useRef(),a=C.useState(-1),i=Sze(a,2),s=i[0],o=i[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,h=n.animationEasing,m=n.animationDuration,g=n.animationBegin,y=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var b=Mt("recharts-rectangle",p);return v?V.createElement(Ml,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:m,animationEasing:h,isActive:v},function(x){var S=x.width,k=x.height,I=x.x,N=x.y;return V.createElement(Ml,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:h},V.createElement("path",Nk({},xt(n,!0),{className:b,d:DU(I,N,S,k,d),ref:r})))}):V.createElement("path",Nk({},xt(n,!0),{className:b,d:DU(l,u,c,f,d)}))};function MA(){return MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MA.apply(this,arguments)}var nD=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,s=Mt("recharts-dot",i);return n===+n&&r===+r&&a===+a?C.createElement("circle",MA({},xt(t,!1),GS(t),{className:s,cx:n,cy:r,r:a})):null};function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}var _ze=["x","y","top","left","width","height","className"];function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TA.apply(this,arguments)}function OU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OU(Object(n),!0).forEach(function(r){$ze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ze(e,t,n){return t=Dze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dze(e){var t=Oze(e,"string");return Bv(t)=="symbol"?t:t+""}function Oze(e,t){if(Bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rze(e,t){if(e==null)return{};var n=Pze(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pze(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Fze=function(t,n,r,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(n,"h").concat(r)},zze=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,u=l===void 0?0:l,c=t.width,f=c===void 0?0:c,d=t.height,p=d===void 0?0:d,h=t.className,m=Rze(t,_ze),g=jze({x:r,y:i,top:o,left:u,width:f,height:p},m);return!Ne(r)||!Ne(i)||!Ne(f)||!Ne(p)||!Ne(o)||!Ne(u)?null:V.createElement("path",TA({},xt(g,!0),{className:Mt("recharts-cross",h),d:Fze(r,i,f,p,o,u)}))},Bze=BK,Uze=Bze(Object.getPrototypeOf,Object),Wze=Uze,Vze=jl,Gze=Wze,Hze=$l,qze="[object Object]",Yze=Function.prototype,Qze=Object.prototype,NZ=Yze.toString,Kze=Qze.hasOwnProperty,Jze=NZ.call(Object);function Zze(e){if(!Hze(e)||Vze(e)!=qze)return!1;var t=Gze(e);if(t===null)return!0;var n=Kze.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&NZ.call(n)==Jze}var Xze=Zze;const e9e=un(Xze);var t9e=jl,n9e=$l,r9e="[object Boolean]";function a9e(e){return e===!0||e===!1||n9e(e)&&t9e(e)==r9e}var i9e=a9e;const s9e=un(i9e);function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mk.apply(this,arguments)}function o9e(e,t){return f9e(e)||c9e(e,t)||u9e(e,t)||l9e()}function l9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u9e(e,t){if(e){if(typeof e=="string")return RU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RU(e,t)}}function RU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c9e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function f9e(e){if(Array.isArray(e))return e}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(n),!0).forEach(function(r){d9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d9e(e,t,n){return t=p9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9e(e){var t=h9e(e,"string");return Uv(t)=="symbol"?t:t+""}function h9e(e,t){if(Uv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zU=function(t,n,r,a,i){var s=r-a,o;return o="M ".concat(t,",").concat(n),o+="L ".concat(t+r,",").concat(n),o+="L ".concat(t+r-s/2,",").concat(n+i),o+="L ".concat(t+r-s/2-a,",").concat(n+i),o+="L ".concat(t,",").concat(n," Z"),o},m9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g9e=function(t){var n=FU(FU({},m9e),t),r=C.useRef(),a=C.useState(-1),i=o9e(a,2),s=i[0],o=i[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&o(b)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,h=n.animationEasing,m=n.animationDuration,g=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var v=Mt("recharts-trapezoid",p);return y?V.createElement(Ml,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:m,animationEasing:h,isActive:y},function(b){var x=b.upperWidth,S=b.lowerWidth,k=b.height,I=b.x,N=b.y;return V.createElement(Ml,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:h},V.createElement("path",Mk({},xt(n,!0),{className:v,d:zU(I,N,x,S,k),ref:r})))}):V.createElement("g",null,V.createElement("path",Mk({},xt(n,!0),{className:v,d:zU(l,u,c,f,d)})))},y9e=["option","shapeType","propTransformer","activeClassName","isActive"];function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function v9e(e,t){if(e==null)return{};var n=b9e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function b9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function BU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BU(Object(n),!0).forEach(function(r){w9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w9e(e,t,n){return t=x9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x9e(e){var t=S9e(e,"string");return Wv(t)=="symbol"?t:t+""}function S9e(e,t){if(Wv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k9e(e,t){return Tk(Tk({},t),e)}function C9e(e,t){return e==="symbols"}function UU(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return V.createElement(tD,n);case"trapezoid":return V.createElement(g9e,n);case"sector":return V.createElement(mZ,n);case"symbols":if(C9e(t))return V.createElement(b$,n);break;default:return null}}function I9e(e){return C.isValidElement(e)?e.props:e}function N9e(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?k9e:r,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=v9e(e,y9e),u;if(C.isValidElement(t))u=C.cloneElement(t,Tk(Tk({},l),I9e(t)));else if(gt(t))u=t(l);else if(e9e(t)&&!s9e(t)){var c=a(t,l);u=V.createElement(UU,{shapeType:n,elementProps:c})}else{var f=l;u=V.createElement(UU,{shapeType:n,elementProps:f})}return o?V.createElement(Ln,{className:s},u):u}function HI(e,t){return t!=null&&"trapezoids"in e.props}function qI(e,t){return t!=null&&"sectors"in e.props}function Vv(e,t){return t!=null&&"points"in e.props}function M9e(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function T9e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function E9e(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function A9e(e,t){var n;return HI(e,t)?n=M9e:qI(e,t)?n=T9e:Vv(e,t)&&(n=E9e),n}function L9e(e,t){var n;return HI(e,t)?n="trapezoids":qI(e,t)?n="sectors":Vv(e,t)&&(n="points"),n}function _9e(e,t){if(HI(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qI(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Vv(e,t)?t.payload:{}}function j9e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=L9e(n,t),i=_9e(n,t),s=r.filter(function(l,u){var c=Mv(i,l),f=n.props[a].filter(function(h){var m=A9e(n,t);return m(h,t)}),d=n.props[a].indexOf(f[f.length-1]),p=u===d;return c&&p}),o=r.indexOf(s[s.length-1]);return o}var $9e=Math.ceil,D9e=Math.max;function O9e(e,t,n,r){for(var a=-1,i=D9e($9e((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++a]=e,e+=n;return s}var R9e=O9e,P9e=iJ,WU=1/0,F9e=17976931348623157e292;function z9e(e){if(!e)return e===0?e:0;if(e=P9e(e),e===WU||e===-WU){var t=e<0?-1:1;return t*F9e}return e===e?e:0}var B9e=z9e,U9e=R9e,W9e=DI,gE=B9e;function V9e(e){return function(t,n,r){return r&&typeof r!="number"&&W9e(t,n,r)&&(n=r=void 0),t=gE(t),n===void 0?(n=t,t=0):n=gE(n),r=r===void 0?t<n?1:-1:gE(r),U9e(t,n,r,e)}}var G9e=V9e,H9e=G9e,q9e=H9e(),Y9e=q9e;const Ek=un(Y9e);function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function VU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VU(Object(n),!0).forEach(function(r){MZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MZ(e,t,n){return t=Q9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q9e(e){var t=K9e(e,"string");return Gv(t)=="symbol"?t:t+""}function K9e(e,t){if(Gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J9e=["Webkit","Moz","O","ms"],Z9e=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=J9e.reduce(function(i,s){return GU(GU({},i),{},MZ({},s+r,n))},{});return a[t]=n,a};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ak.apply(this,arguments)}function HU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HU(Object(n),!0).forEach(function(r){li(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EZ(r.key),r)}}function eBe(e,t,n){return t&&qU(e.prototype,t),n&&qU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tBe(e,t,n){return t=Lk(t),nBe(e,TZ()?Reflect.construct(t,n||[],Lk(e).constructor):t.apply(e,n))}function nBe(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rBe(e)}function rBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TZ=function(){return!!e})()}function Lk(e){return Lk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lk(e)}function aBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EA(e,t)}function EA(e,t){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},EA(e,t)}function li(e,t,n){return t=EZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=iBe(e,"string");return Hm(t)=="symbol"?t:t+""}function iBe(e,t){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sBe=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=jy().domain(Ek(0,l)).range([i,i+s-o]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:c}},YU=function(t){return t.changedTouches&&!!t.changedTouches.length},qm=function(e){function t(n){var r;return X9e(this,t),r=tBe(this,t,[n]),li(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),li(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),li(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),r.detachDragEndListener()}),li(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),li(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),li(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),li(r,"handleSlideDragStart",function(a){var i=YU(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return aBe(t,e),eBe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,c=u.length-1,f=Math.min(a,i),d=Math.max(a,i),p=t.getIndexInRange(s,f),h=t.getIndexInRange(s,d);return{startIndex:p-p%l,endIndex:h===c?c:h-h%l}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=ki(i[r],o,r);return gt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,h=l.onChange,m=r.pageX-i;m>0?m=Math.min(m,u+c-f-o,u+c-f-s):m<0&&(m=Math.max(m,u-s,u-o));var g=this.getIndex({startX:s+m,endX:o+m});(g.startIndex!==d||g.endIndex!==p)&&h&&h(g),this.setState({startX:s+m,endX:o+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=YU(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,u=this.state[s],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,h=c.onChange,m=c.gap,g=c.data,y={startX:this.state.startX,endX:this.state.endX},v=r.pageX-i;v>0?v=Math.min(v,f+d-p-u):v<0&&(v=Math.max(v,f-u)),y[s]=u+v;var b=this.getIndex(y),x=b.startIndex,S=b.endIndex,k=function(){var N=g.length-1;return s==="startX"&&(o>l?x%m===0:S%m===0)||o<l&&S===N||s==="endX"&&(o>l?S%m===0:x%m===0)||o>l&&S===N};this.setState(li(li({},s,u+v),"brushMoveStartX",r.pageX),function(){h&&k()&&h(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,c=this.state[a],f=o.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=o.length)){var p=o[d];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(li({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,o=r.height,l=r.fill,u=r.stroke;return V.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,o=r.height,l=r.data,u=r.children,c=r.padding,f=C.Children.only(u);return f?V.cloneElement(f,{x:a,y:i,width:s,height:o,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,s,o=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,h=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(r,this.props.x),v=yE(yE({},xt(this.props,!1)),{},{x:y,y:u,width:c,height:f}),b=p||"Min value: ".concat((i=h[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=h[g])===null||s===void 0?void 0:s.name);return V.createElement(Ln,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,v))}},{key:"renderSlide",value:function(r,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,u=i.travellerWidth,c=Math.min(r,a)+u,f=Math.max(Math.abs(a-r)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,h={pointerEvents:"none",fill:u};return V.createElement(Ln,{className:"recharts-brush-texts"},V.createElement(sk,Ak({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:s+o/2},h),this.getTextOfTick(a)),V.createElement(sk,Ak({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:s+o/2},h),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,s=r.children,o=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,h=d.endX,m=d.isTextActive,g=d.isSlideMoving,y=d.isTravellerMoving,v=d.isTravellerFocused;if(!a||!a.length||!Ne(o)||!Ne(l)||!Ne(u)||!Ne(c)||u<=0||c<=0)return null;var b=Mt("recharts-brush",i),x=V.Children.count(s)===1,S=Z9e("userSelect","none");return V.createElement(Ln,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(p,h),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(h,"endX"),(m||g||y||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,s=r.width,o=r.height,l=r.stroke,u=Math.floor(i+o/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),V.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return V.isValidElement(r)?i=V.cloneElement(r,a):gt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,s=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return yE({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?sBe({data:i,width:s,x:o,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var d=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>a?o=l:s=l}return a>=r[o]?o:s}}])}(C.PureComponent);li(qm,"displayName","Brush");li(qm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oBe=M$;function lBe(e,t){var n;return oBe(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var uBe=lBe,cBe=jK,fBe=Yg,dBe=uBe,pBe=ri,hBe=DI;function mBe(e,t,n){var r=pBe(e)?cBe:dBe;return n&&hBe(e,t,n)&&(t=void 0),r(e,fBe(t))}var gBe=mBe;const yBe=un(gBe);var Io=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},QU=eJ;function vBe(e,t,n){t=="__proto__"&&QU?QU(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var bBe=vBe,wBe=bBe,xBe=ZK,SBe=Yg;function kBe(e,t){var n={};return t=SBe(t),xBe(e,function(r,a,i){wBe(n,a,t(r,a,i))}),n}var CBe=kBe;const IBe=un(CBe);function NBe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var MBe=NBe,TBe=M$;function EBe(e,t){var n=!0;return TBe(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var ABe=EBe,LBe=MBe,_Be=ABe,jBe=Yg,$Be=ri,DBe=DI;function OBe(e,t,n){var r=$Be(e)?LBe:_Be;return n&&DBe(e,t,n)&&(t=void 0),r(e,jBe(t))}var RBe=OBe;const PBe=un(RBe);var FBe=["x","y"];function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function AA(){return AA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AA.apply(this,arguments)}function KU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function q1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KU(Object(n),!0).forEach(function(r){zBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zBe(e,t,n){return t=BBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BBe(e){var t=UBe(e,"string");return Hv(t)=="symbol"?t:t+""}function UBe(e,t){if(Hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WBe(e,t){if(e==null)return{};var n=VBe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VBe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GBe(e,t){var n=e.x,r=e.y,a=WBe(e,FBe),i="".concat(n),s=parseInt(i,10),o="".concat(r),l=parseInt(o,10),u="".concat(t.height||a.height),c=parseInt(u,10),f="".concat(t.width||a.width),d=parseInt(f,10);return q1(q1(q1(q1(q1({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:t.name,radius:t.radius})}function JU(e){return V.createElement(N9e,AA({shapeType:"rectangle",propTransformer:GBe,activeClassName:"recharts-active-bar"},e))}var HBe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=Ne(r)||iIe(r);return i?t(r,a):(i||Xf(),n)}},qBe=["value","background"],AZ;function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function YBe(e,t){if(e==null)return{};var n=QBe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QBe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _k(){return _k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_k.apply(this,arguments)}function ZU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZU(Object(n),!0).forEach(function(r){Tu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_Z(r.key),r)}}function JBe(e,t,n){return t&&XU(e.prototype,t),n&&XU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZBe(e,t,n){return t=jk(t),XBe(e,LZ()?Reflect.construct(t,n||[],jk(e).constructor):t.apply(e,n))}function XBe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e5e(e)}function e5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LZ=function(){return!!e})()}function jk(e){return jk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jk(e)}function t5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LA(e,t)}function LA(e,t){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},LA(e,t)}function Tu(e,t,n){return t=_Z(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=n5e(e,"string");return Ym(t)=="symbol"?t:t+""}function n5e(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hb=function(e){function t(){var n;KBe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ZBe(this,t,[].concat(a)),Tu(n,"state",{isAnimationFinished:!1}),Tu(n,"id",Bb("recharts-bar-")),Tu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Tu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return t5e(t,e),JBe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,u=i.activeBar,c=xt(this.props,!1);return r&&r.map(function(f,d){var p=d===l,h=p?u:s,m=Zn(Zn(Zn({},c),f),{},{isActive:p,option:h,index:d,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return V.createElement(Ln,_k({className:"recharts-bar-rectangle"},HS(a.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),V.createElement(JU,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevData;return V.createElement(Ml,{begin:l,duration:u,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,m=i.map(function(g,y){var v=d&&d[y];if(v){var b=Yi(v.x,g.x),x=Yi(v.y,g.y),S=Yi(v.width,g.width),k=Yi(v.height,g.height);return Zn(Zn({},g),{},{x:b(h),y:x(h),width:S(h),height:k(h)})}if(s==="horizontal"){var I=Yi(0,g.height),N=I(h);return Zn(Zn({},g),{},{y:g.y+g.height-N,height:N})}var T=Yi(0,g.width),L=T(h);return Zn(Zn({},g),{},{width:L})});return V.createElement(Ln,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Mv(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=xt(this.props.background,!1);return i.map(function(u,c){u.value;var f=u.background,d=YBe(u,qBe);if(!f)return null;var p=Zn(Zn(Zn(Zn(Zn({},d),{},{fill:"#eee"},f),l),HS(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return V.createElement(JU,_k({key:"background-bar-".concat(c),option:r.props.background,isActive:c===o},p))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,u=i.layout,c=i.children,f=$s(c,GI);if(!f)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,p=function(g,y){var v=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:v,errorVal:ki(g,y)}},h={clipPath:r?"url(#clipPath-".concat(a,")"):null};return V.createElement(Ln,h,f.map(function(m){return V.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,s=r.className,o=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,h=r.background,m=r.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,y=Mt("recharts-bar",s),v=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,S=St(m)?this.id:m;return V.createElement(Ln,{className:y},v||b?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(S)},V.createElement("rect",{x:v?u:u-f/2,y:b?c:c-d/2,width:v?f:f*2,height:b?d:d*2}))):null,V.createElement(Ln,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(S,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,S),(!p||g)&&Qu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(C.PureComponent);AZ=Hb;Tu(Hb,"displayName","Bar");Tu(Hb,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Tu(Hb,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,d=e.offset,p=APe(r,n);if(!p)return null;var h=t.layout,m=n.type.defaultProps,g=m!==void 0?Zn(Zn({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,x=h==="horizontal"?s:i,S=u?x.scale.domain():null,k=PPe({numericAxis:x}),I=$s(v,oJ),N=f.map(function(T,L){var E,M,j,D,F,$;u?E=LPe(u[c+L],S):(E=ki(T,y),Array.isArray(E)||(E=[k,E]));var B=HBe(b,AZ.defaultProps.minPointSize)(E[1],L);if(h==="horizontal"){var O,P=[s.scale(E[0]),s.scale(E[1])],W=P[0],H=P[1];M=Z5({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:T,index:L}),j=(O=H??W)!==null&&O!==void 0?O:void 0,D=p.size;var q=W-H;if(F=Number.isNaN(q)?0:q,$={x:M,y:s.y,width:D,height:s.height},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var J=Ls(F||B)*(Math.abs(B)-Math.abs(F));j-=J,F+=J}}else{var re=[i.scale(E[0]),i.scale(E[1])],ce=re[0],ye=re[1];if(M=ce,j=Z5({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:T,index:L}),D=ye-ce,F=p.size,$={x:i.x,y:j,width:i.width,height:F},Math.abs(B)>0&&Math.abs(D)<Math.abs(B)){var he=Ls(D||B)*(Math.abs(B)-Math.abs(D));D+=he}}return Zn(Zn(Zn({},T),{},{x:M,y:j,width:D,height:F,value:u?E:E[1],payload:T,background:$},I&&I[L]&&I[L].props),{},{tooltipPayload:[dZ(n,T)],tooltipPosition:{x:M+D/2,y:j+F/2}})});return Zn({data:N,layout:h},d)});function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function r5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jZ(r.key),r)}}function a5e(e,t,n){return t&&eW(e.prototype,t),n&&eW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tW(Object(n),!0).forEach(function(r){YI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YI(e,t,n){return t=jZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jZ(e){var t=i5e(e,"string");return qv(t)=="symbol"?t:t+""}function i5e(e,t){if(qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s5e=function(t,n,r,a,i){var s=t.width,o=t.height,l=t.layout,u=t.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!ci(u,Hb);return c.reduce(function(p,h){var m=n[h],g=m.orientation,y=m.domain,v=m.padding,b=v===void 0?{}:v,x=m.mirror,S=m.reversed,k="".concat(g).concat(x?"Mirror":""),I,N,T,L,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var M=y[1]-y[0],j=1/0,D=m.categoricalDomain.sort(lIe);if(D.forEach(function(re,ce){ce>0&&(j=Math.min((re||0)-(D[ce-1]||0),j))}),Number.isFinite(j)){var F=j/M,$=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(I=F*$/2),m.padding==="no-gap"){var B=Jf(t.barCategoryGap,F*$),O=F*$/2;I=O-B-(O-B)/$*B}}}a==="xAxis"?N=[r.left+(b.left||0)+(I||0),r.left+r.width-(b.right||0)-(I||0)]:a==="yAxis"?N=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(I||0),r.top+r.height-(b.bottom||0)-(I||0)]:N=m.range,S&&(N=[N[1],N[0]]);var P=TPe(m,i,d),W=P.scale,H=P.realScaleType;W.domain(y).range(N),EPe(W);var q=RPe(W,Ns(Ns({},m),{},{realScaleType:H}));a==="xAxis"?(E=g==="top"&&!x||g==="bottom"&&x,T=r.left,L=f[k]-E*m.height):a==="yAxis"&&(E=g==="left"&&!x||g==="right"&&x,T=f[k]-E*m.width,L=r.top);var J=Ns(Ns(Ns({},m),q),{},{realScaleType:H,x:T,y:L,scale:W,width:a==="xAxis"?r.width:m.width,height:a==="yAxis"?r.height:m.height});return J.bandSize=wk(J,q),!m.hide&&a==="xAxis"?f[k]+=(E?-1:1)*J.height:m.hide||(f[k]+=(E?-1:1)*J.width),Ns(Ns({},p),{},YI({},h,J))},{})},$Z=function(t,n){var r=t.x,a=t.y,i=n.x,s=n.y;return{x:Math.min(r,i),y:Math.min(a,s),width:Math.abs(i-r),height:Math.abs(s-a)}},o5e=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return $Z({x:n,y:r},{x:a,y:i})},DZ=function(){function e(t){r5e(this,e),this.scale=t}return a5e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();YI(DZ,"EPS",1e-4);var rD=function(t){var n=Object.keys(t).reduce(function(r,a){return Ns(Ns({},r),{},YI({},a,DZ.create(t[a])))},{});return Ns(Ns({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return IBe(a,function(l,u){return n[u].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return PBe(a,function(i,s){return n[s].isInRange(i)})}})};function l5e(e){return(e%180+180)%180}var u5e=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=l5e(a),s=i*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},c5e=uCe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),OZ=C.createContext(void 0),RZ=C.createContext(void 0),PZ=C.createContext(void 0),f5e=C.createContext({}),FZ=C.createContext(void 0),zZ=C.createContext(0),BZ=C.createContext(0),nW=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,s=t.clipPathId,o=t.children,l=t.width,u=t.height,c=c5e(i);return V.createElement(OZ.Provider,{value:r},V.createElement(RZ.Provider,{value:a},V.createElement(f5e.Provider,{value:i},V.createElement(PZ.Provider,{value:c},V.createElement(FZ.Provider,{value:s},V.createElement(zZ.Provider,{value:u},V.createElement(BZ.Provider,{value:l},o)))))))},d5e=function(){return C.useContext(FZ)},UZ=function(t){var n=C.useContext(OZ);n==null&&Xf();var r=n[t];return r==null&&Xf(),r},WZ=function(t){var n=C.useContext(RZ);n==null&&Xf();var r=n[t];return r==null&&Xf(),r},p5e=function(){var t=C.useContext(PZ);return t},VZ=function(){return C.useContext(BZ)},GZ=function(){return C.useContext(zZ)};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function h5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m5e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qZ(r.key),r)}}function g5e(e,t,n){return t&&m5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y5e(e,t,n){return t=$k(t),v5e(e,HZ()?Reflect.construct(t,n||[],$k(e).constructor):t.apply(e,n))}function v5e(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b5e(e)}function b5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HZ=function(){return!!e})()}function $k(e){return $k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$k(e)}function w5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}function _A(e,t){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_A(e,t)}function rW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rW(Object(n),!0).forEach(function(r){aD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aD(e,t,n){return t=qZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qZ(e){var t=x5e(e,"string");return Qm(t)=="symbol"?t:t+""}function x5e(e,t){if(Qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S5e(e,t){return N5e(e)||I5e(e,t)||C5e(e,t)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C5e(e,t){if(e){if(typeof e=="string")return iW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iW(e,t)}}function iW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function N5e(e){if(Array.isArray(e))return e}function jA(){return jA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jA.apply(this,arguments)}var M5e=function(t,n){var r;return V.isValidElement(t)?r=V.cloneElement(t,n):gt(t)?r=t(n):r=V.createElement("line",jA({},n,{className:"recharts-reference-line-line"})),r},T5e=function(t,n,r,a,i,s,o,l,u){var c=i.x,f=i.y,d=i.width,p=i.height;if(r){var h=u.y,m=t.y.apply(h,{position:s});if(Io(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:c+d,y:m},{x:c,y:m}];return l==="left"?g.reverse():g}if(n){var y=u.x,v=t.x.apply(y,{position:s});if(Io(u,"discard")&&!t.x.isInRange(v))return null;var b=[{x:v,y:f+p},{x:v,y:f}];return o==="top"?b.reverse():b}if(a){var x=u.segment,S=x.map(function(k){return t.apply(k,{position:s})});return Io(u,"discard")&&yBe(S,function(k){return!t.isInRange(k)})?null:S}return null};function E5e(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,u=d5e(),c=UZ(a),f=WZ(i),d=p5e();if(!u||!d)return null;$f(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=rD({x:c.scale,y:f.scale}),h=Sr(t),m=Sr(n),g=r&&r.length===2,y=T5e(p,h,m,g,d,e.position,c.orientation,f.orientation,e);if(!y)return null;var v=S5e(y,2),b=v[0],x=b.x,S=b.y,k=v[1],I=k.x,N=k.y,T=Io(e,"hidden")?"url(#".concat(u,")"):void 0,L=aW(aW({clipPath:T},xt(e,!0)),{},{x1:x,y1:S,x2:I,y2:N});return V.createElement(Ln,{className:Mt("recharts-reference-line",o)},M5e(s,L),ta.renderCallByParent(e,o5e({x1:x,y1:S,x2:I,y2:N})))}var iD=function(e){function t(){return h5e(this,t),y5e(this,t,arguments)}return w5e(t,e),g5e(t,[{key:"render",value:function(){return V.createElement(E5e,this.props)}}])}(V.Component);aD(iD,"displayName","ReferenceLine");aD(iD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$A.apply(this,arguments)}function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function sW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sW(Object(n),!0).forEach(function(r){QI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L5e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QZ(r.key),r)}}function _5e(e,t,n){return t&&L5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j5e(e,t,n){return t=Dk(t),$5e(e,YZ()?Reflect.construct(t,n||[],Dk(e).constructor):t.apply(e,n))}function $5e(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D5e(e)}function D5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YZ=function(){return!!e})()}function Dk(e){return Dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dk(e)}function O5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DA(e,t)}function DA(e,t){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},DA(e,t)}function QI(e,t,n){return t=QZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QZ(e){var t=R5e(e,"string");return Km(t)=="symbol"?t:t+""}function R5e(e,t){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P5e=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,s=rD({x:a.scale,y:i.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Io(t,"discard")&&!s.isInRange(o)?null:o},KI=function(e){function t(){return A5e(this,t),j5e(this,t,arguments)}return O5e(t,e),_5e(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,u=Sr(a),c=Sr(i);if($f(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=P5e(this.props);if(!f)return null;var d=f.x,p=f.y,h=this.props,m=h.shape,g=h.className,y=Io(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=oW(oW({clipPath:y},xt(this.props,!0)),{},{cx:d,cy:p});return V.createElement(Ln,{className:Mt("recharts-reference-dot",g)},t.renderDot(m,v),ta.renderCallByParent(this.props,{x:d-s,y:p-s,width:2*s,height:2*s}))}}])}(V.Component);QI(KI,"displayName","ReferenceDot");QI(KI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});QI(KI,"renderDot",function(e,t){var n;return V.isValidElement(e)?n=V.cloneElement(e,t):gt(e)?n=e(t):n=V.createElement(nD,$A({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function OA(){return OA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OA.apply(this,arguments)}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function lW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lW(Object(n),!0).forEach(function(r){JI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z5e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JZ(r.key),r)}}function B5e(e,t,n){return t&&z5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U5e(e,t,n){return t=Ok(t),W5e(e,KZ()?Reflect.construct(t,n||[],Ok(e).constructor):t.apply(e,n))}function W5e(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V5e(e)}function V5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KZ=function(){return!!e})()}function Ok(e){return Ok=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ok(e)}function G5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RA(e,t)}function RA(e,t){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},RA(e,t)}function JI(e,t,n){return t=JZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JZ(e){var t=H5e(e,"string");return Jm(t)=="symbol"?t:t+""}function H5e(e,t){if(Jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q5e=function(t,n,r,a,i){var s=i.x1,o=i.x2,l=i.y1,u=i.y2,c=i.xAxis,f=i.yAxis;if(!c||!f)return null;var d=rD({x:c.scale,y:f.scale}),p={x:t?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},h={x:n?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:a?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Io(i,"discard")&&(!d.isInRange(p)||!d.isInRange(h))?null:$Z(p,h)},ZI=function(e){function t(){return F5e(this,t),U5e(this,t,arguments)}return G5e(t,e),B5e(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,s=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;$f(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sr(a),d=Sr(i),p=Sr(s),h=Sr(o),m=this.props.shape;if(!f&&!d&&!p&&!h&&!m)return null;var g=q5e(f,d,p,h,this.props);if(!g&&!m)return null;var y=Io(this.props,"hidden")?"url(#".concat(c,")"):void 0;return V.createElement(Ln,{className:Mt("recharts-reference-area",l)},t.renderRect(m,uW(uW({clipPath:y},xt(this.props,!0)),g)),ta.renderCallByParent(this.props,g))}}])}(V.Component);JI(ZI,"displayName","ReferenceArea");JI(ZI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});JI(ZI,"renderRect",function(e,t){var n;return V.isValidElement(e)?n=V.cloneElement(e,t):gt(e)?n=e(t):n=V.createElement(tD,OA({},t,{className:"recharts-reference-area-rect"})),n});function ZZ(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function Y5e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return u5e(r,n)}function Q5e(e,t,n){var r=n==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:r?a:i,end:r?a+s:i+o}:{start:r?a+s:i+o,end:r?a:i}}function Rk(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function K5e(e,t){return ZZ(e,t+1)}function J5e(e,t,n,r,a){for(var i=(r||[]).slice(),s=t.start,o=t.end,l=0,u=1,c=s,f=function(){var h=r==null?void 0:r[l];if(h===void 0)return{v:ZZ(r,u)};var m=l,g,y=function(){return g===void 0&&(g=n(h,m)),g},v=h.coordinate,b=l===0||Rk(e,v,y,c,o);b||(l=0,c=s,u+=1),b&&(c=v+e*(y()/2+a),l+=u)},d;u<=i.length;)if(d=f(),d)return d.v;return[]}function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function cW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cW(Object(n),!0).forEach(function(r){Z5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z5e(e,t,n){return t=X5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X5e(e){var t=eUe(e,"string");return Yv(t)=="symbol"?t:t+""}function eUe(e,t){if(Yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tUe(e,t,n,r,a){for(var i=(r||[]).slice(),s=i.length,o=t.start,l=t.end,u=function(d){var p=i[d],h,m=function(){return h===void 0&&(h=n(p,d)),h};if(d===s-1){var g=e*(p.coordinate+e*m()/2-l);i[d]=p=Xr(Xr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[d]=p=Xr(Xr({},p),{},{tickCoord:p.coordinate});var y=Rk(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+a),i[d]=Xr(Xr({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return i}function nUe(e,t,n,r,a,i){var s=(r||[]).slice(),o=s.length,l=t.start,u=t.end;if(i){var c=r[o-1],f=n(c,o-1),d=e*(c.coordinate+e*f/2-u);s[o-1]=c=Xr(Xr({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate});var p=Rk(e,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-e*(f/2+a),s[o-1]=Xr(Xr({},c),{},{isShow:!0}))}for(var h=i?o-1:o,m=function(v){var b=s[v],x,S=function(){return x===void 0&&(x=n(b,v)),x};if(v===0){var k=e*(b.coordinate-e*S()/2-l);s[v]=b=Xr(Xr({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else s[v]=b=Xr(Xr({},b),{},{tickCoord:b.coordinate});var I=Rk(e,b.tickCoord,S,l,u);I&&(l=b.tickCoord+e*(S()/2+a),s[v]=Xr(Xr({},b),{},{isShow:!0}))},g=0;g<h;g++)m(g);return s}function rUe(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,f=e.angle;if(!a||!a.length||!r)return[];if(Ne(l)||dl.isSsr)return K5e(a,typeof l=="number"&&Ne(l)?l:0);var d=[],p=o==="top"||o==="bottom"?"width":"height",h=c&&p==="width"?_y(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(b,x){var S=gt(u)?u(b.value,x):b.value;return p==="width"?Y5e(_y(S,{fontSize:t,letterSpacing:n}),h,f):_y(S,{fontSize:t,letterSpacing:n})[p]},g=a.length>=2?Ls(a[1].coordinate-a[0].coordinate):1,y=Q5e(i,g,p);return l==="equidistantPreserveStart"?J5e(g,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?d=nUe(g,y,m,a,s,l==="preserveStartEnd"):d=tUe(g,y,m,a,s),d.filter(function(v){return v.isShow}))}var aUe=["viewBox"],iUe=["viewBox"],sUe=["ticks"];function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wh.apply(this,arguments)}function fW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fW(Object(n),!0).forEach(function(r){sD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vE(e,t){if(e==null)return{};var n=oUe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oUe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eX(r.key),r)}}function uUe(e,t,n){return t&&dW(e.prototype,t),n&&dW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cUe(e,t,n){return t=Pk(t),fUe(e,XZ()?Reflect.construct(t,n||[],Pk(e).constructor):t.apply(e,n))}function fUe(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dUe(e)}function dUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XZ=function(){return!!e})()}function Pk(e){return Pk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pk(e)}function pUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PA(e,t)}function PA(e,t){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},PA(e,t)}function sD(e,t,n){return t=eX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eX(e){var t=hUe(e,"string");return Zm(t)=="symbol"?t:t+""}function hUe(e,t){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XI=function(e){function t(n){var r;return lUe(this,t),r=cUe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return pUe(t,e),uUe(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,s=vE(r,aUe),o=this.props,l=o.viewBox,u=vE(o,iUe);return!tm(i,l)||!tm(s,u)||!tm(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,u=a.orientation,c=a.tickSize,f=a.mirror,d=a.tickMargin,p,h,m,g,y,v,b=f?-1:1,x=r.tickSize||c,S=Ne(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=h=r.coordinate,g=s+ +!f*l,m=g-b*x,v=m-b*d,y=S;break;case"left":m=g=r.coordinate,h=i+ +!f*o,p=h-b*x,y=p-b*d,v=S;break;case"right":m=g=r.coordinate,h=i+ +f*o,p=h+b*x,y=p+b*d,v=S;break;default:p=h=r.coordinate,g=s+ +f*l,m=g+b*x,v=m+b*d,y=S;break}return{line:{x1:p,y1:m,x2:h,y2:g},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,o=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=dr(dr(dr({},xt(this.props,!1)),xt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=dr(dr({},f),{},{x1:a,y1:i+d*o,x2:a+s,y2:i+d*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=dr(dr({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return V.createElement("line",Wh({},f,{className:Mt("recharts-cartesian-axis-line",es(c,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var s=this,o=this.props,l=o.tickLine,u=o.stroke,c=o.tick,f=o.tickFormatter,d=o.unit,p=rUe(dr(dr({},this.props),{},{ticks:r}),a,i),h=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=xt(this.props,!1),y=xt(c,!1),v=dr(dr({},g),{},{fill:"none"},xt(l,!1)),b=p.map(function(x,S){var k=s.getTickLineCoord(x),I=k.line,N=k.tick,T=dr(dr(dr(dr({textAnchor:h,verticalAnchor:m},g),{},{stroke:"none",fill:u},y),N),{},{index:S,payload:x,visibleTicksCount:p.length,tickFormatter:f});return V.createElement(Ln,Wh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},HS(s.props,x,S)),l&&V.createElement("line",Wh({},v,I,{className:Mt("recharts-cartesian-axis-tick-line",es(l,"className"))})),c&&t.renderTickItem(c,T,"".concat(gt(f)?f(x.value,S):x.value).concat(d||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,u=a.className,c=a.hide;if(c)return null;var f=this.props,d=f.ticks,p=vE(f,sUe),h=d;return gt(l)&&(h=d&&d.length>0?l(this.props):l(p)),s<=0||o<=0||!h||!h.length?null:V.createElement(Ln,{className:Mt("recharts-cartesian-axis",u),ref:function(g){r.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),ta.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var s,o=Mt(a.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(r)?s=V.cloneElement(r,dr(dr({},a),{},{className:o})):gt(r)?s=r(dr(dr({},a),{},{className:o})):s=V.createElement(sk,Wh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(C.Component);sD(XI,"displayName","CartesianAxis");sD(XI,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mUe=["layout","type","stroke","connectNulls","isRange","ref"],gUe=["key"],tX;function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function nX(e,t){if(e==null)return{};var n=yUe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yUe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wf.apply(this,arguments)}function pW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pW(Object(n),!0).forEach(function(r){go(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aX(r.key),r)}}function bUe(e,t,n){return t&&hW(e.prototype,t),n&&hW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wUe(e,t,n){return t=Fk(t),xUe(e,rX()?Reflect.construct(t,n||[],Fk(e).constructor):t.apply(e,n))}function xUe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SUe(e)}function SUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rX=function(){return!!e})()}function Fk(e){return Fk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fk(e)}function kUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FA(e,t)}function FA(e,t){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},FA(e,t)}function go(e,t,n){return t=aX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aX(e){var t=CUe(e,"string");return Xm(t)=="symbol"?t:t+""}function CUe(e,t){if(Xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tl=function(e){function t(){var n;vUe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=wUe(this,t,[].concat(a)),go(n,"state",{isAnimationFinished:!0}),go(n,"id",Bb("recharts-area-")),go(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),gt(s)&&s()}),go(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),gt(s)&&s()}),n}return kUe(t,e),bUe(t,[{key:"renderDots",value:function(r,a,i){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,d=xt(this.props,!1),p=xt(u,!0),h=c.map(function(g,y){var v=nu(nu(nu({key:"dot-".concat(y),r:3},d),p),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:c});return t.renderDotItem(u,v)}),m={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return V.createElement(Ln,wf({className:"recharts-area-dots"},m),h)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),f=Mu(s.map(function(d){return d.y||0}));return Ne(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Mu(i.map(function(d){return d.y||0})),f)),Ne(f)?V.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),f=Mu(s.map(function(d){return d.x||0}));return Ne(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Mu(i.map(function(d){return d.x||0})),f)),Ne(f)?V.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,i,s){var o=this.props,l=o.layout,u=o.type,c=o.stroke,f=o.connectNulls,d=o.isRange;o.ref;var p=nX(o,mUe);return V.createElement(Ln,{clipPath:i?"url(#clipPath-".concat(s,")"):null},V.createElement(Dy,wf({},xt(p,!0),{points:r,connectNulls:f,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&V.createElement(Dy,wf({},xt(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&d&&V.createElement(Dy,wf({},xt(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var i=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,d=s.animationEasing,p=s.animationId,h=this.state,m=h.prevPoints,g=h.prevBaseLine;return V.createElement(Ml,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t;if(m){var b=m.length/o.length,x=o.map(function(N,T){var L=Math.floor(T*b);if(m[L]){var E=m[L],M=Yi(E.x,N.x),j=Yi(E.y,N.y);return nu(nu({},N),{},{x:M(v),y:j(v)})}return N}),S;if(Ne(l)&&typeof l=="number"){var k=Yi(g,l);S=k(v)}else if(St(l)||Vg(l)){var I=Yi(g,0);S=I(v)}else S=l.map(function(N,T){var L=Math.floor(T*b);if(g[L]){var E=g[L],M=Yi(E.x,N.x),j=Yi(E.y,N.y);return nu(nu({},N),{},{x:M(v),y:j(v)})}return N});return i.renderAreaStatically(x,S,r,a)}return V.createElement(Ln,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(v))),V.createElement(Ln,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(o,l,r,a)))})}},{key:"renderArea",value:function(r,a){var i=this.props,s=i.points,o=i.baseLine,l=i.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,d=u.totalLength;return l&&s&&s.length&&(!c&&d>0||!Mv(c,s)||!Mv(f,o))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(s,o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,u=a.top,c=a.left,f=a.xAxis,d=a.yAxis,p=a.width,h=a.height,m=a.isAnimationActive,g=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,v=o.length===1,b=Mt("recharts-area",l),x=f&&f.allowDataOverflow,S=d&&d.allowDataOverflow,k=x||S,I=St(g)?this.id:g,N=(r=xt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=N.r,L=T===void 0?3:T,E=N.strokeWidth,M=E===void 0?2:E,j=yIe(s)?s:{},D=j.clipDot,F=D===void 0?!0:D,$=L*2+M;return V.createElement(Ln,{className:b},x||S?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(I)},V.createElement("rect",{x:x?c:c-p/2,y:S?u:u-h/2,width:x?p:p*2,height:S?h:h*2})),!F&&V.createElement("clipPath",{id:"clipPath-dots-".concat(I)},V.createElement("rect",{x:c-$/2,y:u-$/2,width:p+$,height:h+$}))):null,v?null:this.renderArea(k,I),(s||v)&&this.renderDots(k,F,I),(!m||y)&&Qu.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(C.PureComponent);tX=Tl;go(Tl,"displayName","Area");go(Tl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!dl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});go(Tl,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,s=t.props.baseValue,o=s??i;if(Ne(o)&&typeof o=="number")return o;var l=a==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});go(Tl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.bandSize,l=e.dataKey,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,d=e.offset,p=t.layout,h=u&&u.length,m=tX.getBaseValue(t,n,r,a),g=p==="horizontal",y=!1,v=f.map(function(x,S){var k;h?k=u[c+S]:(k=ki(x,l),Array.isArray(k)?y=!0:k=[m,k]);var I=k[1]==null||h&&ki(x,l)==null;return g?{x:J5({axis:r,ticks:i,bandSize:o,entry:x,index:S}),y:I?null:a.scale(k[1]),value:k,payload:x}:{x:I?null:r.scale(k[1]),y:J5({axis:a,ticks:s,bandSize:o,entry:x,index:S}),value:k,payload:x}}),b;return h||y?b=v.map(function(x){var S=Array.isArray(x.value)?x.value[0]:null;return g?{x:x.x,y:S!=null&&x.y!=null?a.scale(S):null}:{x:S!=null?r.scale(S):null,y:x.y}}):b=g?a.scale(m):r.scale(m),nu({points:v,baseLine:b,layout:p,isRange:y},d)});go(Tl,"renderDotItem",function(e,t){var n;if(V.isValidElement(e))n=V.cloneElement(e,t);else if(gt(e))n=e(t);else{var r=Mt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=nX(t,gUe);n=V.createElement(nD,wf({},i,{key:a,className:r}))}return n});function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function IUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oX(r.key),r)}}function MUe(e,t,n){return t&&NUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TUe(e,t,n){return t=zk(t),EUe(e,iX()?Reflect.construct(t,n||[],zk(e).constructor):t.apply(e,n))}function EUe(e,t){if(t&&(eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AUe(e)}function AUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!e})()}function zk(e){return zk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zk(e)}function LUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}function zA(e,t){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},zA(e,t)}function sX(e,t,n){return t=oX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oX(e){var t=_Ue(e,"string");return eg(t)=="symbol"?t:t+""}function _Ue(e,t){if(eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BA(){return BA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BA.apply(this,arguments)}function jUe(e){var t=e.xAxisId,n=VZ(),r=GZ(),a=UZ(t);return a==null?null:C.createElement(XI,BA({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return bf(s,!0)}}))}var oD=function(e){function t(){return IUe(this,t),TUe(this,t,arguments)}return LUe(t,e),MUe(t,[{key:"render",value:function(){return C.createElement(jUe,this.props)}}])}(C.Component);sX(oD,"displayName","XAxis");sX(oD,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function $Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cX(r.key),r)}}function OUe(e,t,n){return t&&DUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RUe(e,t,n){return t=Bk(t),PUe(e,lX()?Reflect.construct(t,n||[],Bk(e).constructor):t.apply(e,n))}function PUe(e,t){if(t&&(tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FUe(e)}function FUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lX=function(){return!!e})()}function Bk(e){return Bk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bk(e)}function zUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UA(e,t)}function UA(e,t){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},UA(e,t)}function uX(e,t,n){return t=cX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cX(e){var t=BUe(e,"string");return tg(t)=="symbol"?t:t+""}function BUe(e,t){if(tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WA(){return WA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WA.apply(this,arguments)}var UUe=function(t){var n=t.yAxisId,r=VZ(),a=GZ(),i=WZ(n);return i==null?null:C.createElement(XI,WA({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(o){return bf(o,!0)}}))},lD=function(e){function t(){return $Ue(this,t),RUe(this,t,arguments)}return zUe(t,e),OUe(t,[{key:"render",value:function(){return C.createElement(UUe,this.props)}}])}(C.Component);uX(lD,"displayName","YAxis");uX(lD,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mW(e){return HUe(e)||GUe(e)||VUe(e)||WUe()}function WUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VUe(e,t){if(e){if(typeof e=="string")return VA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VA(e,t)}}function GUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HUe(e){if(Array.isArray(e))return VA(e)}function VA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GA=function(t,n,r,a,i){var s=$s(t,iD),o=$s(t,KI),l=[].concat(mW(s),mW(o)),u=$s(t,ZI),c="".concat(a,"Id"),f=a[0],d=n;if(l.length&&(d=l.reduce(function(m,g){if(g.props[c]===r&&Io(g.props,"extendDomain")&&Ne(g.props[f])){var y=g.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},d)),u.length){var p="".concat(f,"1"),h="".concat(f,"2");d=u.reduce(function(m,g){if(g.props[c]===r&&Io(g.props,"extendDomain")&&Ne(g.props[p])&&Ne(g.props[h])){var y=g.props[p],v=g.props[h];return[Math.min(m[0],y,v),Math.max(m[1],y,v)]}return m},d)}return i&&i.length&&(d=i.reduce(function(m,g){return Ne(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},d)),d},fX={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function i(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new a(c,f||l,d),h=n?n+u:u;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],p]:l._events[h].push(p):(l._events[h]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,h=new Array(p);d<p;d++)h[d]=f[d].fn;return h},o.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,d,p,h){var m=n?n+u:u;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,v,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,d),!0;case 5:return g.fn.call(g.context,c,f,d,p),!0;case 6:return g.fn.call(g.context,c,f,d,p,h),!0}for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];g.fn.apply(g.context,v)}else{var x=g.length,S;for(b=0;b<x;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),y){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,c);break;case 3:g[b].fn.call(g[b].context,c,f);break;case 4:g[b].fn.call(g[b].context,c,f,d);break;default:if(!v)for(S=1,v=new Array(y-1);S<y;S++)v[S-1]=arguments[S];g[b].fn.apply(g[b].context,v)}}return!0},o.prototype.on=function(u,c,f){return i(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return i(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var h=this._events[p];if(h.fn)h.fn===c&&(!d||h.once)&&(!f||h.context===f)&&s(this,p);else{for(var m=0,g=[],y=h.length;m<y;m++)(h[m].fn!==c||d&&!h[m].once||f&&h[m].context!==f)&&g.push(h[m]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(fX);var qUe=fX.exports;const YUe=un(qUe);var bE=new YUe,wE="recharts.syncMouseEvents";function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function QUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dX(r.key),r)}}function JUe(e,t,n){return t&&KUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xE(e,t,n){return t=dX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dX(e){var t=ZUe(e,"string");return Qv(t)=="symbol"?t:t+""}function ZUe(e,t){if(Qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XUe=function(){function e(){QUe(this,e),xE(this,"activeIndex",0),xE(this,"coordinateList",[]),xE(this,"layout","horizontal")}return JUe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,s=n.container,o=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+l+u,d=s+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function eWe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Ne(r)&&Ne(a))return!0}return!1}function tWe(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function pX(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,s=zr(t,n,r,a),o=zr(t,n,r,i);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function nWe(e,t,n){var r,a,i,s;if(e==="horizontal")r=t.x,i=r,a=n.top,s=n.top+n.height;else if(e==="vertical")a=t.y,s=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,f=t.angle,d=zr(o,l,u,f),p=zr(o,l,c,f);r=d.x,a=d.y,i=p.x,s=p.y}else return pX(t);return[{x:r,y:a},{x:i,y:s}]}function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function gW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gW(Object(n),!0).forEach(function(r){rWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rWe(e,t,n){return t=aWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aWe(e){var t=iWe(e,"string");return Kv(t)=="symbol"?t:t+""}function iWe(e,t){if(Kv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sWe(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,u=e.activeTooltipIndex,c=e.tooltipAxisBandSize,f=e.layout,d=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!i||!s||d!=="ScatterChart"&&a!=="axis")return null;var h,m=Dy;if(d==="ScatterChart")h=s,m=zze;else if(d==="BarChart")h=tWe(f,s,l,c),m=tD;else if(f==="radial"){var g=pX(s),y=g.cx,v=g.cy,b=g.radius,x=g.startAngle,S=g.endAngle;h={cx:y,cy:v,startAngle:x,endAngle:S,innerRadius:b,outerRadius:b},m=mZ}else h={points:nWe(f,s,l)},m=Dy;var k=Xx(Xx(Xx(Xx({stroke:"#ccc",pointerEvents:"none"},l),h),xt(p,!1)),{},{payload:o,payloadIndex:u,className:Mt("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,k):C.createElement(m,k)}var oWe=["item"],lWe=["children","className","width","height","style","compact","title","desc"];function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vh.apply(this,arguments)}function yW(e,t){return fWe(e)||cWe(e,t)||mX(e,t)||uWe()}function uWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function fWe(e){if(Array.isArray(e))return e}function vW(e,t){if(e==null)return{};var n=dWe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gX(r.key),r)}}function mWe(e,t,n){return t&&hWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gWe(e,t,n){return t=Uk(t),yWe(e,hX()?Reflect.construct(t,n||[],Uk(e).constructor):t.apply(e,n))}function yWe(e,t){if(t&&(ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vWe(e)}function vWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!e})()}function Uk(e){return Uk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uk(e)}function bWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HA(e,t)}function HA(e,t){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},HA(e,t)}function rg(e){return SWe(e)||xWe(e)||mX(e)||wWe()}function wWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(e,t){if(e){if(typeof e=="string")return qA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(e,t)}}function xWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SWe(e){if(Array.isArray(e))return qA(e)}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bW(Object(n),!0).forEach(function(r){Ke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ke(e,t,n){return t=gX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gX(e){var t=kWe(e,"string");return ng(t)=="symbol"?t:t+""}function kWe(e,t){if(ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CWe={xAxis:["bottom","top"],yAxis:["left","right"]},IWe={width:"100%",height:"100%"},yX={x:0,y:0};function e2(e){return e}var NWe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},MWe=function(t,n,r,a){var i=n.find(function(c){return c&&c.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return fe(fe(fe({},a),zr(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,u=a.angle;return fe(fe(fe({},a),zr(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return yX},eN=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(rg(o),rg(u)):o},[]);return s.length>0?s:t&&t.length&&Ne(a)&&Ne(i)?t.slice(a,i+1):[]};function vX(e){return e==="number"?[0,"auto"]:void 0}var YA=function(t,n,r,a){var i=t.graphicalItems,s=t.tooltipAxis,o=eN(n,t);return r<0||!i||!i.length||r>=o.length?null:i.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;d=VS(p,s.dataKey,a)}else d=f&&f[r]||o[r];return d?[].concat(rg(l),[dZ(u,d)]):l},[])},wW=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},s=NWe(i,r),o=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,c=SPe(s,o,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=YA(t,n,c,f),p=MWe(r,o,c,i);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},TWe=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,d=t.stackOffset,p=cZ(c,i);return r.reduce(function(h,m){var g,y=m.type.defaultProps!==void 0?fe(fe({},m.type.defaultProps),m.props):m.props,v=y.type,b=y.dataKey,x=y.allowDataOverflow,S=y.allowDuplicatedCategory,k=y.scale,I=y.ticks,N=y.includeHidden,T=y[s];if(h[T])return h;var L=eN(t.data,{graphicalItems:a.filter(function(q){var J,re=s in q.props?q.props[s]:(J=q.type.defaultProps)===null||J===void 0?void 0:J[s];return re===T}),dataStartIndex:l,dataEndIndex:u}),E=L.length,M,j,D;eWe(y.domain,x,v)&&(M=pA(y.domain,null,x),p&&(v==="number"||k!=="auto")&&(D=$y(L,b,"category")));var F=vX(v);if(!M||M.length===0){var $,B=($=y.domain)!==null&&$!==void 0?$:F;if(b){if(M=$y(L,b,v),v==="category"&&p){var O=oIe(M);S&&O?(j=M,M=Ek(0,E)):S||(M=tU(B,M,m).reduce(function(q,J){return q.indexOf(J)>=0?q:[].concat(rg(q),[J])},[]))}else if(v==="category")S?M=M.filter(function(q){return q!==""&&!St(q)}):M=tU(B,M,m).reduce(function(q,J){return q.indexOf(J)>=0||J===""||St(J)?q:[].concat(rg(q),[J])},[]);else if(v==="number"){var P=MPe(L,a.filter(function(q){var J,re,ce=s in q.props?q.props[s]:(J=q.type.defaultProps)===null||J===void 0?void 0:J[s],ye="hide"in q.props?q.props.hide:(re=q.type.defaultProps)===null||re===void 0?void 0:re.hide;return ce===T&&(N||!ye)}),b,i,c);P&&(M=P)}p&&(v==="number"||k!=="auto")&&(D=$y(L,b,"category"))}else p?M=Ek(0,E):o&&o[T]&&o[T].hasStack&&v==="number"?M=d==="expand"?[0,1]:fZ(o[T].stackGroups,l,u):M=uZ(L,a.filter(function(q){var J=s in q.props?q.props[s]:q.type.defaultProps[s],re="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return J===T&&(N||!re)}),v,c,!0);if(v==="number")M=GA(f,M,T,i,I),B&&(M=pA(B,M,x));else if(v==="category"&&B){var W=B,H=M.every(function(q){return W.indexOf(q)>=0});H&&(M=W)}}return fe(fe({},h),{},Ke({},T,fe(fe({},y),{},{axisType:i,domain:M,categoricalDomain:D,duplicateDomain:j,originalDomain:(g=y.domain)!==null&&g!==void 0?g:F,isCategorical:p,layout:c})))},{})},EWe=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,d=eN(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,h=cZ(c,i),m=-1;return r.reduce(function(g,y){var v=y.type.defaultProps!==void 0?fe(fe({},y.type.defaultProps),y.props):y.props,b=v[s],x=vX("number");if(!g[b]){m++;var S;return h?S=Ek(0,p):o&&o[b]&&o[b].hasStack?(S=fZ(o[b].stackGroups,l,u),S=GA(f,S,b,i)):(S=pA(x,uZ(d,r.filter(function(k){var I,N,T=s in k.props?k.props[s]:(I=k.type.defaultProps)===null||I===void 0?void 0:I[s],L="hide"in k.props?k.props.hide:(N=k.type.defaultProps)===null||N===void 0?void 0:N.hide;return T===b&&!L}),"number",c),a.defaultProps.allowDataOverflow),S=GA(f,S,b,i)),fe(fe({},g),{},Ke({},b,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:es(CWe,"".concat(i,".").concat(m%2),null),domain:S,originalDomain:x,isCategorical:h,layout:c})))}return g},{})},AWe=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.children,f="".concat(a,"Id"),d=$s(c,i),p={};return d&&d.length?p=TWe(t,{axes:d,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=EWe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},LWe=function(t){var n=Nh(t),r=bf(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:T$(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:wk(n,r)}},xW=function(t){var n=t.children,r=t.defaultShowTooltip,a=ci(n,qm),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},_We=function(t){return!t||!t.length?!1:t.some(function(n){var r=fl(n&&n.type);return r&&r.indexOf("Bar")>=0})},SW=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jWe=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=ci(f,qm),h=ci(f,nm),m=Object.keys(l).reduce(function(S,k){var I=l[k],N=I.orientation;return!I.mirror&&!I.hide?fe(fe({},S),{},Ke({},N,S[N]+I.width)):S},{left:d.left||0,right:d.right||0}),g=Object.keys(s).reduce(function(S,k){var I=s[k],N=I.orientation;return!I.mirror&&!I.hide?fe(fe({},S),{},Ke({},N,es(S,"".concat(N))+I.height)):S},{top:d.top||0,bottom:d.bottom||0}),y=fe(fe({},g),m),v=y.bottom;p&&(y.bottom+=p.props.height||qm.defaultProps.height),h&&n&&(y=IPe(y,a,r,n));var b=u-y.left-y.right,x=c-y.top-y.bottom;return fe(fe({brushBottom:v},y),{},{width:Math.max(b,0),height:Math.max(x,0)})},$We=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},DWe=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,u=t.legendContent,c=t.formatAxisMap,f=t.defaultProps,d=function(y,v){var b=v.graphicalItems,x=v.stackGroups,S=v.offset,k=v.updateId,I=v.dataStartIndex,N=v.dataEndIndex,T=y.barSize,L=y.layout,E=y.barGap,M=y.barCategoryGap,j=y.maxBarSize,D=SW(L),F=D.numericAxisName,$=D.cateAxisName,B=_We(b),O=[];return b.forEach(function(P,W){var H=eN(y.data,{graphicalItems:[P],dataStartIndex:I,dataEndIndex:N}),q=P.type.defaultProps!==void 0?fe(fe({},P.type.defaultProps),P.props):P.props,J=q.dataKey,re=q.maxBarSize,ce=q["".concat(F,"Id")],ye=q["".concat($,"Id")],he={},me=l.reduce(function(Wt,Vt){var rn=v["".concat(Vt.axisType,"Map")],Rr=q["".concat(Vt.axisType,"Id")];rn&&rn[Rr]||Vt.axisType==="zAxis"||Xf();var fr=rn[Rr];return fe(fe({},Wt),{},Ke(Ke({},Vt.axisType,fr),"".concat(Vt.axisType,"Ticks"),bf(fr)))},he),se=me[$],ge=me["".concat($,"Ticks")],we=x&&x[ce]&&x[ce].hasStack&&FPe(P,x[ce].stackGroups),oe=fl(P.type).indexOf("Bar")>=0,Be=wk(se,ge),Te=[],We=B&&kPe({barSize:T,stackGroups:x,totalSize:$We(me,$)});if(oe){var Le,Ye,ot=St(re)?j:re,Zt=(Le=(Ye=wk(se,ge,!0))!==null&&Ye!==void 0?Ye:ot)!==null&&Le!==void 0?Le:0;Te=CPe({barGap:E,barCategoryGap:M,bandSize:Zt!==Be?Zt:Be,sizeList:We[ye],maxBarSize:ot}),Zt!==Be&&(Te=Te.map(function(Wt){return fe(fe({},Wt),{},{position:fe(fe({},Wt.position),{},{offset:Wt.position.offset-Zt/2})})}))}var Dt=P&&P.type&&P.type.getComposedData;Dt&&O.push({props:fe(fe({},Dt(fe(fe({},me),{},{displayedData:H,props:y,dataKey:J,item:P,bandSize:Be,barPosition:Te,offset:S,stackedData:we,layout:L,dataStartIndex:I,dataEndIndex:N}))),{},Ke(Ke(Ke({key:P.key||"item-".concat(W)},F,me[F]),$,me[$]),"animationId",k)),childIndex:wIe(P,y.children),item:P})}),O},p=function(y,v){var b=y.props,x=y.dataStartIndex,S=y.dataEndIndex,k=y.updateId;if(!Y9({props:b}))return null;var I=b.children,N=b.layout,T=b.stackOffset,L=b.data,E=b.reverseStackOrder,M=SW(N),j=M.numericAxisName,D=M.cateAxisName,F=$s(I,r),$=OPe(L,F,"".concat(j,"Id"),"".concat(D,"Id"),T,E),B=l.reduce(function(q,J){var re="".concat(J.axisType,"Map");return fe(fe({},q),{},Ke({},re,AWe(b,fe(fe({},J),{},{graphicalItems:F,stackGroups:J.axisType===j&&$,dataStartIndex:x,dataEndIndex:S}))))},{}),O=jWe(fe(fe({},B),{},{props:b,graphicalItems:F}),v==null?void 0:v.legendBBox);Object.keys(B).forEach(function(q){B[q]=c(b,B[q],O,q.replace("Map",""),n)});var P=B["".concat(D,"Map")],W=LWe(P),H=d(b,fe(fe({},B),{},{dataStartIndex:x,dataEndIndex:S,updateId:k,graphicalItems:F,stackGroups:$,offset:O}));return fe(fe({formattedGraphicalItems:H,graphicalItems:F,offset:O,stackGroups:$},W),B)},h=function(g){function y(v){var b,x,S;return pWe(this,y),S=gWe(this,y,[v]),Ke(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ke(S,"accessibilityManager",new XUe),Ke(S,"handleLegendBBoxUpdate",function(k){if(k){var I=S.state,N=I.dataStartIndex,T=I.dataEndIndex,L=I.updateId;S.setState(fe({legendBBox:k},p({props:S.props,dataStartIndex:N,dataEndIndex:T,updateId:L},fe(fe({},S.state),{},{legendBBox:k}))))}}),Ke(S,"handleReceiveSyncEvent",function(k,I,N){if(S.props.syncId===k){if(N===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(I)}}),Ke(S,"handleBrushChange",function(k){var I=k.startIndex,N=k.endIndex;if(I!==S.state.dataStartIndex||N!==S.state.dataEndIndex){var T=S.state.updateId;S.setState(function(){return fe({dataStartIndex:I,dataEndIndex:N},p({props:S.props,dataStartIndex:I,dataEndIndex:N,updateId:T},S.state))}),S.triggerSyncEvent({dataStartIndex:I,dataEndIndex:N})}}),Ke(S,"handleMouseEnter",function(k){var I=S.getMouseInfo(k);if(I){var N=fe(fe({},I),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var T=S.props.onMouseEnter;gt(T)&&T(N,k)}}),Ke(S,"triggeredAfterMouseMove",function(k){var I=S.getMouseInfo(k),N=I?fe(fe({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var T=S.props.onMouseMove;gt(T)&&T(N,k)}),Ke(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ke(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ke(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),Ke(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};S.setState(I),S.triggerSyncEvent(I);var N=S.props.onMouseLeave;gt(N)&&N(I,k)}),Ke(S,"handleOuterEvent",function(k){var I=bIe(k),N=es(S.props,"".concat(I));if(I&&gt(N)){var T,L;/.*touch.*/i.test(I)?L=S.getMouseInfo(k.changedTouches[0]):L=S.getMouseInfo(k),N((T=L)!==null&&T!==void 0?T:{},k)}}),Ke(S,"handleClick",function(k){var I=S.getMouseInfo(k);if(I){var N=fe(fe({},I),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var T=S.props.onClick;gt(T)&&T(N,k)}}),Ke(S,"handleMouseDown",function(k){var I=S.props.onMouseDown;if(gt(I)){var N=S.getMouseInfo(k);I(N,k)}}),Ke(S,"handleMouseUp",function(k){var I=S.props.onMouseUp;if(gt(I)){var N=S.getMouseInfo(k);I(N,k)}}),Ke(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ke(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),Ke(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),Ke(S,"handleDoubleClick",function(k){var I=S.props.onDoubleClick;if(gt(I)){var N=S.getMouseInfo(k);I(N,k)}}),Ke(S,"handleContextMenu",function(k){var I=S.props.onContextMenu;if(gt(I)){var N=S.getMouseInfo(k);I(N,k)}}),Ke(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&bE.emit(wE,S.props.syncId,k,S.eventEmitterSymbol)}),Ke(S,"applySyncEvent",function(k){var I=S.props,N=I.layout,T=I.syncMethod,L=S.state.updateId,E=k.dataStartIndex,M=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(fe({dataStartIndex:E,dataEndIndex:M},p({props:S.props,dataStartIndex:E,dataEndIndex:M,updateId:L},S.state)));else if(k.activeTooltipIndex!==void 0){var j=k.chartX,D=k.chartY,F=k.activeTooltipIndex,$=S.state,B=$.offset,O=$.tooltipTicks;if(!B)return;if(typeof T=="function")F=T(O,k);else if(T==="value"){F=-1;for(var P=0;P<O.length;P++)if(O[P].value===k.activeLabel){F=P;break}}var W=fe(fe({},B),{},{x:B.left,y:B.top}),H=Math.min(j,W.x+W.width),q=Math.min(D,W.y+W.height),J=O[F]&&O[F].value,re=YA(S.state,S.props.data,F),ce=O[F]?{x:N==="horizontal"?O[F].coordinate:H,y:N==="horizontal"?q:O[F].coordinate}:yX;S.setState(fe(fe({},k),{},{activeLabel:J,activeCoordinate:ce,activePayload:re,activeTooltipIndex:F}))}else S.setState(k)}),Ke(S,"renderCursor",function(k){var I,N=S.state,T=N.isTooltipActive,L=N.activeCoordinate,E=N.activePayload,M=N.offset,j=N.activeTooltipIndex,D=N.tooltipAxisBandSize,F=S.getTooltipEventType(),$=(I=k.props.active)!==null&&I!==void 0?I:T,B=S.props.layout,O=k.key||"_recharts-cursor";return V.createElement(sWe,{key:O,activeCoordinate:L,activePayload:E,activeTooltipIndex:j,chartName:n,element:k,isActive:$,layout:B,offset:M,tooltipAxisBandSize:D,tooltipEventType:F})}),Ke(S,"renderPolarAxis",function(k,I,N){var T=es(k,"type.axisType"),L=es(S.state,"".concat(T,"Map")),E=k.type.defaultProps,M=E!==void 0?fe(fe({},E),k.props):k.props,j=L&&L[M["".concat(T,"Id")]];return C.cloneElement(k,fe(fe({},j),{},{className:Mt(T,j.className),key:k.key||"".concat(I,"-").concat(N),ticks:bf(j,!0)}))}),Ke(S,"renderPolarGrid",function(k){var I=k.props,N=I.radialLines,T=I.polarAngles,L=I.polarRadius,E=S.state,M=E.radiusAxisMap,j=E.angleAxisMap,D=Nh(M),F=Nh(j),$=F.cx,B=F.cy,O=F.innerRadius,P=F.outerRadius;return C.cloneElement(k,{polarAngles:Array.isArray(T)?T:bf(F,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(L)?L:bf(D,!0).map(function(W){return W.coordinate}),cx:$,cy:B,innerRadius:O,outerRadius:P,key:k.key||"polar-grid",radialLines:N})}),Ke(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,I=S.props,N=I.children,T=I.width,L=I.height,E=S.props.margin||{},M=T-(E.left||0)-(E.right||0),j=oZ({children:N,formattedGraphicalItems:k,legendWidth:M,legendContent:u});if(!j)return null;var D=j.item,F=vW(j,oWe);return C.cloneElement(D,fe(fe({},F),{},{chartWidth:T,chartHeight:L,margin:E,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ke(S,"renderTooltip",function(){var k,I=S.props,N=I.children,T=I.accessibilityLayer,L=ci(N,Zo);if(!L)return null;var E=S.state,M=E.isTooltipActive,j=E.activeCoordinate,D=E.activePayload,F=E.activeLabel,$=E.offset,B=(k=L.props.active)!==null&&k!==void 0?k:M;return C.cloneElement(L,{viewBox:fe(fe({},$),{},{x:$.left,y:$.top}),active:B,label:F,payload:B?D:[],coordinate:j,accessibilityLayer:T})}),Ke(S,"renderBrush",function(k){var I=S.props,N=I.margin,T=I.data,L=S.state,E=L.offset,M=L.dataStartIndex,j=L.dataEndIndex,D=L.updateId;return C.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Qx(S.handleBrushChange,k.props.onChange),data:T,x:Ne(k.props.x)?k.props.x:E.left,y:Ne(k.props.y)?k.props.y:E.top+E.height+E.brushBottom-(N.bottom||0),width:Ne(k.props.width)?k.props.width:E.width,startIndex:M,endIndex:j,updateId:"brush-".concat(D)})}),Ke(S,"renderReferenceElement",function(k,I,N){if(!k)return null;var T=S,L=T.clipPathId,E=S.state,M=E.xAxisMap,j=E.yAxisMap,D=E.offset,F=k.type.defaultProps||{},$=k.props,B=$.xAxisId,O=B===void 0?F.xAxisId:B,P=$.yAxisId,W=P===void 0?F.yAxisId:P;return C.cloneElement(k,{key:k.key||"".concat(I,"-").concat(N),xAxis:M[O],yAxis:j[W],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:L})}),Ke(S,"renderActivePoints",function(k){var I=k.item,N=k.activePoint,T=k.basePoint,L=k.childIndex,E=k.isRange,M=[],j=I.props.key,D=I.item.type.defaultProps!==void 0?fe(fe({},I.item.type.defaultProps),I.item.props):I.item.props,F=D.activeDot,$=D.dataKey,B=fe(fe({index:L,dataKey:$,cx:N.x,cy:N.y,r:4,fill:eD(I.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},xt(F,!1)),GS(F));return M.push(y.renderActiveDot(F,B,"".concat(j,"-activePoint-").concat(L))),T?M.push(y.renderActiveDot(F,fe(fe({},B),{},{cx:T.x,cy:T.y}),"".concat(j,"-basePoint-").concat(L))):E&&M.push(null),M}),Ke(S,"renderGraphicChild",function(k,I,N){var T=S.filterFormatItem(k,I,N);if(!T)return null;var L=S.getTooltipEventType(),E=S.state,M=E.isTooltipActive,j=E.tooltipAxis,D=E.activeTooltipIndex,F=E.activeLabel,$=S.props.children,B=ci($,Zo),O=T.props,P=O.points,W=O.isRange,H=O.baseLine,q=T.item.type.defaultProps!==void 0?fe(fe({},T.item.type.defaultProps),T.item.props):T.item.props,J=q.activeDot,re=q.hide,ce=q.activeBar,ye=q.activeShape,he=!!(!re&&M&&B&&(J||ce||ye)),me={};L!=="axis"&&B&&B.props.trigger==="click"?me={onClick:Qx(S.handleItemMouseEnter,k.props.onClick)}:L!=="axis"&&(me={onMouseLeave:Qx(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Qx(S.handleItemMouseEnter,k.props.onMouseEnter)});var se=C.cloneElement(k,fe(fe({},T.props),me));function ge(Vt){return typeof j.dataKey=="function"?j.dataKey(Vt.payload):null}if(he)if(D>=0){var we,oe;if(j.dataKey&&!j.allowDuplicatedCategory){var Be=typeof j.dataKey=="function"?ge:"payload.".concat(j.dataKey.toString());we=VS(P,Be,F),oe=W&&H&&VS(H,Be,F)}else we=P==null?void 0:P[D],oe=W&&H&&H[D];if(ye||ce){var Te=k.props.activeIndex!==void 0?k.props.activeIndex:D;return[C.cloneElement(k,fe(fe(fe({},T.props),me),{},{activeIndex:Te})),null,null]}if(!St(we))return[se].concat(rg(S.renderActivePoints({item:T,activePoint:we,basePoint:oe,childIndex:D,isRange:W})))}else{var We,Le=(We=S.getItemByXY(S.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:se},Ye=Le.graphicalItem,ot=Ye.item,Zt=ot===void 0?k:ot,Dt=Ye.childIndex,Wt=fe(fe(fe({},T.props),me),{},{activeIndex:Dt});return[C.cloneElement(Zt,Wt),null,null]}return W?[se,null,null]:[se,null]}),Ke(S,"renderCustomized",function(k,I,N){return C.cloneElement(k,fe(fe({key:"recharts-customized-".concat(N)},S.props),S.state))}),Ke(S,"renderMap",{CartesianGrid:{handler:e2,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:e2},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:e2},YAxis:{handler:e2},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:Bb("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=sJ(S.triggeredAfterMouseMove,(x=v.throttleDelay)!==null&&x!==void 0?x:1e3/60),S.state={},S}return bWe(y,g),mWe(y,[{key:"componentDidMount",value:function(){var b,x;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,x=b.children,S=b.data,k=b.height,I=b.layout,N=ci(x,Zo);if(N){var T=N.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,E=YA(this.state,S,T,L),M=this.state.tooltipTicks[T].coordinate,j=(this.state.offset.top+k)/2,D=I==="horizontal",F=D?{x:M,y:j}:{y:M,x:j},$=this.state.formattedGraphicalItems.find(function(O){var P=O.item;return P.type.name==="Scatter"});$&&(F=fe(fe({},F),$.props.points[T].tooltipPosition),E=$.props.points[T].tooltipPayload);var B={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:L,activePayload:E,activeCoordinate:F};this.setState(B),this.renderCursor(N),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,x){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==x.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){T3([ci(b.children,Zo)],[ci(this.props.children,Zo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ci(this.props.children,Zo);if(b&&typeof b.props.shared=="boolean"){var x=b.props.shared?"axis":"item";return o.indexOf(x)>=0?x:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var x=this.container,S=x.getBoundingClientRect(),k=Yje(S),I={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},N=S.width/x.offsetWidth||1,T=this.inRange(I.chartX,I.chartY,N);if(!T)return null;var L=this.state,E=L.xAxisMap,M=L.yAxisMap,j=this.getTooltipEventType(),D=wW(this.state,this.props.data,this.props.layout,T);if(j!=="axis"&&E&&M){var F=Nh(E).scale,$=Nh(M).scale,B=F&&F.invert?F.invert(I.chartX):null,O=$&&$.invert?$.invert(I.chartY):null;return fe(fe({},I),{},{xValue:B,yValue:O},D)}return D?fe(fe({},I),D):null}},{key:"inRange",value:function(b,x){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,I=b/S,N=x/S;if(k==="horizontal"||k==="vertical"){var T=this.state.offset,L=I>=T.left&&I<=T.left+T.width&&N>=T.top&&N<=T.top+T.height;return L?{x:I,y:N}:null}var E=this.state,M=E.angleAxisMap,j=E.radiusAxisMap;if(M&&j){var D=Nh(M);return aU({x:I,y:N},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,x=this.getTooltipEventType(),S=ci(b,Zo),k={};S&&x==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=GS(this.props,this.handleOuterEvent);return fe(fe({},I),k)}},{key:"addListener",value:function(){bE.on(wE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bE.removeListener(wE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,x,S){for(var k=this.state.formattedGraphicalItems,I=0,N=k.length;I<N;I++){var T=k[I];if(T.item===b||T.props.key===b.key||x===fl(T.item.type)&&S===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,x=this.state.offset,S=x.left,k=x.top,I=x.height,N=x.width;return V.createElement("defs",null,V.createElement("clipPath",{id:b},V.createElement("rect",{x:S,y:k,height:I,width:N})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(x,S){var k=yW(S,2),I=k[0],N=k[1];return fe(fe({},x),{},Ke({},I,N.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(x,S){var k=yW(S,2),I=k[0],N=k[1];return fe(fe({},x),{},Ke({},I,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var x;return(x=this.state.xAxisMap)===null||x===void 0||(x=x[b])===null||x===void 0?void 0:x.scale}},{key:"getYScaleByAxisId",value:function(b){var x;return(x=this.state.yAxisMap)===null||x===void 0||(x=x[b])===null||x===void 0?void 0:x.scale}},{key:"getItemByXY",value:function(b){var x=this.state,S=x.formattedGraphicalItems,k=x.activeItem;if(S&&S.length)for(var I=0,N=S.length;I<N;I++){var T=S[I],L=T.props,E=T.item,M=E.type.defaultProps!==void 0?fe(fe({},E.type.defaultProps),E.props):E.props,j=fl(E.type);if(j==="Bar"){var D=(L.data||[]).find(function(O){return Aze(b,O)});if(D)return{graphicalItem:T,payload:D}}else if(j==="RadialBar"){var F=(L.data||[]).find(function(O){return aU(b,O)});if(F)return{graphicalItem:T,payload:F}}else if(HI(T,k)||qI(T,k)||Vv(T,k)){var $=j9e({graphicalItem:T,activeTooltipItem:k,itemData:M.data}),B=M.activeIndex===void 0?$:M.activeIndex;return{graphicalItem:fe(fe({},T),{},{childIndex:B}),payload:Vv(T,k)?M.data[$]:T.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!Y9(this))return null;var x=this.props,S=x.children,k=x.className,I=x.width,N=x.height,T=x.style,L=x.compact,E=x.title,M=x.desc,j=vW(x,lWe),D=xt(j,!1);if(L)return V.createElement(nW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(A3,Vh({},D,{width:I,height:N,title:E,desc:M}),this.renderClipPath(),K9(S,this.renderMap)));if(this.props.accessibilityLayer){var F,$;D.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,D.role=($=this.props.role)!==null&&$!==void 0?$:"application",D.onKeyDown=function(O){b.accessibilityManager.keyboardEvent(O)},D.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return V.createElement(nW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Vh({className:Mt("recharts-wrapper",k),style:fe({position:"relative",cursor:"default",width:I,height:N},T)},B,{ref:function(P){b.container=P}}),V.createElement(A3,Vh({},D,{width:I,height:N,title:E,desc:M,style:IWe}),this.renderClipPath(),K9(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);Ke(h,"displayName",n),Ke(h,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ke(h,"getDerivedStateFromProps",function(g,y){var v=g.dataKey,b=g.data,x=g.children,S=g.width,k=g.height,I=g.layout,N=g.stackOffset,T=g.margin,L=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var M=xW(g);return fe(fe(fe({},M),{},{updateId:0},p(fe(fe({props:g},M),{},{updateId:0}),y)),{},{prevDataKey:v,prevData:b,prevWidth:S,prevHeight:k,prevLayout:I,prevStackOffset:N,prevMargin:T,prevChildren:x})}if(v!==y.prevDataKey||b!==y.prevData||S!==y.prevWidth||k!==y.prevHeight||I!==y.prevLayout||N!==y.prevStackOffset||!tm(T,y.prevMargin)){var j=xW(g),D={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},F=fe(fe({},wW(y,b,I)),{},{updateId:y.updateId+1}),$=fe(fe(fe({},j),D),F);return fe(fe(fe({},$),p(fe({props:g},$),y)),{},{prevDataKey:v,prevData:b,prevWidth:S,prevHeight:k,prevLayout:I,prevStackOffset:N,prevMargin:T,prevChildren:x})}if(!T3(x,y.prevChildren)){var B,O,P,W,H=ci(x,qm),q=H&&(B=(O=H.props)===null||O===void 0?void 0:O.startIndex)!==null&&B!==void 0?B:L,J=H&&(P=(W=H.props)===null||W===void 0?void 0:W.endIndex)!==null&&P!==void 0?P:E,re=q!==L||J!==E,ce=!St(b),ye=ce&&!re?y.updateId:y.updateId+1;return fe(fe({updateId:ye},p(fe(fe({props:g},y),{},{updateId:ye,dataStartIndex:q,dataEndIndex:J}),y)),{},{prevChildren:x,dataStartIndex:q,dataEndIndex:J})}return null}),Ke(h,"renderActiveDot",function(g,y,v){var b;return C.isValidElement(g)?b=C.cloneElement(g,y):gt(g)?b=g(y):b=V.createElement(nD,y),V.createElement(Ln,{className:"recharts-active-dot",key:v},b)});var m=C.forwardRef(function(y,v){return V.createElement(h,Vh({},y,{ref:v}))});return m.displayName=h.displayName,m},OWe=DWe({chartName:"AreaChart",GraphicalChild:Tl,axisComponents:[{axisType:"xAxis",AxisComp:oD},{axisType:"yAxis",AxisComp:lD}],formatAxisMap:s5e});const RWe=()=>Array.from({length:20},(e,t)=>({time:t,value:40+Math.random()*40,value2:30+Math.random()*30})),PWe=e=>{let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);const n=Math.abs(t)%360*(Math.PI/180),r=30+Math.abs(t)%50;return{top:`${50+r*Math.sin(n)}%`,left:`${50+r*Math.cos(n)}%`}};function FWe(){var S,k,I,N;const{token:e,user:t}=ur(),[n,r]=C.useState(!1),[a,i]=C.useState("network"),[s,o]=C.useState(RWe()),[l,u]=C.useState(null),[c,f]=C.useState(null),[d,p]=C.useState(!1),[h,m]=C.useState(null),g=C.useRef(null);C.useEffect(()=>{if(!e)return;const T=ht.replace("/api","");return g.current=Ly(T,{auth:{token:e},transports:["websocket","polling"]}),g.current.on("connect",()=>{console.log("Nexus Uplink Established")}),g.current.on("ping-received",L=>{m({fromId:L.from}),setTimeout(()=>m(null),5e3),tn("INCOMING TRANSMISSION",{description:`SECURE SIGNAL RECEIVED FROM: ${L.fromNexusId||L.fromName}`,className:"border-cyan-500 bg-black/90 text-cyan-50 shadow-[0_0_20px_rgba(6,182,212,0.3)]",icon:w.jsx($z,{className:"w-5 h-5 text-cyan-400 animate-pulse"}),duration:5e3})}),()=>{var L;(L=g.current)==null||L.disconnect()}},[e]),C.useEffect(()=>{if(!n||a!=="pulse")return;const T=setInterval(()=>{o(L=>[...L.slice(1),{time:L[L.length-1].time+1,value:40+Math.random()*40,value2:30+Math.random()*30}])},1e3);return()=>clearInterval(T)},[n,a]);const y=xa({queryKey:["nexus-hierarchy"],queryFn:async()=>{const T=await fetch(`${ht}/ai/hierarchy`,{headers:{Authorization:`Bearer ${e}`}});if(!T.ok)throw new Error("Failed to load network");return T.json()},enabled:n&&a==="network"&&!!e}),v=xa({queryKey:["nexus-stats"],queryFn:async()=>{const T=await fetch(`${ht}/ai/stats`,{headers:{Authorization:`Bearer ${e}`}});return T.ok?T.json():{storageUsage:0,integrity:100,nodeCount:0}},enabled:n&&a==="pulse"&&!!e,refetchInterval:3e3}),b=((S=y.data)==null?void 0:S.nodes)||[],x=()=>{!c||!g.current||(p(!0),setTimeout(()=>{var T;(T=g.current)==null||T.emit("ping-user",{targetId:c._id}),p(!1),tn.success("SIGNAL ESTABLISHED",{description:`Handshake successful with node ${c.nexusId}`,className:"border-green-500/50 bg-black/80 text-green-50"})},1e3))};return w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:()=>r(!0),className:ke("fixed bottom-6 right-6 z-50 w-12 h-12 md:w-16 md:h-16 rounded-full","bg-cyan-500 hover:bg-cyan-400 border border-cyan-300","flex items-center justify-center group","shadow-[0_0_20px_rgba(6,182,212,0.6)]","transition-all duration-300 hover:scale-110 active:scale-95","ai-pulse md:bottom-6 bottom-20",n?"scale-0 opacity-0":"scale-100 opacity-100"),children:[w.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 group-hover:bg-white/30 transition-colors"}),w.jsx(U4,{className:"w-6 h-6 md:w-8 md:h-8 text-black animate-pulse"})]}),w.jsxs("div",{className:ke("fixed bottom-6 right-6 z-50 w-[500px] max-w-[calc(100vw-32px)] h-[650px] max-h-[calc(100vh-100px)]","bg-zinc-950 backdrop-blur-3xl border border-cyan-500/30 rounded-3xl overflow-hidden","shadow-[0_0_60px_rgba(6,182,212,0.15)] flex flex-col","transition-all duration-500 cubic-bezier(0.16, 1, 0.3, 1) origin-bottom-right",n?"scale-100 opacity-100 translate-y-0":"scale-90 opacity-0 translate-y-20 pointer-events-none"),children:[w.jsxs("div",{className:"relative p-6 border-b border-cyan-500/20 bg-gradient-to-r from-cyan-900/20 via-transparent to-transparent",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:"relative group cursor-pointer",children:[w.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 blur-xl rounded-full group-hover:bg-cyan-500/30 transition-all"}),w.jsx(U4,{className:"w-8 h-8 text-cyan-400 relative z-10"})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-display font-bold text-xl text-cyan-400 tracking-widest",children:"NEXUS CORE"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:ke("w-1.5 h-1.5 rounded-full animate-pulse",a==="network"?"bg-cyan-500":"bg-emerald-500")}),w.jsx("span",{className:"text-[10px] text-zinc-400 font-mono tracking-[0.2em] uppercase",children:a==="network"?"Link: Stable":"System Telemetry"})]})]})]}),w.jsx("button",{onClick:()=>r(!1),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-white/10 transition-colors text-zinc-500 hover:text-white",children:w.jsx(AS,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"flex bg-black/40 p-1 rounded-xl border border-white/5 backdrop-blur-md",children:[w.jsxs("button",{onClick:()=>i("network"),className:ke("flex-1 py-2.5 text-xs font-bold rounded-lg transition-all flex items-center justify-center gap-2 tracking-wider",a==="network"?"bg-cyan-500 text-black shadow-lg shadow-cyan-500/20":"text-zinc-500 hover:text-zinc-300"),children:[w.jsx(Mme,{className:"w-3.5 h-3.5"}),"NETWORK SCAN"]}),w.jsxs("button",{onClick:()=>i("pulse"),className:ke("flex-1 py-2.5 text-xs font-bold rounded-lg transition-all flex items-center justify-center gap-2 tracking-wider",a==="pulse"?"bg-emerald-500 text-black shadow-lg shadow-emerald-500/20":"text-zinc-500 hover:text-zinc-300"),children:[w.jsx(_m,{className:"w-3.5 h-3.5"}),"SYSTEM PULSE"]})]})]}),a==="network"&&w.jsxs("div",{className:"flex-1 relative flex flex-col items-center justify-center bg-black/50 overflow-hidden",children:[w.jsxs("div",{className:"relative w-[260px] h-[260px] md:w-[300px] md:h-[300px] shrink-0 mb-2 rounded-full border border-cyan-500/30 bg-black shadow-[0_0_50px_rgba(6,182,212,0.05)]",children:[w.jsx("div",{className:"absolute inset-[15%] rounded-full border border-cyan-500/10"}),w.jsx("div",{className:"absolute inset-[30%] rounded-full border border-cyan-500/10"}),w.jsx("div",{className:"absolute inset-[45%] rounded-full border border-cyan-500/20"}),w.jsx("div",{className:"absolute inset-0 rounded-full border border-cyan-500/30"}),w.jsx("div",{className:"absolute inset-0 rounded-full animate-[spin_4s_linear_infinite] pointer-events-none z-10",children:w.jsx("div",{className:"w-full h-1/2 bg-gradient-to-r from-transparent via-transparent to-cyan-500/20 blur-sm transform origin-bottom",style:{borderRight:"2px solid rgba(6,182,212,0.4)"}})}),b.map(T=>{const L=PWe(T._id),E=T.role==="ADMIN"||T.role==="SUPER_ADMIN",M=(c==null?void 0:c._id)===T._id,j=(h==null?void 0:h.fromId)===T._id;return T.nexusId||`${T._id.slice(-6).toUpperCase()}`,w.jsxs("div",{className:ke("absolute w-8 h-8 -ml-4 -mt-4 flex items-center justify-center hover:z-50 cursor-pointer group transition-all tap-highlight-transparent",M&&"z-50 scale-150",j&&"z-50"),style:{top:L.top,left:L.left},onClick:()=>{f(T),p(!1)},onMouseEnter:()=>u(T),onMouseLeave:()=>u(null),children:[j&&w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"absolute inset-0 -m-6 rounded-full border-2 border-white/80 animate-[ping_1.5s_cubic-bezier(0,0,0.2,1)_infinite]"}),w.jsx("span",{className:"absolute inset-0 -m-10 rounded-full border border-cyan-400/50 animate-[ping_2s_cubic-bezier(0,0,0.2,1)_infinite] animation-delay-300"}),w.jsx("span",{className:"absolute w-4 h-4 rounded-full bg-white blur-sm animate-pulse shadow-[0_0_20px_white]"})]}),!j&&w.jsx("span",{className:ke("absolute w-3 h-3 rounded-full animate-ping opacity-75 duration-2000",E?"bg-amber-500":"bg-cyan-500")}),w.jsx("span",{className:ke("relative block w-3 h-3 rounded-full shadow-[0_0_10px_currentColor] transition-colors",M?"bg-white shadow-[0_0_20px_white]":j?"bg-white text-white scale-125":E?"bg-amber-400 text-amber-500":"bg-cyan-400 text-cyan-500")}),M&&w.jsx("div",{className:"absolute top-1/2 left-1/2 h-[1px] bg-gradient-to-r from-cyan-500 to-transparent origin-left -z-10 animate-in fade-in zoom-in",style:{transform:`rotate(${Math.atan2(50-parseFloat(L.top),50-parseFloat(L.left))*180/Math.PI+180}deg)`,width:"300px"}}),j&&w.jsx("div",{className:"absolute top-1/2 left-1/2 h-[2px] bg-gradient-to-r from-white via-cyan-400 to-transparent origin-left -z-10 animate-pulse",style:{transform:`rotate(${Math.atan2(50-parseFloat(L.top),50-parseFloat(L.left))*180/Math.PI+180}deg)`,width:"300px"}})]},T._id)}),w.jsx("div",{className:"absolute top-1/2 left-1/2 w-4 h-4 -ml-2 -mt-2 bg-white rounded-full shadow-[0_0_20px_white] animate-pulse z-20"})]}),w.jsx("div",{className:"w-full z-20",children:c?w.jsxs("div",{className:"bg-zinc-950/90 border-t border-cyan-500/20 p-4 backdrop-blur-xl animate-in slide-in-from-bottom-2 shadow-2xl",children:[w.jsxs("div",{className:"flex justify-between items-center mb-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:ke("w-8 h-8 rounded-lg flex items-center justify-center border border-white/10 shrink-0",c.role.includes("ADMIN")?"bg-amber-500/20 text-amber-500":"bg-cyan-500/20 text-cyan-500"),children:w.jsx(Wme,{className:"w-4 h-4"})}),w.jsxs("div",{className:"overflow-hidden",children:[w.jsx("h4",{className:"font-mono font-bold text-cyan-400 text-xs tracking-wider truncate",children:c.nexusId||`UNK-${c._id.slice(-6).toUpperCase()}`}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:ke("w-1 h-1 rounded-full",c.online?"bg-green-500":"bg-zinc-500")}),w.jsx("span",{className:"text-[9px] font-mono text-zinc-400 uppercase tracking-widest",children:c.role})]})]})]}),w.jsx("button",{onClick:()=>f(null),className:"p-2 text-zinc-500 hover:text-white",children:w.jsx(AS,{className:"w-4 h-4"})})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsxs("div",{className:"bg-black/40 px-3 py-2 rounded border border-white/5 flex items-center justify-between",children:[w.jsx("span",{className:"text-[9px] text-zinc-500 font-mono",children:"LATENCY"}),w.jsxs("span",{className:"text-xs text-cyan-400 font-mono",children:[Math.floor(Math.random()*40)+10,"ms"]})]}),w.jsxs("button",{onClick:x,disabled:d,className:ke("rounded font-bold text-[10px] tracking-widest transition-all border flex items-center justify-center gap-2 group h-full",d?"bg-green-500/10 text-green-400 border-green-500/50":"bg-cyan-500/10 text-cyan-400 border-cyan-500/30 hover:bg-cyan-500 hover:text-black"),children:[d?w.jsx($z,{className:"w-3 h-3 animate-ping"}):w.jsx(Bme,{className:"w-3 h-3 group-hover:scale-110 transition-transform"}),d?"SENDING...":"PING TARGET"]})]})]}):w.jsxs("div",{className:"h-[60px] flex items-center justify-between px-6 bg-zinc-950/80 backdrop-blur-md border-t border-cyan-500/20",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-[9px] text-cyan-500/40 tracking-[0.2em] font-mono uppercase",children:"System Status"}),w.jsxs("span",{className:"text-xs text-cyan-500/80 font-bold tracking-widest animate-pulse flex items-center gap-2",children:[w.jsx("span",{className:"w-1 h-1 bg-cyan-500 rounded-full shadow-[0_0_5px_cyan]"}),"SCANNING..."]})]}),w.jsx(QC,{className:"w-5 h-5 text-cyan-500/20 animate-[spin_10s_linear_infinite]"})]})}),l&&!c&&w.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 w-auto min-w-[180px] bg-black/90 border border-cyan-500/30 px-4 py-3 rounded-xl backdrop-blur-md shadow-xl z-50 pointer-events-none",children:w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-[10px] text-zinc-500 font-mono uppercase tracking-widest mb-1",children:l.role}),w.jsx("p",{className:"font-mono font-bold text-cyan-400 text-sm tracking-wider",children:l.nexusId||"UNKNOWN_ID"})]})})]}),a==="pulse"&&w.jsxs("div",{className:"flex-1 p-6 flex flex-col gap-6 bg-black/40",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-2xl p-4 flex flex-col gap-2 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-20",children:w.jsx(Sme,{className:"w-12 h-12 text-emerald-500"})}),w.jsx("span",{className:"text-[10px] text-zinc-500 font-mono uppercase tracking-widest",children:"Core Integrity"}),w.jsxs("span",{className:"text-2xl font-bold text-emerald-400 animate-in fade-in",children:[((k=v.data)==null?void 0:k.integrity)||"100","%"]}),w.jsx("div",{className:"w-full h-1 bg-zinc-800 rounded-full overflow-hidden mt-1",children:w.jsx("div",{className:"w-[98%] h-full bg-emerald-500 shadow-[0_0_10px_#10b981]"})})]}),w.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-2xl p-4 flex flex-col gap-2 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-20",children:w.jsx(Fme,{className:"w-12 h-12 text-purple-500"})}),w.jsx("span",{className:"text-[10px] text-zinc-500 font-mono uppercase tracking-widest",children:"Memory Nodes"}),w.jsx("span",{className:"text-2xl font-bold text-purple-400 animate-in fade-in",children:((I=v.data)==null?void 0:I.nodeCount)||"0"}),w.jsxs("span",{className:"text-[10px] text-purple-500/50 font-mono",children:[((N=v.data)==null?void 0:N.storageUsage)||"0"," KB Used"]})]})]}),w.jsxs("div",{className:"flex-1 bg-zinc-900/30 border border-white/5 rounded-3xl p-4 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-emerald-900/10 via-transparent to-transparent"}),w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h4",{className:"text-xs text-zinc-400 font-mono uppercase tracking-widest flex items-center gap-2",children:[w.jsx(Rme,{className:"w-3 h-3 text-emerald-500 animate-pulse"}),"Network Activity"]}),w.jsx("span",{className:"text-[10px] bg-emerald-500/10 text-emerald-400 px-2 py-1 rounded-md border border-emerald-500/20",children:v.isFetching?"SYNCING...":"LIVE"})]}),w.jsx("div",{className:"h-[200px] w-full",children:w.jsx(Bje,{width:"100%",height:"100%",children:w.jsxs(OWe,{data:s,children:[w.jsxs("defs",{children:[w.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[w.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),w.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),w.jsxs("linearGradient",{id:"colorValue2",x1:"0",y1:"0",x2:"0",y2:"1",children:[w.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),w.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})]}),w.jsx(Tl,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorValue)",isAnimationActive:!1}),w.jsx(Tl,{type:"monotone",dataKey:"value2",stroke:"#8b5cf6",strokeWidth:2,fillOpacity:1,fill:"url(#colorValue2)",isAnimationActive:!1})]})})})]})]})]})]})}function zWe({isLocked:e,onUnlock:t}){const[n,r]=C.useState(0),[a,i]=C.useState("detecting");return C.useEffect(()=>{if(e){r(0),i("detecting");const s=setInterval(()=>{r(o=>o>=100?(i("failed"),0):o+2)},100);return()=>clearInterval(s)}},[e]),e?w.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[w.jsx("div",{className:"absolute inset-0 bg-background/40 backdrop-blur-xl"}),w.jsxs("div",{className:"relative glass-panel border border-destructive/30 rounded-3xl p-8 max-w-md mx-4 animate-scale-in",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-20 h-20 rounded-full bg-destructive/20 flex items-center justify-center border-2 border-destructive/50 animate-pulse",children:w.jsx(yj,{className:"w-10 h-10 text-destructive"})}),w.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-destructive/30 animate-ping"})]})}),w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"font-display text-xl font-bold text-destructive mb-2 uppercase tracking-wider",children:"Identity Not Detected"}),w.jsxs("p",{className:"text-sm text-muted-foreground",children:[a==="detecting"&&"Searching for registered biometric signature...",a==="scanning"&&"Attempting facial recognition...",a==="failed"&&"Authentication required to access dashboard"]})]}),w.jsx("div",{className:"relative mb-6",children:w.jsxs("div",{className:"w-full h-24 bg-secondary/30 rounded-xl overflow-hidden border border-destructive/20",children:[w.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20"}),w.jsx("div",{className:"absolute left-0 right-0 h-1 bg-gradient-to-r from-transparent via-destructive to-transparent transition-all duration-100",style:{top:`${n}%`}}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx(W4,{className:"w-12 h-12 text-destructive/40"})})]})}),w.jsxs("div",{className:"mb-6",children:[w.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[w.jsx("span",{className:"text-muted-foreground",children:"Re-authenticating..."}),w.jsxs("span",{className:"text-destructive",children:[n,"%"]})]}),w.jsx("div",{className:"h-1.5 bg-secondary rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-destructive to-nexus-amber rounded-full transition-all duration-100",style:{width:`${n}%`}})})]}),w.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-primary/20 border border-primary/40 text-primary hover:bg-primary/30 hover:border-primary/60 transition-all font-medium",children:[w.jsx(QC,{className:"w-4 h-4"}),"Manual Authentication"]}),w.jsx("p",{className:"text-center text-xs text-muted-foreground mt-4",children:"All data widgets are encrypted and protected"})]})]}):null}const BWe=[{icon:jH,label:"Admin",id:"admin",adminOnly:!0},{icon:Hf,label:"Security",id:"security"},{icon:gj,label:"Messages",id:"messages"},{icon:_H,label:"Vault",id:"vault"},{icon:pj,label:"Utilities",id:"ai"},{icon:vj,label:"Tasks",id:"tasks"}];function UWe({activeTab:e,onTabChange:t}){const{isAdmin:n}=ur(),r=BWe.filter(a=>!a.adminOnly||n);return w.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 glass-panel border-t border-primary/20 safe-area-bottom px-1",children:w.jsx("div",{className:"grid grid-cols-6 gap-0.5 py-2",children:r.map(a=>{const i=e===a.id;return w.jsxs("button",{onClick:()=>t(a.id),className:ke("flex flex-col items-center justify-center gap-1 py-1.5 rounded-lg transition-all duration-200 min-w-0 w-full",i?"text-primary bg-primary/5":"text-muted-foreground hover:bg-white/5"),children:[w.jsx(a.icon,{className:ke("w-4 h-4 md:w-5 md:h-5 transition-all",i&&"drop-shadow-[0_0_8px_hsl(185,100%,50%)]")}),w.jsx("span",{className:"text-[9px] font-medium truncate w-full text-center leading-none",children:a.label}),i&&w.jsx("span",{className:"absolute bottom-0.5 w-6 h-0.5 bg-primary rounded-full"})]},a.id)})})})}function QA(e){return[].concat(e)}function uD(e){return e.startsWith(":")}function bX(e){return tN(e)&&(e==="*"||e.length>1&&":>~.+*".includes(e.slice(0,1))||kX(e))}function wX(e,t){return(tN(t)||typeof t=="number")&&!SX(e)&&!uD(e)&&!xX(e)}function xX(e){return e.startsWith("@media")}function WWe(e){return e==="."}function SX(e){return e==="--"}function tN(e){return e+""===e}function kX(e){return tN(e)&&(e.startsWith("&")||uD(e))}function Wk(e,t=""){return e.filter(Boolean).join(t)}function CX(e,t){let n=0;if(t.length===0)return n.toString();for(let r=0;r<t.length;r++){const a=t.charCodeAt(r);n=(n<<5)-n+a,n=n&n}return`${e??"cl"}_${n.toString(36)}`}function VWe(e,t){return e==="content"?`"${t}"`:t}function GWe(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kW(e,t){return`${e}:${t}`}function HWe(e){return e?`.${e}`:""}function qWe(e,t){return e?`${e}
${t}`:t}var IX=class NX{constructor(t,n,r,a){this.sheet=t,this.property=n,this.value=r,this.selector=a,this.property=n,this.value=r,this.joined=kW(n,r);const i=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:CX(this.sheet.name,this.joined),this.key=Wk([this.joined,i,this.hash])}toString(){let t=KA(this.selector.preconditions,{right:this.hash});return t=KA(this.selector.postconditions,{left:t}),`${t} {${NX.genRule(this.property,this.value)}}`}static genRule(t,n){const r=GWe(t);return kW(r,VWe(t,n))+";"}};function KA(e,{left:t="",right:n=""}={}){const r=e.reduce((a,i)=>uD(i)?a+i:kX(i)?a+i.slice(1):Wk([a,i]," "),t);return Wk([r,HWe(n)]," ")}var YWe=class G2{constructor(t,n=null,{preconditions:r,postconditions:a}={}){this.sheet=t,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=r?QA(r):[],this.postconditions=a?QA(a):[],this.setScope(n)}setScope(t){return t?(this.scopeClassName||(this.scopeName=t,this.scopeClassName=CX(this.sheet.name,t+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(t){return new G2(this.sheet,t,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(t){return new G2(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(t)})}addPostcondition(t){return new G2(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(t)})}createRule(t,n){return new IX(this.sheet,t,n,this)}},QWe=class{constructor(e,t){this.name=e,this.rootNode=t,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id=`flairup-${e}`,this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(e){this.style=qWe(this.style,e)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){if(typeof document>"u"||this.isApplied()||this.rootNode===null)return this.styleTag;const e=document.createElement("style");return e.type="text/css",e.id=this.id,(this.rootNode??document.head).appendChild(e),e}addRule(e){const t=this.storedClasses[e.key];return tN(t)?t:(this.storedClasses[e.key]=e.hash,this.storedStyles[e.hash]=[e.property,e.value],this.append(e.toString()),e.hash)}};function cD(e,t){for(const n in e)t(n.trim(),e[n])}function kt(...e){const t=e.reduce((n,r)=>(r instanceof Set?n.push(...r):typeof r=="string"?n.push(r):Array.isArray(r)?n.push(kt(...r)):typeof r=="object"&&Object.entries(r).forEach(([a,i])=>{i&&n.push(a)}),n),[]);return Wk(t," ").trim()}function KWe(e,t){const n=new QWe(e,t);return{create:r,getStyle:n.getStyle.bind(n),isApplied:n.isApplied.bind(n)};function r(a){const i={};return MX(n,a,new YWe(n)).forEach(([o,l,u])=>{nN(n,l,u).forEach(c=>{s(o,c)})}),n.apply(),i;function s(o,l){i[o]=i[o]??new Set,i[o].add(l)}}}function MX(e,t,n){const r=[];return cD(t,(a,i)=>{if(bX(a))return MX(e,i,n.addPrecondition(a)).forEach(s=>r.push(s));r.push([a,t[a],n.addScope(a)])}),r}function nN(e,t,n){const r=new Set;return cD(t,(a,i)=>{let s=[];if(bX(a))s=nN(e,i,n.addPostcondition(a));else if(WWe(a))s=QA(i);else if(xX(a))s=ZWe(e,i,a,n);else if(SX(a))s=JWe(e,i,n);else if(wX(a,i)){const o=n.createRule(a,i);e.addRule(o),r.add(o.hash)}return TX(s,r)}),r}function TX(e,t){return e.forEach(n=>t.add(n)),t}function JWe(e,t,n){const r=new Set,a=[];if(cD(t,(i,s)=>{if(wX(i,s)){a.push(IX.genRule(i,s));return}const o=nN(e,s??{},n);TX(o,r)}),!n.scopeClassName)return r;if(a.length){const i=a.join(" ");e.append(`${KA(n.preconditions,{right:n.scopeClassName})} {${i}}`)}return r.add(n.scopeClassName),r}function ZWe(e,t,n,r){e.append(n+" {");const a=nN(e,t,r);return e.append("}"),a}function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wn.apply(this,arguments)}function XWe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,JA(e,t)}function JA(e,t){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},JA(e,t)}function EX(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function e8e(e,t){if(e){if(typeof e=="string")return CW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CW(e,t)}}function CW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t8e(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=e8e(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Et;(function(e){e.hiddenOnSearch="epr-hidden-on-search",e.searchActive="epr-search-active",e.hidden="epr-hidden",e.visible="epr-visible",e.active="epr-active",e.emoji="epr-emoji",e.category="epr-emoji-category",e.label="epr-emoji-category-label",e.categoryContent="epr-emoji-category-content",e.emojiHasVariations="epr-emoji-has-variations",e.scrollBody="epr-body",e.emojiList="epr-emoji-list",e.external="__EmojiPicker__",e.emojiPicker="EmojiPickerReact",e.open="epr-open",e.vertical="epr-vertical",e.horizontal="epr-horizontal",e.variationPicker="epr-emoji-variation-picker",e.darkTheme="epr-dark-theme",e.autoTheme="epr-auto-theme"})(Et||(Et={}));function is(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(r){return"."+r}).join("")}var En=KWe("epr",null),H2={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},fD=En.create({hidden:wn({".":Et.hidden},H2)}),n8e=C.memo(function(){return C.createElement("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:En.getStyle()}})}),Ed=En.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:wn({".":Et.hiddenOnSearch},H2)},":has(input:placeholder-shown)":{visibleOnSearchOnly:H2}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:wn({".":"epr-visible-on-search-only"},H2)}});function ac(e,t){var n,r;return{".epr-dark-theme":(n={},n[e]=t,n),".epr-auto-theme":(r={},r[e]={"@media (prefers-color-scheme: dark)":t},r)}}function AX(e,t){var n,r,a=(n=e.customEmojis)!=null?n:[],i=(r=t.customEmojis)!=null?r:[];return e.open===t.open&&e.emojiVersion===t.emojiVersion&&e.reactionsDefaultOpen===t.reactionsDefaultOpen&&e.searchPlaceHolder===t.searchPlaceHolder&&e.searchPlaceholder===t.searchPlaceholder&&e.searchClearButtonLabel===t.searchClearButtonLabel&&e.defaultSkinTone===t.defaultSkinTone&&e.skinTonesDisabled===t.skinTonesDisabled&&e.autoFocusSearch===t.autoFocusSearch&&e.emojiStyle===t.emojiStyle&&e.theme===t.theme&&e.suggestedEmojisMode===t.suggestedEmojisMode&&e.lazyLoadEmojis===t.lazyLoadEmojis&&e.className===t.className&&e.height===t.height&&e.width===t.width&&e.style===t.style&&e.searchDisabled===t.searchDisabled&&e.skinTonePickerLocation===t.skinTonePickerLocation&&a.length===i.length}var r8e=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"],Ry={};setTimeout(function(){sN.reduce(function(e,t){return LX(t),e},Ry)});function LX(e){var t=Yb(e).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("");t.forEach(function(n){var r;Ry[n]=(r=Ry[n])!=null?r:{},Ry[n][Ur(e)]=e})}function IW(e,t){t===void 0&&(t=0);var n=C.useState(e),r=n[0],a=n[1],i=C.useRef(null);function s(o){return new Promise(function(l){var u;i.current&&clearTimeout(i.current),i.current=(u=window)==null?void 0:u.setTimeout(function(){a(o),l(o)},t)})}return[r,s]}function a8e(){var e=aVe();return function(t){return e.has(t)}}function _X(){var e=C.useRef({}),t=rVe();return C.useMemo(function(){var n=parseFloat(""+t);return!t||Number.isNaN(n)?e.current:sN.reduce(function(r,a){return s8e(a,n)&&(r[Ur(a)]=!0),r},e.current)},[t])}function i8e(){var e=_X(),t=a8e();return function(r){var a=mD(Ur(r));return!!(e[a]||t(a))}}function s8e(e,t){return A8e(e)>t}function o8e(e){C.useEffect(function(){e(!0)},[e])}var Jv;(function(e){e.RECENT="recent",e.FREQUENT="frequent"})(Jv||(Jv={}));var hi;(function(e){e.NATIVE="native",e.APPLE="apple",e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook"})(hi||(hi={}));var ag;(function(e){e.DARK="dark",e.LIGHT="light",e.AUTO="auto"})(ag||(ag={}));var Ts;(function(e){e.NEUTRAL="neutral",e.LIGHT="1f3fb",e.MEDIUM_LIGHT="1f3fc",e.MEDIUM="1f3fd",e.MEDIUM_DARK="1f3fe",e.DARK="1f3ff"})(Ts||(Ts={}));var mt;(function(e){e.SUGGESTED="suggested",e.CUSTOM="custom",e.SMILEYS_PEOPLE="smileys_people",e.ANIMALS_NATURE="animals_nature",e.FOOD_DRINK="food_drink",e.TRAVEL_PLACES="travel_places",e.ACTIVITIES="activities",e.OBJECTS="objects",e.SYMBOLS="symbols",e.FLAGS="flags"})(mt||(mt={}));var ig;(function(e){e.SEARCH="SEARCH",e.PREVIEW="PREVIEW"})(ig||(ig={}));function l8e(e){var t=e.children,n=_X(),r=H8e(),a=nVe(),i=C.useRef(Ry),s=C.useRef(!1),o=C.useRef(!1),l=C.useRef(n),u=IW(Date.now(),200),c=IW("",100),f=C.useState(!1),d=C.useState(r),p=C.useState(null),h=C.useState(new Set),m=C.useState(null),g=C.useState(a),y=C.useState(!1),v=y[0],b=y[1],x=C.useState([]),S=C.useState(null);return o8e(b),C.createElement(Ei.Provider,{value:{activeCategoryState:p,activeSkinTone:d,disallowClickRef:s,disallowMouseRef:o,disallowedEmojisRef:l,emojiVariationPickerState:m,emojisThatFailedToLoadState:h,filterRef:i,isPastInitialLoad:v,searchTerm:c,skinToneFanOpenState:f,suggestedUpdateState:u,reactionsModeState:g,visibleCategoriesState:x,emojiSizeState:S}},t)}var Ei=C.createContext({activeCategoryState:[null,function(){}],activeSkinTone:[Ts.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise(function(){})}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}],visibleCategoriesState:[[],function(){return[]}],emojiSizeState:[null,function(){}]});function dD(){var e=C.useContext(Ei),t=e.filterRef;return t}function u8e(){var e=C.useContext(Ei),t=e.disallowClickRef;return t}function pD(){var e=C.useContext(Ei),t=e.disallowMouseRef;return t}function Ad(){var e=C.useContext(Ei),t=e.reactionsModeState;return t}function rN(){var e=C.useContext(Ei),t=e.searchTerm;return t}function aN(){var e=C.useContext(Ei),t=e.activeSkinTone;return t}function jX(){var e=C.useContext(Ei),t=e.emojisThatFailedToLoadState;return t}function Zg(){var e=C.useContext(Ei),t=e.emojiVariationPickerState;return t}function qb(){var e=C.useContext(Ei),t=e.skinToneFanOpenState;return t}function hD(){var e=C.useContext(Ei),t=e.visibleCategoriesState;return t}function $X(){var e=C.useContext(Ei),t=e.emojiSizeState;return t}function DX(){var e=C.useContext(Ei),t=e.suggestedUpdateState,n=t[0],r=t[1];return[n,function(){r(Date.now())}]}var Ri,c8e=[mt.SUGGESTED,mt.CUSTOM,mt.SMILEYS_PEOPLE,mt.ANIMALS_NATURE,mt.FOOD_DRINK,mt.TRAVEL_PLACES,mt.ACTIVITIES,mt.OBJECTS,mt.SYMBOLS,mt.FLAGS],f8e={name:"Recently Used",category:mt.SUGGESTED},OX=(Ri={},Ri[mt.SUGGESTED]={category:mt.SUGGESTED,name:"Frequently Used"},Ri[mt.CUSTOM]={category:mt.CUSTOM,name:"Custom Emojis"},Ri[mt.SMILEYS_PEOPLE]={category:mt.SMILEYS_PEOPLE,name:"Smileys & People"},Ri[mt.ANIMALS_NATURE]={category:mt.ANIMALS_NATURE,name:"Animals & Nature"},Ri[mt.FOOD_DRINK]={category:mt.FOOD_DRINK,name:"Food & Drink"},Ri[mt.TRAVEL_PLACES]={category:mt.TRAVEL_PLACES,name:"Travel & Places"},Ri[mt.ACTIVITIES]={category:mt.ACTIVITIES,name:"Activities"},Ri[mt.OBJECTS]={category:mt.OBJECTS,name:"Objects"},Ri[mt.SYMBOLS]={category:mt.SYMBOLS,name:"Symbols"},Ri[mt.FLAGS]={category:mt.FLAGS,name:"Flags"},Ri);function RX(e){return c8e.map(function(t){return wn({},OX[t],e&&e[t]&&e[t])})}function iN(e){return e.category}function PX(e){return e.name}function d8e(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t={});var r={};t.suggestionMode===Jv.RECENT&&(r[mt.SUGGESTED]=f8e);var a=RX(r);return(n=e)!=null&&n.length?e.map(function(i){return typeof i=="string"?NW(i,r[i]):wn({},NW(i.category,r[i.category]),i)}):a}function NW(e,t){return t===void 0&&(t={}),Object.assign(OX[e],t)}var p8e="https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/",h8e="https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/",m8e="https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/",g8e="https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";function y8e(e){switch(e){case hi.TWITTER:return m8e;case hi.GOOGLE:return g8e;case hi.FACEBOOK:return h8e;case hi.APPLE:default:return p8e}}var v8e=[],b8e=[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["shaking face"],u:"1fae8",a:"15.0"},{n:["head shaking horizontally"],u:"1f642-200d-2194-fe0f",a:"15.1"},{n:["head shaking vertically"],u:"1f642-200d-2195-fe0f",a:"15.1"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["pink heart"],u:"1fa77",a:"15.0"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["light blue heart"],u:"1fa75",a:"15.0"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["grey heart"],u:"1fa76",a:"15.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["leftwards pushing hand"],u:"1faf7",v:["1faf7-1f3fb","1faf7-1f3fc","1faf7-1f3fd","1faf7-1f3fe","1faf7-1f3ff"],a:"15.0"},{n:["rightwards pushing hand"],u:"1faf8",v:["1faf8-1f3fb","1faf8-1f3fc","1faf8-1f3fd","1faf8-1f3fe","1faf8-1f3ff"],a:"15.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person walking facing right"],u:"1f6b6-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-27a1-fe0f","1f6b6-1f3fc-200d-27a1-fe0f","1f6b6-1f3fd-200d-27a1-fe0f","1f6b6-1f3fe-200d-27a1-fe0f","1f6b6-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman walking facing right"],u:"1f6b6-200d-2640-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man walking facing right"],u:"1f6b6-200d-2642-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person kneeling facing right"],u:"1f9ce-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-27a1-fe0f","1f9ce-1f3fc-200d-27a1-fe0f","1f9ce-1f3fd-200d-27a1-fe0f","1f9ce-1f3fe-200d-27a1-fe0f","1f9ce-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman kneeling facing right"],u:"1f9ce-200d-2640-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man kneeling facing right"],u:"1f9ce-200d-2642-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["person with white cane facing right"],u:"1f9d1-200d-1f9af-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["man with white cane facing right"],u:"1f468-200d-1f9af-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9af-200d-27a1-fe0f","1f468-1f3fc-200d-1f9af-200d-27a1-fe0f","1f468-1f3fd-200d-1f9af-200d-27a1-fe0f","1f468-1f3fe-200d-1f9af-200d-27a1-fe0f","1f468-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane facing right"],u:"1f469-200d-1f9af-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9af-200d-27a1-fe0f","1f469-1f3fc-200d-1f9af-200d-27a1-fe0f","1f469-1f3fd-200d-1f9af-200d-27a1-fe0f","1f469-1f3fe-200d-1f9af-200d-27a1-fe0f","1f469-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["person in motorized wheelchair facing right"],u:"1f9d1-200d-1f9bc-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["man in motorized wheelchair facing right"],u:"1f468-200d-1f9bc-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair facing right"],u:"1f469-200d-1f9bc-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["person in manual wheelchair facing right"],u:"1f9d1-200d-1f9bd-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["man in manual wheelchair facing right"],u:"1f468-200d-1f9bd-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair facing right"],u:"1f469-200d-1f9bd-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person running facing right"],u:"1f3c3-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-27a1-fe0f","1f3c3-1f3fc-200d-27a1-fe0f","1f3c3-1f3fd-200d-27a1-fe0f","1f3c3-1f3fe-200d-27a1-fe0f","1f3c3-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman running facing right"],u:"1f3c3-200d-2640-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man running facing right"],u:"1f3c3-200d-2642-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["family adult adult child","family: adult, adult, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult adult child child","family: adult, adult, child, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["family adult child","family: adult, child"],u:"1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult child child","family: adult, child, child"],u:"1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["footprints"],u:"1f463",a:"0.6"}],w8e=[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["moose"],u:"1face",a:"15.0"},{n:["donkey"],u:"1facf",a:"15.0"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["wing"],u:"1fabd",a:"15.0"},{n:["black bird"],u:"1f426-200d-2b1b",a:"15.0"},{n:["goose"],u:"1fabf",a:"15.0"},{n:["phoenix"],u:"1f426-200d-1f525",a:"15.1"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["jellyfish"],u:"1fabc",a:"15.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["hyacinth"],u:"1fabb",a:"15.0"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"},{n:["mushroom"],u:"1f344",a:"0.6"}],x8e=[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["lime"],u:"1f34b-200d-1f7e9",a:"15.1"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["ginger root"],u:"1fada",a:"15.0"},{n:["pea pod"],u:"1fadb",a:"15.0"},{n:["brown mushroom"],u:"1f344-200d-1f7eb",a:"15.1"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],S8e=[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],k8e=[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],C8e=[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["folding hand fan"],u:"1faad",a:"15.0"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["hair pick"],u:"1faae",a:"15.0"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue workers helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["maracas"],u:"1fa87",a:"15.0"},{n:["flute"],u:"1fa88",a:"15.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["broken chain"],u:"26d3-fe0f-200d-1f4a5",a:"15.1"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],I8e=[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["khanda"],u:"1faaf",a:"15.0"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["wireless"],u:"1f6dc",a:"15.0"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],N8e=[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","land islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barthlemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","cte divoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","curaao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","runion flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","so tom & prncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","trkiye flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}],Vk={custom:v8e,smileys_people:b8e,animals_nature:w8e,food_drink:x8e,travel_places:S8e,activities:k8e,objects:C8e,symbols:I8e,flags:N8e},Gk=[Ts.NEUTRAL,Ts.LIGHT,Ts.MEDIUM_LIGHT,Ts.MEDIUM,Ts.MEDIUM_DARK,Ts.DARK],M8e=Object.entries(Ts).reduce(function(e,t){var n=t[0],r=t[1];return e[r]=n,e},{}),T8e=Gk.reduce(function(e,t){var n;return Object.assign(e,(n={},n[t]=t,n))},{}),Ji;(function(e){e.name="n",e.unified="u",e.variations="v",e.added_in="a",e.imgUrl="imgUrl"})(Ji||(Ji={}));var FX="epr_suggested";function zX(e){try{var t,n,r;if(!((t=window)!=null&&t.localStorage))return[];var a=JSON.parse((n=(r=window)==null?void 0:r.localStorage.getItem(FX))!=null?n:"[]");return e===Jv.FREQUENT?a.sort(function(i,s){return s.count-i.count}):a}catch{return[]}}function E8e(e,t){var n=zX(),r=Ur(e,t),a=Ur(e),i=n.find(function(l){var u=l.unified;return u===r}),s;i?s=[i].concat(n.filter(function(l){return l!==i})):(i={unified:r,original:a,count:0},s=[i].concat(n)),i.count++,s.length=Math.min(s.length,14);try{var o;(o=window)==null||o.localStorage.setItem(FX,JSON.stringify(s))}catch{}}function Yb(e){var t;return(t=e[Ji.name])!=null?t:[]}function A8e(e){return parseFloat(e[Ji.added_in])}function ZA(e){return e?Yb(e)[0]:""}function mD(e){var t=e.split("-"),n=t.splice(1,1),r=n[0];return T8e[r]?t.join("-"):e}function Ur(e,t){var n,r=e[Ji.unified];return!t||!Xg(e)?r:(n=L8e(e,t))!=null?n:r}function BX(){var e=X8e(),t=DX(),n=t[0],r=V.useMemo(function(){var a,i=(a=zX(e))!=null?a:[];return i.map(function(s){return sg(s.unified)}).filter(Boolean)},[n,e]);return function(i){var s;return i===mt.SUGGESTED?r:(s=Vk[i])!=null?s:[]}}function UX(e,t){return""+y8e(t)+e+".png"}function Qb(e){var t;return(t=e[Ji.variations])!=null?t:[]}function Xg(e){return Qb(e).length>0}function L8e(e,t){return t?Qb(e).find(function(n){return n.includes(t)}):Ur(e)}function sg(e){if(e){if(im[e])return im[e];var t=mD(e);return im[t]}}var sN=Object.values(Vk).flat();function _8e(e){Vk[mt.CUSTOM].length=0,e.forEach(function(t){var n=j8e(t);Vk[mt.CUSTOM].push(n),!im[n[Ji.unified]]&&(sN.push(n),im[n[Ji.unified]]=n,LX(n))})}function j8e(e){var t;return t={},t[Ji.name]=e.names.map(function(n){return n.toLowerCase()}),t[Ji.unified]=e.id.toLowerCase(),t[Ji.added_in]="0",t[Ji.imgUrl]=e.imgUrl,t}var im={};setTimeout(function(){sN.reduce(function(e,t){return e[Ur(t)]=t,Xg(t)&&Qb(t).forEach(function(n){e[n]=t}),e},im)});function $8e(e){var t=e.split("-"),n=t[1];return Gk.includes(n)?n:null}var D8e=["2640-fe0f","2642-fe0f","2695-fe0f"],Hk="Search",WX="Clear",O8e="No results found",VX=" found. Use up and down arrow keys to navigate.",R8e="1 result"+VX,P8e="%n results"+VX;function MW(e){var t,n;e===void 0&&(e={});var r=GX(),a=Object.assign(r.previewConfig,(t=e.previewConfig)!=null?t:{}),i=Object.assign(r,e),s=d8e(e.categories,{suggestionMode:i.suggestedEmojisMode});i.hiddenEmojis.forEach(function(l){i.unicodeToHide.add(l)}),_8e((n=i.customEmojis)!=null?n:[]);var o=i.searchDisabled?ig.PREVIEW:i.skinTonePickerLocation;return wn({},i,{categories:s,previewConfig:a,skinTonePickerLocation:o})}function GX(){return{autoFocusSearch:!0,categories:RX(),className:"",customEmojis:[],defaultSkinTone:Ts.NEUTRAL,emojiStyle:hi.APPLE,emojiVersion:null,getEmojiUrl:UX,height:450,lazyLoadEmojis:!1,previewConfig:wn({},F8e),searchDisabled:!1,searchPlaceHolder:Hk,searchPlaceholder:Hk,searchClearButtonLabel:WX,skinTonePickerLocation:ig.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:Jv.FREQUENT,theme:ag.LIGHT,unicodeToHide:new Set(D8e),width:350,reactionsDefaultOpen:!1,reactions:r8e,open:!0,allowExpandReactions:!0,hiddenEmojis:[]}}var F8e={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},z8e=["children"],HX=C.createContext(GX());function B8e(e){var t=e.children,n=EX(e,z8e),r=U8e(n);return C.createElement(HX.Provider,{value:r},t)}function U8e(e){var t,n=C.useState(function(){return MW(e)}),r=n[0],a=n[1];return C.useEffect(function(){AX(r,e)||a(MW(e))},[(t=e.customEmojis)==null?void 0:t.length,e.open,e.emojiVersion,e.reactionsDefaultOpen,e.searchPlaceHolder,e.searchPlaceholder,e.searchClearButtonLabel,e.defaultSkinTone,e.skinTonesDisabled,e.autoFocusSearch,e.emojiStyle,e.theme,e.suggestedEmojisMode,e.lazyLoadEmojis,e.className,e.height,e.width,e.searchDisabled,e.skinTonePickerLocation,e.allowExpandReactions]),r}function Dn(){return C.useContext(HX)}var qX=V.createContext({});function YX(){var e=V.useContext(qX);return e}function W8e(e){var t=V.useRef({onEmojiClick:e.onEmojiClick||t2,onReactionClick:e.onReactionClick||e.onEmojiClick,onSkinToneChange:e.onSkinToneChange||t2});return V.useEffect(function(){t.current.onEmojiClick=e.onEmojiClick||t2,t.current.onReactionClick=e.onReactionClick||e.onEmojiClick},[e.onEmojiClick,e.onReactionClick]),V.useEffect(function(){t.current.onSkinToneChange=e.onSkinToneChange||t2},[e.onSkinToneChange]),t}function t2(){}var Zv;(function(e){e.REACTIONS="reactions",e.PICKER="picker"})(Zv||(Zv={}));function V8e(){var e,t=Dn(),n=t.searchPlaceHolder,r=t.searchPlaceholder;return(e=[n,r].find(function(a){return a!==Hk}))!=null?e:Hk}function G8e(){var e=Dn(),t=e.searchClearButtonLabel;return t??WX}function H8e(){var e=Dn(),t=e.defaultSkinTone;return t}function QX(){var e=Dn(),t=e.allowExpandReactions;return t}function KX(){var e=Dn(),t=e.skinTonesDisabled;return t}function Ld(){var e=Dn(),t=e.emojiStyle;return t}function q8e(){var e=Dn(),t=e.autoFocusSearch;return t}function gD(){var e=Dn(),t=e.categories;return t}function Y8e(){var e=Dn(),t=e.customEmojis;return t}function Q8e(){var e=Dn(),t=e.open;return t}function K8e(e){var t=YX(),n=t.current,r=Ad(),a=r[1],i=n.onEmojiClick||function(){},s=n.onReactionClick;return e===Zv.REACTIONS&&s?function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return s.apply(void 0,l.concat([{collapseToReactions:function(){a(function(f){return f})}}]))}:function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];i.apply(void 0,l.concat([{collapseToReactions:function(){a(!0)}}]))}}function J8e(){var e=YX(),t=e.current;return t.onSkinToneChange||function(){}}function JX(){var e=Dn(),t=e.previewConfig;return t}function Z8e(){var e=Dn(),t=e.theme;return t}function X8e(){var e=Dn(),t=e.suggestedEmojisMode;return t}function ZX(){var e=Dn(),t=e.lazyLoadEmojis;return t}function eVe(){var e=Dn(),t=e.className;return t}function tVe(){var e=Dn(),t=e.height,n=e.width,r=e.style;return wn({height:TW(t),width:TW(n)},r)}function nVe(){var e=Dn(),t=e.reactionsDefaultOpen;return t}function rVe(){var e=Dn(),t=e.emojiVersion;return t}function XX(){var e=Dn(),t=e.searchDisabled;return t}function eee(){var e=Dn(),t=e.skinTonePickerLocation;return t}function aVe(){var e=Dn(),t=e.unicodeToHide;return t}function iVe(){var e=Dn(),t=e.reactions;return t}function _d(){var e=Dn(),t=e.getEmojiUrl;return t}function TW(e){return typeof e=="number"?e+"px":e}function sVe(e){var t=e>0,n=e>1;return t?n?P8e.replace("%n",e.toString()):R8e:O8e}function oN(){var e=rN(),t=e[0];return!!t}function Ai(e){e&&requestAnimationFrame(function(){e.focus()})}function tee(e){if(e){var t=e.previousElementSibling;Ai(t)}}function nee(e){if(e){var t=e.nextElementSibling;Ai(t)}}function ree(e){if(e){var t=e.firstElementChild;Ai(t)}}function Xv(){return document.activeElement}function oVe(e){var t=e.children,n=C.useRef(null),r=C.useRef(null),a=C.useRef(null),i=C.useRef(null),s=C.useRef(null),o=C.useRef(null),l=C.useRef(null),u=C.useRef(null),c=C.useRef(null);return C.createElement(aee.Provider,{value:{AnchoredEmojiRef:r,BodyRef:a,EmojiListRef:i,CategoryNavigationRef:l,PickerMainRef:n,SearchInputRef:s,SkinTonePickerRef:o,VariationPickerRef:u,ReactionsRef:c}},t)}var aee=C.createContext({AnchoredEmojiRef:C.createRef(),BodyRef:C.createRef(),CategoryNavigationRef:C.createRef(),EmojiListRef:C.createRef(),PickerMainRef:C.createRef(),SearchInputRef:C.createRef(),SkinTonePickerRef:C.createRef(),VariationPickerRef:C.createRef(),ReactionsRef:C.createRef()});function Ol(){return C.useContext(aee)}function iee(){return Ol().EmojiListRef}function e0(){return Ol().PickerMainRef}function lN(){return Ol().AnchoredEmojiRef}function see(){var e=lN();return function(t){t===null&&e.current!==null&&Ai(e.current),e.current=t}}function Li(){return Ol().BodyRef}function lVe(){return Ol().ReactionsRef}function Ec(){return Ol().SearchInputRef}function yD(){return Ol().SkinTonePickerRef}function vD(){return Ol().CategoryNavigationRef}function uVe(){return Ol().VariationPickerRef}function oee(e,t){t===void 0&&(t=0);var n=wee(e);n&&requestAnimationFrame(function(){n.scrollTop=t})}function cVe(e,t){var n=wee(e);n&&requestAnimationFrame(function(){n.scrollTop=n.scrollTop+t})}function fVe(){var e=Li();return C.useCallback(function(t){requestAnimationFrame(function(){e.current&&(e.current.scrollTop=t)})},[e])}function uN(e){if(!(!e||!KVe(e))&&!e.closest(is(Et.variationPicker))){var t=See(e),n=xee(e);cVe(t,-(kD(Ac(e))-n))}}function cN(e){var t=MD(e);Ai(t),uN(t)}function dVe(e){var t=MD(e);Ai(t),t==null||t.click()}function pVe(e){Ai(Nee(e))}function hVe(e){if(e){var t=Mee(e);if(!t)return cN(dN(e));Ai(t),uN(t)}}function mVe(e){if(e){var t=ND(e);if(!t)return pVe(fN(e));Ai(t),uN(t)}}function gVe(e,t){if(e){var n=vVe(e);if(!n)return t();Ai(n),uN(n)}}function yVe(e){if(e){var t=bVe(e);return Ai(t)}}function vVe(e){if(!e)return null;var t=Tee(e),n=Ac(t),r=yee(t,e),a=og(n),i=a.indexOf(e),s=i%r;if(i===-1)return null;if(a[i-r])return a[i-r];var o=fN(n);if(!o)return null;var l=og(o),u=l.length%r-1;if(s>u)return l.at(-1);for(var c=l.length-1;c>=0;c--)if(c%r===s)return l[c];return l.at(-1)}function bVe(e){var t;if(!e)return null;var n=Tee(e),r=Ac(n),a=yee(n,e),i=og(r),s=i.indexOf(e);if(s===-1)return null;var o=a-s%a-1,l=s+o+1;if(i[l]){for(var u=s+a;u%a>=0;u--)if(i[u])return i[u]}var c=s%a,f=dN(r),d=og(f);return d[c]?d[c]:(t=d.at(0))!=null?t:null}function jd(){var e=Zg(),t=e[0],n=e[1],r=qb(),a=r[0],i=r[1],s=C.useCallback(function(){t&&n(null),a&&i(!1)},[t,a,n,i]);return s}function lee(){var e=Zg(),t=e[0],n=qb(),r=n[0];return function(){return!!t||r}}function wVe(){var e=pD();return function(){e.current=!0}}function uee(){var e=pD();return function(){e.current=!1}}function cee(){var e=pD();return function(){return e.current}}function xVe(){var e=Li(),t=uee(),n=cee();C.useEffect(function(){var r=e.current;r==null||r.addEventListener("mousemove",a,{passive:!0});function a(){n()&&t()}return function(){r==null||r.removeEventListener("mousemove",a)}},[e,t,n])}function $d(){var e=Ec();return C.useCallback(function(){Ai(e.current)},[e])}function SVe(){var e=yD();return C.useCallback(function(){e.current&&ree(e.current)},[e])}function fee(){var e=vD();return C.useCallback(function(){e.current&&ree(e.current)},[e])}function kVe(){var e=dD();return function t(n){if(typeof n=="function")return t(n(e.current));e.current=n}}function dee(){var e=bD(),t=Ec(),n=$d();return function(){t.current&&(t.current.value=""),e(""),n()}}function CVe(){var e=Ec(),t=bD();return function(r){e.current?(e.current.value=""+e.current.value+r,t(EW(e.current.value))):t(EW(r))}}function IVe(){var e=Ec(),t=dD(),n=kVe(),r=bD(),a=rN(),i=a[0],s=LVe(t.current,i);return{onChange:o,searchTerm:i,SearchInputRef:e,statusSearchResults:s};function o(l){var u=t.current,c=l.toLowerCase();if(u!=null&&u[c]||c.length<=1)return r(c);var f=AVe(c,u);if(!f)return r(c);n(function(d){var p;return Object.assign(d,(p={},p[c]=NVe(f,c),p))}),r(c)}}function bD(){var e=rN(),t=e[1],n=e0();return function(a){requestAnimationFrame(function(){t(a&&(a==null?void 0:a.toLowerCase())).then(function(){oee(n.current,0)})})}}function NVe(e,t){var n={};for(var r in e){var a=e[r];MVe(a,t)&&(n[r]=a)}return n}function MVe(e,t){return Yb(e).some(function(n){return n.includes(t)})}function TVe(){var e=dD(),t=e.current,n=rN(),r=n[0];return function(a){return EVe(a,t,r)}}function EVe(e,t,n){var r;return!t||!n?!1:!((r=t[n])!=null&&r[e])}function AVe(e,t){if(!t)return null;if(t[e])return t[e];var n=Object.keys(t).sort(function(r,a){return a.length-r.length}).find(function(r){return e.includes(r)});return n?t[n]:null}function EW(e){return!e||typeof e!="string"?"":e.trim().toLowerCase()}function LVe(e,t){var n;if(!(e!=null&&e[t]))return"";var r=((n=Object.entries(e==null?void 0:e[t]))==null?void 0:n.length)||0;return sVe(r)}function pee(){var e=see(),t=Zg(),n=t[1];return function(a){var i=SD(a),s=i[0];s&&(e(a),n(s))}}function wD(){var e=eee();return e===ig.SEARCH}function hee(){var e=eee();return e===ig.PREVIEW}var tr;(function(e){e.ArrowDown="ArrowDown",e.ArrowUp="ArrowUp",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.Escape="Escape",e.Enter="Enter",e.Space=" "})(tr||(tr={}));function _Ve(){jVe(),$Ve(),DVe(),OVe(),RVe()}function jVe(){var e=e0(),t=dee(),n=fVe(),r=Ec(),a=$d(),i=lee(),s=wVe(),o=jd(),l=C.useMemo(function(){return function(c){var f=c.key;switch(s(),f){case tr.Escape:if(c.preventDefault(),i()){o();return}t(),n(0),a();break}}},[n,t,o,a,i,s]);C.useEffect(function(){var u=e.current;if(u)return u.addEventListener("keydown",l),function(){u.removeEventListener("keydown",l)}},[e,r,n,l])}function $Ve(){var e=SVe(),t=e0(),n=Li(),r=Ec(),a=qb(),i=a[1],s=mee(),o=wD(),l=C.useMemo(function(){return function(c){var f=c.key;switch(f){case tr.ArrowRight:if(!o)return;c.preventDefault(),i(!0),e();break;case tr.ArrowDown:c.preventDefault(),s();break;case tr.Enter:c.preventDefault(),dVe(n.current);break}}},[e,s,i,n,o]);C.useEffect(function(){var u=r.current;if(u)return u.addEventListener("keydown",l),function(){u.removeEventListener("keydown",l)}},[t,r,l])}function DVe(){var e=yD(),t=$d(),n=Ec(),r=mee(),a=qb(),i=a[0],s=a[1],o=hee(),l=wD(),u=xD(),c=C.useMemo(function(){return function(d){var p=d.key;if(l)switch(p){case tr.ArrowLeft:if(d.preventDefault(),!i)return t();AW(t);break;case tr.ArrowRight:if(d.preventDefault(),!i)return t();LW();break;case tr.ArrowDown:d.preventDefault(),i&&s(!1),r();break;default:u(d);break}if(o)switch(p){case tr.ArrowUp:if(d.preventDefault(),!i)return t();AW(t);break;case tr.ArrowDown:if(d.preventDefault(),!i)return t();LW();break;default:u(d);break}}},[i,t,s,r,u,o,l]);C.useEffect(function(){var f=e.current;if(f)return f.addEventListener("keydown",c),function(){f.removeEventListener("keydown",c)}},[e,n,i,c])}function OVe(){var e=$d(),t=vD(),n=Li(),r=xD(),a=C.useMemo(function(){return function(s){var o=s.key;switch(o){case tr.ArrowUp:s.preventDefault(),e();break;case tr.ArrowRight:s.preventDefault(),nee(Xv());break;case tr.ArrowLeft:s.preventDefault(),tee(Xv());break;case tr.ArrowDown:s.preventDefault(),cN(n.current);break;default:r(s);break}}},[n,e,r]);C.useEffect(function(){var i=t.current;if(i)return i.addEventListener("keydown",a),function(){i.removeEventListener("keydown",a)}},[t,n,a])}function RVe(){var e=Li(),t=PVe(),n=pee(),r=lee(),a=jd(),i=xD(),s=C.useMemo(function(){return function(l){var u=l.key,c=Ds(Xv());switch(u){case tr.ArrowRight:l.preventDefault(),hVe(c);break;case tr.ArrowLeft:l.preventDefault(),mVe(c);break;case tr.ArrowDown:if(l.preventDefault(),r()){a();break}yVe(c);break;case tr.ArrowUp:if(l.preventDefault(),r()){a();break}gVe(c,t);break;case tr.Space:l.preventDefault(),n(l.target);break;default:i(l);break}}},[t,i,n,r,a]);C.useEffect(function(){var o=e.current;if(o)return o.addEventListener("keydown",s),function(){o.removeEventListener("keydown",s)}},[e,s])}function mee(){var e=fee(),t=oN(),n=Li();return C.useCallback(function(){return t?cN(n.current):e()},[n,e,t])}function PVe(){var e=$d(),t=fee(),n=oN();return C.useCallback(function(){return n?e():t()},[e,n,t])}function AW(e){var t=Xv();t&&(qVe(t)||e(),nee(t))}function LW(){var e=Xv();e&&tee(e)}function xD(){var e=CVe(),t=$d(),n=XX(),r=jd();return function(i){var s=i.key;FVe(i)||n||s.match(/(^[a-zA-Z0-9]$){1}/)&&(i.preventDefault(),r(),t(),e(s))}}function FVe(e){var t=e.metaKey,n=e.ctrlKey,r=e.altKey;return t||n||r}function zVe(e,t,n,r,a,i,s,o){if(e&&t!==hi.NATIVE){var l=Ur(e);XA.has(l)||!i||!s||setTimeout(function(){var u=a+i.top,c=n+r,f=u>=c&&u<c+s.emojiSize*2;f&&gee(o,e,t)})}}function gee(e,t,n){if(t){var r=Ur(t);XA.has(r)||(XA.add(r),Qb(t).concat(r).forEach(function(a){var i=e(a,n);BVe(i)}))}}var XA=new Set;function BVe(e){var t=new Image;t.src=e}function UVe(){var e=Li(),t=Ld(),n=_d();C.useEffect(function(){if(t===hi.NATIVE)return;var r=e.current;return r==null||r.addEventListener("focusin",a),function(){r==null||r.removeEventListener("focusin",a)};function a(i){var s=Ds(i.target);if(s){var o=SD(s),l=o[0];l&&Xg(l)&&gee(n,l,t)}}},[e,t,n])}var WVe=["width","height"],eL=40;function VVe(e){var t=e.children;return C.createElement(l8e,null,C.createElement(GVe,null,t))}function GVe(e){var t,n=e.children,r=Ad(),a=r[0],i=Z8e(),s=oN(),o=e0(),l=eVe(),u=tVe();_Ve(),UVe();var c=u||{},f=c.width,d=c.height,p=EX(c,WVe);return C.createElement("aside",{className:kt(Y1.main,Y1.baseVariables,i===ag.DARK&&Y1.darkTheme,i===ag.AUTO&&Y1.autoThemeDark,(t={},t[Et.searchActive]=s,t),a&&Y1.reactionsMenu,l),ref:o,style:wn({},p,!a&&{height:d,width:f})},n)}var _W={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)","--epr-skin-tone-outer-border-color":"var(--epr-dark-skin-tone-outer-border-color)","--epr-skin-tone-inner-border-color":"var(--epr-dark-skin-tone-inner-border-color)"},Y1=En.create({main:{".":["epr-main",Et.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"height 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#e5f0fa","--epr-hover-bg-color-reduced-opacity":"#e5f0fa80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-skin-tone-outer-border-color":"#555555","--epr-skin-tone-inner-border-color":"var(--epr-bg-color)","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-search-border-color":"var(--epr-search-input-bg-color)","--epr-search-border-color-active":"var(--epr-highlight-color)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":eL+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295","--epr-dark-skin-tone-outer-border-color":"var(--epr-dark-picker-border-color)","--epr-dark-skin-tone-inner-border-color":"#00000000"}},autoThemeDark:{".":Et.autoTheme,"@media (prefers-color-scheme: dark)":{"--":_W}},darkTheme:{".":Et.darkTheme,"--":_W},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function yee(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect().width,r=t.getBoundingClientRect().width;return Math.floor(n/r)}function HVe(e,t,n){if(!e||!t.length)return null;var r=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom,i=r+vee(e),s=t.find(function(o){var l=o.getBoundingClientRect().top,u=o.getBoundingClientRect().bottom,c=o.clientHeight*n,f=l+c,d=u-c;return f<i?!1:f>=r&&f<=a||d>=r&&d<=a});return s||null}function qVe(e){return!!e.nextElementSibling}function vee(e){if(!e)return eL;var t=e.querySelector(is(Et.label));if(t){var n=t.getBoundingClientRect().height;if(n>0)return n}return eL}var eb="button"+is(Et.emoji),YVe=[eb,is(Et.visible),":not("+is(Et.hidden)+")"].join("");function Ds(e){var t;return(t=e==null?void 0:e.closest(eb))!=null?t:null}function SD(e){var t=kee(e),n=CD(e);if(!t)return[];var r=sg(n??t);return r?[r,n]:[]}function QVe(e){var t;return!!(e!=null&&e.matches(eb)||!(e==null||(t=e.parentElement)==null)&&t.matches(eb))}function jW(e){var t;return(t=e==null?void 0:e.clientHeight)!=null?t:0}function bee(e){if(!e)return 0;var t=Ds(e),n=Ac(t),r=kD(n);return $W(t)+$W(n)+r}function kD(e){var t,n;if(!e)return 0;var r=e.querySelector(is(Et.categoryContent));return((t=e==null?void 0:e.clientHeight)!=null?t:0)-((n=r==null?void 0:r.clientHeight)!=null?n:0)}function KVe(e){return e?xee(e)<kD(Ac(e)):!1}function wee(e){return e?e.matches(is(Et.scrollBody))?e:e.querySelector(is(Et.scrollBody)):null}function xee(e){var t,n;return e?bee(e)-((t=(n=See(e))==null?void 0:n.scrollTop)!=null?t:0):0}function See(e){var t;return e&&(t=e.closest(is(Et.scrollBody)))!=null?t:null}function JVe(e){var t=Ds(e),n=Ac(t);return DW(t)+DW(n)}function $W(e){var t;return(t=e==null?void 0:e.offsetTop)!=null?t:0}function DW(e){var t;return(t=e==null?void 0:e.offsetLeft)!=null?t:0}function CD(e){var t;return(t=ZVe(Ds(e),"unified"))!=null?t:null}function kee(e){var t=CD(e);return t?mD(t):null}function Cee(e){return e?{unified:CD(e),originalUnified:kee(e)}:{unified:null,originalUnified:null}}function ZVe(e,t){var n;return(n=XVe(e)[t])!=null?n:null}function XVe(e){var t;return(t=e==null?void 0:e.dataset)!=null?t:{}}function ID(e){return e.classList.contains(Et.visible)}function Iee(e){return e?e.classList.contains(Et.hidden):!0}function og(e){return e?Array.from(e.querySelectorAll(YVe)):[]}function Nee(e){if(!e)return null;var t=og(e),n=t.slice(-1),r=n[0];return r?ID(r)?r:ND(r):null}function Mee(e){var t=e.nextElementSibling;return t?ID(t)?t:Mee(t):MD(dN(e))}function ND(e){var t=e.previousElementSibling;return t?ID(t)?t:ND(t):Nee(fN(e))}function MD(e){if(!e)return null;var t=og(e);return HVe(e,t,.1)}function fN(e){var t=Ac(e);if(!t)return null;var n=t.previousElementSibling;return n?Iee(n)?fN(n):n:null}function dN(e){var t=Ac(e);if(!t)return null;var n=t.nextElementSibling;return n?Iee(n)?dN(n):n:null}function Ac(e){return e?e.closest(is(Et.category)):null}function Tee(e){return e?e.closest(is(Et.categoryContent)):null}function Eee(e){return e.split("-").map(function(t){return String.fromCodePoint(parseInt(t,16))}).join("")}function eGe(e){return e.category===mt.CUSTOM}function Aee(e){return e.imgUrl!==void 0}function Lee(e,t){var n=C.useRef(),r=pee(),a=u8e(),i=Zg(),s=i[1],o=jd(),l=aN(),u=l[0],c=K8e(t),f=DX(),d=f[1],p=_d(),h=Ld(),m=C.useCallback(function(b){if(!a.current){o();var x=OW(b),S=x[0],k=x[1];if(!(!S||!k)){var I=$8e(k)||u;d(),E8e(S,I),c(tGe(S,I,h,p),b)}}},[u,o,a,c,d,p,h]),g=C.useCallback(function(b){var x;n.current&&clearTimeout(n.current);var S=OW(b),k=S[0];!k||!Xg(k)||(n.current=(x=window)==null?void 0:x.setTimeout(function(){a.current=!0,n.current=void 0,o(),r(b.target),s(k)},500))},[a,o,r,s]),y=C.useCallback(function(){n.current?(clearTimeout(n.current),n.current=void 0):a.current&&requestAnimationFrame(function(){a.current=!1})},[a]);C.useEffect(function(){if(e.current){var v=e.current;return v.addEventListener("click",m,{passive:!0}),v.addEventListener("mousedown",g,{passive:!0}),v.addEventListener("mouseup",y,{passive:!0}),function(){v==null||v.removeEventListener("click",m),v==null||v.removeEventListener("mousedown",g),v==null||v.removeEventListener("mouseup",y)}}},[e,m,g,y])}function OW(e){var t=e==null?void 0:e.target;return QVe(t)?SD(t):[]}function tGe(e,t,n,r){var a=Yb(e);if(Aee(e)){var i=Ur(e);return{activeSkinTone:t,emoji:i,getImageUrl:function(){return e.imgUrl},imageUrl:e.imgUrl,isCustom:!0,names:a,unified:i,unifiedWithoutSkinTone:i}}var s=Ur(e,t);return{activeSkinTone:t,emoji:Eee(s),getImageUrl:function(l){return l===void 0&&(l=n??hi.APPLE),r(s,l)},imageUrl:r(s,n??hi.APPLE),isCustom:!1,names:a,unified:s,unifiedWithoutSkinTone:Ur(e)}}function Kb(e){return C.createElement("button",Object.assign({type:"button"},e,{className:kt(nGe.button,e.className)}),e.children)}var nGe=En.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function rGe(e){var t,n=e.emojiNames,r=e.unified,a=e.hidden,i=e.hiddenOnSearch,s=e.showVariations,o=s===void 0?!0:s,l=e.hasVariations,u=e.children,c=e.className,f=e.noBackground,d=f===void 0?!1:f,p=e.style;return C.createElement(Kb,{className:kt(SE.emoji,a&&fD.hidden,i&&Ed.hiddenOnSearch,(t={},t[Et.visible]=!a&&!i,t),!!(l&&o)&&SE.hasVariations,d&&SE.noBackground,c),"data-unified":r,"aria-label":aGe(n),"data-full-name":n,style:p},u)}function aGe(e){var t;return e[0].match("flag-")&&(t=e[1])!=null?t:e[0]}var SE=En.create({emoji:{".":Et.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":Et.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),qk=En.create({external:{".":Et.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function RW(e){var t=e.emojiName,n=e.style,r=e.lazyLoad,a=r===void 0?!1:r,i=e.imgUrl,s=e.onError,o=e.className;return C.createElement("img",{src:i,alt:t,className:kt(iGe.emojiImag,qk.external,qk.common,o),loading:a?"lazy":"eager",onError:s,style:n})}var iGe=En.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function sGe(e){var t=e.unified,n=e.style,r=e.className;return C.createElement("span",{className:kt(oGe.nativeEmoji,qk.common,qk.external,r),"data-unified":t,style:n},Eee(t))}var oGe=En.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function tL(e){var t=e.emoji,n=e.unified,r=e.emojiStyle,a=e.size,i=e.lazyLoad,s=e.getEmojiUrl,o=s===void 0?UX:s,l=e.className,u=jX(),c=u[1],f={};a&&(f.width=f.height=f.fontSize=a+"px");var d=t||sg(n);if(!d)return null;if(Aee(d))return C.createElement(RW,{style:f,emojiName:n,emojiStyle:hi.NATIVE,lazyLoad:i,imgUrl:d.imgUrl,onError:p,className:l});return C.createElement(C.Fragment,null,r===hi.NATIVE?C.createElement(sGe,{unified:n,style:f,className:l}):C.createElement(RW,{style:f,emojiName:ZA(d),emojiStyle:r,lazyLoad:i,imgUrl:o(n,r),onError:p,className:l}));function p(){c(function(h){return new Set(h).add(n)})}}function pN(e){var t=e.emoji,n=e.unified,r=e.hidden,a=e.hiddenOnSearch,i=e.emojiStyle,s=e.showVariations,o=s===void 0?!0:s,l=e.size,u=e.lazyLoad,c=e.getEmojiUrl,f=e.className,d=e.noBackground,p=d===void 0?!1:d,h=e.style,m=Xg(t);return C.createElement(rGe,{hasVariations:m,showVariations:o,hidden:r,hiddenOnSearch:a,emojiNames:Yb(t),unified:n,noBackground:p,style:h},C.createElement(tL,{unified:n,emoji:t,size:l,emojiStyle:i,lazyLoad:u,getEmojiUrl:c,className:f}))}var lGe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=";function uGe(){var e=Ad(),t=e[1];return C.createElement(Kb,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:kt(cGe.plusSign),onClick:function(){return t(!1)}})}var cGe=En.create(wn({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url("+lGe+")",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},ac("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function fGe(){var e=Ad(),t=e[0],n=lVe(),r=iVe();Lee(n,Zv.REACTIONS);var a=Ld(),i=QX(),s=_d();return t?C.createElement("ul",{className:kt(PW.list,!t&&fD.hidden),ref:n},r.map(function(o){return C.createElement("li",{key:o},C.createElement(pN,{emoji:sg(o),emojiStyle:a,unified:o,showVariations:!1,className:kt(PW.emojiButton),noBackground:!0,getEmojiUrl:s}))}),i?C.createElement("li",null,C.createElement(uGe,null)):null):null}var PW=En.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function dGe(e){var t=jd(),n=C.useState(0),r=n[0],a=n[1];return C.useEffect(function(){var i=e.current;if(!i)return;i.addEventListener("scroll",s,{passive:!0});function s(){var o;a((o=i==null?void 0:i.scrollTop)!=null?o:0),t()}return function(){i==null||i.removeEventListener("scroll",s)}},[e,t]),r}function pGe(e){var t=e.scrollTop,n=e.clientHeight,r=e.topOffset,a=e.style,i=e.dimensions;if(!a||!i)return!1;var s=r+a.top,o=s+i.emojiSize,l=o+i.emojiSize*2>=t&&s<=t+n+i.emojiSize;return!l}function hGe(e,t){return e?{top:Math.floor(t/e.emojisPerRow)*e.emojiSize,left:t%e.emojisPerRow*e.emojiSize}:void 0}var mGe=40;function gGe(e){var t=iee(),n=Ad(),r=n[0],a=e0(),i=C.useRef(),s=hD(),o=s[0],l=$X(),u=l[0],c=C.useState(),f=c[0],d=c[1],p=C.useCallback(function(){var h=t.current;if(h){var m=h.querySelector(eb),g=m==null?void 0:m.clientHeight;g&&(i.current=g);var y=u||g||i.current||mGe,v=h.clientWidth;if(!(v===0||y===0)){var b=Math.max(1,Math.floor(v/y)),x=Math.ceil(e/b),S=x*y;d({categoryHeight:S,emojisPerRow:b,emojiSize:y})}}},[t,e,u]);return C.useEffect(function(){p()},[e,r,p,o.length]),C.useEffect(function(){var h=a.current;if(h){var m=function(y){var v=y,b=v.propertyName;(b==="width"||b==="max-width"||b==="min-width"||b==="height"||b==="max-height"||b==="min-height")&&(typeof queueMicrotask=="function"?queueMicrotask(function(){return p()}):requestAnimationFrame(function(){return p()}))};return h.addEventListener("transitionend",m,{passive:!0}),function(){h.removeEventListener("transitionend",m)}}},[a,p]),f}function yGe(){var e=jX(),t=e[0],n=TVe();return function(r){var a=Ur(r),i=t.has(a),s=n(a);return{failedToLoad:i,filteredOut:s,hidden:i||s}}}function vGe(e){var t=e.categoryEmojis,n=e.topOffset,r=e.onHeightReady,a=e.scrollTop,i=e.isCategoryVisible,s=yGe(),o=ZX(),l=Ld(),u=aN(),c=u[0],f=i8e(),d=_d(),p=!KX(),h=Li(),m=0,g=t.filter(function(x){var S=f(x),k=s(x),I=k.failedToLoad,N=k.filteredOut,T=k.hidden;return!I&&!N&&!T&&!S}),y=gGe(g.length);C.useEffect(function(){y&&r(y.categoryHeight)},[y,r,g.length]);var v=function(S){var k,I;return y&&h.current&&pGe({scrollTop:a,clientHeight:(k=(I=h.current)==null?void 0:I.clientHeight)!=null?k:0,topOffset:n,style:S,dimensions:y})},b=g.reduce(function(x,S,k){var I=Ur(S,c),N=hGe(y,k);if(v(N)){var T,L;return m++,zVe(S,l,a,(T=(L=h.current)==null?void 0:L.clientHeight)!=null?T:0,n,N,y,d),x}return i?(x.push(C.createElement(pN,{showVariations:p,key:I,emoji:S,unified:I,emojiStyle:l,lazyLoad:o,getEmojiUrl:d,style:wn({},N,{position:"absolute"})})),x):(m++,x)},[]);return{virtualizedCounter:m,emojis:b,dimensions:y}}function bGe(e){var t=e.categoryConfig,n=e.children,r=e.hidden,a=e.hiddenOnSearch,i=e.height,s=iN(t),o=PX(t);return C.createElement("li",{className:kt(kE.category,r&&fD.hidden,a&&Ed.hiddenOnSearch),"data-name":s,"aria-label":o},C.createElement("h2",{className:kt(kE.label)},o),C.createElement("div",{className:kt(kE.categoryContent),style:{height:i}},n))}var kE=En.create({category:{".":Et.category,minHeight:"calc(var(--epr-emoji-fullsize) + var(--epr-category-label-height))",position:"relative"},categoryContent:{".":Et.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":Et.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}});function wGe(){var e=gD(),t=BX(),n=Ld(),r=_d(),a=ZX(),i=aN(),s=i[0],o=$X(),l=o[0],u=o[1],c=C.useRef(null);if(C.useLayoutEffect(function(){c.current&&u(c.current.clientHeight)}),l)return null;var f=e[0],d=t(iN(f))[0],p=d?Ur(d,s):"";return d?C.createElement("div",{ref:c},C.createElement(pN,{emoji:d,unified:p,emojiStyle:n,getEmojiUrl:r,lazyLoad:a,showVariations:!1,hidden:!1,style:{opacity:0,pointerEvents:"none",position:"absolute",top:0,left:0,zIndex:-1,height:"var(--epr-emoji-fullsize)",width:"var(--epr-emoji-fullsize)"}})):null}function xGe(e){var t=e.scrollTop,n=gD(),r=C.useState({}),a=r[0],i=r[1],s=iee(),o=BX(),l=vee(s.current),u=0;return C.createElement("ul",{className:kt(kGe.emojiList),ref:s},C.createElement(wGe,null),n.map(function(c){var f=iN(c),d=u,p=a[f];return p&&(u+=p+l),C.createElement(C.Suspense,{key:f},C.createElement(SGe,{categoryEmojis:o(f),categoryConfig:c,topOffset:d,onHeightReady:function(m){a[f]!==m&&i(function(g){var y;return wn({},g,(y={},y[f]=m,y))})},scrollTop:t}))}))}function SGe(e){var t=e.categoryEmojis,n=e.categoryConfig,r=e.topOffset,a=e.onHeightReady,i=e.scrollTop,s=hD(),o=s[0],l=vGe({categoryEmojis:t,topOffset:r,onHeightReady:a,scrollTop:i,isCategoryVisible:o.includes(n.category)}),u=l.virtualizedCounter,c=l.emojis,f=l.dimensions;return C.createElement(bGe,{categoryConfig:n,height:f==null?void 0:f.categoryHeight,hidden:!c.length&&u===0},c)}var kGe=En.create({emojiList:{".":Et.emojiList,listStyle:"none",margin:"0",padding:"0"}}),CGe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=",sm;(function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"})(sm||(sm={}));function IGe(){var e=lN(),t=uVe(),n=Zg(),r=n[0],a=Ld(),i=MGe(t),s=i.getTop,o=i.getMenuDirection,l=see(),u=NGe(t),c=_d(),f=Ds(e.current),d=!!(r&&f&&Xg(r)&&f.classList.contains(Et.emojiHasVariations));C.useEffect(function(){d&&cN(t.current)},[t,d,e]);var p,h;return!d&&e.current?l(null):(p=s(),h=u()),C.createElement("div",{ref:t,className:kt(n2.variationPicker,o()===sm.Down&&n2.pointingUp,d&&n2.visible),style:{top:p}},d&&r?[Ur(r)].concat(Qb(r)).slice(0,6).map(function(m){return C.createElement(pN,{key:m,emoji:r,unified:m,emojiStyle:a,showVariations:!1,getEmojiUrl:c})}):null,C.createElement("div",{className:kt(n2.pointer),style:h}))}function NGe(e){var t=lN();return function(){var r={};if(!e.current)return r;if(t.current){var a=Ds(t.current),i=JVe(a);if(!a)return r;r.left=i+(a==null?void 0:a.clientWidth)/2}return r}}function MGe(e){var t=lN(),n=Li(),r=sm.Up;return{getMenuDirection:a,getTop:i};function a(){return r}function i(){r=sm.Up;var s=0;if(!e.current)return 0;var o=jW(e.current);if(t.current){var l,u=n.current,c=Ds(t.current),f=jW(c);s=bee(c);var d=(l=u==null?void 0:u.scrollTop)!=null?l:0;d>s-o&&(r=sm.Down,s+=f+o)}return s-o}}var n2=En.create(wn({variationPicker:{".":Et.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url("+CGe+")"}},ac("pointer",{backgroundPosition:"-25px 0"})));function TGe(){var e=Li(),t=dGe(e);return Lee(e,Zv.PICKER),xVe(),C.createElement("div",{className:kt(EGe.body,Ed.hiddenOnReactions),ref:e},C.createElement(IGe,null),C.createElement(xGe,{scrollTop:t}))}var EGe=En.create({body:{".":Et.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function AGe(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return r.height-(n.y-r.y)}function LGe(e,t){var n=Li(),r=cee(),a=uee();C.useEffect(function(){if(!e)return;var i=n.current;i==null||i.addEventListener("keydown",l,{passive:!0}),i==null||i.addEventListener("mouseover",u,!0),i==null||i.addEventListener("focus",s,!0),i==null||i.addEventListener("mouseout",o,{passive:!0}),i==null||i.addEventListener("blur",o,!0);function s(c){var f=Ds(c.target);if(!f)return o();var d=Cee(f),p=d.unified,h=d.originalUnified;if(!p||!h)return o();t({unified:p,originalUnified:h})}function o(c){if(c){var f=c.relatedTarget;if(!Ds(f))return t(null)}t(null)}function l(c){c.key==="Escape"&&t(null)}function u(c){if(!r()){var f=Ds(c.target);if(f){var d=AGe(f,i),p=f.getBoundingClientRect().height;if(d<p)return _Ge(f,t);Ai(f)}}}return function(){i==null||i.removeEventListener("mouseover",u),i==null||i.removeEventListener("mouseout",o),i==null||i.removeEventListener("focus",s,!0),i==null||i.removeEventListener("blur",o,!0),i==null||i.removeEventListener("keydown",l)}},[n,e,t,r,a])}function _Ge(e,t){var n,r=Cee(e),a=r.unified,i=r.originalUnified;!a||!i||((n=document.activeElement)==null||n.blur==null||n.blur(),t({unified:a,originalUnified:i}))}var r2,tb;(function(e){e.ROW="FlexRow",e.COLUMN="FlexColumn"})(tb||(tb={}));function _ee(e){var t=e.children,n=e.className,r=e.style,a=r===void 0?{}:r,i=e.direction,s=i===void 0?tb.ROW:i;return C.createElement("div",{style:wn({},a),className:kt(FW.flex,n,FW[s])},t)}var FW=En.create((r2={flex:{display:"flex"}},r2[tb.ROW]={flexDirection:"row"},r2[tb.COLUMN]={flexDirection:"column"},r2));function jGe(e){var t=e.className,n=e.style,r=n===void 0?{}:n;return C.createElement("div",{style:wn({flex:1},r),className:kt(t)})}function $Ge(e){var t=e.children,n=e.className,r=e.style;return C.createElement("div",{style:wn({},r,{position:"absolute"}),className:n},t)}function hN(e){var t=e.children,n=e.className,r=e.style;return C.createElement("div",{style:wn({},r,{position:"relative"}),className:n},t)}function DGe(e){var t=e.isOpen,n=e.onClick,r=e.isActive,a=e.skinToneVariation,i=e.style;return C.createElement(Kb,{style:i,onClick:n,className:kt("epr-tone-"+a,CE.tone,!t&&CE.closedTone,r&&CE.active),"aria-pressed":r,"aria-label":"Skin tone "+M8e[a]})}var CE=En.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",border:"1px solid var(--epr-skin-tone-outer-border-color)",boxShadow:"inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color), inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}}),cy=28;function OGe(){return C.createElement(hN,{style:{height:cy}},C.createElement($Ge,{style:{bottom:0,right:0}},C.createElement(jee,{direction:nb.VERTICAL})))}function jee(e){var t=e.direction,n=t===void 0?nb.HORIZONTAL:t,r=yD(),a=KX(),i=qb(),s=i[0],o=i[1],l=aN(),u=l[0],c=l[1],f=J8e(),d=jd(),p=$d();if(a)return null;var h=cy*Gk.length+"px",m=s?h:cy+"px",g=n===nb.VERTICAL;return C.createElement(hN,{className:kt(Q1.skinTones,g&&Q1.vertical,s&&Q1.open,g&&s&&Q1.verticalShadow),style:g?{flexBasis:m,height:m}:{flexBasis:m}},C.createElement("div",{className:kt(Q1.select),ref:r},Gk.map(function(y,v){var b=y===u;return C.createElement(DGe,{key:y,skinToneVariation:y,isOpen:s,style:{transform:kt(g?"translateY(-"+v*(s?cy:0)+"px)":"translateX(-"+v*(s?cy:0)+"px)",s&&b&&"scale(1.3)")},isActive:b,onClick:function(){s?(c(y),f(y),p()):o(!0),d()}})})))}var nb;(function(e){e.VERTICAL="epr-vertical",e.HORIZONTAL="epr-horizontal"})(nb||(nb={}));var Q1=En.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active":{border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)"}});function RGe(){var e=JX(),t=hee(),n=Ad(),r=n[0];return e.showPreview?C.createElement(_ee,{className:kt(Py.preview,Ed.hiddenOnReactions,r&&Py.hideOnReactions)},C.createElement(PGe,null),C.createElement(jGe,null),t?C.createElement(OGe,null):null):null}function PGe(){var e,t=JX(),n=C.useState(null),r=n[0],a=n[1],i=Ld(),s=Zg(),o=s[0],l=_d();LGe(t.showPreview,a);var u=sg((e=r==null?void 0:r.unified)!=null?e:r==null?void 0:r.originalUnified),c=u!=null&&r!=null;return C.createElement(f,null);function f(){var d=o??sg(t.defaultEmoji);if(!d)return null;var p=o?ZA(o):t.defaultCaption;return C.createElement(C.Fragment,null,C.createElement("div",null,c?C.createElement(tL,{unified:r==null?void 0:r.unified,emoji:u,emojiStyle:i,size:45,getEmojiUrl:l,className:kt(Py.emoji)}):d?C.createElement(tL,{unified:Ur(d),emoji:d,emojiStyle:i,size:45,getEmojiUrl:l,className:kt(Py.emoji)}):null),C.createElement("div",{className:kt(Py.label)},c?ZA(u):p))}}var Py=En.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"},hideOnReactions:{opacity:"0",transition:"opacity 0.5s ease-in-out"}});function FGe(e){var t;return(t=e==null?void 0:e.getAttribute("data-name"))!=null?t:null}function zGe(e){var t=e.setActiveCategory,n=e.setVisibleCategories,r=Li();C.useEffect(function(){var a=new Map,i=new Map,s=r.current,o=new IntersectionObserver(function(l){if(s){for(var u=t8e(l),c;!(c=u()).done;){var f=c.value,d=FGe(f.target);d&&(a.set(d,f.intersectionRatio),i.set(d,f.isIntersecting))}var p=Array.from(a),h=p.filter(function(S){var k=S[0],I=S[1];return I>0||i.get(k)}).map(function(S){var k=S[0];return k});n(h);var m=p[p.length-1];if((m==null?void 0:m[1])==1)return t(m[0]);for(var g=0,y=p;g<y.length;g++){var v=y[g],b=v[0],x=v[1];if(x){t(b);break}}}},{root:s,threshold:[0,1]});return s==null||s.querySelectorAll(is(Et.category)).forEach(function(l){o.observe(l)}),function(){o.disconnect()}},[r,t,n])}function BGe(){var e=Li(),t=e0();return function(r){var a;if(e.current){var i=(a=e.current)==null?void 0:a.querySelector('[data-name="'+r+'"]');if(i){var s=i.offsetTop||0;oee(t.current,s)}}}}function UGe(){var e=Y8e();return e?e.length===0:!1}var WGe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+";function VGe(e){var t,n=e.isActiveCategory,r=e.category,a=e.allowNavigation,i=e.categoryConfig,s=e.onClick;return C.createElement(Kb,{tabIndex:a?0:-1,className:kt(HGe.catBtn,Ed.categoryBtn,"epr-icn-"+r,(t={},t[Et.active]=n,t)),onClick:s,"aria-label":PX(i),"aria-selected":n,role:"tab","aria-controls":"epr-category-nav-id"})}var zW={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},GGe={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},BW={":not(.epr-search-active)":{catBtn:{":hover":zW,"&.epr-active":zW}}},HGe=En.create(wn({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url("+WGe+")",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},ac("catBtn",GGe),{".epr-dark-theme":wn({},BW),".epr-auto-theme":wn({},BW)}));function qGe(){var e=C.useState(null),t=e[0],n=e[1],r=hD(),a=r[1],i=BGe();zGe({setActiveCategory:n,setVisibleCategories:a});var s=oN(),o=gD(),l=vD(),u=UGe();return C.createElement("div",{className:kt(YGe.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:l},o.map(function(c){var f=iN(c),d=f===t;if(eGe(c)&&u)return null;var p=!s&&!d;return C.createElement(VGe,{key:f,category:f,isActiveCategory:d,allowNavigation:p,categoryConfig:c,onClick:function(){i(f),setTimeout(function(){n(f)},10)}})}))}var YGe=En.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),$ee="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function QGe(){var e=dee(),t=G8e();return C.createElement(Kb,{className:kt(UW.btnClearSearch,Ed.visibleOnSearchOnly),onClick:e,"aria-label":t,title:t},C.createElement("div",{className:kt(UW.icnClearnSearch)}))}var KGe={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},UW=En.create(wn({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+$ee+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},ac("icnClearnSearch",{backgroundPositionY:"-40px"}),ac("btnClearSearch",KGe))),JGe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+";function ZGe(){return C.createElement("div",{className:kt(XGe.icnSearch)})}var XGe=En.create(wn({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url("+JGe+")"}},ac("icnSearch",{backgroundPositionY:"-20px"})));function e7e(){var e=XX(),t=wD();return e?null:C.createElement(_ee,{className:kt(q2.overlay)},C.createElement(t7e,null),t?C.createElement(jee,null):null)}function t7e(){var e=jd(),t=Ec(),n=V8e(),r=q8e(),a=IVe(),i=a.statusSearchResults,s=a.searchTerm,o=a.onChange,l=t==null?void 0:t.current,u=l==null?void 0:l.value;return C.createElement(hN,{className:kt(q2.searchContainer)},C.createElement("input",{autoFocus:r,"aria-label":"Type to search for an emoji",onFocus:e,className:kt(q2.search),type:"text","aria-controls":"epr-search-id",placeholder:n,onChange:function(f){var d,p;o((d=f==null||(p=f.target)==null?void 0:p.value)!=null?d:u)},ref:t}),s?C.createElement("div",{role:"status",className:kt("epr-status-search-results",q2.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},i):null,C.createElement(ZGe,null),C.createElement(QGe,null))}var q2=En.create(wn({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-border-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color-active)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+$ee+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},ac("icnClearnSearch",{backgroundPositionY:"-40px"}),ac("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function n7e(){return C.createElement(hN,{className:kt("epr-header",Ed.hiddenOnReactions)},C.createElement(e7e,null),C.createElement(qGe,null))}function r7e(e){return C.createElement(oVe,null,C.createElement(n8e,null),C.createElement(B8e,Object.assign({},e),C.createElement(a7e,null)))}function a7e(){var e=Ad(),t=e[0],n=QX(),r=C.useState(!t),a=r[0],i=r[1],s=Q8e();return C.useEffect(function(){t&&!n||a||i(!0)},[a,n,t]),s?C.createElement(VVe,null,C.createElement(fGe,null),C.createElement(i7e,{renderAll:a})):null}function i7e(e){var t=e.renderAll;return t?C.createElement(C.Fragment,null,C.createElement(n7e,null),C.createElement(TGe,null),C.createElement(RGe,null)):null}var s7e=C.memo(r7e,AX),o7e=function(e){XWe(t,e);function t(r){var a;return a=e.call(this,r)||this,a.state={hasError:!1},a}t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(a,i){console.error("Emoji Picker React failed to render:",a,i)},n.render=function(){return this.state.hasError?null:this.props.children},t}(C.Component);function l7e(e){var t=W8e({onEmojiClick:e.onEmojiClick,onReactionClick:e.onReactionClick,onSkinToneChange:e.onSkinToneChange});return C.createElement(o7e,null,C.createElement(qX.Provider,{value:t},C.createElement(s7e,Object.assign({},e))))}function u7e(){var j,D,F;const{token:e,user:t}=ur(),{startCall:n}=WQ(),[r,a]=C.useState(null),[i,s]=C.useState(""),[o,l]=C.useState(""),[u,c]=C.useState(!1),[f,d]=C.useState(!1),p=Rg(),h=C.useRef(null),m=C.useRef(null),{data:g,error:y}=xa({queryKey:["onlineUsers"],queryFn:async()=>{const $=await fetch(`${ht}/chat/online`,{headers:{Authorization:`Bearer ${e}`}});if(!$.ok)throw new Error("Failed to fetch online users");return $.json()},refetchInterval:1e4,enabled:!!e}),{data:v,error:b}=xa({queryKey:["conversations"],queryFn:async()=>{const $=await fetch(`${ht}/chat/conversations`,{headers:{Authorization:`Bearer ${e}`}});if(!$.ok)throw $.status===401?new Error("Unauthorized"):new Error("Failed to fetch conversations");return $.json()},refetchInterval:5e3,enabled:!!e}),{data:x}=xa({queryKey:["messages",r],queryFn:async()=>{if(!r)return[];const $=await fetch(`${ht}/chat/messages?userId=${r}`,{headers:{Authorization:`Bearer ${e}`}});if(!$.ok)throw new Error("Failed to fetch messages");return $.json()},enabled:!!r&&!!e,refetchInterval:3e3}),S=So({mutationFn:async $=>{if(!r)throw new Error("No active chat");const B=await fetch(`${ht}/chat/send`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({receiverId:r,...$})});if(!B.ok)throw new Error("Failed to send");return B.json()},onSuccess:()=>{l(""),c(!1),p.invalidateQueries({queryKey:["messages",r]}),p.invalidateQueries({queryKey:["conversations"]}),p.invalidateQueries({queryKey:["onlineUsers"]})},onError:()=>{tn.error("Failed to send message")}}),k=So({mutationFn:async $=>{await fetch(`${ht}/chat/seen`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({senderId:$})})},onSuccess:()=>{p.invalidateQueries({queryKey:["conversations"]})}}),I=()=>{if(!o.trim()||!r)return;const $=o;l(""),S.mutate({content:$})},N=$=>{$.key==="Enter"&&I()},T=$=>{l(B=>B+$.emoji)},L=async $=>{var P;const B=(P=$.target.files)==null?void 0:P[0];if(!B||!r)return;d(!0);const O=new FormData;O.append("file",B);try{const W=await fetch(`${ht}/chat/upload`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:O});if(!W.ok)throw new Error("Upload failed");const H=await W.json(),q={url:`${ht}${H.url}`,filename:H.filename,size:B.size,mimeType:B.type};S.mutate({attachment:q}),tn.success("File uploaded")}catch{tn.error("Failed to upload file")}finally{d(!1),m.current&&(m.current.value="")}};C.useEffect(()=>{var $;($=h.current)==null||$.scrollIntoView({behavior:"smooth"})},[x]),C.useEffect(()=>{r&&k.mutate(r)},[r]);const E=(Array.isArray(v)?(j=v.find($=>$.user._id===r))==null?void 0:j.user:void 0)||(Array.isArray(g)?g.find($=>$._id===r):void 0);C.useEffect(()=>{const $=zi.socket;if(!$)return;const B=P=>{r&&(P.sender===r||P.receiver===r)&&(p.setQueryData(["messages",r],W=>W?W.some(H=>H._id===P._id)?W:[...W,P]:[P]),$.emit("message-delivered",P._id),P.sender===r&&k.mutate(r)),p.invalidateQueries({queryKey:["conversations"]})},O=P=>{r===P.viewerId&&p.invalidateQueries({queryKey:["messages",r]})};return $.on("incoming-message",B),$.on("messages-seen",O),()=>{$.off("incoming-message",B),$.off("messages-seen",O)}},[r,p]);const M=v==null?void 0:v.filter($=>{const B=i.toLowerCase(),O=($.user.name||"").toLowerCase(),P=($.user.nexusId||"").toLowerCase();return O.includes(B)||P.includes(B)});return w.jsxs("div",{className:"h-[calc(100vh-140px)] md:h-[calc(100vh-140px)] max-w-7xl mx-auto flex gap-4 overflow-hidden relative",children:[w.jsxs("div",{className:ke("w-full md:w-96 flex-col glass-panel rounded-2xl border border-primary/10 overflow-hidden transition-all duration-300 absolute md:relative z-10 h-full",r?"-translate-x-full md:translate-x-0 opacity-0 md:opacity-100 pointer-events-none md:pointer-events-auto":"translate-x-0 opacity-100 pointer-events-auto flex"),children:[w.jsxs("div",{className:"p-4 border-b border-primary/10",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h2",{className:"font-display text-xl font-bold text-foreground",children:"Messages"}),w.jsx(yt,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-full bg-primary/10 text-primary hover:bg-primary/20",children:w.jsx(Ome,{className:"w-4 h-4"})})]}),w.jsxs("div",{className:"relative",children:[w.jsx(OH,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),w.jsx(BS,{placeholder:"Search conversations...",className:"pl-9 bg-secondary/30 border-primary/10 focus:border-primary/40 rounded-xl",value:i,onChange:$=>s($.target.value)})]})]}),w.jsxs("div",{className:"p-4 border-b border-primary/5",children:[w.jsx("h3",{className:"text-xs font-medium text-muted-foreground mb-3 uppercase",children:"Online Now"}),w.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-none",children:[g==null?void 0:g.map($=>{var B,O;return w.jsxs("button",{className:"flex flex-col items-center gap-1 min-w-[3rem] cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>a($._id),children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center border border-primary/30 text-primary font-medium overflow-hidden",children:$.avatar?w.jsx("img",{src:$.avatar,alt:$.name,className:"w-full h-full object-cover"}):((O=(B=$.name)==null?void 0:B[0])==null?void 0:O.toUpperCase())||"?"}),w.jsx("span",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full bg-nexus-green border-2 border-background shadow-[0_0_8px_#22c55e]"})]}),w.jsx("span",{className:"text-[10px] text-muted-foreground font-medium truncate w-14 text-center",children:$.nexusId||$.name||"User"})]},$._id)}),(!g||g.length===0)&&w.jsx("span",{className:"text-xs text-muted-foreground",children:"No one online"})]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-primary/10 hover:scrollbar-thumb-primary/20",children:[w.jsx("h3",{className:"px-4 pt-4 text-xs font-medium text-muted-foreground mb-2 uppercase",children:"All Messages"}),w.jsxs("div",{className:"space-y-1 p-2",children:[M==null?void 0:M.map($=>{var B,O;return w.jsxs("button",{onClick:()=>a($.user._id),className:ke("w-full flex items-start gap-3 p-3 rounded-xl transition-all text-left group cursor-pointer",r===$.user._id?"bg-primary/10 border border-primary/30 shadow-[0_0_15px_-5px_hsl(var(--primary))]":"hover:bg-white/5 border border-transparent"),children:[w.jsxs("div",{className:"relative flex-shrink-0",children:[w.jsx("div",{className:ke("w-10 h-10 rounded-full flex items-center justify-center font-medium overflow-hidden",r===$.user._id?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground group-hover:text-foreground"),children:$.user.avatar?w.jsx("img",{src:$.user.avatar,alt:$.user.name,className:"w-full h-full object-cover"}):((O=(B=$.user.name)==null?void 0:B[0])==null?void 0:O.toUpperCase())||"?"}),$.user.online&&w.jsx("span",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full bg-green-500 border-2 border-background shadow-[0_0_8px_#22c55e]"})]}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[w.jsx("span",{className:ke("font-medium text-sm truncate",r===$.user._id?"text-primary":"text-foreground"),children:$.user.name||$.user.nexusId||"Unknown User"}),w.jsx("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap",children:new Date($.lastMessage.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),w.jsx("p",{className:ke("text-xs truncate","text-muted-foreground"),children:$.lastMessage.attachment?` File: ${$.lastMessage.attachment.filename}`:($.lastMessage.sender===(t==null?void 0:t.id)?"You: ":"")+$.lastMessage.content})]})]},$.user._id)}),!v||v.length===0?w.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No conversations yet"}):(M==null?void 0:M.length)===0?w.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No matches found"}):null]})]})]}),w.jsx("div",{className:ke("w-full md:flex-1 flex flex-col glass-panel rounded-2xl border border-primary/10 overflow-hidden relative transition-all duration-300 absolute md:relative h-full",r?"translate-x-0 opacity-100 pointer-events-auto":"translate-x-full md:translate-x-0 opacity-0 md:opacity-100 pointer-events-none md:pointer-events-auto"),children:r?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"p-4 border-b border-primary/10 flex items-center justify-between bg-black/20 backdrop-blur-md",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(yt,{size:"icon",variant:"ghost",className:"md:hidden -ml-2 text-muted-foreground hover:text-primary",onClick:()=>a(null),children:w.jsx(TH,{className:"w-5 h-5 rotate-90"})}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center border border-primary/30 text-primary font-medium overflow-hidden",children:E!=null&&E.avatar?w.jsx("img",{src:E.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):((F=(D=E==null?void 0:E.name)==null?void 0:D[0])==null?void 0:F.toUpperCase())||"?"}),(E==null?void 0:E.online)&&w.jsx("span",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full bg-green-500 border-2 border-background shadow-[0_0_8px_#22c55e]"})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"font-medium text-foreground",children:[(E==null?void 0:E.name)||(E==null?void 0:E.nexusId)||"Unknown User",(E==null?void 0:E.name)&&(E==null?void 0:E.nexusId)&&w.jsxs("span",{className:"ml-2 text-xs text-muted-foreground font-normal",children:["(",E.nexusId,")"]})]}),w.jsx("p",{className:"text-xs text-primary animate-pulse",children:E!=null&&E.online?"Online":"Offline"})]})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(yt,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-primary hover:bg-primary/10",onClick:()=>r&&n(r),children:w.jsx(DH,{className:"w-5 h-5"})}),w.jsx(yt,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-primary hover:bg-primary/10",onClick:()=>r&&n(r),children:w.jsx(ES,{className:"w-5 h-5"})}),w.jsx(yt,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-primary hover:bg-primary/10",children:w.jsx(Cme,{className:"w-5 h-5"})})]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x==null?void 0:x.map($=>w.jsx("div",{className:ke("flex",$.sender===(t==null?void 0:t.id)?"justify-end":"justify-start"),children:w.jsxs("div",{className:ke("max-w-[70%] rounded-2xl px-4 py-3 text-sm shadow-md transition-all",$.sender===(t==null?void 0:t.id)?"bg-primary/90 text-primary-foreground rounded-br-none shadow-primary/10":"bg-secondary/50 text-foreground border border-primary/10 rounded-bl-none backdrop-blur-sm"),children:[$.attachment?w.jsxs("div",{className:"flex items-center gap-3 bg-black/20 p-3 rounded-xl border border-white/10",children:[w.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:w.jsx(Nme,{className:"w-5 h-5 text-primary"})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("p",{className:"font-medium truncate text-sm",children:$.attachment.filename}),w.jsxs("p",{className:"text-[10px] opacity-70",children:[($.attachment.size/1024).toFixed(1)," KB"]})]}),w.jsx("a",{href:$.attachment.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:w.jsx(TS,{className:"w-4 h-4"})})]}):w.jsx("p",{className:"whitespace-pre-wrap break-words",children:$.content}),w.jsxs("div",{className:ke("flex items-center justify-end gap-1 mt-1 opacity-70",$.sender===(t==null?void 0:t.id)?"text-primary-foreground":"text-muted-foreground"),children:[w.jsx("p",{className:"text-[10px]",children:new Date($.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),$.sender===(t==null?void 0:t.id)&&($.status==="SEEN"?w.jsx(jz,{className:"w-3 h-3 text-blue-300"}):$.status==="DELIVERED"?w.jsx(jz,{className:"w-3 h-3"}):w.jsx(hj,{className:"w-3 h-3"}))]})]})},$._id)),w.jsx("div",{ref:h})]}),u&&w.jsx("div",{className:"absolute bottom-20 left-4 z-50",children:w.jsxs("div",{className:"relative",children:[w.jsx(yt,{size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-secondary text-foreground hover:bg-destructive hover:text-white z-10 shadow-md",onClick:()=>c(!1),children:w.jsx(AS,{className:"w-3 h-3"})}),w.jsx(l7e,{onEmojiClick:T,theme:ag.DARK,width:300,height:400})]})}),w.jsx("div",{className:"p-4 border-t border-primary/10 bg-black/20 backdrop-blur-md",children:w.jsxs("div",{className:"flex items-center gap-2 bg-secondary/30 rounded-full p-2 border border-primary/10 focus-within:border-primary/30 transition-colors",children:[w.jsx(yt,{size:"icon",variant:"ghost",className:"rounded-full h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>c(!u),children:w.jsx(Ume,{className:"w-5 h-5"})}),w.jsx("input",{type:"file",ref:m,className:"hidden",onChange:L}),w.jsx(yt,{size:"icon",variant:"ghost",className:"rounded-full h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>{var $;return($=m.current)==null?void 0:$.click()},disabled:f,children:f?w.jsx(V4,{className:"w-5 h-5 animate-spin"}):w.jsx($me,{className:"w-5 h-5"})}),w.jsx("input",{type:"text",value:o,onChange:$=>l($.target.value),onKeyDown:N,placeholder:"Type a message...",className:"flex-1 bg-transparent border-none focus:outline-none text-sm px-2 text-foreground placeholder:text-muted-foreground"}),w.jsx(yt,{size:"icon",onClick:I,disabled:S.isPending||!o.trim()&&!f,className:"rounded-full h-8 w-8 bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:scale-110 active:scale-95",children:w.jsx(G4,{className:"w-4 h-4 ml-0.5"})})]})})]}):w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[w.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4 border border-primary/20 animate-pulse",children:w.jsx(G4,{className:"w-8 h-8 text-primary/50"})}),w.jsx("p",{children:"Select a conversation or online user to start messaging"})]})})]})}var mN="Tabs",[c7e,qAt]=qs(mN,[sI]),Dee=sI(),[f7e,TD]=c7e(mN),Oee=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:l="automatic",...u}=e,c=iI(o),[f,d]=jb({prop:r,onChange:a,defaultProp:i??"",caller:mN});return w.jsx(f7e,{scope:n,baseId:ov(),value:f,onValueChange:d,orientation:s,dir:c,activationMode:l,children:w.jsx(Ct.div,{dir:c,"data-orientation":s,...u,ref:t})})});Oee.displayName=mN;var Ree="TabsList",Pee=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=TD(Ree,n),s=Dee(n);return w.jsx(rY,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:r,children:w.jsx(Ct.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Pee.displayName=Ree;var Fee="TabsTrigger",zee=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,s=TD(Fee,n),o=Dee(n),l=Wee(s.baseId,r),u=Vee(s.baseId,r),c=r===s.value;return w.jsx(aY,{asChild:!0,...o,focusable:!a,active:c,children:w.jsx(Ct.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:t,onMouseDown:Pe(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:Pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:Pe(e.onFocus,()=>{const f=s.activationMode!=="manual";!c&&!a&&f&&s.onValueChange(r)})})})});zee.displayName=Fee;var Bee="TabsContent",Uee=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...s}=e,o=TD(Bee,n),l=Wee(o.baseId,r),u=Vee(o.baseId,r),c=r===o.value,f=C.useRef(c);return C.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),w.jsx(ni,{present:a||c,children:({present:d})=>w.jsx(Ct.div,{"data-state":c?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:d&&i})})});Uee.displayName=Bee;function Wee(e,t){return`${e}-trigger-${t}`}function Vee(e,t){return`${e}-content-${t}`}var d7e=Oee,Gee=Pee,Hee=zee,qee=Uee;const Yee=d7e,ED=C.forwardRef(({className:e,...t},n)=>w.jsx(Gee,{ref:n,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ED.displayName=Gee.displayName;const Eu=C.forwardRef(({className:e,...t},n)=>w.jsx(Hee,{ref:n,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Eu.displayName=Hee.displayName;const Au=C.forwardRef(({className:e,...t},n)=>w.jsx(qee,{ref:n,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Au.displayName=qee.displayName;function K1({title:e,value:t,icon:n,trend:r,trendUp:a,color:i,isLoading:s}){const o={cyan:"text-primary bg-primary/10 border-primary/30",green:"text-nexus-green bg-nexus-green/10 border-nexus-green/30",red:"text-destructive bg-destructive/10 border-destructive/30",yellow:"text-yellow-400 bg-yellow-400/10 border-yellow-400/30",purple:"text-accent bg-accent/10 border-accent/30"};return w.jsxs("div",{className:"glass-panel rounded-2xl border border-primary/10 p-5 hover:border-primary/20 transition-all duration-300 group",children:[w.jsxs("div",{className:"flex items-start justify-between mb-4",children:[w.jsx("div",{className:ke("w-12 h-12 rounded-xl flex items-center justify-center border",o[i]),children:w.jsx(n,{className:"w-6 h-6"})}),r&&w.jsxs("span",{className:ke("text-xs font-medium px-2 py-1 rounded-full",a?"text-nexus-green bg-nexus-green/10":"text-destructive bg-destructive/10"),children:[a?"":""," ",r]})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-2xl font-display font-bold text-foreground mb-1",children:s?w.jsx("span",{className:"inline-block w-16 h-7 bg-muted/50 rounded animate-pulse"}):t}),w.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})]})}function p7e({token:e}){const[t,n]=C.useState(""),[r,a]=C.useState(""),[i,s]=C.useState(""),[o,l]=C.useState(""),u=So({mutationFn:async()=>{const c=await fetch(`${ht}/tasks/assign`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({nexusId:t,title:r,description:i,dueDate:o})});if(!c.ok){const f=await c.json();throw new Error(f.message||"Failed to assign")}return c.json()},onSuccess:()=>{tn.success("Task Assigned Successfully"),n(""),a(""),s(""),l("")},onError:c=>tn.error(c.message)});return w.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-primary/10 max-w-2xl",children:[w.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[w.jsx(vj,{className:"w-5 h-5 text-nexus-green"}),"Assign New Task"]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1 block",children:"Target User (Nexus ID)"}),w.jsx("input",{value:t,onChange:c=>n(c.target.value),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:border-primary/50 outline-none",placeholder:"e.g. NEX-8294"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1 block",children:"Task Title"}),w.jsx("input",{value:r,onChange:c=>a(c.target.value),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:border-primary/50 outline-none",placeholder:"e.g. Audit Core Systems"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1 block",children:"Description"}),w.jsx("textarea",{value:i,onChange:c=>s(c.target.value),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:border-primary/50 outline-none min-h-[80px]",placeholder:"Detailed instructions..."})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1 block",children:"Due Date"}),w.jsx("input",{type:"datetime-local",value:o,onChange:c=>l(c.target.value),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:border-primary/50 outline-none [color-scheme:dark]"})]}),w.jsx(yt,{className:"w-full bg-primary text-black hover:bg-primary/90 font-bold",onClick:()=>u.mutate(),disabled:!t||!r||!o||u.isPending,children:u.isPending?"Assigning...":"Dispatch Directive"})]})]})}function h7e(){var c;const{token:e}=ur(),t=Rg(),{data:n,isLoading:r}=xa({queryKey:["adminSummary"],queryFn:async()=>(await fetch(`${ht}/admin/dashboard-summary`,{headers:{Authorization:`Bearer ${e}`}})).json(),refetchInterval:3e4}),{data:a}=xa({queryKey:["pendingUsers"],queryFn:async()=>(await fetch(`${ht}/admin/pending-users`,{headers:{Authorization:`Bearer ${e}`}})).json()}),{data:i}=xa({queryKey:["allUsers"],queryFn:async()=>(await fetch(`${ht}/admin/users`,{headers:{Authorization:`Bearer ${e}`}})).json()}),{data:s}=xa({queryKey:["activityLog"],queryFn:async()=>(await fetch(`${ht}/admin/activity`,{headers:{Authorization:`Bearer ${e}`}})).json()}),o=So({mutationFn:async f=>{const d=await fetch(`${ht}/admin/approve-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({userId:f})});if(!d.ok)throw new Error("Failed to approve");return d.json()},onSuccess:()=>{tn.success("User Approved"),t.invalidateQueries({queryKey:["pendingUsers"]}),t.invalidateQueries({queryKey:["adminSummary"]}),t.invalidateQueries({queryKey:["allUsers"]})}}),l=So({mutationFn:async f=>(await fetch(`${ht}/admin/lock-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({userId:f})})).json(),onSuccess:()=>{tn.warning("User Locked"),t.invalidateQueries({queryKey:["allUsers"]}),t.invalidateQueries({queryKey:["adminSummary"]})}}),u=So({mutationFn:async f=>(await fetch(`${ht}/admin/force-lock`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({userId:f})})).json(),onSuccess:()=>{tn.error("User Forcefully Terminated"),t.invalidateQueries({queryKey:["allUsers"]}),t.invalidateQueries({queryKey:["adminSummary"]})}});return w.jsxs("div",{className:"space-y-6 max-w-full mx-auto pb-6 h-auto min-h-full flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"font-display text-xl md:text-2xl font-bold text-foreground flex items-center gap-2 md:gap-3",children:[w.jsx(Hf,{className:"w-6 h-6 md:w-7 md:h-7 text-primary"}),"Admin Center"]}),w.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mt-1",children:"System overview & users"})]}),w.jsxs(yt,{variant:"outline",size:"sm",onClick:()=>{t.invalidateQueries({queryKey:["adminSummary"]}),t.invalidateQueries({queryKey:["pendingUsers"]}),t.invalidateQueries({queryKey:["allUsers"]}),t.invalidateQueries({queryKey:["activityLog"]}),tn.info("Refreshing dashboard data...")},disabled:r,className:"border-primary/30 text-primary hover:bg-primary/10 transition-colors",children:[w.jsx(Pme,{className:ke("w-4 h-4 mr-2",r&&"animate-spin")}),"Refresh"]})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[w.jsx(K1,{title:"Total Users",value:(n==null?void 0:n.totalUsers)||0,icon:KC,color:"cyan",trend:"12%",trendUp:!0,isLoading:r}),w.jsx(K1,{title:"Online Now",value:(n==null?void 0:n.onlineUsers)||0,icon:FH,color:"green",isLoading:r}),w.jsx(K1,{title:"Pending Approval",value:(n==null?void 0:n.pendingUsers)||0,icon:YC,color:"yellow",isLoading:r}),w.jsx(K1,{title:"Locked Accounts",value:(n==null?void 0:n.lockedUsers)||0,icon:Hme,color:"red",isLoading:r}),w.jsx(K1,{title:"Messages Today",value:((c=n==null?void 0:n.messagesToday)==null?void 0:c.toLocaleString())||0,icon:gj,color:"purple",trend:"8%",trendUp:!0,isLoading:r})]}),w.jsx("div",{className:"glass-panel rounded-2xl border border-primary/10 p-2 md:p-6",children:w.jsxs(Yee,{defaultValue:"pending",className:"w-full",children:[w.jsxs(ED,{className:"bg-primary/5 p-1 border border-primary/10 w-full grid grid-cols-4 mb-2 h-auto",children:[w.jsxs(Eu,{value:"pending",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary text-[10px] md:text-sm px-1 py-1.5 h-full whitespace-normal leading-tight",children:[w.jsx("span",{className:"md:hidden",children:"Pending"}),w.jsx("span",{className:"hidden md:inline",children:"Pending Approvals"})]}),w.jsxs(Eu,{value:"users",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary text-[10px] md:text-sm px-1 py-1.5 h-full whitespace-normal leading-tight",children:[w.jsx("span",{className:"md:hidden",children:"Users"}),w.jsx("span",{className:"hidden md:inline",children:"User Management"})]}),w.jsxs(Eu,{value:"activity",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary text-[10px] md:text-sm px-1 py-1.5 h-full whitespace-normal leading-tight",children:[w.jsx("span",{className:"md:hidden",children:"Audit"}),w.jsx("span",{className:"hidden md:inline",children:"Audit Logs"})]}),w.jsxs(Eu,{value:"tasks",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary text-[10px] md:text-sm px-1 py-1.5 h-full whitespace-normal leading-tight",children:[w.jsx("span",{className:"md:hidden",children:"Tasks"}),w.jsx("span",{className:"hidden md:inline",children:"Assign Tasks"})]})]}),w.jsx(Au,{value:"tasks",className:"mt-4",children:w.jsx(p7e,{token:e})}),w.jsx(Au,{value:"pending",className:"mt-4 space-y-4",children:(a==null?void 0:a.length)===0?w.jsx("div",{className:"p-4 md:p-10 text-center text-muted-foreground bg-primary/5 rounded-lg border border-primary/10 border-dashed text-xs md:text-sm",children:"No pending user requests"}):a==null?void 0:a.map(f=>w.jsxs("div",{className:"bg-background/40 border border-primary/10 flex flex-col md:flex-row justify-between items-center p-4 rounded-xl gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4 w-full",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-500/20 to-orange-600/20 flex items-center justify-center text-amber-500 font-bold border border-amber-500/30",children:f.name?f.name[0].toUpperCase():"?"}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-foreground",children:f.name}),w.jsx("p",{className:"text-sm text-muted-foreground",children:f.email})]})]}),w.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[w.jsx(yt,{size:"sm",variant:"outline",className:"text-destructive border-destructive/30 hover:bg-destructive/10 w-full md:w-auto",children:"Deny"}),w.jsx(yt,{size:"sm",className:"bg-green-600/80 hover:bg-green-600 text-white w-full md:w-auto",onClick:()=>o.mutate(f._id),children:"Approve"})]})]},f._id))}),w.jsx(Au,{value:"users",className:"mt-6",children:w.jsx("div",{className:"grid gap-4 h-auto lg:h-[calc(100vh-320px)] overflow-y-auto scrollbar-nexus pr-2",children:i==null?void 0:i.map(f=>w.jsxs("div",{className:"bg-background/40 border border-primary/10 p-4 flex flex-col md:flex-row items-center justify-between rounded-xl gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4 w-full",children:[w.jsx("div",{className:`w-2 h-2 rounded-full ${f.online?"bg-green-500 shadow-[0_0_8px_#22c55e]":"bg-slate-500"}`}),w.jsxs("div",{children:[w.jsxs("div",{className:"font-medium text-foreground flex items-center gap-2 flex-wrap",children:[f.name,f.role==="ADMIN"&&w.jsx(Hu,{variant:"secondary",className:"text-[10px] h-5 bg-yellow-400/10 text-yellow-400 border-yellow-400/20",children:"ADMIN"}),f.status==="LOCKED"&&w.jsx(Hu,{variant:"destructive",className:"text-[10px] h-5",children:"LOCKED"})]}),w.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.email,"  ID: ",f.nexusId]})]})]}),w.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:f.status==="LOCKED"?w.jsx(yt,{size:"sm",variant:"outline",onClick:()=>o.mutate(f._id),className:"w-full md:w-auto",children:"Unlock"}):w.jsxs(w.Fragment,{children:[w.jsxs(yt,{size:"sm",variant:"ghost",className:"text-amber-400 hover:text-amber-300 hover:bg-amber-400/10 w-full md:w-auto",onClick:()=>l.mutate(f._id),children:[w.jsx(tc,{className:"w-4 h-4 mr-1"})," Lock"]}),w.jsxs(yt,{size:"sm",variant:"destructive",className:"bg-red-900/20 hover:bg-red-900/40 text-red-400 border border-red-900/50 w-full md:w-auto",onClick:()=>u.mutate(f._id),children:[w.jsx(yj,{className:"w-4 h-4 mr-1"})," Kill"]})]})})]},f._id))})}),w.jsx(Au,{value:"activity",children:w.jsx("div",{className:"bg-background/30 rounded-lg border border-primary/10 overflow-hidden h-auto lg:h-[calc(100vh-320px)] overflow-y-auto scrollbar-nexus",children:s==null?void 0:s.map((f,d)=>w.jsxs("div",{className:"p-4 border-b border-primary/5 flex items-center justify-between hover:bg-primary/5 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(_m,{className:"w-4 h-4 text-primary"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-sm font-medium text-foreground",children:f.action||"User Action"}),w.jsx("span",{className:"text-xs text-muted-foreground",children:f.details?JSON.stringify(f.details).slice(0,50):"No details"})]})]}),w.jsx("div",{className:"text-right",children:w.jsx("span",{className:"text-[10px] text-primary/50",children:new Date(f.timestamp||Date.now()).toLocaleString()})})]},d))})})]})})]})}function m7e(e,[t,n]){return Math.min(n,Math.max(t,e))}function g7e(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var AD="ScrollArea",[Qee,YAt]=qs(AD),[y7e,us]=Qee(AD),Kee=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...s}=e,[o,l]=C.useState(null),[u,c]=C.useState(null),[f,d]=C.useState(null),[p,h]=C.useState(null),[m,g]=C.useState(null),[y,v]=C.useState(0),[b,x]=C.useState(0),[S,k]=C.useState(!1),[I,N]=C.useState(!1),T=dn(t,E=>l(E)),L=iI(a);return w.jsx(y7e,{scope:n,type:r,dir:L,scrollHideDelay:i,scrollArea:o,viewport:u,onViewportChange:c,content:f,onContentChange:d,scrollbarX:p,onScrollbarXChange:h,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:I,onScrollbarYEnabledChange:N,onCornerWidthChange:v,onCornerHeightChange:x,children:w.jsx(Ct.div,{dir:L,...s,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});Kee.displayName=AD;var Jee="ScrollAreaViewport",Zee=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=e,s=us(Jee,n),o=C.useRef(null),l=dn(t,o,s.onViewportChange);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),w.jsx(Ct.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:w.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Zee.displayName=Jee;var Fo="ScrollAreaScrollbar",LD=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=us(Fo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,o=e.orientation==="horizontal";return C.useEffect(()=>(o?i(!0):s(!0),()=>{o?i(!1):s(!1)}),[o,i,s]),a.type==="hover"?w.jsx(v7e,{...r,ref:t,forceMount:n}):a.type==="scroll"?w.jsx(b7e,{...r,ref:t,forceMount:n}):a.type==="auto"?w.jsx(Xee,{...r,ref:t,forceMount:n}):a.type==="always"?w.jsx(_D,{...r,ref:t}):null});LD.displayName=Fo;var v7e=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=us(Fo,e.__scopeScrollArea),[i,s]=C.useState(!1);return C.useEffect(()=>{const o=a.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",c)}}},[a.scrollArea,a.scrollHideDelay]),w.jsx(ni,{present:n||i,children:w.jsx(Xee,{"data-state":i?"visible":"hidden",...r,ref:t})})}),b7e=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=us(Fo,e.__scopeScrollArea),i=e.orientation==="horizontal",s=yN(()=>l("SCROLL_END"),100),[o,l]=g7e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,a.scrollHideDelay,l]),C.useEffect(()=>{const u=a.viewport,c=i?"scrollLeft":"scrollTop";if(u){let f=u[c];const d=()=>{const p=u[c];f!==p&&(l("SCROLL"),s()),f=p};return u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[a.viewport,i,l,s]),w.jsx(ni,{present:n||o!=="hidden",children:w.jsx(_D,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Pe(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Pe(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Xee=C.forwardRef((e,t)=>{const n=us(Fo,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,s]=C.useState(!1),o=e.orientation==="horizontal",l=yN(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(o?u:c)}},10);return lg(n.viewport,l),lg(n.content,l),w.jsx(ni,{present:r||i,children:w.jsx(_D,{"data-state":i?"visible":"hidden",...a,ref:t})})}),_D=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=us(Fo,e.__scopeScrollArea),i=C.useRef(null),s=C.useRef(0),[o,l]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ate(o.viewport,o.content),c={...r,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:d=>i.current=d,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:d=>s.current=d};function f(d,p){return I7e(d,s.current,o,p)}return n==="horizontal"?w.jsx(w7e,{...c,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const d=a.viewport.scrollLeft,p=WW(d,o,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:d=>{a.viewport&&(a.viewport.scrollLeft=d)},onDragScroll:d=>{a.viewport&&(a.viewport.scrollLeft=f(d,a.dir))}}):n==="vertical"?w.jsx(x7e,{...c,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const d=a.viewport.scrollTop,p=WW(d,o);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:d=>{a.viewport&&(a.viewport.scrollTop=d)},onDragScroll:d=>{a.viewport&&(a.viewport.scrollTop=f(d))}}):null}),w7e=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=us(Fo,e.__scopeScrollArea),[s,o]=C.useState(),l=C.useRef(null),u=dn(t,l,i.onScrollbarXChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),w.jsx(tte,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gN(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(i.viewport){const d=i.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),ste(d,f)&&c.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Qk(s.paddingLeft),paddingEnd:Qk(s.paddingRight)}})}})}),x7e=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=us(Fo,e.__scopeScrollArea),[s,o]=C.useState(),l=C.useRef(null),u=dn(t,l,i.onScrollbarYChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),w.jsx(tte,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gN(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(i.viewport){const d=i.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),ste(d,f)&&c.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Qk(s.paddingTop),paddingEnd:Qk(s.paddingBottom)}})}})}),[S7e,ete]=Qee(Fo),tte=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:f,...d}=e,p=us(Fo,n),[h,m]=C.useState(null),g=dn(t,T=>m(T)),y=C.useRef(null),v=C.useRef(""),b=p.viewport,x=r.content-r.viewport,S=er(c),k=er(l),I=yN(f,10);function N(T){if(y.current){const L=T.clientX-y.current.left,E=T.clientY-y.current.top;u({x:L,y:E})}}return C.useEffect(()=>{const T=L=>{const E=L.target;(h==null?void 0:h.contains(E))&&S(L,x)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,h,x,S]),C.useEffect(k,[r,k]),lg(h,I),lg(p.content,I),w.jsx(S7e,{scope:n,scrollbar:h,hasThumb:a,onThumbChange:er(i),onThumbPointerUp:er(s),onThumbPositionChange:k,onThumbPointerDown:er(o),children:w.jsx(Ct.div,{...d,ref:g,style:{position:"absolute",...d.style},onPointerDown:Pe(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=h.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(T))}),onPointerMove:Pe(e.onPointerMove,N),onPointerUp:Pe(e.onPointerUp,T=>{const L=T.target;L.hasPointerCapture(T.pointerId)&&L.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Yk="ScrollAreaThumb",nte=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=ete(Yk,e.__scopeScrollArea);return w.jsx(ni,{present:n||a.hasThumb,children:w.jsx(k7e,{ref:t,...r})})}),k7e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=us(Yk,n),s=ete(Yk,n),{onThumbPositionChange:o}=s,l=dn(t,f=>s.onThumbChange(f)),u=C.useRef(void 0),c=yN(()=>{u.current&&(u.current(),u.current=void 0)},100);return C.useEffect(()=>{const f=i.viewport;if(f){const d=()=>{if(c(),!u.current){const p=N7e(f,o);u.current=p,o()}};return o(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[i.viewport,c,o]),w.jsx(Ct.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Pe(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),h=f.clientX-p.left,m=f.clientY-p.top;s.onThumbPointerDown({x:h,y:m})}),onPointerUp:Pe(e.onPointerUp,s.onThumbPointerUp)})});nte.displayName=Yk;var jD="ScrollAreaCorner",rte=C.forwardRef((e,t)=>{const n=us(jD,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?w.jsx(C7e,{...e,ref:t}):null});rte.displayName=jD;var C7e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=us(jD,n),[i,s]=C.useState(0),[o,l]=C.useState(0),u=!!(i&&o);return lg(a.scrollbarX,()=>{var f;const c=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(c),l(c)}),lg(a.scrollbarY,()=>{var f;const c=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(c),s(c)}),u?w.jsx(Ct.div,{...r,ref:t,style:{width:i,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qk(e){return e?parseInt(e,10):0}function ate(e,t){const n=e/t;return isNaN(n)?0:n}function gN(e){const t=ate(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function I7e(e,t,n,r="ltr"){const a=gN(n),i=a/2,s=t||i,o=a-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return ite([l,u],f)(e)}function WW(e,t,n="ltr"){const r=gN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,o=i-r,l=n==="ltr"?[0,s]:[s*-1,0],u=m7e(e,l);return ite([0,s],[0,o])(u)}function ite(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ste(e,t){return e>0&&e<t}var N7e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=n.left!==i.left,o=n.top!==i.top;(s||o)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function yN(e,t){const n=er(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function lg(e,t){const n=er(t);Eo(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var ote=Kee,M7e=Zee,T7e=rte;const Y2=C.forwardRef(({className:e,children:t,...n},r)=>w.jsxs(ote,{ref:r,className:ke("relative overflow-hidden",e),...n,children:[w.jsx(M7e,{className:"h-full w-full rounded-[inherit]",children:t}),w.jsx(lte,{}),w.jsx(T7e,{})]}));Y2.displayName=ote.displayName;const lte=C.forwardRef(({className:e,orientation:t="vertical",...n},r)=>w.jsx(LD,{ref:r,orientation:t,className:ke("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:w.jsx(nte,{className:"relative flex-1 rounded-full bg-border"})}));lte.displayName=LD.displayName;function E7e(){ur();const e=C.useRef(null),t=C.useRef(null),[n,r]=C.useState("code"),[a,i]=C.useState(["[SYSTEM] Nexus Utilities Module Loaded","[INFO] All systems nominal."]),[s,o]=C.useState(`// Write JavaScript here
console.log('Nexus System Online');

const agent = 'Cortex';
console.log(\`Hello from \${agent}\`);`),[l,u]=C.useState([]),[c,f]=C.useState([]),[d,p]=C.useState(Math.floor(Date.now()/1e3).toString()),[h,m]=C.useState("");C.useEffect(()=>{const b=setInterval(()=>{if(Math.random()>.9){const x=["[SYS] Garbage collection...","[MEM] Optimizing heap...","[UI] Refreshing verified."];i(S=>[...S.slice(-15),`${new Date().toLocaleTimeString()} ${x[Math.floor(Math.random()*x.length)]}`])}},5e3);return()=>clearInterval(b)},[]),C.useEffect(()=>{const b=setInterval(()=>{n==="time"&&!h&&p(Math.floor(Date.now()/1e3).toString())},1e3);return()=>clearInterval(b)},[n,h]);const g=async()=>{u([]);const b=console.log,x=console.error,S=console.warn,k=[];console.log=(...I)=>k.push({type:"log",content:I.map(N=>typeof N=="object"?JSON.stringify(N):String(N)).join(" ")}),console.error=(...I)=>k.push({type:"error",content:I.map(N=>typeof N=="object"?JSON.stringify(N):String(N)).join(" ")}),console.warn=(...I)=>k.push({type:"warn",content:I.map(N=>typeof N=="object"?JSON.stringify(N):String(N)).join(" ")});try{const I=new Function(s)();I!==void 0&&console.log(I)}catch(I){console.error(I.message)}finally{console.log=b,console.error=x,console.warn=S,u(k),tn.success("Execution Complete")}},y=()=>{const b=crypto.randomUUID();f(x=>[b,...x].slice(0,10)),i(x=>[...x,`${new Date().toLocaleTimeString()} [ID] UUID Generated.`]),navigator.clipboard.writeText(b),tn.success("UUID Copied to Clipboard")},v=b=>{p(b);const x=parseInt(b);isNaN(x)?m("Invalid Timestamp"):m(new Date(x*1e3).toLocaleString())};return w.jsxs("div",{className:"h-auto md:h-full flex flex-col gap-4 animate-in fade-in duration-500 pb-20 md:pb-0",children:[w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 flex-none",children:[w.jsx(a2,{icon:U4,label:"Neural Status",value:"ONLINE",color:"text-green-500",sub:"V2.0.4 Stable"}),w.jsx(a2,{icon:kme,label:"Vector Memory",value:"8,492",color:"text-cyan-500",sub:"Embeddings Indexed"}),w.jsx(a2,{icon:_m,label:"System Latency",value:"12ms",color:"text-yellow-500",sub:"Optimal Range"}),w.jsx(a2,{icon:zme,label:"Security Level",value:"MAXIMUM",color:"text-purple-500",sub:"Protocol Omega"})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-auto md:flex-1 md:min-h-0",children:[w.jsxs("div",{className:"lg:col-span-2 glass-panel rounded-2xl border border-primary/10 p-4 md:p-6 flex flex-col gap-4 relative md:overflow-hidden h-auto md:h-full",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 border-b border-primary/10 pb-4 relative z-10 flex-none",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center border border-primary/20",children:w.jsx(pj,{className:"w-5 h-5 text-primary"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-display font-bold text-lg text-primary",children:"Nexus Utilities"}),w.jsx("p",{className:"text-xs text-muted-foreground",children:"Developer Toolkit V1.0"})]})]}),w.jsx("div",{className:"flex bg-black/40 p-1 rounded-lg border border-primary/10",children:[{id:"code",icon:LT,label:"Runner"},{id:"time",icon:YC,label:"Chrono"},{id:"uuid",icon:W4,label:"Forge"}].map(b=>w.jsxs("button",{onClick:()=>r(b.id),className:ke("px-3 py-1.5 rounded-md flex items-center gap-2 text-xs font-bold transition-all",n===b.id?"bg-primary text-black shadow-[0_0_10px_rgba(6,182,212,0.3)]":"text-zinc-500 hover:text-primary hover:bg-primary/5"),children:[w.jsx(b.icon,{className:"w-3 h-3"}),b.label]},b.id))})]}),w.jsxs("div",{className:"relative md:flex-1 bg-black/40 border border-primary/10 rounded-xl md:overflow-hidden flex flex-col p-4 h-auto md:h-full",children:[n==="code"&&w.jsxs("div",{className:"flex-1 flex flex-col h-full gap-4",children:[w.jsxs("div",{className:"flex justify-between items-center bg-primary/5 p-2 rounded-lg border border-primary/10",children:[w.jsxs("div",{className:"flex items-center gap-4 px-2",children:[w.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary/70",children:[w.jsx(LT,{className:"w-4 h-4"}),w.jsx("span",{className:"font-bold",children:"NEXUS CODE LAB"})]}),w.jsx("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-500 px-2 py-0.5 rounded-full font-mono",children:"JAVASCRIPT (NODE)"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:g,className:"px-3 py-1.5 bg-primary text-black rounded-lg text-xs font-bold hover:bg-primary/90 flex items-center gap-2 shadow-[0_0_10px_rgba(6,182,212,0.3)] transition-all",children:[w.jsx(Dme,{className:"w-3 h-3 fill-black"}),"RUN"]}),w.jsx("button",{onClick:()=>u([]),className:"p-1.5 hover:bg-red-500/20 rounded text-zinc-500 hover:text-red-400 transition-colors",title:"Clear Output",children:w.jsx(Vme,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"flex flex-col gap-2 h-[300px] md:h-full",children:[w.jsx("div",{className:"text-[10px] font-mono text-zinc-500 uppercase tracking-widest pl-1",children:"Script Input"}),w.jsxs("div",{className:"relative flex-1 bg-black/40 border border-primary/10 rounded-xl overflow-hidden group focus-within:ring-1 focus-within:ring-primary/50 transition-all",children:[w.jsx("textarea",{ref:e,onScroll:()=>{t.current&&e.current&&(t.current.scrollTop=e.current.scrollTop)},value:s,onChange:b=>o(b.target.value),spellCheck:!1,className:"absolute inset-0 w-full h-full bg-transparent p-4 font-mono text-xs leading-relaxed resize-none focus:outline-none text-transparent caret-primary z-10 selection:bg-primary/20 overflow-auto whitespace-pre-wrap break-words [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:bg-primary/20 hover:[&::-webkit-scrollbar-thumb]:bg-primary/40 [&::-webkit-scrollbar-track]:bg-transparent"}),w.jsx("pre",{ref:t,className:"absolute inset-0 p-4 font-mono text-xs leading-relaxed pointer-events-none whitespace-pre-wrap break-words overflow-auto no-scrollbar",dangerouslySetInnerHTML:{__html:s.replace(/(\b(const|let|var|function|return|if|else|for|while|await|async|console)\b|(["'`])(?:(?=(\\?))\2.)*?\3|\b(\d+)\b|(\/\/.*))/g,(b,x,S,k,I,N,T)=>T?`<span class="text-zinc-500">${b}</span>`:S?`<span class="text-purple-400 font-bold">${b}</span>`:k?`<span class="text-emerald-400">${b}</span>`:N?`<span class="text-orange-400">${b}</span>`:`<span class="text-zinc-300">${b}</span>`)||'<span class="text-zinc-600 italic">// Start coding...</span>'}})]})]}),w.jsxs("div",{className:"flex flex-col gap-2 h-[300px] md:h-full",children:[w.jsx("div",{className:"text-[10px] font-mono text-zinc-500 uppercase tracking-widest pl-1",children:"Console Output"}),w.jsx(Y2,{className:"flex-1 bg-[#0a0a0a] border border-primary/10 rounded-xl p-4 font-mono text-xs",children:l.length>0?w.jsx("div",{className:"space-y-1",children:l.map((b,x)=>w.jsxs("div",{className:ke("border-b border-white/5 pb-1 font-mono break-all",b.type==="error"?"text-red-400":b.type==="warn"?"text-yellow-400":"text-zinc-300"),children:[w.jsx("span",{className:"opacity-30 mr-2 select-none",children:"$"}),b.content]},x))}):w.jsx("div",{className:"flex items-center justify-center h-full text-zinc-800 italic",children:"Ready to execute..."})})]})]})]}),n==="time"&&w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-8 min-h-[400px] md:min-h-0",children:[w.jsxs("div",{className:"text-center space-y-2",children:[w.jsx("div",{className:"text-6xl font-display font-bold text-primary tracking-tighter",children:Math.floor(Date.now()/1e3)}),w.jsx("div",{className:"text-sm text-primary/50 font-mono",children:"CURRENT UNIX TIMESTAMP"})]}),w.jsxs("div",{className:"w-full max-w-md space-y-4 bg-primary/5 p-6 rounded-xl border border-primary/10",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-primary/70",children:"CONVERT TIMESTAMP"}),w.jsx("input",{type:"text",value:d,onChange:b=>v(b.target.value),className:"w-full bg-black/40 border border-primary/20 rounded h-10 px-3 font-mono text-primary focus:outline-none focus:border-primary"})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-primary/70",children:"HUMAN READABLE"}),w.jsx("div",{className:"w-full bg-black/40 border border-primary/10 rounded h-10 px-3 flex items-center font-mono text-zinc-300",children:h||new Date().toLocaleString()})]})]})]}),n==="uuid"&&w.jsxs("div",{className:"flex-1 flex flex-col h-full gap-4 min-h-[400px] md:min-h-0",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-xs font-bold text-primary/70",children:"GENERATED IDENTIFIERS"}),w.jsxs("button",{onClick:y,className:"px-4 py-2 rounded-lg text-xs font-bold bg-primary text-black hover:bg-primary/90 flex items-center gap-2",children:[w.jsx(W4,{className:"w-4 h-4"}),"GENERATE NEW"]})]}),w.jsx(Y2,{className:"flex-1 -mx-2 px-2",children:w.jsxs("div",{className:"space-y-2",children:[c.map((b,x)=>w.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/10 p-3 rounded-lg group hover:border-primary/30 transition-all",children:[w.jsx("span",{className:"font-mono text-sm text-primary/80",children:b}),w.jsx("button",{onClick:()=>{navigator.clipboard.writeText(b),tn.success("Copied")},className:"p-1.5 rounded hover:bg-primary/20 text-primary/50 hover:text-primary transition-colors opacity-0 group-hover:opacity-100",children:w.jsx(xme,{className:"w-4 h-4"})})]},b)),c.length===0&&w.jsx("div",{className:"text-center text-zinc-600 py-10 italic",children:"Press Generate to create cryptographically secure UUIDs."})]})})]})]})]}),w.jsxs("div",{className:"glass-panel rounded-2xl border border-primary/10 p-6 flex flex-col gap-4 bg-black/80 h-[300px] md:h-full",children:[w.jsxs("div",{className:"flex items-center gap-3 border-b border-primary/10 pb-4 flex-none",children:[w.jsx(LT,{className:"w-5 h-5 text-zinc-400"}),w.jsx("h3",{className:"font-mono font-bold text-sm text-zinc-400",children:"SYSTEM_LOGS"})]}),w.jsx(Y2,{className:"flex-1 font-mono text-xs",children:w.jsxs("div",{className:"space-y-2",children:[a.map((b,x)=>w.jsxs("div",{className:"text-zinc-500 border-l-2 border-transparent hover:border-primary/50 pl-2 py-0.5 transition-all",children:[w.jsx("span",{className:"text-primary/40 mr-2",children:">"}),b]},x)),w.jsx("div",{className:"w-2 h-4 bg-primary/50 animate-pulse mt-1"})]})}),w.jsxs("div",{className:"text-[10px] text-zinc-600 font-mono pt-2 border-t border-white/5 flex justify-between",children:[w.jsx("span",{children:"MEM: 32%"}),w.jsx("span",{children:"CPU: 15%"}),w.jsx("span",{children:"NET: IDLE"})]})]})]})]})}function a2({icon:e,label:t,value:n,color:r,sub:a}){return w.jsxs("div",{className:"glass-panel p-4 rounded-2xl border border-white/5 bg-gradient-to-br from-white/5 to-transparent hover:border-primary/20 transition-all group",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("div",{className:ke("p-2 rounded-lg bg-white/5 group-hover:bg-white/10 transition-colors",r),children:w.jsx(e,{className:"w-5 h-5"})}),w.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),w.jsx("div",{className:"text-2xl font-display font-bold text-foreground mb-0.5",children:n}),w.jsx("div",{className:"text-xs text-muted-foreground font-medium",children:t}),w.jsx("div",{className:"text-[10px] text-zinc-600 mt-2 font-mono uppercase tracking-wider",children:a})]})}function A7e(){const[e,t]=C.useState(()=>localStorage.getItem("nexus_active_tab")||"security");C.useEffect(()=>{localStorage.setItem("nexus_active_tab",e)},[e]);const[n,r]=C.useState(!1),{isAdmin:a,isLoading:i}=ur();C.useEffect(()=>{!i&&e==="admin"&&!a&&t("security")},[e,a,i]);const s=()=>{switch(e){case"admin":return a?w.jsx(h7e,{}):null;case"security":return w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 grid-rows-1 lg:grid-rows-2 gap-3 md:gap-4 h-auto lg:h-[calc(100vh-100px)] max-w-full mx-auto pb-2",children:[w.jsx("div",{className:"lg:col-span-7 xl:col-span-8 row-span-1 min-h-[300px] lg:min-h-0",children:w.jsx(hxe,{})}),w.jsx("div",{className:"lg:col-span-5 xl:col-span-4 row-span-1 min-h-[300px] lg:min-h-0",children:w.jsx(I9,{})}),w.jsx("div",{className:"lg:col-span-6 row-span-1 min-h-[300px] lg:min-h-0",children:w.jsx(N9,{})}),w.jsx("div",{className:"lg:col-span-6 row-span-1 min-h-[300px] lg:min-h-0",children:w.jsx($9,{})})]});case"messages":return w.jsx(u7e,{});case"vault":return w.jsx("div",{className:"max-w-full mx-auto h-auto lg:h-[calc(100vh-140px)]",children:w.jsx($9,{})});case"ai":return w.jsx("div",{className:"max-w-7xl mx-auto h-auto lg:h-[calc(100vh-140px)]",children:w.jsx(E7e,{})});case"tasks":return w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 max-w-full mx-auto h-auto lg:h-[calc(100vh-140px)] pb-2",children:[w.jsx("div",{className:"min-h-[400px] lg:min-h-0 h-full",children:w.jsx(N9,{})}),w.jsx("div",{className:"min-h-[400px] lg:min-h-0 h-full",children:w.jsx(I9,{})})]});default:return null}};return w.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[w.jsx("div",{className:"fixed inset-0 bg-grid-pattern bg-grid opacity-[0.02] pointer-events-none"}),w.jsx("div",{className:"fixed top-0 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),w.jsx("div",{className:"fixed bottom-0 right-1/4 w-96 h-96 bg-accent/5 rounded-full blur-[100px] pointer-events-none"}),w.jsxs("div",{className:"flex min-h-screen w-full",children:[w.jsx(Lve,{activeTab:e,onTabChange:t}),w.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-x-hidden",children:[w.jsx(dxe,{onLockToggle:()=>r(!n),isLocked:n}),w.jsx("main",{className:"flex-1 p-3 md:p-6 pb-24 md:pb-6 overflow-y-auto scrollbar-nexus overflow-x-hidden",children:s()})]})]}),w.jsx(UWe,{activeTab:e,onTabChange:t}),w.jsx(FWe,{}),w.jsx(zWe,{isLocked:n,onUnlock:()=>r(!1)})]})}const VW=()=>{ur();const[e,t]=C.useState(null);return C.useEffect(()=>{Y1e().then(t)},[]),w.jsxs("div",{className:"min-h-screen",children:[w.jsx("div",{className:"fixed bottom-4 right-4 z-50 pointer-events-none flex flex-col items-end gap-2"}),w.jsx(A7e,{})]})},Lu=C.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Lu.displayName="Card";const nL=C.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));nL.displayName="CardHeader";const rL=C.forwardRef(({className:e,...t},n)=>w.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));rL.displayName="CardTitle";const ute=C.forwardRef(({className:e,...t},n)=>w.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",e),...t}));ute.displayName="CardDescription";const rb=C.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:ke("p-6 pt-0",e),...t}));rb.displayName="CardContent";const L7e=C.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",e),...t}));L7e.displayName="CardFooter";const cte=({isActive:e,isScanning:t=!1,onCameraReady:n,className:r,mode:a="login",onVideoRef:i})=>{const s=C.useRef(null),[o,l]=C.useState(null),[u,c]=C.useState(!1);C.useEffect(()=>(e?f():d(),()=>d()),[e]);const f=async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});l(p),s.current&&(s.current.srcObject=p,i==null||i(s.current)),c(!1),n==null||n()}catch(p){console.error("Camera error:",p),c(!0)}},d=()=>{o&&(o.getTracks().forEach(p=>p.stop()),l(null))};return w.jsxs("div",{className:ke("relative flex items-center justify-center w-64 h-64",r),children:[w.jsx("div",{className:ke("absolute inset-0 rounded-full border-2",e?"border-emerald-500 shadow-[0_0_30px_rgba(16,185,129,0.4)]":"border-slate-700",t&&"animate-pulse")}),w.jsxs("div",{className:"relative w-56 h-56 overflow-hidden rounded-full bg-slate-900 flex items-center justify-center",children:[e&&!u?w.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover transform scale-x-[-1]"}):w.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500 space-y-2",children:[w.jsx(EH,{className:"w-12 h-12 mb-1"}),w.jsx("span",{className:"text-sm font-medium",children:"Starting camera..."})]}),t&&o&&w.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-b from-transparent via-emerald-500/10 to-transparent animate-scan z-10 pointer-events-none"})]}),u&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/90 rounded-full z-20",children:w.jsx("div",{className:"text-center p-4",children:w.jsx("span",{className:"text-red-500 text-sm font-medium",children:"Camera Access Denied"})})})]})};var _7e=Object.defineProperty,j7e=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),$D=(e,t)=>{for(var n in t)_7e(e,n,{get:t[n],enumerable:!0})},$7e={};$D($7e,{Abs:()=>n0,Acos:()=>Od,Acosh:()=>Rd,AdadeltaOptimizer:()=>eR,AdagradOptimizer:()=>tR,AdamOptimizer:()=>nR,AdamaxOptimizer:()=>rR,Add:()=>_c,AddN:()=>Pd,All:()=>r0,Any:()=>a0,ArgMax:()=>i0,ArgMin:()=>s0,Asin:()=>Fd,Asinh:()=>zd,Atan:()=>Bd,Atan2:()=>Wd,Atanh:()=>Ud,AvgPool:()=>Vd,AvgPool3D:()=>o0,AvgPool3DGrad:()=>ew,AvgPoolGrad:()=>Xb,BackendWasm:()=>bce,BatchMatMul:()=>Gd,BatchToSpaceND:()=>l0,Bincount:()=>u0,BitwiseAnd:()=>c0,BroadcastArgs:()=>tw,BroadcastTo:()=>Ite,Callback:()=>vie,CallbackList:()=>fae,Cast:()=>Hd,Ceil:()=>qd,ClipByValue:()=>jc,Complex:()=>SN,ComplexAbs:()=>nw,Concat:()=>f0,Conv2D:()=>Yd,Conv2DBackpropFilter:()=>kN,Conv2DBackpropInput:()=>Qd,Conv3D:()=>Kd,Conv3DBackpropFilterV2:()=>d0,Conv3DBackpropInputV2:()=>p0,Cos:()=>Jd,Cosh:()=>Zd,CropAndResize:()=>m0,Cumprod:()=>h0,Cumsum:()=>Xd,CustomCallback:()=>pae,DataStorage:()=>bN,DenseBincount:()=>rw,DepthToSpace:()=>g0,DepthwiseConv2dNative:()=>ep,DepthwiseConv2dNativeBackpropFilter:()=>CN,DepthwiseConv2dNativeBackpropInput:()=>IN,Diag:()=>aw,Dilation2D:()=>tp,Dilation2DBackpropFilter:()=>fg,Dilation2DBackpropInput:()=>cg,Draw:()=>NN,ENV:()=>FD,EarlyStopping:()=>bie,Einsum:()=>MN,Elu:()=>rp,EluGrad:()=>y0,Environment:()=>kte,Equal:()=>v0,Erf:()=>ap,Exp:()=>ip,ExpandDims:()=>b0,Expm1:()=>sp,FFT:()=>TN,Fill:()=>iw,FlipLeftRight:()=>w0,Floor:()=>op,FloorDiv:()=>lp,FromPixels:()=>Xk,FusedBatchNorm:()=>up,FusedConv2D:()=>td,FusedDepthwiseConv2D:()=>nd,GPGPUContext:()=>nS,GatherNd:()=>S0,GatherV2:()=>x0,GraphModel:()=>WP,Greater:()=>k0,GreaterEqual:()=>cp,History:()=>dae,IFFT:()=>EN,Identity:()=>fp,Imag:()=>AN,InputSpec:()=>Gn,IsFinite:()=>dp,IsInf:()=>pp,IsNan:()=>hp,KernelBackend:()=>Jb,LRN:()=>vp,LRNGrad:()=>A0,LayerVariable:()=>rae,LayersModel:()=>ml,LeakyRelu:()=>mp,Less:()=>C0,LessEqual:()=>I0,LinSpace:()=>N0,Log:()=>gp,Log1p:()=>yp,LogSoftmax:()=>Mte,LogicalAnd:()=>M0,LogicalNot:()=>T0,LogicalOr:()=>E0,LogicalXor:()=>Nte,LowerBound:()=>IHe,MathBackendCPU:()=>HP,MathBackendWebGL:()=>w6,MatrixBandPart:()=>NHe,Max:()=>bp,MaxPool:()=>xp,MaxPool3D:()=>L0,MaxPool3DGrad:()=>ow,MaxPoolGrad:()=>sw,MaxPoolWithArgmax:()=>lw,Maximum:()=>wp,Mean:()=>Sp,Min:()=>kp,Minimum:()=>Cp,MirrorPad:()=>Ip,Mod:()=>Np,MomentumOptimizer:()=>aR,Multinomial:()=>_0,Multiply:()=>Mp,Neg:()=>j0,NonMaxSuppressionV3:()=>D0,NonMaxSuppressionV4:()=>O0,NonMaxSuppressionV5:()=>R0,NotEqual:()=>$0,OP_SCOPE_SUFFIX:()=>VD,OneHot:()=>Tp,OnesLike:()=>P0,Optimizer:()=>Ul,OptimizerConstructors:()=>Ore,Pack:()=>F0,PadV2:()=>Ep,Pool:()=>MHe,Pow:()=>Ap,Prelu:()=>Lp,Prod:()=>_p,RMSPropOptimizer:()=>iR,RNN:()=>Wl,RaggedGather:()=>LN,RaggedRange:()=>_N,RaggedTensorToTensor:()=>jN,Range:()=>uw,Rank:()=>sL,Real:()=>$N,RealDiv:()=>np,Reciprocal:()=>jp,Reduction:()=>ra,Relu:()=>$p,Relu6:()=>Rp,Reshape:()=>z0,ResizeBilinear:()=>Op,ResizeBilinearGrad:()=>U0,ResizeNearestNeighbor:()=>Dp,ResizeNearestNeighborGrad:()=>B0,Reverse:()=>Pp,RotateWithOffset:()=>r1,Round:()=>Fp,Rsqrt:()=>zp,SGDOptimizer:()=>gM,ScatterNd:()=>W0,SearchSorted:()=>G0,Select:()=>H0,Selu:()=>Bp,Sequential:()=>EM,Sigmoid:()=>Gp,Sign:()=>Vp,Sin:()=>Up,Sinh:()=>Wp,Slice:()=>q0,Softmax:()=>Qp,Softplus:()=>Hp,SpaceToBatchND:()=>Y0,SparseFillEmptyRows:()=>cw,SparseReshape:()=>K0,SparseSegmentMean:()=>fw,SparseSegmentSum:()=>dw,SparseToDense:()=>J0,SplitV:()=>Q0,Sqrt:()=>qp,Square:()=>pw,SquaredDifference:()=>Kp,StaticRegexReplace:()=>hw,Step:()=>Dc,StridedSlice:()=>Z0,StringNGrams:()=>mw,StringSplit:()=>gw,StringToHashBucketFast:()=>yw,Sub:()=>Jp,Sum:()=>Yp,SymbolicTensor:()=>Vs,Tan:()=>Zp,Tanh:()=>Xp,Tensor:()=>nt,TensorBuffer:()=>qn,TensorScatterUpdate:()=>V0,Tile:()=>$c,TopK:()=>X0,Transform:()=>e1,Transpose:()=>hl,Unique:()=>vw,Unpack:()=>t1,UnsortedSegmentSum:()=>bw,UpperBound:()=>THe,Variable:()=>rd,ZerosLike:()=>n1,_FusedMatMul:()=>ed,abs:()=>Wn,acos:()=>QD,acosh:()=>KD,add:()=>le,addN:()=>tne,all:()=>FN,any:()=>ub,argMax:()=>od,argMin:()=>JD,asin:()=>ZD,asinh:()=>XD,atan:()=>eO,atan2:()=>tO,atanh:()=>nO,avgPool:()=>Fl,avgPool3d:()=>aO,backend:()=>GD,backend_util:()=>R,basicLSTMCell:()=>ine,batchNorm:()=>eh,batchNorm2d:()=>iO,batchNorm3d:()=>sO,batchNorm4d:()=>oO,batchToSpaceND:()=>Nw,bincount:()=>lO,bitwiseAnd:()=>sne,booleanMaskAsync:()=>Qne,broadcastArgs:()=>one,broadcastTo:()=>Rf,broadcast_util:()=>a1,browser:()=>Fw,buffer:()=>st,callbacks:()=>Iot,cast:()=>ve,ceil:()=>uO,clipByValue:()=>Vr,clone:()=>No,complex:()=>El,concat:()=>Yt,concat1d:()=>cO,concat2d:()=>fO,concat3d:()=>dO,concat4d:()=>pO,constraints:()=>oae,conv1d:()=>zN,conv2d:()=>oa,conv2dTranspose:()=>BN,conv3d:()=>mO,conv3dTranspose:()=>gO,copyRegisteredKernels:()=>_He,cos:()=>Mw,cosh:()=>UN,cosineWindow:()=>fM,cumprod:()=>db,cumsum:()=>WN,customGrad:()=>Do,data:()=>Wie,denseBincount:()=>nC,deprecationWarn:()=>Bte,depthToSpace:()=>yO,depthwiseConv2d:()=>th,deregisterOp:()=>Tot,device_util:()=>kw,diag:()=>une,dilation2d:()=>vO,disableDeprecationWarnings:()=>lqe,dispose:()=>Xe,disposeVariables:()=>uqe,div:()=>Ee,divNoNan:()=>bO,dot:()=>wO,dropout:()=>QO,einsum:()=>uf,elu:()=>i1,enableDebugMode:()=>oqe,enableProdMode:()=>sqe,enclosingPowerOfTwo:()=>KO,engine:()=>Ui,ensureShape:()=>fne,env:()=>ne,equal:()=>Za,erf:()=>VN,euclideanNorm:()=>kO,exp:()=>Gr,expandDims:()=>wr,expm1:()=>CO,eye:()=>GN,fft:()=>Rw,fill:()=>Ka,findBackend:()=>mqe,findBackendFactory:()=>gqe,floor:()=>o1,floorDiv:()=>PN,forceHalfFloat:()=>ple,fused:()=>bg,gather:()=>l1,gatherND:()=>Xne,gather_util:()=>lR,getBackend:()=>Ute,getGradient:()=>aL,getKernel:()=>sb,getKernelsForBackend:()=>eC,getThreadsCount:()=>_4t,gpgpu_util:()=>Voe,grad:()=>YQe,grads:()=>QQe,greater:()=>da,greaterEqual:()=>zl,ifft:()=>vg,imag:()=>Tw,image:()=>mi,inTopKAsync:()=>ere,initializers:()=>lae,input:()=>Mae,io:()=>jr,irfft:()=>aM,isFinite:()=>IO,isInf:()=>NO,isNaN:()=>MO,keep:()=>rr,kernel_impls:()=>Uo,layers:()=>uae,leakyRelu:()=>Ew,less:()=>hg,lessEqual:()=>Rc,linalg:()=>XO,linspace:()=>gne,loadGraphModel:()=>$lt,loadGraphModelSync:()=>Dlt,loadLayersModel:()=>wit,localResponseNormalization:()=>TO,log:()=>Xa,log1p:()=>Aw,logSigmoid:()=>EO,logSoftmax:()=>qN,logSumExp:()=>Lw,logicalAnd:()=>ss,logicalNot:()=>_w,logicalOr:()=>YN,logicalXor:()=>AO,losses:()=>dre,lowerBound:()=>vne,matMul:()=>at,math:()=>kre,max:()=>xi,maxPool:()=>mr,maxPool3d:()=>LO,maxPoolWithArgmax:()=>bne,maximum:()=>Bo,mean:()=>Cn,memory:()=>pL,meshgrid:()=>wne,metrics:()=>mie,min:()=>pg,minimum:()=>fc,mirrorPad:()=>_O,mod:()=>jO,model:()=>kit,models:()=>gie,moments:()=>jw,movingAverage:()=>Kne,mul:()=>K,multiRNNCell:()=>xne,multinomial:()=>Sne,neg:()=>on,nextFrame:()=>uR,norm:()=>s1,notEqual:()=>cd,oneHot:()=>mg,ones:()=>ka,onesLike:()=>ei,op:()=>Q,outerProduct:()=>kne,pad:()=>Qs,pad1d:()=>Cne,pad2d:()=>Ine,pad3d:()=>Nne,pad4d:()=>Mne,pool:()=>$O,pow:()=>$o,prelu:()=>Dw,print:()=>YD,prod:()=>DO,profile:()=>cqe,raggedGather:()=>Tne,raggedRange:()=>Ene,raggedTensorToTensor:()=>Ane,rand:()=>Lne,randomGamma:()=>Dne,randomNormal:()=>KN,randomStandardNormal:()=>One,randomUniform:()=>Pc,randomUniformInt:()=>Rne,range:()=>fd,ready:()=>pqe,real:()=>gg,reciprocal:()=>zO,registerBackend:()=>RN,registerCallbackConstructor:()=>Iit,registerGradient:()=>Tte,registerKernel:()=>ww,registerOp:()=>Mot,regularizers:()=>yie,relu:()=>Ft,relu6:()=>JN,removeBackend:()=>hqe,reshape:()=>Z,reverse:()=>Ni,reverse1d:()=>Pne,reverse2d:()=>Fne,reverse3d:()=>zne,reverse4d:()=>Bne,rfft:()=>Pw,round:()=>ZN,rsqrt:()=>XN,scalar:()=>Ue,scatterND:()=>Jne,scatter_util:()=>oM,searchSorted:()=>QN,selu:()=>eM,separableConv2d:()=>u1,sequential:()=>Cit,serialization:()=>de,setBackend:()=>dqe,setPlatform:()=>yqe,setThreadsCount:()=>L4t,setWasmPath:()=>E4t,setWasmPaths:()=>A4t,setWebGLContext:()=>hoe,setdiff1dAsync:()=>Une,shared:()=>qP,sigmoid:()=>ts,sign:()=>BO,signal:()=>fre,sin:()=>tM,sinh:()=>nM,slice:()=>pt,slice1d:()=>Ow,slice2d:()=>rM,slice3d:()=>c1,slice4d:()=>yg,slice_util:()=>sr,softmax:()=>Fc,softplus:()=>nh,spaceToBatchND:()=>$w,sparse:()=>pre,sparseToDense:()=>Zne,spectral:()=>cre,split:()=>Ia,sqrt:()=>Ir,square:()=>Ht,squaredDifference:()=>iM,squeeze:()=>zc,stack:()=>Yn,step:()=>rh,stridedSlice:()=>UO,string:()=>hre,sub:()=>Me,sum:()=>$e,sumOutType:()=>ON,tan:()=>WO,tanh:()=>cc,tensor:()=>ia,tensor1d:()=>Ot,tensor2d:()=>Mo,tensor3d:()=>sM,tensor4d:()=>dc,tensor5d:()=>Wne,tensor6d:()=>Vne,tensorScatterUpdate:()=>Hne,tensor_util:()=>Os,test_util:()=>_ne,tidy:()=>X,tile:()=>Ha,time:()=>fqe,topk:()=>GO,train:()=>sf,transpose:()=>it,truncatedNormal:()=>uM,unique:()=>HO,unregisterGradient:()=>LHe,unregisterKernel:()=>AHe,unsortedSegmentSum:()=>cM,unstack:()=>$n,upcastType:()=>Ci,upperBound:()=>qne,util:()=>A,valueAndGrad:()=>KQe,valueAndGrads:()=>JQe,variable:()=>qO,variableGrads:()=>yne,version:()=>F4t,version_converter:()=>Rlt,version_core:()=>ket,version_cpu:()=>Pct,version_layers:()=>_R,version_wasm:()=>j4t,version_webgl:()=>M1t,webgl:()=>T1t,webgl_util:()=>poe,where:()=>Cr,whereAsync:()=>YO,zeros:()=>In,zerosLike:()=>vt});var D7e=Object.create,DD=Object.defineProperty,O7e=Object.getOwnPropertyDescriptor,R7e=Object.getOwnPropertyNames,P7e=Object.getPrototypeOf,F7e=Object.prototype.hasOwnProperty,Kn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),et=(e,t)=>{for(var n in t)DD(e,n,{get:t[n],enumerable:!0})},z7e=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of R7e(t))!F7e.call(e,a)&&a!==n&&DD(e,a,{get:()=>t[a],enumerable:!(r=O7e(t,a))||r.enumerable});return e},Lc=(e,t,n)=>(n=e!=null?D7e(P7e(e)):{},z7e(!e||!e.__esModule?DD(n,"default",{value:e,enumerable:!0}):n,e)),B7e=Kn((e,t)=>{t.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(M,j,D){this.low=M|0,this.high=j|0,this.unsigned=!!D}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0});function a(M){return(M&&M.__isLong__)===!0}r.isLong=a;var i={},s={};function o(M,j){var D,F,$;return j?(M>>>=0,($=0<=M&&M<256)&&(F=s[M],F)?F:(D=u(M,(M|0)<0?-1:0,!0),$&&(s[M]=D),D)):(M|=0,($=-128<=M&&M<128)&&(F=i[M],F)?F:(D=u(M,M<0?-1:0,!1),$&&(i[M]=D),D))}r.fromInt=o;function l(M,j){if(isNaN(M))return j?x:b;if(j){if(M<0)return x;if(M>=g)return T}else{if(M<=-y)return L;if(M+1>=y)return N}return M<0?l(-M,j).neg():u(M%m|0,M/m|0,j)}r.fromNumber=l;function u(M,j,D){return new r(M,j,D)}r.fromBits=u;var c=Math.pow;function f(M,j,D){if(M.length===0)throw Error("empty string");if(M==="NaN"||M==="Infinity"||M==="+Infinity"||M==="-Infinity")return b;if(typeof j=="number"?(D=j,j=!1):j=!!j,D=D||10,D<2||36<D)throw RangeError("radix");var F;if((F=M.indexOf("-"))>0)throw Error("interior hyphen");if(F===0)return f(M.substring(1),j,D).neg();for(var $=l(c(D,8)),B=b,O=0;O<M.length;O+=8){var P=Math.min(8,M.length-O),W=parseInt(M.substring(O,O+P),D);if(P<8){var H=l(c(D,P));B=B.mul(H).add(l(W))}else B=B.mul($),B=B.add(l(W))}return B.unsigned=j,B}r.fromString=f;function d(M,j){return typeof M=="number"?l(M,j):typeof M=="string"?f(M,j):u(M.low,M.high,typeof j=="boolean"?j:M.unsigned)}r.fromValue=d;var p=65536,h=1<<24,m=p*p,g=m*m,y=g/2,v=o(h),b=o(0);r.ZERO=b;var x=o(0,!0);r.UZERO=x;var S=o(1);r.ONE=S;var k=o(1,!0);r.UONE=k;var I=o(-1);r.NEG_ONE=I;var N=u(-1,2147483647,!1);r.MAX_VALUE=N;var T=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=T;var L=u(0,-2147483648,!1);r.MIN_VALUE=L;var E=r.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},E.toString=function(M){if(M=M||10,M<2||36<M)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(L)){var j=l(M),D=this.div(j),F=D.mul(j).sub(this);return D.toString(M)+F.toInt().toString(M)}else return"-"+this.neg().toString(M);for(var $=l(c(M,6),this.unsigned),B=this,O="";;){var P=B.div($),W=B.sub(P.mul($)).toInt()>>>0,H=W.toString(M);if(B=P,B.isZero())return H+O;for(;H.length<6;)H="0"+H;O=""+H+O}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(L)?64:this.neg().getNumBitsAbs();for(var M=this.high!=0?this.high:this.low,j=31;j>0&&!(M&1<<j);j--);return this.high!=0?j+33:j+1},E.isZero=function(){return this.high===0&&this.low===0},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return(this.low&1)===1},E.isEven=function(){return(this.low&1)===0},E.equals=function(M){return a(M)||(M=d(M)),this.unsigned!==M.unsigned&&this.high>>>31===1&&M.high>>>31===1?!1:this.high===M.high&&this.low===M.low},E.eq=E.equals,E.notEquals=function(M){return!this.eq(M)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(M){return this.comp(M)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(M){return this.comp(M)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(M){return this.comp(M)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(M){return this.comp(M)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(M){if(a(M)||(M=d(M)),this.eq(M))return 0;var j=this.isNegative(),D=M.isNegative();return j&&!D?-1:!j&&D?1:this.unsigned?M.high>>>0>this.high>>>0||M.high===this.high&&M.low>>>0>this.low>>>0?-1:1:this.sub(M).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(L)?L:this.not().add(S)},E.neg=E.negate,E.add=function(M){a(M)||(M=d(M));var j=this.high>>>16,D=this.high&65535,F=this.low>>>16,$=this.low&65535,B=M.high>>>16,O=M.high&65535,P=M.low>>>16,W=M.low&65535,H=0,q=0,J=0,re=0;return re+=$+W,J+=re>>>16,re&=65535,J+=F+P,q+=J>>>16,J&=65535,q+=D+O,H+=q>>>16,q&=65535,H+=j+B,H&=65535,u(J<<16|re,H<<16|q,this.unsigned)},E.subtract=function(M){return a(M)||(M=d(M)),this.add(M.neg())},E.sub=E.subtract,E.multiply=function(M){if(this.isZero())return b;if(a(M)||(M=d(M)),n){var j=n.mul(this.low,this.high,M.low,M.high);return u(j,n.get_high(),this.unsigned)}if(M.isZero())return b;if(this.eq(L))return M.isOdd()?L:b;if(M.eq(L))return this.isOdd()?L:b;if(this.isNegative())return M.isNegative()?this.neg().mul(M.neg()):this.neg().mul(M).neg();if(M.isNegative())return this.mul(M.neg()).neg();if(this.lt(v)&&M.lt(v))return l(this.toNumber()*M.toNumber(),this.unsigned);var D=this.high>>>16,F=this.high&65535,$=this.low>>>16,B=this.low&65535,O=M.high>>>16,P=M.high&65535,W=M.low>>>16,H=M.low&65535,q=0,J=0,re=0,ce=0;return ce+=B*H,re+=ce>>>16,ce&=65535,re+=$*H,J+=re>>>16,re&=65535,re+=B*W,J+=re>>>16,re&=65535,J+=F*H,q+=J>>>16,J&=65535,J+=$*W,q+=J>>>16,J&=65535,J+=B*P,q+=J>>>16,J&=65535,q+=D*H+F*W+$*P+B*O,q&=65535,u(re<<16|ce,q<<16|J,this.unsigned)},E.mul=E.multiply,E.divide=function(M){if(a(M)||(M=d(M)),M.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&this.high===-2147483648&&M.low===-1&&M.high===-1)return this;var j=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,M.low,M.high);return u(j,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?x:b;var D,F,$;if(this.unsigned){if(M.unsigned||(M=M.toUnsigned()),M.gt(this))return x;if(M.gt(this.shru(1)))return k;$=x}else{if(this.eq(L)){if(M.eq(S)||M.eq(I))return L;if(M.eq(L))return S;var B=this.shr(1);return D=B.div(M).shl(1),D.eq(b)?M.isNegative()?S:I:(F=this.sub(M.mul(D)),$=D.add(F.div(M)),$)}else if(M.eq(L))return this.unsigned?x:b;if(this.isNegative())return M.isNegative()?this.neg().div(M.neg()):this.neg().div(M).neg();if(M.isNegative())return this.div(M.neg()).neg();$=b}for(F=this;F.gte(M);){D=Math.max(1,Math.floor(F.toNumber()/M.toNumber()));for(var O=Math.ceil(Math.log(D)/Math.LN2),P=O<=48?1:c(2,O-48),W=l(D),H=W.mul(M);H.isNegative()||H.gt(F);)D-=P,W=l(D,this.unsigned),H=W.mul(M);W.isZero()&&(W=S),$=$.add(W),F=F.sub(H)}return $},E.div=E.divide,E.modulo=function(M){if(a(M)||(M=d(M)),n){var j=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,M.low,M.high);return u(j,n.get_high(),this.unsigned)}return this.sub(this.div(M).mul(M))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return u(~this.low,~this.high,this.unsigned)},E.and=function(M){return a(M)||(M=d(M)),u(this.low&M.low,this.high&M.high,this.unsigned)},E.or=function(M){return a(M)||(M=d(M)),u(this.low|M.low,this.high|M.high,this.unsigned)},E.xor=function(M){return a(M)||(M=d(M)),u(this.low^M.low,this.high^M.high,this.unsigned)},E.shiftLeft=function(M){return a(M)&&(M=M.toInt()),(M&=63)===0?this:M<32?u(this.low<<M,this.high<<M|this.low>>>32-M,this.unsigned):u(0,this.low<<M-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(M){return a(M)&&(M=M.toInt()),(M&=63)===0?this:M<32?u(this.low>>>M|this.high<<32-M,this.high>>M,this.unsigned):u(this.high>>M-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(M){if(a(M)&&(M=M.toInt()),M&=63,M===0)return this;var j=this.high;if(M<32){var D=this.low;return u(D>>>M|j<<32-M,j>>>M,this.unsigned)}else return M===32?u(j,0,this.unsigned):u(j>>>M-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},E.toBytes=function(M){return M?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var M=this.high,j=this.low;return[j&255,j>>>8&255,j>>>16&255,j>>>24,M&255,M>>>8&255,M>>>16&255,M>>>24]},E.toBytesBE=function(){var M=this.high,j=this.low;return[M>>>24,M>>>16&255,M>>>8&255,M&255,j>>>24,j>>>16&255,j>>>8&255,j&255]},r.fromBytes=function(M,j,D){return D?r.fromBytesLE(M,j):r.fromBytesBE(M,j)},r.fromBytesLE=function(M,j){return new r(M[0]|M[1]<<8|M[2]<<16|M[3]<<24,M[4]|M[5]<<8|M[6]<<16|M[7]<<24,j)},r.fromBytesBE=function(M,j){return new r(M[4]<<24|M[5]<<16|M[6]<<8|M[7],M[0]<<24|M[1]<<16|M[2]<<8|M[3],j)}}),U7e=Kn(()=>{}),W7e=Kn(()=>{}),V7e=Kn((e,t)=>{(function(n,r,a){function i(u){var c=this,f=l();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(u),c.s0<0&&(c.s0+=1),c.s1-=f(u),c.s1<0&&(c.s1+=1),c.s2-=f(u),c.s2<0&&(c.s2+=1),f=null}function s(u,c){return c.c=u.c,c.s0=u.s0,c.s1=u.s1,c.s2=u.s2,c}function o(u,c){var f=new i(u),d=c&&c.state,p=f.next;return p.int32=function(){return f.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,d&&(typeof d=="object"&&s(d,f),p.state=function(){return s(f,{})}),p}function l(){var u=4022871197,c=function(f){f=String(f);for(var d=0;d<f.length;d++){u+=f.charCodeAt(d);var p=.02519603282416938*u;u=p>>>0,p-=u,p*=u,u=p>>>0,p-=u,u+=p*4294967296}return(u>>>0)*23283064365386963e-26};return c}r&&r.exports?r.exports=o:a&&a.amd?a(function(){return o}):this.alea=o})(e,typeof t=="object"&&t,typeof define=="function"&&define)}),G7e=Kn((e,t)=>{(function(n,r,a){function i(l){var u=this,c="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var d=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^d^d>>>8},l===(l|0)?u.x=l:c+=l;for(var f=0;f<c.length+64;f++)u.x^=c.charCodeAt(f)|0,u.next()}function s(l,u){return u.x=l.x,u.y=l.y,u.z=l.z,u.w=l.w,u}function o(l,u){var c=new i(l),f=u&&u.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(p+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,f&&(typeof f=="object"&&s(f,c),d.state=function(){return s(c,{})}),d}r&&r.exports?r.exports=o:a&&a.amd?a(function(){return o}):this.xor128=o})(e,typeof t=="object"&&t,typeof define=="function"&&define)}),H7e=Kn((e,t)=>{(function(n,r,a){function i(l){var u=this,c="";u.next=function(){var d=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(d^d<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,l===(l|0)?u.x=l:c+=l;for(var f=0;f<c.length+64;f++)u.x^=c.charCodeAt(f)|0,f==c.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function s(l,u){return u.x=l.x,u.y=l.y,u.z=l.z,u.w=l.w,u.v=l.v,u.d=l.d,u}function o(l,u){var c=new i(l),f=u&&u.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(p+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,f&&(typeof f=="object"&&s(f,c),d.state=function(){return s(c,{})}),d}r&&r.exports?r.exports=o:a&&a.amd?a(function(){return o}):this.xorwow=o})(e,typeof t=="object"&&t,typeof define=="function"&&define)}),q7e=Kn((e,t)=>{(function(n,r,a){function i(l){var u=this;u.next=function(){var f=u.x,d=u.i,p,h;return p=f[d],p^=p>>>7,h=p^p<<24,p=f[d+1&7],h^=p^p>>>10,p=f[d+3&7],h^=p^p>>>3,p=f[d+4&7],h^=p^p<<7,p=f[d+7&7],p=p^p<<13,h^=p^p<<9,f[d]=h,u.i=d+1&7,h};function c(f,d){var p,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,p=0;p<d.length;++p)h[p&7]=h[p&7]<<15^d.charCodeAt(p)+h[p+1&7]<<13;for(;h.length<8;)h.push(0);for(p=0;p<8&&h[p]===0;++p);for(p==8?h[7]=-1:h[p],f.x=h,f.i=0,p=256;p>0;--p)f.next()}c(u,l)}function s(l,u){return u.x=l.x.slice(),u.i=l.i,u}function o(l,u){l==null&&(l=+new Date);var c=new i(l),f=u&&u.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(p+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,f&&(f.x&&s(f,c),d.state=function(){return s(c,{})}),d}r&&r.exports?r.exports=o:a&&a.amd?a(function(){return o}):this.xorshift7=o})(e,typeof t=="object"&&t,typeof define=="function"&&define)}),Y7e=Kn((e,t)=>{(function(n,r,a){function i(l){var u=this;u.next=function(){var f=u.w,d=u.X,p=u.i,h,m;return u.w=f=f+1640531527|0,m=d[p+34&127],h=d[p=p+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,m=d[p]=m^h,u.i=p,m+(f^f>>>16)|0};function c(f,d){var p,h,m,g,y,v=[],b=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,b=Math.max(b,d.length)),m=0,g=-32;g<b;++g)d&&(h^=d.charCodeAt((g+32)%d.length)),g===0&&(y=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,g>=0&&(y=y+1640531527|0,p=v[g&127]^=h+y,m=p==0?m+1:0);for(m>=128&&(v[(d&&d.length||0)&127]=-1),m=127,g=4*128;g>0;--g)h=v[m+34&127],p=v[m=m+1&127],h^=h<<13,p^=p<<17,h^=h>>>15,p^=p>>>12,v[m]=h^p;f.w=y,f.X=v,f.i=m}c(u,l)}function s(l,u){return u.i=l.i,u.w=l.w,u.X=l.X.slice(),u}function o(l,u){l==null&&(l=+new Date);var c=new i(l),f=u&&u.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(p+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,f&&(f.X&&s(f,c),d.state=function(){return s(c,{})}),d}r&&r.exports?r.exports=o:a&&a.amd?a(function(){return o}):this.xor4096=o})(e,typeof t=="object"&&t,typeof define=="function"&&define)}),Q7e=Kn((e,t)=>{(function(n,r,a){function i(l){var u=this,c="";u.next=function(){var d=u.b,p=u.c,h=u.d,m=u.a;return d=d<<25^d>>>7^p,p=p-h|0,h=h<<24^h>>>8^m,m=m-d|0,u.b=d=d<<20^d>>>12^p,u.c=p=p-h|0,u.d=h<<16^p>>>16^m,u.a=m-d|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,l===Math.floor(l)?(u.a=l/4294967296|0,u.b=l|0):c+=l;for(var f=0;f<c.length+20;f++)u.b^=c.charCodeAt(f)|0,u.next()}function s(l,u){return u.a=l.a,u.b=l.b,u.c=l.c,u.d=l.d,u}function o(l,u){var c=new i(l),f=u&&u.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(p+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,f&&(typeof f=="object"&&s(f,c),d.state=function(){return s(c,{})}),d}r&&r.exports?r.exports=o:a&&a.amd?a(function(){return o}):this.tychei=o})(e,typeof t=="object"&&t,typeof define=="function"&&define)}),K7e=Kn(()=>{}),J7e=Kn((e,t)=>{(function(n,r,a){var i=256,s=6,o=52,l="random",u=a.pow(i,s),c=a.pow(2,o),f=c*2,d=i-1,p;function h(S,k,I){var N=[];k=k==!0?{entropy:!0}:k||{};var T=v(y(k.entropy?[S,x(r)]:S??b(),3),N),L=new m(N),E=function(){for(var M=L.g(s),j=u,D=0;M<c;)M=(M+D)*i,j*=i,D=L.g(1);for(;M>=f;)M/=2,j/=2,D>>>=1;return(M+D)/j};return E.int32=function(){return L.g(4)|0},E.quick=function(){return L.g(4)/4294967296},E.double=E,v(x(L.S),r),(k.pass||I||function(M,j,D,F){return F&&(F.S&&g(F,L),M.state=function(){return g(L,{})}),D?(a[l]=M,j):M})(E,T,"global"in k?k.global:this==a,k.state)}function m(S){var k,I=S.length,N=this,T=0,L=N.i=N.j=0,E=N.S=[];for(I||(S=[I++]);T<i;)E[T]=T++;for(T=0;T<i;T++)E[T]=E[L=d&L+S[T%I]+(k=E[T])],E[L]=k;(N.g=function(M){for(var j,D=0,F=N.i,$=N.j,B=N.S;M--;)j=B[F=d&F+1],D=D*i+B[d&(B[F]=B[$=d&$+j])+(B[$]=j)];return N.i=F,N.j=$,D})(i)}function g(S,k){return k.i=S.i,k.j=S.j,k.S=S.S.slice(),k}function y(S,k){var I=[],N=typeof S,T;if(k&&N=="object")for(T in S)try{I.push(y(S[T],k-1))}catch{}return I.length?I:N=="string"?S:S+"\0"}function v(S,k){for(var I=S+"",N,T=0;T<I.length;)k[d&T]=d&(N^=k[d&T]*19)+I.charCodeAt(T++);return x(k)}function b(){try{var S;return p&&(S=p.randomBytes)?S=S(i):(S=new Uint8Array(i),(n.crypto||n.msCrypto).getRandomValues(S)),x(S)}catch{var k=n.navigator,I=k&&k.plugins;return[+new Date,n,I,n.screen,x(r)]}}function x(S){return String.fromCharCode.apply(0,S)}if(v(a.random(),r),typeof t=="object"&&t.exports){t.exports=h;try{p=K7e()}catch{}}else typeof define=="function"&&define.amd?define(function(){return h}):a["seed"+l]=h})(typeof self<"u"?self:e,[],Math)}),vN=Kn((e,t)=>{var n=V7e(),r=G7e(),a=H7e(),i=q7e(),s=Y7e(),o=Q7e(),l=J7e();l.alea=n,l.xor128=r,l.xorwow=a,l.xorshift7=i,l.xor4096=s,l.tychei=o,t.exports=l}),fte=Kn(()=>{}),OD=Kn(()=>{}),dte=Kn(()=>{}),Z7e=Kn(()=>{}),X7e=Kn(()=>{}),eHe=Kn(()=>{}),tHe=Kn((e,t)=>{var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a){a=a||{};function i(){return O.buffer!=me&&Te(O.buffer),se}function s(){return O.buffer!=me&&Te(O.buffer),ge}function o(){return O.buffer!=me&&Te(O.buffer),we}function l(){return O.buffer!=me&&Te(O.buffer),oe}function u(){return O.buffer!=me&&Te(O.buffer),Be}var c=typeof a<"u"?a:{},f,d;c.ready=new Promise(function(G,ae){f=G,d=ae});var p;typeof process<"u"&&process.listeners&&(p={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var h=Object.assign({},c),m=(G,ae)=>{throw ae},g=typeof window=="object",y=typeof importScripts=="function",v=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b=c.ENVIRONMENT_IS_PTHREAD||!1,x="";function S(G){return c.locateFile?c.locateFile(G,x):x+G}var k,I,N;function T(G){G instanceof ji||F("exiting due to exception: "+G)}if(v){var L=OD(),E=dte();y?x=E.dirname(x)+"/":x=__dirname+"/",k=(ae,xe)=>(ae=ma(ae)?new URL(ae):E.normalize(ae),L.readFileSync(ae,xe?void 0:"utf8")),N=ae=>{var xe=k(ae,!0);return xe.buffer||(xe=new Uint8Array(xe)),xe},I=(ae,xe,Qe)=>{ae=ma(ae)?new URL(ae):E.normalize(ae),L.readFile(ae,function(tt,rt){tt?Qe(tt):xe(rt.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(ae){if(!(ae instanceof ji))throw ae}),process.on("unhandledRejection",function(ae){throw ae}),m=(ae,xe)=>{if(Dt())throw process.exitCode=ae,xe;T(xe),process.exit(ae)},c.inspect=function(){return"[Emscripten Module object]"};let G;try{G=Z7e()}catch(ae){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),ae}global.Worker=G.Worker}else(g||y)&&(y?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),typeof r<"u"&&r&&(x=r),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",v||(k=G=>{var ae=new XMLHttpRequest;return ae.open("GET",G,!1),ae.send(null),ae.responseText},y&&(N=G=>{var ae=new XMLHttpRequest;return ae.open("GET",G,!1),ae.responseType="arraybuffer",ae.send(null),new Uint8Array(ae.response)}),I=(G,ae,xe)=>{var Qe=new XMLHttpRequest;Qe.open("GET",G,!0),Qe.responseType="arraybuffer",Qe.onload=()=>{if(Qe.status==200||Qe.status==0&&Qe.response){ae(Qe.response);return}xe()},Qe.onerror=xe,Qe.send(null)}));v&&typeof performance>"u"&&(global.performance=X7e().performance);var M=console.log.bind(console),j=console.warn.bind(console);v&&(M=G=>L.writeSync(1,G+`
`),j=G=>L.writeSync(2,G+`
`));var D=c.print||M,F=c.printErr||j;Object.assign(c,h),h=null,c.arguments&&c.arguments,c.thisProgram&&c.thisProgram,c.quit&&(m=c.quit);var $;c.wasmBinary&&($=c.wasmBinary);var B=c.noExitRuntime||!0;typeof WebAssembly!="object"&&ps("no native wasm support detected");var O,P,W=!1,H;function q(G,ae){G||ps(ae)}var J=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function re(G,ae,xe){ae>>>=0;for(var Qe=ae+xe,tt=ae;G[tt]&&!(tt>=Qe);)++tt;if(tt-ae>16&&G.buffer&&J)return J.decode(G.buffer instanceof SharedArrayBuffer?G.slice(ae,tt):G.subarray(ae,tt));for(var rt="";ae<tt;){var Ae=G[ae++];if(!(Ae&128)){rt+=String.fromCharCode(Ae);continue}var Ve=G[ae++]&63;if((Ae&224)==192){rt+=String.fromCharCode((Ae&31)<<6|Ve);continue}var Sn=G[ae++]&63;if((Ae&240)==224?Ae=(Ae&15)<<12|Ve<<6|Sn:Ae=(Ae&7)<<18|Ve<<12|Sn<<6|G[ae++]&63,Ae<65536)rt+=String.fromCharCode(Ae);else{var si=Ae-65536;rt+=String.fromCharCode(55296|si>>10,56320|si&1023)}}return rt}function ce(G,ae){return G>>>=0,G?re(s(),G,ae):""}function ye(G,ae,xe,Qe){if(xe>>>=0,!(Qe>0))return 0;for(var tt=xe,rt=xe+Qe-1,Ae=0;Ae<G.length;++Ae){var Ve=G.charCodeAt(Ae);if(Ve>=55296&&Ve<=57343){var Sn=G.charCodeAt(++Ae);Ve=65536+((Ve&1023)<<10)|Sn&1023}if(Ve<=127){if(xe>=rt)break;ae[xe++>>>0]=Ve}else if(Ve<=2047){if(xe+1>=rt)break;ae[xe++>>>0]=192|Ve>>6,ae[xe++>>>0]=128|Ve&63}else if(Ve<=65535){if(xe+2>=rt)break;ae[xe++>>>0]=224|Ve>>12,ae[xe++>>>0]=128|Ve>>6&63,ae[xe++>>>0]=128|Ve&63}else{if(xe+3>=rt)break;ae[xe++>>>0]=240|Ve>>18,ae[xe++>>>0]=128|Ve>>12&63,ae[xe++>>>0]=128|Ve>>6&63,ae[xe++>>>0]=128|Ve&63}}return ae[xe>>>0]=0,xe-tt}function he(G,ae,xe){return ye(G,s(),ae,xe)}var me,se,ge,we,oe,Be;b&&(me=c.buffer);function Te(G){me=G,c.HEAP8=se=new Int8Array(G),c.HEAP16=new Int16Array(G),c.HEAP32=we=new Int32Array(G),c.HEAPU8=ge=new Uint8Array(G),c.HEAPU16=new Uint16Array(G),c.HEAPU32=oe=new Uint32Array(G),c.HEAPF32=new Float32Array(G),c.HEAPF64=Be=new Float64Array(G)}var We=c.INITIAL_MEMORY||16777216;if(b)O=c.wasmMemory,me=c.buffer;else if(c.wasmMemory)O=c.wasmMemory;else if(O=new WebAssembly.Memory({initial:We/65536,maximum:65536,shared:!0}),!(O.buffer instanceof SharedArrayBuffer))throw F("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&F("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");O&&(me=O.buffer),We=me.byteLength,Te(me);var Le,Ye=[],ot=[],Zt=[];function Dt(){return B}function Wt(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Rr(c.preRun.shift());wt(Ye)}function Vt(){!b&&wt(ot)}function rn(){if(!b){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)Xt(c.postRun.shift());wt(Zt)}}function Rr(G){Ye.unshift(G)}function fr(G){ot.unshift(G)}function Xt(G){Zt.unshift(G)}var pn=0,ha=null;function Js(G){pn++,c.monitorRunDependencies&&c.monitorRunDependencies(pn)}function Zs(G){if(pn--,c.monitorRunDependencies&&c.monitorRunDependencies(pn),pn==0&&ha){var ae=ha;ha=null,ae()}}function ps(G){c.onAbort&&c.onAbort(G),G="Aborted("+G+")",F(G),W=!0,H=1,G+=". Build with -sASSERTIONS for more info.";var ae=new WebAssembly.RuntimeError(G);throw d(ae),ae}var Gl="data:application/octet-stream;base64,";function $a(G){return G.startsWith(Gl)}function ma(G){return G.startsWith("file://")}var Bn;Bn="tfjs-backend-wasm-threaded-simd.wasm",$a(Bn)||(Bn=S(Bn));function hs(G){try{if(G==Bn&&$)return new Uint8Array($);if(N)return N(G);throw"both async and sync fetching of the wasm failed"}catch(ae){ps(ae)}}function dh(){if(!$&&(g||y)){if(typeof fetch=="function"&&!ma(Bn))return fetch(Bn,{credentials:"same-origin"}).then(function(G){if(!G.ok)throw"failed to load wasm binary file at '"+Bn+"'";return G.arrayBuffer()}).catch(function(){return hs(Bn)});if(I)return new Promise(function(G,ae){I(Bn,function(xe){G(new Uint8Array(xe))},ae)})}return Promise.resolve().then(function(){return hs(Bn)})}function ph(){var G={env:oF,wasi_snapshot_preview1:oF};function ae(Ae,Ve){var Sn=Ae.exports;if(c.asm=Sn,Go(c.asm._emscripten_tls_init),Le=c.asm.__indirect_function_table,fr(c.asm.__wasm_call_ctors),P=Ve,!b){var si=Se.unusedWorkers.length;Se.unusedWorkers.forEach(function(Ho){Se.loadWasmModuleToWorker(Ho,function(){--si||Zs()})})}}b||Js();function xe(Ae){ae(Ae.instance,Ae.module)}function Qe(Ae){return dh().then(function(Ve){return WebAssembly.instantiate(Ve,G)}).then(function(Ve){return Ve}).then(Ae,function(Ve){F("failed to asynchronously prepare wasm: "+Ve),ps(Ve)})}function tt(){return!$&&typeof WebAssembly.instantiateStreaming=="function"&&!$a(Bn)&&!ma(Bn)&&!v&&typeof fetch=="function"?fetch(Bn,{credentials:"same-origin"}).then(function(Ae){var Ve=WebAssembly.instantiateStreaming(Ae,G);return Ve.then(xe,function(Sn){return F("wasm streaming compile failed: "+Sn),F("falling back to ArrayBuffer instantiation"),Qe(xe)})}):Qe(xe)}if(c.instantiateWasm)try{var rt=c.instantiateWasm(G,ae);return rt}catch(Ae){F("Module.instantiateWasm callback failed with error: "+Ae),d(Ae)}return tt().catch(d),{}}var Yc={};function ji(G){this.name="ExitStatus",this.message="Program terminated with exit("+G+")",this.status=G}function Hl(G){var ae=Se.pthreads[G];delete Se.pthreads[G],ae.terminate(),JM(G),Se.runningWorkers.splice(Se.runningWorkers.indexOf(ae),1),ae.pthread_ptr=0}function ql(G){var ae=Se.pthreads[G];ae.postMessage({cmd:"cancel"})}function Yr(G){var ae=Se.pthreads[G];q(ae),Se.returnWorkerToPool(ae)}function Vo(G){var ae=Se.getNewWorker();if(!ae)return 6;Se.runningWorkers.push(ae),Se.pthreads[G.pthread_ptr]=ae,ae.pthread_ptr=G.pthread_ptr;var xe={cmd:"run",start_routine:G.startRoutine,arg:G.arg,pthread_ptr:G.pthread_ptr};return ae.runPthread=()=>{v&&ae.ref(),ae.postMessage(xe,G.transferList),delete ae.runPthread},ae.loaded&&ae.runPthread(),0}function Ze(G){if(b)return hh(1,1,G);H=G,Dt()||(Se.terminateAllThreads(),c.onExit&&c.onExit(G),W=!0),m(G,new ji(G))}function ie(G,ae){if(H=G,!ae&&b)throw He(G),"unwind";Ze(G)}var pe=ie;function je(G){if(G instanceof ji||G=="unwind")return H;m(1,G)}var Se={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){b?Se.initWorker():Se.initMainThread()},initMainThread:function(){for(var G=8;G--;)Se.allocateUnusedWorker()},initWorker:function(){B=!1},setExitStatus:function(G){H=G},terminateAllThreads:function(){for(var G of Object.values(Se.pthreads))Se.returnWorkerToPool(G);for(var G of Se.unusedWorkers)G.terminate();Se.unusedWorkers=[]},returnWorkerToPool:function(G){var ae=G.pthread_ptr;delete Se.pthreads[ae],Se.unusedWorkers.push(G),Se.runningWorkers.splice(Se.runningWorkers.indexOf(G),1),G.pthread_ptr=0,v&&G.unref(),JM(ae)},receiveObjectTransfer:function(G){},threadInitTLS:function(){Se.tlsInitFunctions.forEach(G=>G())},loadWasmModuleToWorker:function(G,ae){G.onmessage=rt=>{var Ae=rt.data,Ve=Ae.cmd;if(G.pthread_ptr&&(Se.currentProxiedOperationCallerThread=G.pthread_ptr),Ae.targetThread&&Ae.targetThread!=ix()){var Sn=Se.pthreads[Ae.targetThread];Sn?Sn.postMessage(Ae,Ae.transferList):F('Internal error! Worker sent a message "'+Ve+'" to target pthread '+Ae.targetThread+", but that thread no longer exists!"),Se.currentProxiedOperationCallerThread=void 0;return}Ve==="processProxyingQueue"?YM(Ae.queue):Ve==="spawnThread"?Vo(Ae):Ve==="cleanupThread"?Yr(Ae.thread):Ve==="killThread"?Hl(Ae.thread):Ve==="cancelThread"?ql(Ae.thread):Ve==="loaded"?(G.loaded=!0,v&&G.unref(),ae&&ae(G),G.runPthread&&G.runPthread()):Ve==="print"?D("Thread "+Ae.threadId+": "+Ae.text):Ve==="printErr"?F("Thread "+Ae.threadId+": "+Ae.text):Ve==="alert"?alert("Thread "+Ae.threadId+": "+Ae.text):Ae.target==="setimmediate"?G.postMessage(Ae):Ve==="callHandler"?c[Ae.handler](...Ae.args):Ve&&F("worker sent an unknown command "+Ve),Se.currentProxiedOperationCallerThread=void 0},G.onerror=rt=>{var Ae="worker sent an error!";throw F(Ae+" "+rt.filename+":"+rt.lineno+": "+rt.message),rt},v&&(G.on("message",function(rt){G.onmessage({data:rt})}),G.on("error",function(rt){G.onerror(rt)}),G.on("detachedExit",function(){}));var xe=[],Qe=["onExit","onAbort","print","printErr"];for(var tt of Qe)c.hasOwnProperty(tt)&&xe.push(tt);G.postMessage({cmd:"load",handlers:xe,urlOrBlob:c.mainScriptUrlOrBlob||r,wasmMemory:O,wasmModule:P})},allocateUnusedWorker:function(){var G,ae=S("tfjs-backend-wasm-threaded-simd.worker.js");G=new Worker(ae),Se.unusedWorkers.push(G)},getNewWorker:function(){return Se.unusedWorkers.length==0&&(Se.allocateUnusedWorker(),Se.loadWasmModuleToWorker(Se.unusedWorkers[0])),Se.unusedWorkers.pop()}};c.PThread=Se;function wt(G){for(;G.length>0;)G.shift()(c)}function _t(){var G=ix(),ae=o()[G+52>>>2],xe=o()[G+56>>>2],Qe=ae-xe;dF(ae,Qe),sx(ae)}c.establishStackSpace=_t;function He(G){if(b)return hh(2,0,G);try{pe(G)}catch(ae){je(ae)}}var qe=[];function Un(G){var ae=qe[G];return ae||(G>=qe.length&&(qe.length=G+1),qe[G]=ae=Le.get(G)),ae}function ii(G,ae){var xe=Un(G)(ae);Dt()?Se.setExitStatus(xe):fF(xe)}c.invokeEntryPoint=ii;function Go(G){Se.tlsInitFunctions.push(G)}function nx(G){lF(G,!y,1,!g),Se.threadInitTLS()}function I1(G){b?postMessage({cmd:"cleanupThread",thread:G}):Yr(G)}function rx(G,ae,xe,Qe){return b?hh(3,1,G,ae,xe,Qe):Qr(G,ae,xe,Qe)}function Qr(G,ae,xe,Qe){if(typeof SharedArrayBuffer>"u")return F("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var tt=[],rt=0;if(b&&(tt.length===0||rt))return rx(G,ae,xe,Qe);var Ae={startRoutine:xe,pthread_ptr:G,arg:Qe,transferList:tt};return b?(Ae.cmd="spawnThread",postMessage(Ae,tt),0):Vo(Ae)}function Yl(){return 65536}var ax=!0;function wfe(){return ax}function YM(G){Atomics.store(o(),G>>2,1),ix()&&cF(G),Atomics.compareExchange(o(),G>>2,1,0)}c.executeNotifiedProxyingQueue=YM;function xfe(G,ae,xe,Qe){if(G==ae)setTimeout(()=>YM(Qe));else if(b)postMessage({targetThread:G,cmd:"processProxyingQueue",queue:Qe});else{var tt=Se.pthreads[G];if(!tt)return;tt.postMessage({cmd:"processProxyingQueue",queue:Qe})}return 1}function Sfe(G,ae,xe){return-1}function kfe(){ps("")}function N1(G){N1.shown||(N1.shown={}),N1.shown[G]||(N1.shown[G]=1,v&&(G="warning: "+G),F(G))}function Cfe(){v||y||N1("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function Ife(){return Date.now()}function nF(){return 4294901760}function Nfe(){return nF()}var QM;v?QM=()=>{var G=process.hrtime();return G[0]*1e3+G[1]/1e6}:QM=()=>performance.timeOrigin+performance.now();function Mfe(G,ae,xe){s().copyWithin(G>>>0,ae>>>0,ae+xe>>>0)}function Tfe(){return v?eHe().cpus().length:navigator.hardwareConcurrency}function Efe(G){var ae=ZM(),xe=G();return sx(ae),xe}function hh(G,ae){var xe=arguments.length-2,Qe=arguments;return Efe(()=>{for(var tt=xe,rt=ox(tt*8),Ae=rt>>3,Ve=0;Ve<xe;Ve++){var Sn=Qe[2+Ve];u()[Ae+Ve>>>0]=Sn}return uF(G,tt,rt,ae)})}var KM=[];function Afe(G,ae,xe){KM.length=ae;for(var Qe=xe>>3,tt=0;tt<ae;tt++)KM[tt]=u()[Qe+tt>>>0];var rt=G<0,Ae=rt?Yc[-G-1]:Ffe[G];return Ae.apply(null,KM)}function Lfe(G){try{return O.grow(G-me.byteLength+65535>>>16),Te(O.buffer),1}catch{}}function _fe(G){var ae=s().length;if(G=G>>>0,G<=ae)return!1;var xe=nF();if(G>xe)return!1;let Qe=(Sn,si)=>Sn+(si-Sn%si)%si;for(var tt=1;tt<=4;tt*=2){var rt=ae*(1+.2/tt);rt=Math.min(rt,G+100663296);var Ae=Math.min(xe,Qe(Math.max(G,rt),65536)),Ve=Lfe(Ae);if(Ve)return!0}return!1}function jfe(){throw"unwind"}function rF(G){return b?hh(4,1,G):52}function aF(G,ae,xe,Qe,tt){return b?hh(5,1,G,ae,xe,Qe,tt):70}var $fe=[null,[],[]];function Dfe(G,ae){var xe=$fe[G];ae===0||ae===10?((G===1?D:F)(re(xe,0)),xe.length=0):xe.push(ae)}function iF(G,ae,xe,Qe){if(b)return hh(6,1,G,ae,xe,Qe);for(var tt=0,rt=0;rt<xe;rt++){var Ae=l()[ae>>>2],Ve=l()[ae+4>>>2];ae+=8;for(var Sn=0;Sn<Ve;Sn++)Dfe(G,s()[Ae+Sn>>>0]);tt+=Ve}return l()[Qe>>>2]=tt,0}function sF(G){var ae=c["_"+G];return ae}function Ofe(G,ae){i().set(G,ae>>>0)}function Rfe(G,ae,xe,Qe,tt){var rt={string:oi=>{var mh=0;if(oi!=null&&oi!==0){var mF=(oi.length<<2)+1;mh=ox(mF),he(oi,mh,mF)}return mh},array:oi=>{var mh=ox(oi.length);return Ofe(oi,mh),mh}};function Ae(oi){return ae==="string"?ce(oi):ae==="boolean"?!!oi:oi}var Ve=sF(G),Sn=[],si=0;if(Qe)for(var Ho=0;Ho<Qe.length;Ho++){var hF=rt[xe[Ho]];hF?(si===0&&(si=ZM()),Sn[Ho]=hF(Qe[Ho])):Sn[Ho]=Qe[Ho]}var XM=Ve.apply(null,Sn);function Bfe(oi){return si!==0&&sx(si),Ae(oi)}return XM=Bfe(XM),XM}function Pfe(G,ae,xe,Qe){xe=xe||[];var tt=xe.every(Ae=>Ae==="number"||Ae==="boolean"),rt=ae!=="string";return rt&&tt&&!Qe?sF(G):function(){return Rfe(G,ae,xe,arguments)}}Se.init();var Ffe=[null,Ze,He,rx,rF,aF,iF],oF={__emscripten_init_main_thread_js:nx,__emscripten_thread_cleanup:I1,__pthread_create_js:Qr,_emscripten_default_pthread_stack_size:Yl,_emscripten_get_now_is_monotonic:wfe,_emscripten_notify_task_queue:xfe,_emscripten_set_offscreencanvas_size:Sfe,abort:kfe,emscripten_check_blocking_allowed:Cfe,emscripten_date_now:Ife,emscripten_get_heap_max:Nfe,emscripten_get_now:QM,emscripten_memcpy_big:Mfe,emscripten_num_logical_cores:Tfe,emscripten_receive_on_main_thread_js:Afe,emscripten_resize_heap:_fe,emscripten_unwind_to_js_event_loop:jfe,exit:pe,fd_close:rF,fd_seek:aF,fd_write:iF,memory:O||c.wasmMemory};ph(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.__wasm_call_ctors).apply(null,arguments)},c._init=function(){return(c._init=c.asm.init).apply(null,arguments)},c._init_with_threads_count=function(){return(c._init_with_threads_count=c.asm.init_with_threads_count).apply(null,arguments)},c._get_threads_count=function(){return(c._get_threads_count=c.asm.get_threads_count).apply(null,arguments)},c._register_tensor=function(){return(c._register_tensor=c.asm.register_tensor).apply(null,arguments)},c._dispose_data=function(){return(c._dispose_data=c.asm.dispose_data).apply(null,arguments)},c._dispose=function(){return(c._dispose=c.asm.dispose).apply(null,arguments)},c._Abs=function(){return(c._Abs=c.asm.Abs).apply(null,arguments)},c._Acos=function(){return(c._Acos=c.asm.Acos).apply(null,arguments)},c._Acosh=function(){return(c._Acosh=c.asm.Acosh).apply(null,arguments)},c._Add=function(){return(c._Add=c.asm.Add).apply(null,arguments)},c._AddN=function(){return(c._AddN=c.asm.AddN).apply(null,arguments)},c._All=function(){return(c._All=c.asm.All).apply(null,arguments)},c._Any=function(){return(c._Any=c.asm.Any).apply(null,arguments)},c._ArgMax=function(){return(c._ArgMax=c.asm.ArgMax).apply(null,arguments)},c._ArgMin=function(){return(c._ArgMin=c.asm.ArgMin).apply(null,arguments)},c._Asin=function(){return(c._Asin=c.asm.Asin).apply(null,arguments)},c._Asinh=function(){return(c._Asinh=c.asm.Asinh).apply(null,arguments)},c._Atan=function(){return(c._Atan=c.asm.Atan).apply(null,arguments)},c._Atan2=function(){return(c._Atan2=c.asm.Atan2).apply(null,arguments)},c._Atanh=function(){return(c._Atanh=c.asm.Atanh).apply(null,arguments)},c._AvgPool=function(){return(c._AvgPool=c.asm.AvgPool).apply(null,arguments)},c._AvgPool3D=function(){return(c._AvgPool3D=c.asm.AvgPool3D).apply(null,arguments)},c._AvgPool3DGrad=function(){return(c._AvgPool3DGrad=c.asm.AvgPool3DGrad).apply(null,arguments)},c._AvgPoolGrad=function(){return(c._AvgPoolGrad=c.asm.AvgPoolGrad).apply(null,arguments)},c._BatchMatMul=function(){return(c._BatchMatMul=c.asm.BatchMatMul).apply(null,arguments)},c._Bincount=function(){return(c._Bincount=c.asm.Bincount).apply(null,arguments)},c._BitwiseAnd=function(){return(c._BitwiseAnd=c.asm.BitwiseAnd).apply(null,arguments)},c._Ceil=function(){return(c._Ceil=c.asm.Ceil).apply(null,arguments)},c._ClipByValue=function(){return(c._ClipByValue=c.asm.ClipByValue).apply(null,arguments)},c._Conv2D=function(){return(c._Conv2D=c.asm.Conv2D).apply(null,arguments)},c._Conv2DBackpropInput=function(){return(c._Conv2DBackpropInput=c.asm.Conv2DBackpropInput).apply(null,arguments)},c._Conv3D=function(){return(c._Conv3D=c.asm.Conv3D).apply(null,arguments)},c._Conv3DBackpropFilterV2=function(){return(c._Conv3DBackpropFilterV2=c.asm.Conv3DBackpropFilterV2).apply(null,arguments)},c._Conv3DBackpropInputV2=function(){return(c._Conv3DBackpropInputV2=c.asm.Conv3DBackpropInputV2).apply(null,arguments)},c._Cos=function(){return(c._Cos=c.asm.Cos).apply(null,arguments)},c._Cosh=function(){return(c._Cosh=c.asm.Cosh).apply(null,arguments)},c._CropAndResize=function(){return(c._CropAndResize=c.asm.CropAndResize).apply(null,arguments)},c._Cumprod=function(){return(c._Cumprod=c.asm.Cumprod).apply(null,arguments)},c._Cumsum=function(){return(c._Cumsum=c.asm.Cumsum).apply(null,arguments)},c._DenseBincount=function(){return(c._DenseBincount=c.asm.DenseBincount).apply(null,arguments)},c._DepthToSpace=function(){return(c._DepthToSpace=c.asm.DepthToSpace).apply(null,arguments)},c._DepthwiseConv2dNative=function(){return(c._DepthwiseConv2dNative=c.asm.DepthwiseConv2dNative).apply(null,arguments)},c._Diag=function(){return(c._Diag=c.asm.Diag).apply(null,arguments)},c._Dilation2D=function(){return(c._Dilation2D=c.asm.Dilation2D).apply(null,arguments)},c._Dilation2DBackpropFilter=function(){return(c._Dilation2DBackpropFilter=c.asm.Dilation2DBackpropFilter).apply(null,arguments)},c._Dilation2DBackpropInput=function(){return(c._Dilation2DBackpropInput=c.asm.Dilation2DBackpropInput).apply(null,arguments)},c._Elu=function(){return(c._Elu=c.asm.Elu).apply(null,arguments)},c._EluGrad=function(){return(c._EluGrad=c.asm.EluGrad).apply(null,arguments)},c._Equal=function(){return(c._Equal=c.asm.Equal).apply(null,arguments)},c._Erf=function(){return(c._Erf=c.asm.Erf).apply(null,arguments)},c._Exp=function(){return(c._Exp=c.asm.Exp).apply(null,arguments)},c._Expm1=function(){return(c._Expm1=c.asm.Expm1).apply(null,arguments)},c._FlipLeftRight=function(){return(c._FlipLeftRight=c.asm.FlipLeftRight).apply(null,arguments)},c._Floor=function(){return(c._Floor=c.asm.Floor).apply(null,arguments)},c._FloorDiv=function(){return(c._FloorDiv=c.asm.FloorDiv).apply(null,arguments)},c._FusedBatchNorm=function(){return(c._FusedBatchNorm=c.asm.FusedBatchNorm).apply(null,arguments)},c._FusedConv2D=function(){return(c._FusedConv2D=c.asm.FusedConv2D).apply(null,arguments)},c._FusedDepthwiseConv2D=function(){return(c._FusedDepthwiseConv2D=c.asm.FusedDepthwiseConv2D).apply(null,arguments)},c._Gather=function(){return(c._Gather=c.asm.Gather).apply(null,arguments)},c._GatherNd=function(){return(c._GatherNd=c.asm.GatherNd).apply(null,arguments)},c._Greater=function(){return(c._Greater=c.asm.Greater).apply(null,arguments)},c._GreaterEqual=function(){return(c._GreaterEqual=c.asm.GreaterEqual).apply(null,arguments)},c._IsFinite=function(){return(c._IsFinite=c.asm.IsFinite).apply(null,arguments)},c._IsInf=function(){return(c._IsInf=c.asm.IsInf).apply(null,arguments)},c._IsNan=function(){return(c._IsNan=c.asm.IsNan).apply(null,arguments)},c._LRN=function(){return(c._LRN=c.asm.LRN).apply(null,arguments)},c._LRNGrad=function(){return(c._LRNGrad=c.asm.LRNGrad).apply(null,arguments)},c._LeakyRelu=function(){return(c._LeakyRelu=c.asm.LeakyRelu).apply(null,arguments)},c._Less=function(){return(c._Less=c.asm.Less).apply(null,arguments)},c._LessEqual=function(){return(c._LessEqual=c.asm.LessEqual).apply(null,arguments)},c._LinSpace=function(){return(c._LinSpace=c.asm.LinSpace).apply(null,arguments)},c._Log=function(){return(c._Log=c.asm.Log).apply(null,arguments)},c._Log1p=function(){return(c._Log1p=c.asm.Log1p).apply(null,arguments)},c._LogicalAnd=function(){return(c._LogicalAnd=c.asm.LogicalAnd).apply(null,arguments)},c._LogicalNot=function(){return(c._LogicalNot=c.asm.LogicalNot).apply(null,arguments)},c._LogicalOr=function(){return(c._LogicalOr=c.asm.LogicalOr).apply(null,arguments)},c._LogicalXor=function(){return(c._LogicalXor=c.asm.LogicalXor).apply(null,arguments)},c._Max=function(){return(c._Max=c.asm.Max).apply(null,arguments)},c._MaxPool=function(){return(c._MaxPool=c.asm.MaxPool).apply(null,arguments)},c._MaxPool3D=function(){return(c._MaxPool3D=c.asm.MaxPool3D).apply(null,arguments)},c._MaxPool3DGrad=function(){return(c._MaxPool3DGrad=c.asm.MaxPool3DGrad).apply(null,arguments)},c._MaxPoolGrad=function(){return(c._MaxPoolGrad=c.asm.MaxPoolGrad).apply(null,arguments)},c._MaxPoolWithArgmax=function(){return(c._MaxPoolWithArgmax=c.asm.MaxPoolWithArgmax).apply(null,arguments)},c._Maximum=function(){return(c._Maximum=c.asm.Maximum).apply(null,arguments)},c._Mean=function(){return(c._Mean=c.asm.Mean).apply(null,arguments)},c._Min=function(){return(c._Min=c.asm.Min).apply(null,arguments)},c._Minimum=function(){return(c._Minimum=c.asm.Minimum).apply(null,arguments)},c._MirrorPad=function(){return(c._MirrorPad=c.asm.MirrorPad).apply(null,arguments)},c._Mod=function(){return(c._Mod=c.asm.Mod).apply(null,arguments)},c._Multinomial=function(){return(c._Multinomial=c.asm.Multinomial).apply(null,arguments)},c._Multiply=function(){return(c._Multiply=c.asm.Multiply).apply(null,arguments)},c._Neg=function(){return(c._Neg=c.asm.Neg).apply(null,arguments)},c._NonMaxSuppressionV3=function(){return(c._NonMaxSuppressionV3=c.asm.NonMaxSuppressionV3).apply(null,arguments)},c._NonMaxSuppressionV4=function(){return(c._NonMaxSuppressionV4=c.asm.NonMaxSuppressionV4).apply(null,arguments)},c._NonMaxSuppressionV5=function(){return(c._NonMaxSuppressionV5=c.asm.NonMaxSuppressionV5).apply(null,arguments)},c._NotEqual=function(){return(c._NotEqual=c.asm.NotEqual).apply(null,arguments)},c._OneHot=function(){return(c._OneHot=c.asm.OneHot).apply(null,arguments)},c._PadV2=function(){return(c._PadV2=c.asm.PadV2).apply(null,arguments)},c._Pow=function(){return(c._Pow=c.asm.Pow).apply(null,arguments)},c._Prelu=function(){return(c._Prelu=c.asm.Prelu).apply(null,arguments)},c._Prod=function(){return(c._Prod=c.asm.Prod).apply(null,arguments)},c._RealDiv=function(){return(c._RealDiv=c.asm.RealDiv).apply(null,arguments)},c._Reciprocal=function(){return(c._Reciprocal=c.asm.Reciprocal).apply(null,arguments)},c._Relu=function(){return(c._Relu=c.asm.Relu).apply(null,arguments)},c._Relu6=function(){return(c._Relu6=c.asm.Relu6).apply(null,arguments)},c._ResizeBilinear=function(){return(c._ResizeBilinear=c.asm.ResizeBilinear).apply(null,arguments)},c._ResizeBilinearGrad=function(){return(c._ResizeBilinearGrad=c.asm.ResizeBilinearGrad).apply(null,arguments)},c._ResizeNearestNeighbor=function(){return(c._ResizeNearestNeighbor=c.asm.ResizeNearestNeighbor).apply(null,arguments)},c._ResizeNearestNeighborGrad=function(){return(c._ResizeNearestNeighborGrad=c.asm.ResizeNearestNeighborGrad).apply(null,arguments)},c._Reverse=function(){return(c._Reverse=c.asm.Reverse).apply(null,arguments)},c._RotateWithOffset=function(){return(c._RotateWithOffset=c.asm.RotateWithOffset).apply(null,arguments)},c._Round=function(){return(c._Round=c.asm.Round).apply(null,arguments)},c._Rsqrt=function(){return(c._Rsqrt=c.asm.Rsqrt).apply(null,arguments)},c._ScatterNd=function(){return(c._ScatterNd=c.asm.ScatterNd).apply(null,arguments)},c._SearchSorted=function(){return(c._SearchSorted=c.asm.SearchSorted).apply(null,arguments)},c._SelectV2=function(){return(c._SelectV2=c.asm.SelectV2).apply(null,arguments)},c._Selu=function(){return(c._Selu=c.asm.Selu).apply(null,arguments)},c._Sigmoid=function(){return(c._Sigmoid=c.asm.Sigmoid).apply(null,arguments)},c._Sign=function(){return(c._Sign=c.asm.Sign).apply(null,arguments)},c._Sin=function(){return(c._Sin=c.asm.Sin).apply(null,arguments)},c._Sinh=function(){return(c._Sinh=c.asm.Sinh).apply(null,arguments)},c._Softmax=function(){return(c._Softmax=c.asm.Softmax).apply(null,arguments)},c._Softplus=function(){return(c._Softplus=c.asm.Softplus).apply(null,arguments)},c._SparseFillEmptyRows=function(){return(c._SparseFillEmptyRows=c.asm.SparseFillEmptyRows).apply(null,arguments)},c._SparseReshape=function(){return(c._SparseReshape=c.asm.SparseReshape).apply(null,arguments)},c._SparseSegmentReduction=function(){return(c._SparseSegmentReduction=c.asm.SparseSegmentReduction).apply(null,arguments)},c._SparseToDense=function(){return(c._SparseToDense=c.asm.SparseToDense).apply(null,arguments)},c._Sqrt=function(){return(c._Sqrt=c.asm.Sqrt).apply(null,arguments)},c._Square=function(){return(c._Square=c.asm.Square).apply(null,arguments)},c._SquaredDifference=function(){return(c._SquaredDifference=c.asm.SquaredDifference).apply(null,arguments)},c._Step=function(){return(c._Step=c.asm.Step).apply(null,arguments)},c._StridedSlice=function(){return(c._StridedSlice=c.asm.StridedSlice).apply(null,arguments)},c._Sub=function(){return(c._Sub=c.asm.Sub).apply(null,arguments)},c._Sum=function(){return(c._Sum=c.asm.Sum).apply(null,arguments)},c._Tan=function(){return(c._Tan=c.asm.Tan).apply(null,arguments)},c._Tanh=function(){return(c._Tanh=c.asm.Tanh).apply(null,arguments)},c._TensorScatterUpdate=function(){return(c._TensorScatterUpdate=c.asm.TensorScatterUpdate).apply(null,arguments)},c._Tile=function(){return(c._Tile=c.asm.Tile).apply(null,arguments)},c._TopK=function(){return(c._TopK=c.asm.TopK).apply(null,arguments)},c._Transform=function(){return(c._Transform=c.asm.Transform).apply(null,arguments)},c._Transpose=function(){return(c._Transpose=c.asm.Transpose).apply(null,arguments)},c.__FusedMatMul=function(){return(c.__FusedMatMul=c.asm._FusedMatMul).apply(null,arguments)},c._malloc=function(){return(c._malloc=c.asm.malloc).apply(null,arguments)},c._free=function(){return(c._free=c.asm.free).apply(null,arguments)},c.__emscripten_tls_init=function(){return(c.__emscripten_tls_init=c.asm._emscripten_tls_init).apply(null,arguments)};var ix=c._pthread_self=function(){return(ix=c._pthread_self=c.asm.pthread_self).apply(null,arguments)};c.___errno_location=function(){return(c.___errno_location=c.asm.__errno_location).apply(null,arguments)};var lF=c.__emscripten_thread_init=function(){return(lF=c.__emscripten_thread_init=c.asm._emscripten_thread_init).apply(null,arguments)};c.__emscripten_thread_crashed=function(){return(c.__emscripten_thread_crashed=c.asm._emscripten_thread_crashed).apply(null,arguments)},c._emscripten_main_thread_process_queued_calls=function(){return(c._emscripten_main_thread_process_queued_calls=c.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},c._emscripten_main_browser_thread_id=function(){return(c._emscripten_main_browser_thread_id=c.asm.emscripten_main_browser_thread_id).apply(null,arguments)};var uF=c._emscripten_run_in_main_runtime_thread_js=function(){return(uF=c._emscripten_run_in_main_runtime_thread_js=c.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)};c._emscripten_dispatch_to_thread_=function(){return(c._emscripten_dispatch_to_thread_=c.asm.emscripten_dispatch_to_thread_).apply(null,arguments)};var cF=c.__emscripten_proxy_execute_task_queue=function(){return(cF=c.__emscripten_proxy_execute_task_queue=c.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)},JM=c.__emscripten_thread_free_data=function(){return(JM=c.__emscripten_thread_free_data=c.asm._emscripten_thread_free_data).apply(null,arguments)},fF=c.__emscripten_thread_exit=function(){return(fF=c.__emscripten_thread_exit=c.asm._emscripten_thread_exit).apply(null,arguments)},dF=c._emscripten_stack_set_limits=function(){return(dF=c._emscripten_stack_set_limits=c.asm.emscripten_stack_set_limits).apply(null,arguments)},ZM=c.stackSave=function(){return(ZM=c.stackSave=c.asm.stackSave).apply(null,arguments)},sx=c.stackRestore=function(){return(sx=c.stackRestore=c.asm.stackRestore).apply(null,arguments)},ox=c.stackAlloc=function(){return(ox=c.stackAlloc=c.asm.stackAlloc).apply(null,arguments)};c.dynCall_iijjiiii=function(){return(c.dynCall_iijjiiii=c.asm.dynCall_iijjiiii).apply(null,arguments)},c.dynCall_jiji=function(){return(c.dynCall_jiji=c.asm.dynCall_jiji).apply(null,arguments)},c.keepRuntimeAlive=Dt,c.wasmMemory=O,c.cwrap=Pfe,c.ExitStatus=ji,c.PThread=Se;var lx;ha=function G(){lx||pF(),lx||(ha=G)};function pF(G){if(pn>0)return;if(b){f(c),Vt(),startWorker(c);return}if(Wt(),pn>0)return;function ae(){lx||(lx=!0,c.calledRun=!0,!W&&(Vt(),f(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),rn()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),ae()},1)):ae()}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();pF();var ux;p&&(ux={uncaughtException:process.listeners("uncaughtException").filter(function(G){return!p.uncaughtException.indexOf(G)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(G){return!p.unhandledRejection.indexOf(G)>-1})});var cx;if(typeof WasmBackendModule<"u")cx=WasmBackendModule;else if(typeof a<"u")cx=a;else throw new Error("Could not find wasm module in post.js");if(ux){var zfe=cx._dispose;cx._dispose=function(){zfe(),ux.uncaughtException.forEach(function(G){process.removeListener("uncaughtException",G)}),ux.unhandledRejection.forEach(function(G){process.removeListener("unhandledRejection",G)})}}return a.ready}})();typeof e=="object"&&typeof t=="object"?t.exports=n:typeof define=="function"&&define.amd?define([],function(){return n}):typeof e=="object"&&(e.WasmBackendModuleThreadedSimd=n)}),nHe=Kn((e,t)=>{t.exports.wasmWorkerContents=`"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"
");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};`}),rHe=Kn((e,t)=>{var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a){a=a||{};var i=typeof a<"u"?a:{},s,o;i.ready=new Promise(function(ie,pe){s=ie,o=pe});var l;typeof process<"u"&&process.listeners&&(l={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var u=Object.assign({},i),c=typeof window=="object",f=typeof importScripts=="function",d=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",p="";function h(ie){return i.locateFile?i.locateFile(ie,p):p+ie}var m,g,y;if(d){var v=OD(),b=dte();f?p=b.dirname(p)+"/":p=__dirname+"/",m=(ie,pe)=>(ie=We(ie)?new URL(ie):b.normalize(ie),v.readFileSync(ie,pe?void 0:"utf8")),y=ie=>{var pe=m(ie,!0);return pe.buffer||(pe=new Uint8Array(pe)),pe},g=(ie,pe,je)=>{ie=We(ie)?new URL(ie):b.normalize(ie),v.readFile(ie,function(Se,wt){Se?je(Se):pe(wt.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(ie){if(!(ie instanceof Dt))throw ie}),process.on("unhandledRejection",function(ie){throw ie}),i.inspect=function(){return"[Emscripten Module object]"}}else(c||f)&&(f?p=self.location.href:typeof document<"u"&&document.currentScript&&(p=document.currentScript.src),r&&(p=r),p.indexOf("blob:")!==0?p=p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1):p="",m=ie=>{var pe=new XMLHttpRequest;return pe.open("GET",ie,!1),pe.send(null),pe.responseText},f&&(y=ie=>{var pe=new XMLHttpRequest;return pe.open("GET",ie,!1),pe.responseType="arraybuffer",pe.send(null),new Uint8Array(pe.response)}),g=(ie,pe,je)=>{var Se=new XMLHttpRequest;Se.open("GET",ie,!0),Se.responseType="arraybuffer",Se.onload=()=>{if(Se.status==200||Se.status==0&&Se.response){pe(Se.response);return}je()},Se.onerror=je,Se.send(null)});var x=i.print||console.log.bind(console),S=i.printErr||console.warn.bind(console);Object.assign(i,u),u=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit;var k;i.wasmBinary&&(k=i.wasmBinary),i.noExitRuntime,typeof WebAssembly!="object"&&oe("no native wasm support detected");var I,N=!1,T=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function L(ie,pe,je){pe>>>=0;for(var Se=pe+je,wt=pe;ie[wt]&&!(wt>=Se);)++wt;if(wt-pe>16&&ie.buffer&&T)return T.decode(ie.subarray(pe,wt));for(var _t="";pe<wt;){var He=ie[pe++];if(!(He&128)){_t+=String.fromCharCode(He);continue}var qe=ie[pe++]&63;if((He&224)==192){_t+=String.fromCharCode((He&31)<<6|qe);continue}var Un=ie[pe++]&63;if((He&240)==224?He=(He&15)<<12|qe<<6|Un:He=(He&7)<<18|qe<<12|Un<<6|ie[pe++]&63,He<65536)_t+=String.fromCharCode(He);else{var ii=He-65536;_t+=String.fromCharCode(55296|ii>>10,56320|ii&1023)}}return _t}function E(ie,pe){return ie>>>=0,ie?L($,ie,pe):""}function M(ie,pe,je,Se){if(je>>>=0,!(Se>0))return 0;for(var wt=je,_t=je+Se-1,He=0;He<ie.length;++He){var qe=ie.charCodeAt(He);if(qe>=55296&&qe<=57343){var Un=ie.charCodeAt(++He);qe=65536+((qe&1023)<<10)|Un&1023}if(qe<=127){if(je>=_t)break;pe[je++>>>0]=qe}else if(qe<=2047){if(je+1>=_t)break;pe[je++>>>0]=192|qe>>6,pe[je++>>>0]=128|qe&63}else if(qe<=65535){if(je+2>=_t)break;pe[je++>>>0]=224|qe>>12,pe[je++>>>0]=128|qe>>6&63,pe[je++>>>0]=128|qe&63}else{if(je+3>=_t)break;pe[je++>>>0]=240|qe>>18,pe[je++>>>0]=128|qe>>12&63,pe[je++>>>0]=128|qe>>6&63,pe[je++>>>0]=128|qe&63}}return pe[je>>>0]=0,je-wt}function j(ie,pe,je){return M(ie,$,pe,je)}var D,F,$,B;function O(ie){D=ie,i.HEAP8=F=new Int8Array(ie),i.HEAP16=new Int16Array(ie),i.HEAP32=new Int32Array(ie),i.HEAPU8=$=new Uint8Array(ie),i.HEAPU16=new Uint16Array(ie),i.HEAPU32=B=new Uint32Array(ie),i.HEAPF32=new Float32Array(ie),i.HEAPF64=new Float64Array(ie)}i.INITIAL_MEMORY;var P=[],W=[],H=[];function q(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ce(i.preRun.shift());Wt(P)}function J(){Wt(W)}function re(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)he(i.postRun.shift());Wt(H)}function ce(ie){P.unshift(ie)}function ye(ie){W.unshift(ie)}function he(ie){H.unshift(ie)}var me=0,se=null;function ge(ie){me++,i.monitorRunDependencies&&i.monitorRunDependencies(me)}function we(ie){if(me--,i.monitorRunDependencies&&i.monitorRunDependencies(me),me==0&&se){var pe=se;se=null,pe()}}function oe(ie){i.onAbort&&i.onAbort(ie),ie="Aborted("+ie+")",S(ie),N=!0,ie+=". Build with -sASSERTIONS for more info.";var pe=new WebAssembly.RuntimeError(ie);throw o(pe),pe}var Be="data:application/octet-stream;base64,";function Te(ie){return ie.startsWith(Be)}function We(ie){return ie.startsWith("file://")}var Le;Le="tfjs-backend-wasm.wasm",Te(Le)||(Le=h(Le));function Ye(ie){try{if(ie==Le&&k)return new Uint8Array(k);if(y)return y(ie);throw"both async and sync fetching of the wasm failed"}catch(pe){oe(pe)}}function ot(){if(!k&&(c||f)){if(typeof fetch=="function"&&!We(Le))return fetch(Le,{credentials:"same-origin"}).then(function(ie){if(!ie.ok)throw"failed to load wasm binary file at '"+Le+"'";return ie.arrayBuffer()}).catch(function(){return Ye(Le)});if(g)return new Promise(function(ie,pe){g(Le,function(je){ie(new Uint8Array(je))},pe)})}return Promise.resolve().then(function(){return Ye(Le)})}function Zt(){var ie={env:dh,wasi_snapshot_preview1:dh};function pe(He,qe){var Un=He.exports;i.asm=Un,I=i.asm.memory,O(I.buffer),i.asm.__indirect_function_table,ye(i.asm.__wasm_call_ctors),we()}ge();function je(He){pe(He.instance)}function Se(He){return ot().then(function(qe){return WebAssembly.instantiate(qe,ie)}).then(function(qe){return qe}).then(He,function(qe){S("failed to asynchronously prepare wasm: "+qe),oe(qe)})}function wt(){return!k&&typeof WebAssembly.instantiateStreaming=="function"&&!Te(Le)&&!We(Le)&&!d&&typeof fetch=="function"?fetch(Le,{credentials:"same-origin"}).then(function(He){var qe=WebAssembly.instantiateStreaming(He,ie);return qe.then(je,function(Un){return S("wasm streaming compile failed: "+Un),S("falling back to ArrayBuffer instantiation"),Se(je)})}):Se(je)}if(i.instantiateWasm)try{var _t=i.instantiateWasm(ie,pe);return _t}catch(He){S("Module.instantiateWasm callback failed with error: "+He),o(He)}return wt().catch(o),{}}function Dt(ie){this.name="ExitStatus",this.message="Program terminated with exit("+ie+")",this.status=ie}function Wt(ie){for(;ie.length>0;)ie.shift()(i)}function Vt(){oe("")}function rn(){return 4294901760}function Rr(){return rn()}function fr(ie,pe,je){$.copyWithin(ie>>>0,pe>>>0,pe+je>>>0)}function Xt(ie){try{return I.grow(ie-D.byteLength+65535>>>16),O(I.buffer),1}catch{}}function pn(ie){var pe=$.length;ie=ie>>>0;var je=rn();if(ie>je)return!1;let Se=(Un,ii)=>Un+(ii-Un%ii)%ii;for(var wt=1;wt<=4;wt*=2){var _t=pe*(1+.2/wt);_t=Math.min(_t,ie+100663296);var He=Math.min(je,Se(Math.max(ie,_t),65536)),qe=Xt(He);if(qe)return!0}return!1}function ha(ie){return 52}function Js(ie,pe,je,Se,wt){return 70}var Zs=[null,[],[]];function ps(ie,pe){var je=Zs[ie];pe===0||pe===10?((ie===1?x:S)(L(je,0)),je.length=0):je.push(pe)}function Gl(ie,pe,je,Se){for(var wt=0,_t=0;_t<je;_t++){var He=B[pe>>>2],qe=B[pe+4>>>2];pe+=8;for(var Un=0;Un<qe;Un++)ps(ie,$[He+Un>>>0]);wt+=qe}return B[Se>>>2]=wt,0}function $a(ie){var pe=i["_"+ie];return pe}function ma(ie,pe){F.set(ie,pe>>>0)}function Bn(ie,pe,je,Se,wt){var _t={string:Qr=>{var Yl=0;if(Qr!=null&&Qr!==0){var ax=(Qr.length<<2)+1;Yl=ji(ax),j(Qr,Yl,ax)}return Yl},array:Qr=>{var Yl=ji(Qr.length);return ma(Qr,Yl),Yl}};function He(Qr){return pe==="string"?E(Qr):pe==="boolean"?!!Qr:Qr}var qe=$a(ie),Un=[],ii=0;if(Se)for(var Go=0;Go<Se.length;Go++){var nx=_t[je[Go]];nx?(ii===0&&(ii=ph()),Un[Go]=nx(Se[Go])):Un[Go]=Se[Go]}var I1=qe.apply(null,Un);function rx(Qr){return ii!==0&&Yc(ii),He(Qr)}return I1=rx(I1),I1}function hs(ie,pe,je,Se){je=je||[];var wt=je.every(He=>He==="number"||He==="boolean"),_t=pe!=="string";return _t&&wt&&!Se?$a(ie):function(){return Bn(ie,pe,je,arguments)}}var dh={abort:Vt,emscripten_get_heap_max:Rr,emscripten_memcpy_big:fr,emscripten_resize_heap:pn,fd_close:ha,fd_seek:Js,fd_write:Gl};Zt(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)},i._init=function(){return(i._init=i.asm.init).apply(null,arguments)},i._init_with_threads_count=function(){return(i._init_with_threads_count=i.asm.init_with_threads_count).apply(null,arguments)},i._get_threads_count=function(){return(i._get_threads_count=i.asm.get_threads_count).apply(null,arguments)},i._register_tensor=function(){return(i._register_tensor=i.asm.register_tensor).apply(null,arguments)},i._dispose_data=function(){return(i._dispose_data=i.asm.dispose_data).apply(null,arguments)},i._dispose=function(){return(i._dispose=i.asm.dispose).apply(null,arguments)},i._Abs=function(){return(i._Abs=i.asm.Abs).apply(null,arguments)},i._Acos=function(){return(i._Acos=i.asm.Acos).apply(null,arguments)},i._Acosh=function(){return(i._Acosh=i.asm.Acosh).apply(null,arguments)},i._Add=function(){return(i._Add=i.asm.Add).apply(null,arguments)},i._AddN=function(){return(i._AddN=i.asm.AddN).apply(null,arguments)},i._All=function(){return(i._All=i.asm.All).apply(null,arguments)},i._Any=function(){return(i._Any=i.asm.Any).apply(null,arguments)},i._ArgMax=function(){return(i._ArgMax=i.asm.ArgMax).apply(null,arguments)},i._ArgMin=function(){return(i._ArgMin=i.asm.ArgMin).apply(null,arguments)},i._Asin=function(){return(i._Asin=i.asm.Asin).apply(null,arguments)},i._Asinh=function(){return(i._Asinh=i.asm.Asinh).apply(null,arguments)},i._Atan=function(){return(i._Atan=i.asm.Atan).apply(null,arguments)},i._Atan2=function(){return(i._Atan2=i.asm.Atan2).apply(null,arguments)},i._Atanh=function(){return(i._Atanh=i.asm.Atanh).apply(null,arguments)},i._AvgPool=function(){return(i._AvgPool=i.asm.AvgPool).apply(null,arguments)},i._AvgPool3D=function(){return(i._AvgPool3D=i.asm.AvgPool3D).apply(null,arguments)},i._AvgPool3DGrad=function(){return(i._AvgPool3DGrad=i.asm.AvgPool3DGrad).apply(null,arguments)},i._AvgPoolGrad=function(){return(i._AvgPoolGrad=i.asm.AvgPoolGrad).apply(null,arguments)},i._BatchMatMul=function(){return(i._BatchMatMul=i.asm.BatchMatMul).apply(null,arguments)},i._Bincount=function(){return(i._Bincount=i.asm.Bincount).apply(null,arguments)},i._BitwiseAnd=function(){return(i._BitwiseAnd=i.asm.BitwiseAnd).apply(null,arguments)},i._Ceil=function(){return(i._Ceil=i.asm.Ceil).apply(null,arguments)},i._ClipByValue=function(){return(i._ClipByValue=i.asm.ClipByValue).apply(null,arguments)},i._Conv2D=function(){return(i._Conv2D=i.asm.Conv2D).apply(null,arguments)},i._Conv2DBackpropInput=function(){return(i._Conv2DBackpropInput=i.asm.Conv2DBackpropInput).apply(null,arguments)},i._Conv3D=function(){return(i._Conv3D=i.asm.Conv3D).apply(null,arguments)},i._Conv3DBackpropFilterV2=function(){return(i._Conv3DBackpropFilterV2=i.asm.Conv3DBackpropFilterV2).apply(null,arguments)},i._Conv3DBackpropInputV2=function(){return(i._Conv3DBackpropInputV2=i.asm.Conv3DBackpropInputV2).apply(null,arguments)},i._Cos=function(){return(i._Cos=i.asm.Cos).apply(null,arguments)},i._Cosh=function(){return(i._Cosh=i.asm.Cosh).apply(null,arguments)},i._CropAndResize=function(){return(i._CropAndResize=i.asm.CropAndResize).apply(null,arguments)},i._Cumprod=function(){return(i._Cumprod=i.asm.Cumprod).apply(null,arguments)},i._Cumsum=function(){return(i._Cumsum=i.asm.Cumsum).apply(null,arguments)},i._DenseBincount=function(){return(i._DenseBincount=i.asm.DenseBincount).apply(null,arguments)},i._DepthToSpace=function(){return(i._DepthToSpace=i.asm.DepthToSpace).apply(null,arguments)},i._DepthwiseConv2dNative=function(){return(i._DepthwiseConv2dNative=i.asm.DepthwiseConv2dNative).apply(null,arguments)},i._Diag=function(){return(i._Diag=i.asm.Diag).apply(null,arguments)},i._Dilation2D=function(){return(i._Dilation2D=i.asm.Dilation2D).apply(null,arguments)},i._Dilation2DBackpropFilter=function(){return(i._Dilation2DBackpropFilter=i.asm.Dilation2DBackpropFilter).apply(null,arguments)},i._Dilation2DBackpropInput=function(){return(i._Dilation2DBackpropInput=i.asm.Dilation2DBackpropInput).apply(null,arguments)},i._Elu=function(){return(i._Elu=i.asm.Elu).apply(null,arguments)},i._EluGrad=function(){return(i._EluGrad=i.asm.EluGrad).apply(null,arguments)},i._Equal=function(){return(i._Equal=i.asm.Equal).apply(null,arguments)},i._Erf=function(){return(i._Erf=i.asm.Erf).apply(null,arguments)},i._Exp=function(){return(i._Exp=i.asm.Exp).apply(null,arguments)},i._Expm1=function(){return(i._Expm1=i.asm.Expm1).apply(null,arguments)},i._FlipLeftRight=function(){return(i._FlipLeftRight=i.asm.FlipLeftRight).apply(null,arguments)},i._Floor=function(){return(i._Floor=i.asm.Floor).apply(null,arguments)},i._FloorDiv=function(){return(i._FloorDiv=i.asm.FloorDiv).apply(null,arguments)},i._FusedBatchNorm=function(){return(i._FusedBatchNorm=i.asm.FusedBatchNorm).apply(null,arguments)},i._FusedConv2D=function(){return(i._FusedConv2D=i.asm.FusedConv2D).apply(null,arguments)},i._FusedDepthwiseConv2D=function(){return(i._FusedDepthwiseConv2D=i.asm.FusedDepthwiseConv2D).apply(null,arguments)},i._Gather=function(){return(i._Gather=i.asm.Gather).apply(null,arguments)},i._GatherNd=function(){return(i._GatherNd=i.asm.GatherNd).apply(null,arguments)},i._Greater=function(){return(i._Greater=i.asm.Greater).apply(null,arguments)},i._GreaterEqual=function(){return(i._GreaterEqual=i.asm.GreaterEqual).apply(null,arguments)},i._IsFinite=function(){return(i._IsFinite=i.asm.IsFinite).apply(null,arguments)},i._IsInf=function(){return(i._IsInf=i.asm.IsInf).apply(null,arguments)},i._IsNan=function(){return(i._IsNan=i.asm.IsNan).apply(null,arguments)},i._LRN=function(){return(i._LRN=i.asm.LRN).apply(null,arguments)},i._LRNGrad=function(){return(i._LRNGrad=i.asm.LRNGrad).apply(null,arguments)},i._LeakyRelu=function(){return(i._LeakyRelu=i.asm.LeakyRelu).apply(null,arguments)},i._Less=function(){return(i._Less=i.asm.Less).apply(null,arguments)},i._LessEqual=function(){return(i._LessEqual=i.asm.LessEqual).apply(null,arguments)},i._LinSpace=function(){return(i._LinSpace=i.asm.LinSpace).apply(null,arguments)},i._Log=function(){return(i._Log=i.asm.Log).apply(null,arguments)},i._Log1p=function(){return(i._Log1p=i.asm.Log1p).apply(null,arguments)},i._LogicalAnd=function(){return(i._LogicalAnd=i.asm.LogicalAnd).apply(null,arguments)},i._LogicalNot=function(){return(i._LogicalNot=i.asm.LogicalNot).apply(null,arguments)},i._LogicalOr=function(){return(i._LogicalOr=i.asm.LogicalOr).apply(null,arguments)},i._LogicalXor=function(){return(i._LogicalXor=i.asm.LogicalXor).apply(null,arguments)},i._Max=function(){return(i._Max=i.asm.Max).apply(null,arguments)},i._MaxPool=function(){return(i._MaxPool=i.asm.MaxPool).apply(null,arguments)},i._MaxPool3D=function(){return(i._MaxPool3D=i.asm.MaxPool3D).apply(null,arguments)},i._MaxPool3DGrad=function(){return(i._MaxPool3DGrad=i.asm.MaxPool3DGrad).apply(null,arguments)},i._MaxPoolGrad=function(){return(i._MaxPoolGrad=i.asm.MaxPoolGrad).apply(null,arguments)},i._MaxPoolWithArgmax=function(){return(i._MaxPoolWithArgmax=i.asm.MaxPoolWithArgmax).apply(null,arguments)},i._Maximum=function(){return(i._Maximum=i.asm.Maximum).apply(null,arguments)},i._Mean=function(){return(i._Mean=i.asm.Mean).apply(null,arguments)},i._Min=function(){return(i._Min=i.asm.Min).apply(null,arguments)},i._Minimum=function(){return(i._Minimum=i.asm.Minimum).apply(null,arguments)},i._MirrorPad=function(){return(i._MirrorPad=i.asm.MirrorPad).apply(null,arguments)},i._Mod=function(){return(i._Mod=i.asm.Mod).apply(null,arguments)},i._Multinomial=function(){return(i._Multinomial=i.asm.Multinomial).apply(null,arguments)},i._Multiply=function(){return(i._Multiply=i.asm.Multiply).apply(null,arguments)},i._Neg=function(){return(i._Neg=i.asm.Neg).apply(null,arguments)},i._NonMaxSuppressionV3=function(){return(i._NonMaxSuppressionV3=i.asm.NonMaxSuppressionV3).apply(null,arguments)},i._NonMaxSuppressionV4=function(){return(i._NonMaxSuppressionV4=i.asm.NonMaxSuppressionV4).apply(null,arguments)},i._NonMaxSuppressionV5=function(){return(i._NonMaxSuppressionV5=i.asm.NonMaxSuppressionV5).apply(null,arguments)},i._NotEqual=function(){return(i._NotEqual=i.asm.NotEqual).apply(null,arguments)},i._OneHot=function(){return(i._OneHot=i.asm.OneHot).apply(null,arguments)},i._PadV2=function(){return(i._PadV2=i.asm.PadV2).apply(null,arguments)},i._Pow=function(){return(i._Pow=i.asm.Pow).apply(null,arguments)},i._Prelu=function(){return(i._Prelu=i.asm.Prelu).apply(null,arguments)},i._Prod=function(){return(i._Prod=i.asm.Prod).apply(null,arguments)},i._RealDiv=function(){return(i._RealDiv=i.asm.RealDiv).apply(null,arguments)},i._Reciprocal=function(){return(i._Reciprocal=i.asm.Reciprocal).apply(null,arguments)},i._Relu=function(){return(i._Relu=i.asm.Relu).apply(null,arguments)},i._Relu6=function(){return(i._Relu6=i.asm.Relu6).apply(null,arguments)},i._ResizeBilinear=function(){return(i._ResizeBilinear=i.asm.ResizeBilinear).apply(null,arguments)},i._ResizeBilinearGrad=function(){return(i._ResizeBilinearGrad=i.asm.ResizeBilinearGrad).apply(null,arguments)},i._ResizeNearestNeighbor=function(){return(i._ResizeNearestNeighbor=i.asm.ResizeNearestNeighbor).apply(null,arguments)},i._ResizeNearestNeighborGrad=function(){return(i._ResizeNearestNeighborGrad=i.asm.ResizeNearestNeighborGrad).apply(null,arguments)},i._Reverse=function(){return(i._Reverse=i.asm.Reverse).apply(null,arguments)},i._RotateWithOffset=function(){return(i._RotateWithOffset=i.asm.RotateWithOffset).apply(null,arguments)},i._Round=function(){return(i._Round=i.asm.Round).apply(null,arguments)},i._Rsqrt=function(){return(i._Rsqrt=i.asm.Rsqrt).apply(null,arguments)},i._ScatterNd=function(){return(i._ScatterNd=i.asm.ScatterNd).apply(null,arguments)},i._SearchSorted=function(){return(i._SearchSorted=i.asm.SearchSorted).apply(null,arguments)},i._SelectV2=function(){return(i._SelectV2=i.asm.SelectV2).apply(null,arguments)},i._Selu=function(){return(i._Selu=i.asm.Selu).apply(null,arguments)},i._Sigmoid=function(){return(i._Sigmoid=i.asm.Sigmoid).apply(null,arguments)},i._Sign=function(){return(i._Sign=i.asm.Sign).apply(null,arguments)},i._Sin=function(){return(i._Sin=i.asm.Sin).apply(null,arguments)},i._Sinh=function(){return(i._Sinh=i.asm.Sinh).apply(null,arguments)},i._Softmax=function(){return(i._Softmax=i.asm.Softmax).apply(null,arguments)},i._Softplus=function(){return(i._Softplus=i.asm.Softplus).apply(null,arguments)},i._SparseFillEmptyRows=function(){return(i._SparseFillEmptyRows=i.asm.SparseFillEmptyRows).apply(null,arguments)},i._SparseReshape=function(){return(i._SparseReshape=i.asm.SparseReshape).apply(null,arguments)},i._SparseSegmentReduction=function(){return(i._SparseSegmentReduction=i.asm.SparseSegmentReduction).apply(null,arguments)},i._SparseToDense=function(){return(i._SparseToDense=i.asm.SparseToDense).apply(null,arguments)},i._Sqrt=function(){return(i._Sqrt=i.asm.Sqrt).apply(null,arguments)},i._Square=function(){return(i._Square=i.asm.Square).apply(null,arguments)},i._SquaredDifference=function(){return(i._SquaredDifference=i.asm.SquaredDifference).apply(null,arguments)},i._Step=function(){return(i._Step=i.asm.Step).apply(null,arguments)},i._StridedSlice=function(){return(i._StridedSlice=i.asm.StridedSlice).apply(null,arguments)},i._Sub=function(){return(i._Sub=i.asm.Sub).apply(null,arguments)},i._Sum=function(){return(i._Sum=i.asm.Sum).apply(null,arguments)},i._Tan=function(){return(i._Tan=i.asm.Tan).apply(null,arguments)},i._Tanh=function(){return(i._Tanh=i.asm.Tanh).apply(null,arguments)},i._TensorScatterUpdate=function(){return(i._TensorScatterUpdate=i.asm.TensorScatterUpdate).apply(null,arguments)},i._Tile=function(){return(i._Tile=i.asm.Tile).apply(null,arguments)},i._TopK=function(){return(i._TopK=i.asm.TopK).apply(null,arguments)},i._Transform=function(){return(i._Transform=i.asm.Transform).apply(null,arguments)},i._Transpose=function(){return(i._Transpose=i.asm.Transpose).apply(null,arguments)},i.__FusedMatMul=function(){return(i.__FusedMatMul=i.asm._FusedMatMul).apply(null,arguments)},i._malloc=function(){return(i._malloc=i.asm.malloc).apply(null,arguments)},i._free=function(){return(i._free=i.asm.free).apply(null,arguments)},i.___errno_location=function(){return(i.___errno_location=i.asm.__errno_location).apply(null,arguments)};var ph=i.stackSave=function(){return(ph=i.stackSave=i.asm.stackSave).apply(null,arguments)},Yc=i.stackRestore=function(){return(Yc=i.stackRestore=i.asm.stackRestore).apply(null,arguments)},ji=i.stackAlloc=function(){return(ji=i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)};i.dynCall_iijjiiii=function(){return(i.dynCall_iijjiiii=i.asm.dynCall_iijjiiii).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.dynCall_jiji).apply(null,arguments)},i.cwrap=hs;var Hl;se=function ie(){Hl||ql(),Hl||(se=ie)};function ql(ie){if(me>0||(q(),me>0))return;function pe(){Hl||(Hl=!0,i.calledRun=!0,!N&&(J(),s(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),re()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),pe()},1)):pe()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();ql();var Yr;l&&(Yr={uncaughtException:process.listeners("uncaughtException").filter(function(ie){return!l.uncaughtException.indexOf(ie)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(ie){return!l.unhandledRejection.indexOf(ie)>-1})});var Vo;if(typeof a<"u")Vo=a;else if(typeof WasmBackendModuleThreadedSimd<"u")Vo=WasmBackendModuleThreadedSimd;else throw new Error("Could not find wasm module in post.js");if(Yr){var Ze=Vo._dispose;Vo._dispose=function(){Ze(),Yr.uncaughtException.forEach(function(ie){process.removeListener("uncaughtException",ie)}),Yr.unhandledRejection.forEach(function(ie){process.removeListener("unhandledRejection",ie)})}}return a.ready}})();typeof e=="object"&&typeof t=="object"?t.exports=n:typeof define=="function"&&define.amd?define([],function(){return n}):typeof e=="object"&&(e.WasmBackendModule=n)}),bN=class{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}},Jb=class{refCount(e){return Da("refCount")}incRef(e){return Da("incRef")}timerAvailable(){return!0}time(e){return Da("time")}read(e){return Da("read")}readSync(e){return Da("readSync")}readToGPU(e,t){return Da("readToGPU")}numDataIds(){return Da("numDataIds")}disposeData(e,t){return Da("disposeData")}write(e,t,n){return Da("write")}move(e,t,n,r,a){return Da("move")}createTensorFromGPUData(e,t,n){return Da("createTensorFromGPUData")}memory(){return Da("memory")}floatPrecision(){return Da("floatPrecision")}epsilon(){return this.floatPrecision()===32?1e-7:1e-4}dispose(){return Da("dispose")}};function Da(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function pte(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,Kk(e,t,n)}function aHe(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,Kk(e,n,r),Kk(t,n,r)}function ab(e,t,n){return Math.max(e,Math.min(t,n))}function iHe(e){return e%2===0?e:e+1}function Kk(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function sHe(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function oHe(e,t){let n=Math.random();return t*n+(1-n)*e}function lHe(e,t){let n=0;for(let r=0;r<e.length;r++){let a=Number(e[r])-Number(t[r]);n+=a*a}return n}function U(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function ca(e,t,n=""){U(Rl(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function Dd(e){U(e!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Bt(e){if(e.length===0)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function uHe(e){return e.length===0}function hte(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==null&&t[n]!==null&&e[n]!==t[n])return!1;return!0}function Rl(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ug(e){return e%1===0}function cHe(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{let t=Math.exp(2*e);return(t-1)/(t+1)}}function fHe(e){let t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function dHe(e){let t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return pte(t),t}function Fy(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function pHe(e,t=a=>0,n,r){return new Promise((a,i)=>{let s=0,o=()=>{if(e()){a();return}s++;let l=t(s);if(n!=null&&s>=n){i();return}r!=null?r(o,l):setTimeout(o,l)};o()})}function hHe(e,t){let n=1,r=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(e[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(e[i]<0)throw Error(`Shapes can not be < 0. Found ${e[i]} at dim ${i}`);if(r===-1){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(n===0)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);let a=e.slice();return a[r]=t/n,a}function cs(e,t){let n=t.length;return e=e==null?t.map((r,a)=>a):[].concat(e),U(e.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),U(e.every(r=>ug(r)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(r=>r<0?n+r:r)}function mte(e,t){let n=[],r=[],a=t!=null&&Array.isArray(t)&&t.length===0,i=t==null||a?null:cs(t,e).sort(),s=0;for(let o=0;o<e.length;++o){if(i!=null){if(i[s]===o&&e[o]!==1)throw new Error(`Can't squeeze axis ${o} since its dim '${e[o]}' is not 1`);(i[s]==null||i[s]>o)&&e[o]===1&&(n.push(e[o]),r.push(o)),i[s]<=o&&s++}e[o]!==1&&(n.push(e[o]),r.push(o))}return{newShape:n,keptDims:r}}function gte(e,t){return RD(e,t)}function RD(e,t){let n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else if(e==="string")n=new Array(t);else throw new Error(`Unknown data type ${e}`);return n}function yte(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function vte(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function mHe(e,t){return!(t==="complex64"||t==="float32"&&e!=="complex64"||t==="int32"&&e!=="float32"&&e!=="complex64"||t==="bool"&&e==="bool")}function Jk(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error(`Unknown dtype ${e}`)}function bte(e){if(e==null)return 0;let t=0;return e.forEach(n=>t+=n.length),t}function _u(e){return typeof e=="string"||e instanceof String}function wte(e){return typeof e=="boolean"}function xte(e){return typeof e=="number"}function Zb(e){return Array.isArray(e)?Zb(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":xte(e)?"float32":_u(e)?"string":wte(e)?"bool":"float32"}function ic(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Zk(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function t0(e){let t=e.length;if(t<2)return[];let n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Ste(e,t,n,r=!1){let a=new Array;if(t.length===1){let i=t[0]*(r?2:1);for(let s=0;s<i;s++)a[s]=n[e+s]}else{let i=t[0],s=t.slice(1),o=s.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<i;l++)a[l]=Ste(e+l*o,s,n,r)}return a}function om(e,t,n=!1){if(e.length===0)return t[0];let r=e.reduce((a,i)=>a*i)*(n?2:1);if(r===0)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return Ste(0,e,t,n)}function gHe(e,t){if(Array.isArray(e))return e;if(t==="float32")return e instanceof Float32Array?e:new Float32Array(e);if(t==="int32")return e instanceof Int32Array?e:new Int32Array(e);if(t==="bool"||t==="string")return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}function PD(e,t){let n=wN(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function wN(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function yHe(e,t){let n=e.reduce((r,a)=>r*a,1);if(t==null||t==="float32")return om(e,new Float32Array(n));if(t==="int32")return om(e,new Int32Array(n));if(t==="bool")return om(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function ai(e){e.forEach(t=>{U(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function vHe(e,t,n){if(t===0)return 0;if(t===1)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function bHe(e,t,n){if(t===0)return[];if(t===1)return[e];let r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function xN(e){return e&&e.then&&typeof e.then=="function"}var GW="tfjsflags",kte=class{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=wHe,this.populateURLFlags()}setPlatform(e,t){this.platform!=null&&(ne().getBool("IS_TEST")||ne().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},this.urlFlags[e]!=null){let r=this.urlFlags[e];ne().getBool("IS_TEST")||ne().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${r}.`),this.set(e,r)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];let t=this.evaluateFlag(e);if(xN(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;let e=this.getQueryParams(this.global.location.search);GW in e&&e[GW].split(",").forEach(t=>{let[n,r]=t.split(":");this.urlFlags[n]=SHe(n,r)})}};function wHe(e){let t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(xHe(t,r[0],r[1]),r.join("="))),t}function xHe(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function SHe(e,t){let n=t.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:t}function ne(){return FD}var FD=null;function kHe(e){FD=e}var IE;function Cte(){if(IE==null){let e;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else if(typeof self<"u")e=self;else throw new Error("Could not find a global object");IE=e}return IE}function CHe(){let e=Cte();return e._tfGlobals==null&&(e._tfGlobals=new Map),e._tfGlobals}function zD(e,t){let n=CHe();if(n.has(e))return n.get(e);{let r=t();return n.set(e,r),n.get(e)}}var n0="Abs",Od="Acos",Rd="Acosh",_c="Add",Pd="AddN",r0="All",a0="Any",i0="ArgMax",s0="ArgMin",Fd="Asin",zd="Asinh",Bd="Atan",Ud="Atanh",Wd="Atan2",Vd="AvgPool",Xb="AvgPoolGrad",o0="AvgPool3D",ew="AvgPool3DGrad",Gd="BatchMatMul",l0="BatchToSpaceND",u0="Bincount",c0="BitwiseAnd",Ite="BroadcastTo",tw="BroadcastArgs",Hd="Cast",qd="Ceil",jc="ClipByValue",SN="Complex",nw="ComplexAbs",f0="Concat",Yd="Conv2D",kN="Conv2DBackpropFilter",Qd="Conv2DBackpropInput",Kd="Conv3D",d0="Conv3DBackpropFilterV2",p0="Conv3DBackpropInputV2",Jd="Cos",Zd="Cosh",h0="Cumprod",Xd="Cumsum",m0="CropAndResize",rw="DenseBincount",g0="DepthToSpace",ep="DepthwiseConv2dNative",CN="DepthwiseConv2dNativeBackpropFilter",IN="DepthwiseConv2dNativeBackpropInput",aw="Diag",tp="Dilation2D",cg="Dilation2DBackpropInput",fg="Dilation2DBackpropFilter",NN="Draw",np="RealDiv",MN="Einsum",rp="Elu",y0="EluGrad",ap="Erf",v0="Equal",ip="Exp",b0="ExpandDims",sp="Expm1",TN="FFT",iw="Fill",w0="FlipLeftRight",op="Floor",lp="FloorDiv",up="FusedBatchNorm",x0="GatherV2",S0="GatherNd",k0="Greater",cp="GreaterEqual",fp="Identity",EN="IFFT",AN="Imag",dp="IsFinite",pp="IsInf",hp="IsNan",mp="LeakyRelu",C0="Less",I0="LessEqual",N0="LinSpace",gp="Log",yp="Log1p",M0="LogicalAnd",T0="LogicalNot",E0="LogicalOr",Nte="LogicalXor",Mte="LogSoftmax",IHe="LowerBound",vp="LRN",A0="LRNGrad",NHe="MatrixBandPart",bp="Max",wp="Maximum",xp="MaxPool",sw="MaxPoolGrad",L0="MaxPool3D",ow="MaxPool3DGrad",lw="MaxPoolWithArgmax",Sp="Mean",kp="Min",Cp="Minimum",Ip="MirrorPad",Np="Mod",_0="Multinomial",Mp="Multiply",j0="Neg",$0="NotEqual",D0="NonMaxSuppressionV3",O0="NonMaxSuppressionV4",R0="NonMaxSuppressionV5",P0="OnesLike",Tp="OneHot",F0="Pack",Ep="PadV2",MHe="Pool",Ap="Pow",Lp="Prelu",_p="Prod",LN="RaggedGather",_N="RaggedRange",jN="RaggedTensorToTensor",uw="Range",$N="Real",jp="Reciprocal",$p="Relu",z0="Reshape",Dp="ResizeNearestNeighbor",B0="ResizeNearestNeighborGrad",Op="ResizeBilinear",U0="ResizeBilinearGrad",Rp="Relu6",Pp="Reverse",Fp="Round",zp="Rsqrt",W0="ScatterNd",V0="TensorScatterUpdate",G0="SearchSorted",H0="Select",Bp="Selu",q0="Slice",Up="Sin",Wp="Sinh",Vp="Sign",Gp="Sigmoid",Hp="Softplus",qp="Sqrt",Yp="Sum",Y0="SpaceToBatchND",Q0="SplitV",Qp="Softmax",cw="SparseFillEmptyRows",K0="SparseReshape",fw="SparseSegmentMean",dw="SparseSegmentSum",J0="SparseToDense",Kp="SquaredDifference",pw="Square",hw="StaticRegexReplace",Z0="StridedSlice",mw="StringNGrams",gw="StringSplit",yw="StringToHashBucketFast",Jp="Sub",Zp="Tan",Xp="Tanh",$c="Tile",X0="TopK",e1="Transform",hl="Transpose",vw="Unique",t1="Unpack",bw="UnsortedSegmentSum",THe="UpperBound",n1="ZerosLike",Dc="Step",Xk="FromPixels",r1="RotateWithOffset",ed="_FusedMatMul",td="FusedConv2D",nd="FusedDepthwiseConv2D";function pu(...e){ne().getBool("IS_TEST")||ne().getBool("PROD")||console.warn(...e)}function EHe(...e){ne().getBool("IS_TEST")||ne().getBool("PROD")||console.log(...e)}var dg=zD("kernelRegistry",()=>new Map),ib=zD("gradRegistry",()=>new Map);function sb(e,t){let n=BD(e,t);return dg.get(n)}function aL(e){return ib.get(e)}function eC(e){let t=dg.entries(),n=[];for(;;){let{done:r,value:a}=t.next();if(r)break;let[i,s]=a,[o]=i.split("_");o===e&&n.push(s)}return n}function ww(e){let{kernelName:t,backendName:n}=e,r=BD(t,n);dg.has(r)&&pu(`The kernel '${t}' for backend '${n}' is already registered`),dg.set(r,e)}function Tte(e){let{kernelName:t}=e;ib.has(t)&&ne().getBool("DEBUG")&&pu(`Overriding the gradient for '${t}'`),ib.set(t,e)}function AHe(e,t){let n=BD(e,t);if(!dg.has(n))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);dg.delete(n)}function LHe(e){if(!ib.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);ib.delete(e)}function _He(e,t){eC(e).forEach(n=>{let r=Object.assign({},n,{backendName:t});ww(r)})}function BD(e,t){return`${t}_${e}`}var A={};et(A,{arraysEqual:()=>Rl,arraysEqualWithNull:()=>hte,assert:()=>U,assertNonNegativeIntegerDimensions:()=>ai,assertNonNull:()=>Dd,assertShapesMatch:()=>ca,bytesFromStringArray:()=>bte,bytesPerElement:()=>Jk,checkConversionForErrors:()=>yte,clamp:()=>ab,computeStrides:()=>t0,convertBackendValuesAndArrayBuffer:()=>gHe,createScalarValue:()=>PHe,createShuffledIndices:()=>dHe,decodeString:()=>tC,distSquared:()=>lHe,encodeString:()=>Sw,fetch:()=>zHe,fingerPrint64:()=>RHe,flatten:()=>sc,getArrayFromDType:()=>RD,getTypedArrayFromDType:()=>gte,hasEncodingLoss:()=>mHe,hexToLong:()=>xw,indexToLoc:()=>bHe,inferDtype:()=>Zb,inferFromImplicitShape:()=>hHe,isBoolean:()=>wte,isFunction:()=>ic,isInt:()=>ug,isNumber:()=>xte,isPromise:()=>xN,isScalarShape:()=>uHe,isString:()=>_u,isTypedArray:()=>br,isValidDtype:()=>vte,locToIndex:()=>vHe,makeOnesTypedArray:()=>PD,makeZerosNestedTypedArray:()=>yHe,makeZerosTypedArray:()=>wN,nearestDivisor:()=>Zk,nearestLargerEven:()=>iHe,now:()=>ob,parseAxisParam:()=>cs,randUniform:()=>oHe,repeatedTry:()=>pHe,rightPad:()=>Fy,shuffle:()=>pte,shuffleCombo:()=>aHe,sizeFromShape:()=>Bt,sizeToSquarishShape:()=>fHe,squeezeShape:()=>mte,sum:()=>sHe,swap:()=>Kk,tanh:()=>cHe,toNestedArray:()=>om,toTypedArray:()=>DN});function Ete(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var HW=Lc(B7e()),lf=HW.default||HW;function xw(e){return lf.fromString(e,!0,16)}var Ate=xw("c3a5c85c97cb3127"),af=xw("b492b66fbe98f273"),na=xw("9ae16a3b2f90404f");function iL(e){return e.xor(e.shru(47))}function Lte(e,t,n){let r=e.slice(t,t+n);return lf.fromBytes(Array.from(r),!0,!0)}function an(e,t){return Lte(e,t,8)}function qW(e,t){return Lte(e,t,4)}function vr(e,t){return t===0?e:e.shru(t).or(e.shl(64-t))}function Ku(e,t,n=xw("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function jHe(e,t,n,r,a,i){a=a.add(e),i=vr(i.add(a).add(r),21);let s=a;return a=a.add(t),a=a.add(n),i=i.add(vr(a,44)),[a.add(r),i.add(s)]}function i2(e,t,n,r){return jHe(an(e,t),an(e,t+8),an(e,t+16),an(e,t+24),n,r)}function $He(e,t=e.length){if(t>=8){let n=na.add(t*2),r=an(e,0).add(na),a=an(e,t-8),i=vr(a,37).mul(n).add(r),s=vr(r,25).add(a).mul(n);return Ku(i,s,n)}if(t>=4){let n=na.add(t*2),r=qW(e,0);return Ku(r.shl(3).add(t),qW(e,t-4),n)}if(t>0){let n=e[0],r=e[t>>1],a=e[t-1],i=n+(r<<8),s=t+(a<<2);return iL(na.mul(i).xor(Ate.mul(s))).mul(na)}return na}function DHe(e,t=e.length){let n=na.add(t*2),r=an(e,0).mul(af),a=an(e,8),i=an(e,t-8).mul(n),s=an(e,t-16).mul(na);return Ku(vr(r.add(a),43).add(vr(i,30)).add(s),r.add(vr(a.add(na),18)).add(i),n)}function OHe(e,t=e.length){let n=na.add(t*2),r=an(e,0).mul(na),a=an(e,8),i=an(e,t-8).mul(n),s=an(e,t-16).mul(na),o=vr(r.add(a),43).add(vr(i,30)).add(s),l=Ku(o,r.add(vr(a.add(na),18)).add(i),n),u=an(e,16).mul(n),c=an(e,24),f=o.add(an(e,t-32)).mul(n),d=l.add(an(e,t-24)).mul(n);return Ku(vr(u.add(c),43).add(vr(f,30)).add(d),u.add(vr(c.add(r),18)).add(f),n)}function RHe(e,t=e.length){let n=lf.fromNumber(81,!0);if(t<=32)return t<=16?$He(e,t):DHe(e,t);if(t<=64)return OHe(e,t);let r=n,a=n.mul(af).add(113),i=iL(a.mul(na).add(113)).mul(na),s=[lf.UZERO,lf.UZERO],o=[lf.UZERO,lf.UZERO];r=r.mul(na).add(an(e,0));let l=0,u=(t-1>>6)*64,c=u+(t-1&63)-63;do r=vr(r.add(a).add(s[0]).add(an(e,l+8)),37).mul(af),a=vr(a.add(s[1]).add(an(e,l+48)),42).mul(af),r=r.xor(o[1]),a=a.add(s[0]).add(an(e,l+40)),i=vr(i.add(o[0]),33).mul(af),s=i2(e,l,s[1].mul(af),r.add(o[0])),o=i2(e,l+32,i.add(o[1]),a.add(an(e,l+16))),[i,r]=[r,i],l+=64;while(l!==u);let f=af.add(i.and(255).shl(1));return l=c,o[0]=o[0].add(t-1&63),s[0]=s[0].add(o[0]),o[0]=o[0].add(s[0]),r=vr(r.add(a).add(s[0]).add(an(e,l+8)),37).mul(f),a=vr(a.add(s[1]).add(an(e,l+48)),42).mul(f),r=r.xor(o[1].mul(9)),a=a.add(s[0].mul(9).add(an(e,l+40))),i=vr(i.add(o[0]),33).mul(f),s=i2(e,l,s[1].mul(f),r.add(o[0])),o=i2(e,l+32,i.add(o[1]),a.add(an(e,l+16))),[i,r]=[r,i],Ku(Ku(s[0],o[0],f).add(iL(a).mul(Ate)).add(i),Ku(s[1],o[1],f).add(r),f)}function PHe(e,t){return t==="string"?Sw(e):DN([e],t)}function FHe(e,t){return e instanceof Float32Array&&t==="float32"||e instanceof Int32Array&&t==="int32"||e instanceof Uint8Array&&t==="bool"}function DN(e,t){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=sc(e)),ne().getBool("DEBUG")&&yte(e,t),FHe(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){let n=new Uint8Array(e.length);for(let r=0;r<n.length;++r)Math.round(e[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${t}`)}function ob(){return ne().platform.now()}function zHe(e,t){return ne().platform.fetch(e,t)}function Sw(e,t="utf-8"){return t=t||"utf-8",ne().platform.encode(e,t)}function tC(e,t="utf-8"){return t=t||"utf-8",ne().platform.decode(e,t)}function br(e){return ne().platform.isTypedArray!=null?ne().platform.isTypedArray(e):Ete(e)}function sc(e,t=[],n=!1){if(t==null&&(t=[]),typeof e=="boolean"||typeof e=="number"||typeof e=="string"||xN(e)||e==null||br(e)&&n)t.push(e);else if(Array.isArray(e)||br(e))for(let r=0;r<e.length;++r)sc(e[r],t,n);else{let r=-1;for(let a of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(a)&&(r=Math.max(r,Number(a)));for(let a=0;a<=r;a++)sc(e[a],t,n)}return t}var BHe=class{constructor(e,t){this.backendTimer=e,this.logger=t,t==null&&(this.logger=new WHe)}profileKernel(e,t,n){let r,a=()=>{r=n()},i,s=ob();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(a);else{a();for(let o of r)o.dataSync();i=Promise.resolve({kernelMs:ob()-s})}if(ne().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let o=0;o<r.length;o++){let l=r[o];l.data().then(u=>{UHe(u,l.dtype,e)})}return{kernelName:e,outputs:r,inputs:t,timeMs:i.then(o=>o.kernelMs),extraInfo:i.then(o=>o.getExtraProfileInfo!=null?o.getExtraProfileInfo():"")}}logKernelProfile(e){let{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:i}=e;n.forEach(s=>{Promise.all([s.data(),r,i]).then(o=>{this.logger.logKernelProfile(t,s,o[0],o[1],a,o[2])})})}};function UHe(e,t,n){if(t!=="float32")return!1;for(let r=0;r<e.length;r++){let a=e[r];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}var WHe=class{logKernelProfile(e,t,n,r,a,i){let s=typeof r=="number"?Fy(`${r}ms`,9):r.error,o=Fy(e,25),l=t.rank,u=t.size,c=Fy(t.shape.toString(),14),f="";for(let d in a){let p=a[d];if(p!=null){let h=p.shape||t.shape,m=h.length;f+=`${d}: ${m}D ${m>0?h:""} `}}console.log(`%c${o}	%c${s}	%c${l}D ${c}	%c${u}	%c${f}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};function VHe(e,t,n){let r={},a={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){let u=e[l],c=u.inputs;for(let f in c){let d=c[f],p=!1;for(let h=0;h<t.length;h++)if(r[d.id]){u.outputs.forEach(m=>r[m.id]=!0),p=!0,a[u.id]=!0;break}if(p)break}}let i={};i[n.id]=!0;let s={};for(let l=e.length-1;l>=0;l--){let u=e[l],c=u.inputs;for(let f=0;f<u.outputs.length;f++)if(i[u.outputs[f].id]){for(let d in c)i[c[d].id]=!0,s[u.id]=!0;break}}let o=[];for(let l=0;l<e.length;l++){let u=e[l];if(a[u.id]&&s[u.id]){let c={};for(let d in u.inputs){let p=u.inputs[d];r[p.id]&&(c[d]=p)}let f=Object.assign({},u);f.inputs=c,f.outputs=u.outputs,o.push(f)}}return o}function GHe(e,t,n,r){for(let a=t.length-1;a>=0;a--){let i=t[a],s=[];if(i.outputs.forEach(l=>{let u=e[l.id];u!=null?s.push(u):s.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);let o=i.gradient(s);for(let l in i.inputs){if(!(l in o))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(o)}.`);let u=n(()=>o[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);let c=i.inputs[l];if(!Rl(u.shape,c.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(e[c.id]==null)e[c.id]=u;else{let f=e[c.id];e[c.id]=r(f,u),f.dispose()}}}}var YW=20,J1=3,NE=7;function HHe(e,t,n,r){let a=t0(t),i=qHe(e,t,n,a),s=t.length,o=Q2(e,t,n,a,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${s}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(o.map(u=>"    "+u).join(`
`)),l.join(`
`)}function qHe(e,t,n,r){let a=Bt(t),i=r[r.length-1],s=new Array(i).fill(0),o=t.length,l=n==="complex64"?dy(e):e;if(o>1)for(let u=0;u<a/i;u++){let c=u*i;for(let f=0;f<i;f++)s[f]=Math.max(s[f],fy(l[c+f],0,n).length)}return s}function fy(e,t,n){let r;return Array.isArray(e)?r=`${parseFloat(e[0].toFixed(NE))} + ${parseFloat(e[1].toFixed(NE))}j`:_u(e)?r=`'${e}'`:n==="bool"?r=_te(e):r=parseFloat(e.toFixed(NE)).toString(),Fy(r,t)}function _te(e){return e===0?"false":"true"}function Q2(e,t,n,r,a,i=!0){let s=n==="complex64"?2:1,o=t[0],l=t.length;if(l===0){if(n==="complex64"){let m=dy(e);return[fy(m[0],0,n)]}return n==="bool"?[_te(e[0])]:[e[0].toString()]}if(l===1){if(o>YW){let m=J1*s,g=Array.from(e.slice(0,m)),y=Array.from(e.slice((o-J1)*s,o*s));return n==="complex64"&&(g=dy(g),y=dy(y)),["["+g.map((v,b)=>fy(v,a[b],n)).join(", ")+", ..., "+y.map((v,b)=>fy(v,a[o-J1+b],n)).join(", ")+"]"]}return["["+(n==="complex64"?dy(e):Array.from(e)).map((m,g)=>fy(m,a[g],n)).join(", ")+"]"]}let u=t.slice(1),c=r.slice(1),f=r[0]*s,d=[];if(o>YW){for(let m=0;m<J1;m++){let g=m*f,y=g+f;d.push(...Q2(e.slice(g,y),u,n,c,a,!1))}d.push("...");for(let m=o-J1;m<o;m++){let g=m*f,y=g+f;d.push(...Q2(e.slice(g,y),u,n,c,a,m===o-1))}}else for(let m=0;m<o;m++){let g=m*f,y=g+f;d.push(...Q2(e.slice(g,y),u,n,c,a,m===o-1))}let p=l===2?",":"";d[0]="["+(o>0?d[0]+p:"");for(let m=1;m<d.length-1;m++)d[m]=" "+d[m]+p;let h=`,
`;for(let m=2;m<l;m++)h+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":h),d}function dy(e){let t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var qn=class{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=Bt(e),n!=null){let r=n.length;U(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if(t==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||RD(t,this.size),this.strides=t0(e)}set(e,...t){t.length===0&&(t=[0]),U(t.length===this.rank,()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`);let n=this.locToIndex(t);this.values[n]=e}get(...e){e.length===0&&(e=[0]);let t=0;for(let r of e){if(r<0||r>=this.shape[t]){let a=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(a)}t++}let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.values[n]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];let t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Es().makeTensor(this.values,this.shape,this.dtype)}},Es=null,Mh=null;function YHe(e){Es=e}function QHe(e){Mh=e}var nt=class{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Bt(e),this.strides=t0(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){let e=await this.data();return Mh.buffer(this.shape,this.dtype,e)}bufferSync(){return Mh.buffer(this.shape,this.dtype,this.dataSync())}async array(){let e=await this.data();return om(this.shape,e,this.dtype==="complex64")}arraySync(){return om(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();let e=Es().read(this.dataId);if(this.dtype==="string"){let t=await e;try{return t.map(n=>tC(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Es().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();let e=Es().readSync(this.dataId);if(this.dtype==="string")try{return e.map(t=>tC(t))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();let e=await Es().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Es().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Mh.print(this,e)}clone(){return this.throwIfDisposed(),Mh.clone(this)}toString(e=!1){let t=this.dataSync();return HHe(t,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Mh.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),Es().makeVariable(this,e,t,n)}};Object.defineProperty(nt,Symbol.hasInstance,{value:e=>!!e&&e.data!=null&&e.dataSync!=null&&e.throwIfDisposed!=null});function ue(){return zD("Tensor",()=>nt)}ue();var rd=class extends nt{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Rl(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Es().disposeTensor(this),this.dataId=e.dataId,Es().incRef(this,null)}dispose(){Es().disposeVariable(this),this.isDisposedInternal=!0}};Object.defineProperty(rd,Symbol.hasInstance,{value:e=>e instanceof nt&&e.assign!=null&&e.assign instanceof Function});var Os={};et(Os,{assertTypesMatch:()=>Dte,getTensorsInContainer:()=>UD,isTensorInList:()=>JHe,makeTypesMatch:()=>Tn});var sL;(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(sL||(sL={}));var oL;(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(oL||(oL={}));var lL;(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(lL||(lL={}));var uL;(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})(uL||(uL={}));var cL;(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})(cL||(cL={}));var KHe={float32:uL,int32:oL,bool:lL,complex64:cL};function Ci(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return KHe[e][t]}function ON(e){return Ci(e,"int32")}function jte(e){return e!=null&&typeof e=="object"&&"texture"in e&&e.texture instanceof WebGLTexture}function $te(e){return typeof GPUBuffer<"u"&&e!=null&&typeof e=="object"&&"buffer"in e&&e.buffer instanceof GPUBuffer}function Tn(e,t){if(e.dtype===t.dtype)return[e,t];let n=Ci(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Dte(e,t){U(e.dtype===t.dtype,()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`)}function JHe(e,t){return t.some(n=>n.id===e.id)}function UD(e){let t=[];return Ote(e,t,new Set),t}function Ote(e,t,n){if(e==null)return;if(e instanceof nt){t.push(e);return}if(!ZHe(e))return;let r=e;for(let a in r){let i=r[a];n.has(i)||(n.add(i),Ote(i,t,n))}}function ZHe(e){return Array.isArray(e)||typeof e=="object"}function ME(e){return e.kernelName!=null}var QW=class{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(let e in this.registeredVariables)this.registeredVariables[e].dispose()}},WD=class fL{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new QW}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;let t=this.getSortedBackends();for(let n=0;n<t.length;n++){let r=t[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){let{name:t,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry))if(t in this.registryFactory){let{asyncInit:n}=this.initializeBackend(t);if(n)return null}else return null;return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,n,r=1){return t in this.registryFactory?(pu(`${t} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[t]={factory:n,priority:r},!0)}async setBackend(t){if(this.registryFactory[t]==null)throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,this.registry[t]==null){this.backendInstance=null;let{success:n,asyncInit:r}=this.initializeBackend(t);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new BHe(this.backendInstance),!0}setupRegisteredKernels(){eC(this.backendName).forEach(t=>{t.setupFunc!=null&&t.setupFunc(this.backendInstance)})}disposeRegisteredKernels(t){eC(t).forEach(n=>{n.disposeFunc!=null&&n.disposeFunc(this.registry[t])})}initializeBackend(t){let n=this.registryFactory[t];if(n==null)throw new Error(`Cannot initialize backend ${t}, no registration found.`);try{let r=n.factory();if(r&&!(r instanceof Jb)&&typeof r.then=="function"){let a=++this.pendingBackendInitId,i=r.then(s=>a<this.pendingBackendInitId?!1:(this.registry[t]=s,this.pendingBackendInit=null,!0)).catch(s=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,pu(`Initialization of backend ${t} failed`),pu(s.stack||s.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(r){return pu(`Initialization of backend ${t} failed`),pu(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(`${t} backend not found in registry`);this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((t,n)=>this.registryFactory[n].priority-this.registryFactory[t].priority)}initializeBackendsAndReturnBest(){let t=this.getSortedBackends();for(let n=0;n<t.length;n++){let r=t[n],{success:a,asyncInit:i}=this.initializeBackend(r);if(i||a)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,n){let r=this.state.tensorInfo.get(n),a=r.backend,i=this.readSync(n),s=a.refCount(n);a.disposeData(n,!0),r.backend=t,t.move(n,i,r.shape,r.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,n){let r=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}let a;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=n(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(t,n,r){t();try{let a=r();return n(),a}catch(a){throw n(),a}}nextTensorId(){return fL.nextTensorId++}nextVariableId(){return fL.nextVariableId++}clone(t){let n=Y.runKernel(fp,{x:t}),r={x:t},a=s=>({x:()=>{let o="float32",l={x:s},u={dtype:o};return Y.runKernel(Hd,l,u)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],a,i,{}),n}runKernel(t,n,r){if(this.backendName==null&&this.backend,sb(t,this.backendName)==null)throw new Error(`Kernel '${t}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:t,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,n,r){let a=this.backend.numDataIds(),i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});let s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=a-n-i-s;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${t}'`)}runKernelFunc(t){let n,r=[],a=this.isTapeOn(),i=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let o;this.backendName==null&&this.backend;let l,u=ME(t)?t.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(ME(t)){let{kernelName:h,inputs:m,attrs:g}=t;this.backendName==null&&this.backend;let y=sb(h,this.backendName);U(y!=null,()=>`Cannot find registered kernel '${h}' for backend '${this.backendName}'`),o=()=>{let v=this.backend.numDataIds();l=y.kernelFunc({inputs:m,attrs:g,backend:this.backend});let b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(h,v,b);let x=b.map(S=>S.rank!=null?S:this.makeTensorFromTensorInfo(S));if(a){let S=this.getTensorsForGradient(h,m,x);r=this.saveTensorsForBackwardMode(S)}return x}}else{let{forwardFunc:h}=t,m=g=>{a&&(r=g.map(y=>this.keep(this.clone(y))))};o=()=>{let g=this.backend.numDataIds();l=this.tidy(()=>h(this.backend,m));let y=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,g,y),y}}let{inputs:c,attrs:f}=t,d=ME(t)?null:t.backwardsFunc,p;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=o():(p=this.profiler.profileKernel(u,c,()=>o()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),n=p.outputs)}),a&&this.addTapeNode(u,c,n,d,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(h=>c[h]!=null?c[h].shape:null),outputShapes:n.map(h=>h.shape),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(t){return t.map(n=>this.keep(this.clone(n)))}getTensorsForGradient(t,n,r){let a=aL(t);if(a!=null){let i=a.inputsToSave||[],s=a.outputsToSave||[],o;a.saveAllInputs?(U(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(n).map(u=>n[u])):o=i.map(u=>n[u]);let l=r.filter((u,c)=>s[c]);return o.concat(l)}return[]}makeTensor(t,n,r,a){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;let i=t;r==="string"&&_u(t[0])&&(i=t.map(l=>Sw(l)));let s=a.write(i,n,r),o=new nt(n,r,s,this.nextTensorId());if(this.trackTensor(o,a),r==="string"){let l=this.state.tensorInfo.get(s),u=bte(i);this.state.numBytes+=u-l.bytes,l.bytes=u}return o}makeTensorFromDataId(t,n,r,a){r=r||"float32";let i={dataId:t,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,a)}makeTensorFromTensorInfo(t,n){let{dataId:r,shape:a,dtype:i}=t,s=new nt(a,i,r,this.nextTensorId());return this.trackTensor(s,n),s}makeVariable(t,n=!0,r,a){r=r||this.nextVariableId().toString(),a!=null&&a!==t.dtype&&(t=t.cast(a));let i=new rd(t,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(t,n){this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++;let r=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(r=t.size*Jk(t.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(t.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:r})),t instanceof rd||this.track(t)}incRef(t,n){this.trackTensor(t,n),this.backend.incRef(t.dataId)}removeDataId(t,n){this.state.tensorInfo.has(t)&&this.state.tensorInfo.get(t).backend===n&&(this.state.tensorInfo.delete(t),this.state.numDataBuffers--)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;let n=this.state.tensorInfo.get(t.dataId);if(this.state.numTensors--,t.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),t.dtype!=="complex64"&&t.dtype!=="string"){let r=t.size*Jk(t.dtype);this.state.numBytes-=r}n.backend.disposeData(t.dataId)&&this.removeDataId(t.dataId,n.backend)}disposeVariables(){for(let t in this.state.registeredVariables){let n=this.state.registeredVariables[t];this.disposeVariable(n)}}disposeVariable(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]}memory(){let t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;let n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(let a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(t,n,r,a,i,s){let o={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:i},l=aL(t);l!=null&&(a=l.gradFunc),a!=null&&(o.gradient=u=>(u=u.map((c,f)=>{if(c==null){let d=r[f],p=wN(d.size,d.dtype);return this.makeTensor(p,d.shape,d.dtype)}return c}),a(u.length>1?u:u[0],i,s))),this.state.activeTape.push(o)}keep(t){return t.kept=!0,t}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){let n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(t){let n=UD(t),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){let s=this.state.activeScope.track[i];!s.kept&&!r.has(s.id)&&s.dispose()}let a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===a.id&&this.track(i)})}gradients(t,n,r,a=!1){if(U(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);let i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",t));U(i instanceof nt,()=>"The result y returned by f() must be a tensor.");let s=VHe(this.state.activeTape,n,i);if(!a&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let o={};o[i.id]=r??XHe(i.shape),GHe(o,s,u=>this.tidy(u),eqe);let l=n.map(u=>o[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(let c of u.saved)c.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(t){return U(ic(t),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{U(n.every(o=>o instanceof nt),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r,a={};n.forEach((o,l)=>{a[l]=o});let i=(o,l)=>(r=t(...n,l),U(r.value instanceof nt,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),U(ic(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),s=(o,l)=>{let u=r.gradFunc(o,l),c=Array.isArray(u)?u:[u];U(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),U(c.every(d=>d instanceof nt),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let f={};return c.forEach((d,p)=>{f[p]=()=>d}),f};return this.runKernelFunc({forwardFunc:i,backwardsFunc:s,inputs:a})}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}readToGPU(t,n){return this.state.tensorInfo.get(t).backend.readToGPU(t,n)}async time(t){let n=ob(),r=await this.backend.time(t);return r.wallMs=ob()-n,r}track(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new QW;for(let t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}};WD.nextTensorId=0;WD.nextVariableId=0;function XHe(e){let t=PD(Bt(e),"float32");return Y.makeTensor(t,e,"float32")}function Rte(){let e=Cte();if(e._tfengine==null){let t=new kte(e);e._tfengine=new WD(t)}return kHe(e._tfengine.ENV),YHe(()=>e._tfengine),e._tfengine}var Y=Rte();function eqe(e,t){let n={a:e,b:t};return Y.runKernel(_c,n)}var kw={};et(kw,{isBrowser:()=>Pte,isMobile:()=>rqe,mockIsMobile:()=>nqe});function tqe(){return typeof navigator<"u"&&navigator!=null}var dL;function nqe(e){dL=e}function rqe(e){if(dL!==void 0)return dL;if(e||tqe()){if(e||(e=navigator),e.product==="ReactNative")return!0;let t=e.userAgent||e.vendor||(typeof window<"u"?window.opera:"");if(!t){let n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function Pte(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var Ma=ne();Ma.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Ma.registerFlag("IS_BROWSER",()=>Pte());Ma.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Ma.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Ma.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Ma.registerFlag("PROD",()=>!1);Ma.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ma.getBool("DEBUG"));Ma.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Ma.registerFlag("IS_TEST",()=>!1);Ma.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Ma.getBool("DEBUG"));Ma.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Ma.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Ma.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function jo(e,t){let n=e;if(br(e))return t==="string"?[]:[e.length];if(jte(e)){let a=e.channels||"RGBA";return[e.height,e.width*a.length]}else if($te(e))return[e.buffer.size/(t==null?4:Jk(t))];if(!Array.isArray(e))return[];let r=[];for(;Array.isArray(n)||br(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&ne().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Fte(e,r,[]),r}function Fte(e,t,n){if(n=n||[],!Array.isArray(e)&&!br(e)){U(t.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}U(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),U(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);let r=t.slice(1);for(let a=0;a<e.length;++a)Fte(e[a],r,n.concat(a))}function KW(e,t,n,r){if(e!=="string_or_numeric"){if(e==null)throw new Error("Expected dtype cannot be null.");if(e!=="numeric"&&e!==t||e==="numeric"&&t==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function z(e,t,n,r="numeric"){if(e instanceof ue())return KW(r,e.dtype,t,n),e;let a=Zb(e);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),KW(r,a,t,n),e==null||!br(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){let o=e==null?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${o}'`)}let i=jo(e,a);!br(e)&&!Array.isArray(e)&&(e=[e]);let s=a!=="string"?DN(e,a):sc(e,[],!0);return Y.makeTensor(s,i,a)}function lb(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((a,i)=>z(a,`${t}[${i}]`,n,r))}var VD="__op";function Q(e){let t=Object.keys(e);if(t.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+VD;let a=(...i)=>{Y.startScope(n);try{let s=r(...i);return xN(s)&&console.error("Cannot return a Promise inside of tidy."),Y.endScope(s),s}catch(s){throw Y.endScope(null),s}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}function aqe(e,t){let n=z(e,"real","complex"),r=z(t,"imag","complex");ca(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);let a={real:n,imag:r};return Y.runKernel(SN,a)}var El=Q({complex_:aqe});function Oc(e,t,n,r){if(r==null)r=Zb(e);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if($te(e)||jte(e)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return Y.backend.createTensorFromGPUData(e,t||n,r)}if(!br(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){ai(t);let a=Bt(t),i=Bt(n);U(a===i,()=>`Based on the provided shape, [${t}], the tensor should have ${a} values but has ${i}`);for(let s=0;s<n.length;++s){let o=n[s],l=s===n.length-1?o!==Bt(t.slice(s)):!0;U(n[s]===t[s]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return!br(e)&&!Array.isArray(e)&&(e=[e]),t=t||n,e=r!=="string"?DN(e,r):sc(e,[],!0),Y.makeTensor(e,t,r)}function ia(e,t,n){let r=jo(e,n);return Oc(e,t,r,n)}var ad={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},Pl=class zte{static join(t){return new zte(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,t==null||(t instanceof Array||(t=[t]),t=t.map(r=>br(r)?r.buffer:r),t.length===0))return;this.bufferUniformSize=t[0].byteLength;let n=0;for(let r=0;r<t.length;r++){let a=t[r];r!==t.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);let i=n+a.byteLength;this.shards.push({buffer:a,start:n,end:i}),n=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,n=isNaN(Number(n))?0:n,t=Math.max(0,t),n=Math.min(this.byteLength,n),n<=t)return new ArrayBuffer(0);let r=this.findShardForByte(t);if(r===-1)throw new Error(`Could not find start shard for byte ${t}`);let a=n-t,i=new ArrayBuffer(a),s=new Uint8Array(i),o=0;for(let l=r;l<this.shards.length;l++){let u=this.shards[l],c=t+o-u.start,f=o,d=Math.min(n,u.end)-u.start,p=new Uint8Array(u.buffer,c,d-c);if(s.set(p,f),o+=p.length,n<u.end)break}return i}findShardForByte(t){if(this.shards.length===0||t<0||t>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function n(a){return t<a.start?-1:t>=a.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;let r=iqe(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}};function iqe(e,t){let n=0,r=e.length;for(;n<=r;){let a=Math.floor((r-n)/2)+n,i=t(e[a]);if(i===0)return a;i<0?r=a:n=a+1}return-1}function sqe(){ne().set("PROD",!0)}function oqe(){ne().set("DEBUG",!0)}function lqe(){ne().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Bte(e){ne().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function uqe(){Y.disposeVariables()}function Ui(){return Y}function pL(){return Y.memory()}function cqe(e){return Y.profile(e)}function X(e,t){return Y.tidy(e,t)}function Xe(e){UD(e).forEach(t=>t.dispose())}function rr(e){return Y.keep(e)}function fqe(e){return Y.time(e)}function dqe(e){return Y.setBackend(e)}function pqe(){return Y.ready()}function Ute(){return Y.backendName}function hqe(e){Y.removeBackend(e)}function mqe(e){return Y.findBackend(e)}function gqe(e){return Y.findBackendFactory(e)}function RN(e,t,n=1){return Y.registerBackend(e,t,n)}function GD(){return Y.backend}function yqe(e,t){ne().setPlatform(e,t)}var oc=4;async function vqe(e,t){let n=[],r=[],a=Array.isArray(e)?e.map(s=>s.name):Object.keys(e);for(let s=0;s<a.length;++s){let o=a[s],l=Array.isArray(e)?e[s].tensor:e[o];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${o}': ${l.dtype}`);let u={name:o,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){let c=new Promise(async f=>{let d=await l.bytes(),p=d.reduce((g,y)=>g+y.length,0)+oc*d.length,h=new Uint8Array(p),m=0;for(let g=0;g<d.length;g++){let y=d[g],v=new Uint8Array(new Uint32Array([y.length]).buffer);h.set(v,m),m+=oc,h.set(y,m),m+=y.length}f(h)});r.push(c)}else r.push(l.data());t!=null&&(u.group=t),n.push(u)}let i=await Promise.all(r);return{data:xqe(i),specs:n}}function Wte(e,t){let n=new Pl(e),r={},a=0;for(let i of t){let s=bqe(i,(o,l)=>n.slice(a+o,a+l));r[i.name]=Vte(i,n.slice(a,a+s)),a+=s}return r}function bqe(e,t){let n=Bt(e.shape),r;if("quantization"in e){let a=e.quantization;r=ad[a.dtype]}else if(e.dtype==="string"){let a=0;for(let i=0;i<n;i++)a+=oc+new Uint32Array(t(a,a+oc))[0];return a}else r=ad[e.dtype];return n*r}async function wqe(e,t){let n=Bt(e.shape),r;if("quantization"in e){let a=e.quantization;r=ad[a.dtype]}else if(e.dtype==="string"){let a=0;for(let i=0;i<n;i++)a+=oc+new Uint32Array(await t(a,a+oc))[0];return a}else r=ad[e.dtype];return n*r}function Vte(e,t){let n=e.name,r=e.dtype,a=e.shape,i=Bt(a),s,o=0;if("quantization"in e){let l=e.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${e.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${e.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${e.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);let u=ad[l.dtype],c=l.dtype==="uint8"?new Uint8Array(t):new Uint16Array(t);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){s=new Float32Array(c.length);for(let f=0;f<c.length;f++){let d=c[f];s[f]=d*l.scale+l.min}}else if(l.dtype==="float16")s=Tqe()(c);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);s=new Int32Array(c.length);for(let f=0;f<c.length;f++){let d=c[f];s[f]=Math.round(d*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);o+=i*u}else if(r==="string"){let l=Bt(e.shape);s=[];for(let u=0;u<l;u++){let c=new Uint32Array(t.slice(o,o+oc))[0];o+=oc;let f=new Uint8Array(t.slice(o,o+c));s.push(f),o+=c}}else{let l=ad[r];if(r==="float32")s=new Float32Array(t);else if(r==="int32")s=new Int32Array(t);else if(r==="bool")s=new Uint8Array(t);else if(r==="complex64"){s=new Float32Array(t);let u=new Float32Array(s.length/2),c=new Float32Array(s.length/2);for(let h=0;h<u.length;h++)u[h]=s[h*2],c[h]=s[h*2+1];let f=ia(u,a,"float32"),d=ia(c,a,"float32"),p=El(f,d);return f.dispose(),d.dispose(),p}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);o+=i*l}return ia(s,a,r)}async function JW(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){let{done:a,value:i}=await e.read();if(a&&i==null){let o=n-r.byteLength;throw new Error(`Reader is done but ${o} bytes are still expected`)}let s=new Uint8Array(r.length+i.byteLength);s.set(r,0),s.set(new Uint8Array(i),r.length),r=s}return r.buffer}async function Gte(e,t){let n={},r=e.getReader(),a=new ArrayBuffer(0);for(let i of t){let s=await wqe(i,async(u,c)=>(a=await JW(r,a,c),a.slice(u,c)));a=await JW(r,a,s);let o=a.slice(0,s);a=a.slice(s);let l=Vte(i,o);if(n[i.name]=l,Ute()==="webgpu"){let u=GD();"uploadToGPU"in u&&Bt(l.shape)>=ne().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&u.uploadToGPU(l.dataId)}}return n}function xqe(e){if(e===null)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0,n=[];e.forEach(i=>{if(t+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});let r=new Uint8Array(t),a=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),a),a+=i.byteLength}),r.buffer}var HD=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function ZW(e){return HD?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Sqe(e){if(HD)return Buffer.from(e).toString("base64");let t=new Uint8Array(e),n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function kqe(e){if(HD){let r=Buffer.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}let t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function Cqe(e){return Pl.join(e)}function XW(e){let t="/";for(e=e.trim();e.endsWith(t);)e=e.slice(0,e.length-1);let n=e.split(t);return n[n.length-1]}function Hte(e,t){let n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return e.signature!=null&&(n.signature=e.signature),e.userDefinedMetadata!=null&&(n.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(n.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(n.initializerSignature=e.initializerSignature),e.trainingConfig!=null&&(n.trainingConfig=e.trainingConfig),n}function qte(e,t,n){let r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(e.trainingConfig!=null&&(r.trainingConfig=e.trainingConfig),e.weightsManifest!=null){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return e.signature!=null&&(r.signature=e.signature),e.userDefinedMetadata!=null&&(r.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(r.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(r.initializerSignature=e.initializerSignature),r}async function qD(e,t){let n,r;return e.weightsManifest!=null&&([n,r]=await t(e.weightsManifest)),qte(e,n,r)}function Cw(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:ZW(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:ZW(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:new Pl(e.weightData).byteLength}}function hL(e){let t=[];for(let n of e)t.push(...n.weights);return t}function Iqe(){let e=n=>{let r=n<<13,a=0;for(;!(r&8388608);)a-=8388608,r<<=1;return r&=-8388609,a+=947912704,r|a},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}function Nqe(){let e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}function Mqe(){let e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}function Tqe(){let e=Iqe(),t=Nqe(),n=Mqe();return r=>{let a=new ArrayBuffer(4*r.length),i=new Uint32Array(a);for(let s=0;s<r.length;s++){let o=r[s],l=e[n[o>>10]+(o&1023)]+t[o>>10];i[s]=l}return new Float32Array(a)}}var Ii=class bs{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return bs.instance==null&&(bs.instance=new bs),bs.instance}static registerSaveRouter(t){bs.getInstance().saveRouters.push(t)}static registerLoadRouter(t){bs.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return bs.getHandlers(t,"save")}static getLoadHandlers(t,n){return bs.getHandlers(t,"load",n)}static getHandlers(t,n,r){let a=[];return(n==="load"?bs.getInstance().loadRouters:bs.getInstance().saveRouters).forEach(i=>{let s=i(t,r);s!==null&&a.push(s)}),a}},Eqe=e=>Ii.registerSaveRouter(e),Aqe=e=>Ii.registerLoadRouter(e),Lqe=e=>Ii.getSaveHandlers(e),_qe=(e,t)=>Ii.getLoadHandlers(e,t),mL="tensorflowjs",gL=1,xf="models_store",ju="model_info_store";function Yte(){if(!ne().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let e=typeof window>"u"?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function yL(e){let t=e.result;t.createObjectStore(xf,{keyPath:"modelPath"}),t.createObjectStore(ju,{keyPath:"modelPath"})}var id=class{constructor(e){if(this.indexedDB=Yte(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise((n,r)=>{let a=this.indexedDB.open(mL,gL);a.onupgradeneeded=()=>yL(a),a.onsuccess=()=>{let i=a.result;if(t==null){let s=i.transaction(xf,"readonly"),o=s.objectStore(xf).get(this.modelPath);o.onsuccess=()=>{if(o.result==null)return i.close(),r(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));n(o.result.modelArtifacts)},o.onerror=l=>(i.close(),r(o.error)),s.oncomplete=()=>i.close()}else{t.weightData=Pl.join(t.weightData);let s=Cw(t),o=i.transaction(ju,"readwrite"),l=o.objectStore(ju),u;try{u=l.put({modelPath:this.modelPath,modelArtifactsInfo:s})}catch(f){return r(f)}let c;u.onsuccess=()=>{c=i.transaction(xf,"readwrite");let f=c.objectStore(xf),d;try{d=f.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:s})}catch(p){return r(p)}d.onsuccess=()=>n({modelArtifactsInfo:s}),d.onerror=p=>{l=o.objectStore(ju);let h=l.delete(this.modelPath);h.onsuccess=()=>(i.close(),r(d.error)),h.onerror=m=>(i.close(),r(d.error))}},u.onerror=f=>(i.close(),r(u.error)),o.oncomplete=()=>{c==null?i.close():c.oncomplete=()=>i.close()}}},a.onerror=i=>r(a.error)})}};id.URL_SCHEME="indexeddb://";var Qte=e=>ne().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(id.URL_SCHEME)?jqe(e.slice(id.URL_SCHEME.length)):null;Ii.registerSaveRouter(Qte);Ii.registerLoadRouter(Qte);function jqe(e){return new id(e)}function $qe(e){return e.startsWith(id.URL_SCHEME)?e.slice(id.URL_SCHEME.length):e}var Dqe=class{constructor(){this.indexedDB=Yte()}async listModels(){return new Promise((e,t)=>{let n=this.indexedDB.open(mL,gL);n.onupgradeneeded=()=>yL(n),n.onsuccess=()=>{let r=n.result,a=r.transaction(ju,"readonly"),i=a.objectStore(ju).getAll();i.onsuccess=()=>{let s={};for(let o of i.result)s[o.modelPath]=o.modelArtifactsInfo;e(s)},i.onerror=s=>(r.close(),t(i.error)),a.oncomplete=()=>r.close()},n.onerror=r=>t(n.error)})}async removeModel(e){return e=$qe(e),new Promise((t,n)=>{let r=this.indexedDB.open(mL,gL);r.onupgradeneeded=()=>yL(r),r.onsuccess=()=>{let a=r.result,i=a.transaction(ju,"readwrite"),s=i.objectStore(ju),o=s.get(e),l;o.onsuccess=()=>{if(o.result==null)return a.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{let u=s.delete(e),c=()=>{l=a.transaction(xf,"readwrite");let f=l.objectStore(xf).delete(e);f.onsuccess=()=>t(o.result.modelArtifactsInfo),f.onerror=d=>n(o.error)};u.onsuccess=c,u.onerror=f=>(c(),a.close(),n(o.error))}},o.onerror=u=>(a.close(),n(o.error)),i.oncomplete=()=>{l==null?a.close():l.oncomplete=()=>a.close()}},r.onerror=a=>n(r.error)})}},il="/",Th="tensorflowjs_models",Kte="info",Oqe="model_topology",Rqe="weight_specs",Pqe="weight_data",Fqe="model_metadata";function Jte(e){return{info:[Th,e,Kte].join(il),topology:[Th,e,Oqe].join(il),weightSpecs:[Th,e,Rqe].join(il),weightData:[Th,e,Pqe].join(il),modelMetadata:[Th,e,Fqe].join(il)}}function Zte(e){for(let t of Object.values(e))window.localStorage.removeItem(t)}function zqe(e){let t=e.split(il);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(il)}function Bqe(e){return e.startsWith(sd.URL_SCHEME)?e.slice(sd.URL_SCHEME.length):e}var sd=class{constructor(e){if(!ne().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Jte(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Cw(e),a=Pl.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,Sqe(a));let i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:r}}catch{throw Zte(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){let e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(n==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;let r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(r==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;let a=this.LS.getItem(this.keys.modelMetadata);if(a!=null){let s=JSON.parse(a);t.format=s.format,t.generatedBy=s.generatedBy,t.convertedBy=s.convertedBy,s.signature!=null&&(t.signature=s.signature),s.userDefinedMetadata!=null&&(t.userDefinedMetadata=s.userDefinedMetadata),s.modelInitializer!=null&&(t.modelInitializer=s.modelInitializer),s.initializerSignature!=null&&(t.initializerSignature=s.initializerSignature),s.trainingConfig!=null&&(t.trainingConfig=s.trainingConfig)}let i=this.LS.getItem(this.keys.weightData);if(i==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=kqe(i),t}};sd.URL_SCHEME="localstorage://";var Xte=e=>ne().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(sd.URL_SCHEME)?Uqe(e.slice(sd.URL_SCHEME.length)):null;Ii.registerSaveRouter(Xte);Ii.registerLoadRouter(Xte);function Uqe(e){return new sd(e)}var Wqe=class{constructor(){U(ne().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),U(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){let e={},t=Th+il,n=il+Kte;for(let r=0;r<this.LS.length;++r){let a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){let i=zqe(a);e[i]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){e=Bqe(e);let t=Jte(e);if(this.LS.getItem(t.info)==null)throw new Error(`Cannot find model at path '${e}'`);let n=JSON.parse(this.LS.getItem(t.info));return Zte(t),n}},lm="://",lc=class ru{constructor(){this.managers={}}static getInstance(){return ru.instance==null&&(ru.instance=new ru),ru.instance}static registerManager(t,n){U(t!=null,()=>"scheme must not be undefined or null."),t.endsWith(lm)&&(t=t.slice(0,t.indexOf(lm))),U(t.length>0,()=>"scheme must not be an empty string.");let r=ru.getInstance();U(r.managers[t]==null,()=>`A model store manager is already registered for scheme '${t}'.`),r.managers[t]=n}static getManager(t){let n=ru.getInstance().managers[t];if(n==null)throw new Error(`Cannot find model manager for scheme '${t}'`);return n}static getSchemes(){return Object.keys(ru.getInstance().managers)}};function K2(e){if(e.indexOf(lm)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${lc.getSchemes().join(",")}`);return{scheme:e.split(lm)[0],path:e.split(lm)[1]}}async function ene(e,t,n=!1){U(e!==t,()=>`Old path and new path are the same: '${e}'`);let r=Ii.getLoadHandlers(e);U(r.length>0,()=>`Copying failed because no load handler is found for source URL ${e}.`),U(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`);let a=r[0],i=Ii.getSaveHandlers(t);U(i.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),U(i.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`);let s=i[0],o=K2(e).scheme,l=K2(e).path,u=o===K2(e).scheme,c=await a.load();n&&u&&await lc.getManager(o).removeModel(l);let f=await s.save(c);return n&&!u&&await lc.getManager(o).removeModel(l),f.modelArtifactsInfo}async function Vqe(){let e=lc.getSchemes(),t={};for(let n of e){let r=await lc.getManager(n).listModels();for(let a in r){let i=n+lm+a;t[i]=r[a]}}return t}async function Gqe(e){let t=K2(e);return lc.getManager(t.scheme).removeModel(t.path)}async function Hqe(e,t){return ene(e,t,!1)}async function qqe(e,t){return ene(e,t,!0)}var Yqe=class{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){if(typeof window>"u"||!ne().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,t);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",n=>{if(n.source===window&&n.data.name===this.messageName){n.stopPropagation();let r=this.functionRefs[n.data.index];r(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return Ete(e)}};if(ne().get("IS_BROWSER")){ne().setPlatform("browser",new Yqe);try{lc.registerManager(sd.URL_SCHEME,new Wqe)}catch{}try{lc.registerManager(id.URL_SCHEME,new Dqe)}catch{}}var Qqe={importFetch:()=>U7e()},TE,Kqe=class{constructor(){this.util=W7e(),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return ne().global.fetch!=null?ne().global.fetch(e,t):(TE==null&&(TE=Qqe.importFetch()),TE(e,t))}now(){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return e.length===0?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}};ne().get("IS_NODE")&&!ne().get("IS_BROWSER")&&ne().setPlatform("node",new Kqe);function st(e,t="float32",n){return t=t||"float32",ai(e),new qn(e,t,n)}function Jqe(e,t){let n=z(e,"x","cast");if(!vte(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");let r={x:n},a={dtype:t};return Y.runKernel(Hd,r,a)}var ve=Q({cast_:Jqe});function Zqe(e){let t={x:z(e,"x","clone","string_or_numeric")};return Y.runKernel(fp,t)}var No=Q({clone_:Zqe});function YD(e,t=!1){console.log(e.toString(t))}Rte();var Xqe={buffer:st,cast:ve,clone:No,print:YD};QHe(Xqe);function eYe(e,t){let n=z(e,"a","add"),r=z(t,"b","add");[n,r]=Tn(n,r);let a={a:n,b:r};return Y.runKernel(_c,a)}var le=Q({add_:eYe});function tYe(e,t){let n=z(e,"a","floorDiv"),r=z(t,"b","floorDiv");[n,r]=Tn(n,r);let a={a:n,b:r};return Y.runKernel(lp,a)}var PN=Q({floorDiv_:tYe});function nYe(e,t){let n=z(e,"a","div"),r=z(t,"b","div");if([n,r]=Tn(n,r),n.dtype==="int32"&&r.dtype==="int32")return PN(n,r);let a={a:n,b:r},i={};return Y.runKernel(np,a,i)}var Ee=Q({div_:nYe});function rYe(e,t){let n=z(e,"a","mul"),r=z(t,"b","mul");[n,r]=Tn(n,r);let a={a:n,b:r};return Y.runKernel(Mp,a)}var K=Q({mul_:rYe});function aYe(e){let t=z(e,"x","abs");if(t.dtype==="complex64"){let n={x:t};return Y.runKernel(nw,n)}else{let n={x:t};return Y.runKernel(n0,n)}}var Wn=Q({abs_:aYe});function iYe(e){let t={x:z(e,"x","acos")};return Y.runKernel(Od,t)}var QD=Q({acos_:iYe});function sYe(e){let t={x:z(e,"x","acosh")};return Y.runKernel(Rd,t)}var KD=Q({acosh_:sYe});function oYe(e){U(Array.isArray(e),()=>"The argument passed to tf.addN() must be a list of tensors"),U(e.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`);let t=e.map((a,i)=>z(a,`tensors${i}`,"addN")),n=t[0];t.forEach(a=>{if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(a=>{if(!Rl(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});let r=t;return Y.runKernel(Pd,r)}var tne=Q({addN_:oYe});function lYe(e,t=null,n=!1){let r={x:z(e,"x","all","bool")},a={axis:t,keepDims:n};return Y.runKernel(r0,r,a)}var FN=Q({all_:lYe});function uYe(e,t=null,n=!1){let r={x:z(e,"x","any","bool")},a={axis:t,keepDims:n};return Y.runKernel(a0,r,a)}var ub=Q({any_:uYe});function cYe(e,t=0){let n={x:z(e,"x","argMax")},r={axis:t};return Y.runKernel(i0,n,r)}var od=Q({argMax_:cYe});function fYe(e,t=0){let n={x:z(e,"x","argMin")},r={axis:t};return Y.runKernel(s0,n,r)}var JD=Q({argMin_:fYe});function dYe(e){let t={x:z(e,"x","asin")};return Y.runKernel(Fd,t)}var ZD=Q({asin_:dYe});function pYe(e){let t={x:z(e,"x","asinh")};return Y.runKernel(zd,t)}var XD=Q({asinh_:pYe});function hYe(e){let t={x:z(e,"x","atan")};return Y.runKernel(Bd,t)}var eO=Q({atan_:hYe});function mYe(e,t){let n=z(e,"a","atan2"),r=z(t,"b","atan2");[n,r]=Tn(n,r);let a={a:n,b:r};return Y.runKernel(Wd,a)}var tO=Q({atan2_:mYe});function gYe(e){let t={x:z(e,"x","atanh")};return Y.runKernel(Ud,t)}var nO=Q({atanh_:gYe});function yYe(e,t,n,r,a="NHWC",i){let s=e[3],o=[...t,s],l=ane(a);return Iw(e,o,n,i,r,null,null,l)}function nne(e,t,n,r,a,i,s="channelsLast"){let[o,l]=cb(t),u;if(s==="channelsLast")u=[o,l,e[3],e[3]];else if(s==="channelsFirst")u=[o,l,e[1],e[1]];else throw new Error(`Unknown dataFormat ${s}`);return Iw(e,u,n,r,a,i,!1,s)}function vYe(e,t,n,r,a,i,s="NDHWC"){let[o,l,u]=vL(t),c,f;if(s==="NDHWC")f="channelsLast",c=[o,l,u,e[4],e[4]];else if(s==="NCDHW")f="channelsFirst",c=[o,l,u,e[1],e[1]];else throw new Error(`Unknown dataFormat ${s}`);return rne(e,c,n,r,a,!1,f,i)}function Iw(e,t,n,r,a,i,s=!1,o="channelsLast"){let[l,u,c,f]=[-1,-1,-1,-1];if(o==="channelsLast")[l,u,c,f]=e;else if(o==="channelsFirst")[l,f,u,c]=e;else throw new Error(`Unknown dataFormat ${o}`);let[d,p,,h]=t,[m,g]=cb(n),[y,v]=cb(r),b=um(d,y),x=um(p,v),{padInfo:S,outHeight:k,outWidth:I}=xYe(a,u,c,m,g,b,x,i,o),N=s?h*f:h,T;return o==="channelsFirst"?T=[l,N,k,I]:o==="channelsLast"&&(T=[l,k,I,N]),{batchSize:l,dataFormat:o,inHeight:u,inWidth:c,inChannels:f,outHeight:k,outWidth:I,outChannels:N,padInfo:S,strideHeight:m,strideWidth:g,filterHeight:d,filterWidth:p,effectiveFilterHeight:b,effectiveFilterWidth:x,dilationHeight:y,dilationWidth:v,inShape:e,outShape:T,filterShape:t}}function rne(e,t,n,r,a,i=!1,s="channelsLast",o){let[l,u,c,f,d]=[-1,-1,-1,-1,-1];if(s==="channelsLast")[l,u,c,f,d]=e;else if(s==="channelsFirst")[l,d,u,c,f]=e;else throw new Error(`Unknown dataFormat ${s}`);let[p,h,m,,g]=t,[y,v,b]=vL(n),[x,S,k]=vL(r),I=um(p,x),N=um(h,S),T=um(m,k),{padInfo:L,outDepth:E,outHeight:M,outWidth:j}=SYe(a,u,c,f,y,v,b,I,N,T,o),D=i?g*d:g,F;return s==="channelsFirst"?F=[l,D,E,M,j]:s==="channelsLast"&&(F=[l,E,M,j,D]),{batchSize:l,dataFormat:s,inDepth:u,inHeight:c,inWidth:f,inChannels:d,outDepth:E,outHeight:M,outWidth:j,outChannels:D,padInfo:L,strideDepth:y,strideHeight:v,strideWidth:b,filterDepth:p,filterHeight:h,filterWidth:m,effectiveFilterDepth:I,effectiveFilterHeight:N,effectiveFilterWidth:T,dilationDepth:x,dilationHeight:S,dilationWidth:k,inShape:e,outShape:F,filterShape:t}}function bYe(e,t,n,r,a){r==null&&(r=rO(e,t,n));let i=e[0],s=e[1],o=fb((i-t+2*r)/n+1,a),l=fb((s-t+2*r)/n+1,a);return[o,l]}function wYe(e,t,n,r,a,i){a==null&&(a=rO(e,t[0],r[0]));let s=[0,0,0,n];for(let o=0;o<3;o++)e[o]+2*a>=t[o]&&(s[o]=fb((e[o]-t[o]+2*a)/r[o]+1,i));return s}function rO(e,t,n,r=1){let a=um(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function cb(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function vL(e){return typeof e=="number"?[e,e,e]:e}function um(e,t){return t<=1?e:e+(e-1)*(t-1)}function xYe(e,t,n,r,a,i,s,o,l){let u,c,f;if(typeof e=="number"){u={top:e,bottom:e,left:e,right:e,type:e===0?"VALID":"NUMBER"};let d=bYe([t,n],i,r,e,o);c=d[0],f=d[1]}else if(e==="same"){c=Math.ceil(t/r),f=Math.ceil(n/a);let d=Math.max(0,(c-1)*r+i-t),p=Math.max(0,(f-1)*a+s-n),h=Math.floor(d/2),m=d-h,g=Math.floor(p/2),y=p-g;u={top:h,bottom:m,left:g,right:y,type:"SAME"}}else if(e==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),f=Math.ceil((n-s+1)/a);else if(typeof e=="object"){let d=l==="channelsLast"?e[1][0]:e[2][0],p=l==="channelsLast"?e[1][1]:e[2][1],h=l==="channelsLast"?e[2][0]:e[3][0],m=l==="channelsLast"?e[2][1]:e[3][1];u={top:d,bottom:p,left:h,right:m,type:d===0&&p===0&&h===0&&m===0?"VALID":"EXPLICIT"},c=fb((t-i+d+p)/r+1,o),f=fb((n-s+h+m)/a+1,o)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outHeight:c,outWidth:f}}function SYe(e,t,n,r,a,i,s,o,l,u,c){let f,d,p,h;if(e==="valid"&&(e=0),typeof e=="number"){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:e===0?"VALID":"NUMBER"};let m=wYe([t,n,r,1],[o,l,u],1,[a,i,s],e,c);d=m[0],p=m[1],h=m[2]}else if(e==="same"){d=Math.ceil(t/a),p=Math.ceil(n/i),h=Math.ceil(r/s);let m=(d-1)*a+o-t,g=(p-1)*i+l-n,y=(h-1)*s+u-r,v=Math.floor(m/2),b=m-v,x=Math.floor(g/2),S=g-x,k=Math.floor(y/2),I=y-k;f={top:x,bottom:S,left:k,right:I,front:v,back:b,type:"SAME"}}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:f,outDepth:d,outHeight:p,outWidth:h}}function fb(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function uc(e){let[t,n,r]=cb(e);return t===1&&n===1&&r===1}function zo(e,t){return uc(e)||uc(t)}function ld(e){return cb(e).every(t=>t>0)}function ane(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function fa(e,t,n){if(n!=null){if(typeof t=="string")throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if(typeof t=="number")U(ug(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);else if(typeof t=="object")t.forEach(r=>{r.forEach(a=>{U(ug(a),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${a}.`)})});else throw Error(`Error in ${e}: Unknown padding parameter: ${t}`)}}function kYe(e,t){let n={x:z(e,"x","reshape","string_or_numeric")},r={shape:t};return Y.runKernel(z0,n,r)}var Z=Q({reshape_:kYe});function CYe(e,t,n,r,a){let i=z(e,"x","avgPool","float32"),s=1;U(zo(n,s),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`);let o=i,l=!1;i.rank===3&&(l=!0,o=Z(i,[1,i.shape[0],i.shape[1],i.shape[2]])),U(o.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`),fa("avgPool",r,a);let u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a},f=Y.runKernel(Vd,u,c);return f=ve(f,i.dtype),l?Z(f,[f.shape[1],f.shape[2],f.shape[3]]):f}var Fl=Q({avgPool_:CYe});function IYe(e,t,n,r,a,i="NDHWC"){let s=z(e,"x","avgPool3d","float32"),o=s,l=!1;s.rank===4&&(l=!0,o=Z(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),U(o.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),U(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),U(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),fa("avgPool3d",r,a);let u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},f=Y.runKernel(o0,u,c);return f=ve(f,o.dtype),l?Z(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}var aO=Q({avgPool3d_:IYe});function NYe(e,t=0){U(e.length>=1,()=>"Pass at least one tensor to concat");let n=lb(e,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return No(n[0]);let r=n,a={axis:t};return Y.runKernel(f0,r,a)}var Yt=Q({concat_:NYe});function MYe(e,t,n=!1,r=!1){let a=z(e,"a","matMul"),i=z(t,"b","matMul");[a,i]=Tn(a,i);let s={a,b:i},o={transposeA:n,transposeB:r};return Y.runKernel(Gd,s,o)}var at=Q({matMul_:MYe});function TYe(e){let t={x:z(e,"x","sigmoid","float32")};return Y.runKernel(Gp,t)}var ts=Q({sigmoid_:TYe});function EYe(e,t,n){let r=z(e,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");let a={x:r},i={begin:t,size:n};return Y.runKernel(q0,a,i)}var pt=Q({slice_:EYe});function AYe(e){let t={x:z(e,"x","tanh","float32")};return Y.runKernel(Xp,t)}var cc=Q({tanh_:AYe});function LYe(e,t,n,r,a,i){let s=z(e,"forgetBias","basicLSTMCell"),o=z(t,"lstmKernel","basicLSTMCell"),l=z(n,"lstmBias","basicLSTMCell"),u=z(r,"data","basicLSTMCell"),c=z(a,"c","basicLSTMCell"),f=z(i,"h","basicLSTMCell"),d=Yt([u,f],1),p=at(d,o),h=le(p,l),m=h.shape[0],g=h.shape[1]/4,y=[m,g],v=pt(h,[0,0],y),b=pt(h,[0,g],y),x=pt(h,[0,g*2],y),S=pt(h,[0,g*3],y),k=le(K(ts(v),cc(b)),K(c,ts(le(s,x)))),I=K(cc(k),ts(S));return[k,I]}var ine=Q({basicLSTMCell_:LYe});function _Ye(e,t,n){let r=z(e,"x","batchToSpaceND"),a=t.reduce((o,l)=>o*l);U(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),U(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),U(r.shape[0]%a===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`);let i={x:r},s={blockShape:t,crops:n};return Y.runKernel(l0,i,s)}var Nw=Q({batchToSpaceND_:_Ye});function jYe(e){let t;return e.rank===0||e.rank===1?t=Z(e,[1,1,1,e.size]):e.rank===2?t=Z(e,[1,1,e.shape[0],e.shape[1]]):e.rank===3?t=Z(e,[1,e.shape[0],e.shape[1],e.shape[2]]):t=e,t}function $Ye(e,t,n,r,a,i){i==null&&(i=.001);let s=z(e,"x","batchNorm"),o=z(t,"mean","batchNorm"),l=z(n,"variance","batchNorm"),u;a!=null&&(u=z(a,"scale","batchNorm"));let c;r!=null&&(c=z(r,"offset","batchNorm")),U(o.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),U(c==null||o.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),U(u==null||o.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let f={x:jYe(s),scale:u,offset:c,mean:o,variance:l},d={varianceEpsilon:i},p=Y.runKernel(up,f,d);return Z(p,s.shape)}var eh=Q({batchNorm_:$Ye});function DYe(e,t,n,r,a,i){let s=z(e,"x","batchNorm"),o=z(t,"mean","batchNorm"),l=z(n,"variance","batchNorm"),u;a!=null&&(u=z(a,"scale","batchNorm"));let c;return r!=null&&(c=z(r,"offset","batchNorm")),U(s.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${s.rank}.`),U(o.rank===2||o.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`),U(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&U(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&U(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),eh(s,o,l,c,u,i)}var iO=Q({batchNorm2d_:DYe});function OYe(e,t,n,r,a,i){let s=z(e,"x","batchNorm"),o=z(t,"mean","batchNorm"),l=z(n,"variance","batchNorm"),u;a!=null&&(u=z(a,"scale","batchNorm"));let c;return r!=null&&(c=z(r,"offset","batchNorm")),U(s.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${s.rank}.`),U(o.rank===3||o.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`),U(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&U(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&U(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),eh(s,o,l,c,u,i)}var sO=Q({batchNorm3d_:OYe});function RYe(e,t,n,r,a,i){let s=z(e,"x","batchNorm"),o=z(t,"mean","batchNorm"),l=z(n,"variance","batchNorm"),u;a!=null&&(u=z(a,"scale","batchNorm"));let c;return r!=null&&(c=z(r,"offset","batchNorm")),U(s.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${s.rank}.`),U(o.rank===4||o.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`),U(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&U(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&U(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),eh(s,o,l,c,u,i)}var oO=Q({batchNorm4d_:RYe});function PYe(e,t,n){let r=z(e,"x","bincount"),a=z(t,"weights","bincount");U(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),U(n>=0,()=>`size must be non-negative, but got ${n}.`),U(a.size===r.size||a.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`);let i={x:r,weights:a},s={size:n};return Y.runKernel(u0,i,s)}var lO=Q({bincount_:PYe});function FYe(e,t){let n=z(e,"x","bitwiseAnd"),r=z(t,"y","bitwiseAnd");if(!Rl(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);let a={a:n,b:r};return Y.runKernel(c0,a)}var sne=Q({bitwiseAnd_:FYe});function zYe(e,t){let n=z(e,"s0","broadcastArgs","int32"),r=z(t,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);let a={s0:n,s1:r};return Y.runKernel(tw,a)}var one=Q({broadcastArgs_:zYe});function BYe(e,t){let n=z(e,"broadcastTo","x"),r=n.shape;if(ai(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){let l=n.shape.slice();for(;l.length<t.length;)l.unshift(1);n=Z(n,l)}let a=n.shape,i=Array.from(t);for(let l=t.length-1;l>=0;l--)if(a[l]===t[l])i[l]=1;else if(n.shape[l]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(i.map((l,u)=>l>1?u:-1).filter(l=>l>=0).length===0)return No(n);let s={x:n},o={reps:i};return Y.runKernel($c,s,o)}var Rf=Q({broadcastTo_:BYe});function UYe(e){let t={x:z(e,"x","ceil","float32")};return Y.runKernel(qd,t)}var uO=Q({ceil_:UYe});function Ka(e,t,n){ai(e),n=n||Zb(t);let r={shape:e,value:t,dtype:n};return Y.runKernel(iw,{},r)}function WYe(e,t,n){let r=z(e,"x","clipByValue");if(U(t<=n,()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`),t===n)return Ka(r.shape,t,r.dtype);let a={x:r},i={clipValueMin:t,clipValueMax:n};return Y.runKernel(jc,a,i)}var Vr=Q({clipByValue_:WYe});function VYe(e){return Yt(e,0)}var cO=Q({concat1d_:VYe});function GYe(e,t){return Yt(e,t)}var fO=Q({concat2d_:GYe});function HYe(e,t){return Yt(e,t)}var dO=Q({concat3d_:HYe});function qYe(e,t){return Yt(e,t)}var pO=Q({concat4d_:qYe});function YYe(e,t,n,r,a="NHWC",i=[1,1],s){let o=z(e,"x","conv2d","float32"),l=z(t,"filter","conv2d","float32"),u=o,c=!1;o.rank===3&&(c=!0,u=Z(o,[1,o.shape[0],o.shape[1],o.shape[2]])),U(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),U(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),fa("conv2d",r,s);let f=a==="NHWC"?u.shape[3]:u.shape[1];U(f===l.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${l.shape[2]}.`),U(zo(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),U(ld(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),U(ld(n),()=>"Error in conv2D: Strides should be larger than 0.");let d={x:u,filter:l},p={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s},h=Y.runKernel(Yd,d,p);return c?Z(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var oa=Q({conv2d_:YYe});function QYe(e,t,n,r,a="NWC",i=1,s){let o=z(e,"x","conv1d"),l=z(t,"filter","conv1d"),u=o,c=!1;o.rank===2&&(c=!0,u=Z(o,[1,o.shape[0],o.shape[1]])),U(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),U(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),fa("conv1d",r,s),U(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),U(zo(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),U(ld(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),U(ld(n),()=>"Error in conv1D: Stride should be larger than 0."),U(a==="NWC",()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);let f=Z(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=Z(u,[u.shape[0],1,u.shape[1],u.shape[2]]),p=oa(d,f,[1,n],r,"NHWC",[1,i],s);return c?Z(p,[p.shape[2],p.shape[3]]):Z(p,[p.shape[0],p.shape[2],p.shape[3]])}var zN=Q({conv1d_:QYe});function KYe(e,t,n,r,a,i="NHWC",s){U(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let o=e,l=t,u=!1;t.rank===3&&(u=!0,l=Z(t,[1,t.shape[0],t.shape[1],t.shape[2]]),o=[1,e[0],e[1],e[2]]),U(o.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),U(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),U(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);let c=i==="NHWC"?o[3]:o[1],f=i==="NHWC"?l.shape[3]:l.shape[1];U(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),U(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),fa("conv2dDerInput",a,s);let d={dy:l,filter:n},p={strides:r,pad:a,dataFormat:i,dimRoundingMode:s,inputShape:o},h=Y.runKernel(Qd,d,p);return u?Z(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var hO=Q({conv2DBackpropInput_:KYe});function JYe(e,t,n,r,a,i){let s=z(e,"x","conv2dTranspose"),o=z(t,"filter","conv2dTranspose");return hO(n,s,o,r,a,"NHWC",i)}var BN=Q({conv2dTranspose_:JYe});function ZYe(e,t,n,r,a="NDHWC",i=[1,1,1]){let s=z(e,"x","conv3d"),o=z(t,"filter","conv3d"),l=s,u=!1;s.rank===4&&(u=!0,l=Z(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),U(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),U(o.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),U(l.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`),U(zo(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),U(a==="NDHWC",()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`),U(ld(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),U(ld(n),()=>"Error in conv3D: Strides should be larger than 0.");let c={x:l,filter:o},f={strides:n,pad:r,dataFormat:a,dilations:i},d=Y.runKernel(Kd,c,f);return u?Z(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}var mO=Q({conv3d_:ZYe});function XYe(e,t,n,r,a){U(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let i=e,s=t,o=!1;t.rank===4&&(o=!0,s=Z(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);let l=i[4],u=s.shape[4];U(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),U(s.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${s.rank}`),U(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),U(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),U(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);let c={dy:s,filter:n},f={pad:a,strides:r,inputShape:i},d=Y.runKernel(p0,c,f);return o?Z(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}var lne=Q({conv3DBackpropInput_:XYe});function eQe(e,t,n,r,a){let i=z(e,"x","conv3dTranspose"),s=z(t,"filter","conv3dTranspose");return lne(n,i,s,r,a)}var gO=Q({conv3dTranspose_:eQe});function tQe(e){let t={x:z(e,"x","cos","float32")};return Y.runKernel(Jd,t)}var Mw=Q({cos_:tQe});function nQe(e){let t={x:z(e,"x","cosh","float32")};return Y.runKernel(Zd,t)}var UN=Q({cosh_:nQe});function rQe(e,t=0,n=!1,r=!1){let a={x:z(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return Y.runKernel(h0,a,i)}var db=Q({cumprod_:rQe});function aQe(e,t=0,n=!1,r=!1){let a={x:z(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return Y.runKernel(Xd,a,i)}var WN=Q({cumsum_:aQe});function iQe(e,t,n,r=!1){let a=z(e,"x","denseBincount"),i=z(t,"weights","denseBincount");U(a.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),U(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),U(n>=0,()=>`size must be non-negative, but got ${n}.`),U(i.size===a.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${i.shape}.`);let s={x:a,weights:i},o={size:n,binaryOutput:r};return Y.runKernel(rw,s,o)}var nC=Q({denseBincount_:iQe});function sQe(e,t,n="NHWC"){let r=z(e,"x","depthToSpace","float32"),a=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],s=n==="NHWC"?r.shape[3]:r.shape[1];U(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),U(a*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${t}  for depthToSpace with input shape
    ${r.shape}`),U(i*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${t} for depthToSpace with input shape
        ${r.shape}`),U(s%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${s} for depthToSpace with input shape ${r.shape}`);let o={x:r},l={blockSize:t,dataFormat:n};return Y.runKernel(g0,o,l)}var yO=Q({depthToSpace_:sQe});function oQe(e,t,n,r,a="NHWC",i=[1,1],s){let o=z(e,"x","depthwiseConv2d","float32"),l=z(t,"filter","depthwiseConv2d","float32"),u=o,c=!1;o.rank===3&&(c=!0,u=Z(o,[1,o.shape[0],o.shape[1],o.shape[2]])),U(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),U(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);let f=a==="NHWC"?u.shape[3]:u.shape[1];U(f===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${l.shape[2]}.`),fa("depthwiseConv2d",r,s);let d={x:u,filter:l},p={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s},h=Y.runKernel(ep,d,p);return c?Z(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var th=Q({depthwiseConv2d_:oQe});function lQe(e){let t={x:z(e,"x","diag")};return Y.runKernel(aw,t)}var une=Q({diag_:lQe});function uQe(e,t,n,r,a=[1,1],i="NHWC"){let s=z(e,"x","dilation2d"),o=z(t,"filter","dilation2d");U(s.rank===3||s.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${s.rank}.`),U(o.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),U(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=s,u=!1;s.rank===3&&(l=Z(s,[1,s.shape[0],s.shape[1],s.shape[2]]),u=!0),U(l.shape[3]===o.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${o.shape[2]}`);let c={x:l,filter:o},f={strides:n,pad:r,dilations:a},d=Y.runKernel(tp,c,f);return u?Z(d,[d.shape[1],d.shape[2],d.shape[3]]):d}var vO=Q({dilation2d_:uQe}),a1={};et(a1,{assertAndGetBroadcastShape:()=>Qt,getBroadcastDims:()=>cne,getReductionAxes:()=>Qn});function cne(e,t){let n=e.length,r=[];for(let a=0;a<n;a++){let i=n-1-a,s=e[i]||1;(t[t.length-1-a]||1)>1&&s===1&&r.unshift(i)}return r}function Qn(e,t){let n=[];for(let r=0;r<t.length;r++){let a=e[e.length-r-1],i=t.length-r-1,s=t[i];(a==null||a===1&&s>1)&&n.unshift(i)}return n}function Qt(e,t){let n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let i=e[e.length-a-1];i==null&&(i=1);let s=t[t.length-a-1];if(s==null&&(s=1),i===1)r[n-a-1]=s;else if(s===1)r[n-a-1]=i;else if(i!==s){let o=`Operands could not be broadcast together with shapes ${e} and ${t}.`;throw Error(o)}else r[n-a-1]=i}return r}function cQe(e,t){let n=z(e,"a","equal","string_or_numeric"),r=z(t,"b","equal","string_or_numeric");[n,r]=Tn(n,r),Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel(v0,a)}var Za=Q({equal_:cQe});function fQe(e,t,n){let r=z(t,"a","where"),a=z(n,"b","where"),i=z(e,"condition","where","bool"),s=Qt(Qt(i.shape,r.shape),a.shape),o=Rf(i,s),l=Rf(r,s),u=Rf(a,s),c={condition:o,t:l,e:u};return Y.runKernel(H0,c)}var Cr=Q({where_:fQe});function dQe(e){let t={x:z(e,"x","zerosLike")};return Y.runKernel(n1,t)}var vt=Q({zerosLike_:dQe});function pQe(e,t){let n=z(e,"a","div"),r=z(t,"b","div");[n,r]=Tn(n,r);let a=Ee(n,r),i=vt(a),s=Za(r,i);return Cr(s,i,a)}var bO=Q({divNoNan_:pQe});function hQe(e,t){let n=z(e,"t1","dot"),r=z(t,"t2","dot");U((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);let a=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(U(a===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${i}.`),n.rank===1&&r.rank===1){let s=Z(n,[1,-1]),o=Z(r,[-1,1]),l=at(s,o);return Z(l,[])}else if(n.rank===1&&r.rank===2){let s=Z(n,[1,-1]),o=Z(r,[r.shape[0],r.shape[1]]),l=at(s,o);return Z(l,[l.size])}else if(n.rank===2&&r.rank===1){let s=Z(r,[-1,1]),o=at(n,s);return Z(o,[o.size])}else{let s=Z(r,[r.shape[0],r.shape[1]]);return at(n,s)}}var wO=Q({dot_:hQe});function mQe(e,...t){let n=t.map((a,i)=>z(a,`tensors${i}`,"einsum")),r={equation:e};return Y.runKernel(MN,n,r)}var uf=Q({einsum_:mQe});function gQe(e){let t={x:z(e,"x","elu","float32")};return Y.runKernel(rp,t)}var i1=Q({elu_:gQe});function yQe(e,t){let n=z(e,"x","ensureShape","string_or_numeric");if(!hte(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}var fne=Q({ensureShape_:yQe});function vQe(e){let t=z(e,"x","erf");U(t.dtype==="int32"||t.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),t.dtype==="int32"&&(t=ve(t,"float32"));let n={x:t};return Y.runKernel(ap,n)}var VN=Q({erf_:vQe});function xO(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function dne(e,t,n){let r=e.length+t.length,a=[],i=0,s=0;for(let o=0;o<r;o++)n.indexOf(o)===-1?a.push(e[i++]):a.push(t[s++]);return a}function pne(e,t){let n=[],r=e.length;for(let i=0;i<r;i++)t.indexOf(i)===-1&&n.push(e[i]);let a=t.map(i=>e[i]);return[n,a]}function ud(e,t){let n=t.map(r=>1);return dne(e,n,t)}function bQe(e,t,n){U(xO(t,n),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`)}function hne(e,t){if(xO(e,t))return null;let n=[];for(let r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(r=>n.push(r)),n}function SO(e){return e.map((t,n)=>[n,t]).sort((t,n)=>t[1]-n[1]).map(t=>t[0])}function wQe(e,t){let n=[];for(let r=t-e;r<t;++r)n.push(r);return n}function xQe(e,t=null,n=!1){let r={x:z(e,"x","max")},a={reductionIndices:t,keepDims:n};return Y.runKernel(bp,r,a)}var xi=Q({max_:xQe});function SQe(e,t=null,n=!1){let r={x:z(e,"x","min")},a={axis:t,keepDims:n};return Y.runKernel(kp,r,a)}var pg=Q({min_:SQe});function kQe(e,t){let n=z(e,"base","pow"),r=z(t,"exp","pow");[n,r]=Tn(n,r);let a={a:n,b:r};return Y.runKernel(Ap,a)}var $o=Q({pow_:kQe});function Ue(e,t){if((br(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&br(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Oc(e,[],[],t)}function CQe(e){let t={x:z(e,"x","sqrt","float32")};return Y.runKernel(qp,t)}var Ir=Q({sqrt_:CQe});function IQe(e){let t=z(e,"x","square"),n={};return Y.runKernel("Square",{x:t},n)}var Ht=Q({square_:IQe});function NQe(e,t=null,n=!1){let r=z(e,"x","sum");r.dtype==="bool"&&(r=ve(r,"int32"));let a={x:r},i={axis:t,keepDims:n};return Y.runKernel(Yp,a,i)}var $e=Q({sum_:NQe});function MQe(e,t="euclidean",n=null,r=!1){e=z(e,"x","norm");let a=mne(e,t,n),i=a.shape;if(r){let s=cs(n,e.shape);i=ud(a.shape,s)}return Z(a,i)}function mne(e,t,n=null){if(e.rank===0)return Wn(e);if(e.rank!==1&&n===null)return mne(Z(e,[-1]),t,n);if(e.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(t===1)return $e(Wn(e),n);if(t===1/0)return xi(Wn(e),n);if(t===-1/0)return pg(Wn(e),n);if(t==="euclidean"||t===2)return Ir($e($o(Wn(e),Ue(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&n.length===2){if(t===1)return xi($e(Wn(e),n[0]),n[1]-1);if(t===1/0)return xi($e(Wn(e),n[1]),n[0]);if(t===-1/0)return pg($e(Wn(e),n[1]),n[0]);if(t==="fro"||t==="euclidean")return Ir($e(Ht(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}var s1=Q({norm_:MQe});function TQe(e,t=null,n=!1){return s1(e,"euclidean",t,n)}var kO=Q({euclideanNorm_:TQe});function EQe(e){let t={x:z(e,"x","exp")};return Y.runKernel(ip,t)}var Gr=Q({exp_:EQe});function AQe(e,t=0){let n=z(e,"x","expandDims","string_or_numeric");U(t<=n.rank,()=>"Axis must be <= rank of the tensor");let r={input:n},a={dim:t};return Y.runKernel(b0,r,a)}var wr=Q({expandDims_:AQe});function LQe(e){let t={x:z(e,"x","expm1")};return Y.runKernel(sp,t)}var CO=Q({expm1_:LQe});function _Qe(e,t){let n=z(e,"x","tile","string_or_numeric");U(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`);let r={x:n},a={reps:t};return Y.runKernel($c,r,a)}var Ha=Q({tile_:_Qe});function jQe(e,t,n,r="float32"){t==null&&(t=e);let a=st([e,t],r),i=e<=t?e:t;for(let o=0;o<i;++o)a.set(1,o,o);let s=Z(a.toTensor(),[e,t]);if(n==null)return s;if(n.length===1)return Ha(wr(s,0),[n[0],1,1]);if(n.length===2)return Ha(wr(wr(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return Ha(wr(wr(wr(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}var GN=Q({eye_:jQe});function $Qe(e){let t={x:z(e,"x","floor","float32")};return Y.runKernel(op,t)}var o1=Q({floor_:$Qe});function DQe(e,t,n=0,r=0){let a=z(e,"x","gather"),i=z(t,"indices","gather","int32"),s={x:a,indices:i},o={axis:n,batchDims:r};return Y.runKernel(x0,s,o)}var l1=Q({gather_:DQe});function OQe(e,t){let n=z(e,"a","greater","string_or_numeric"),r=z(t,"b","greater","string_or_numeric");[n,r]=Tn(n,r),Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel(k0,a)}var da=Q({greater_:OQe});function RQe(e,t){let n=z(e,"a","greaterEqual","string_or_numeric"),r=z(t,"b","greaterEqual","string_or_numeric");[n,r]=Tn(n,r),Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel(cp,a)}var zl=Q({greaterEqual_:RQe});function PQe(e){let t={input:z(e,"input","imag")};return Y.runKernel(AN,t)}var Tw=Q({imag_:PQe});function FQe(e){let t={x:z(e,"x","isFinite")};return Y.runKernel(dp,t)}var IO=Q({isFinite_:FQe});function zQe(e){let t={x:z(e,"x","isInf")};return Y.runKernel(pp,t)}var NO=Q({isInf_:zQe});function BQe(e){let t={x:z(e,"x","isNaN")};return Y.runKernel(hp,t)}var MO=Q({isNaN_:BQe});function UQe(e,t=.2){let n={x:z(e,"x","leakyRelu")},r={alpha:t};return Y.runKernel(mp,n,r)}var Ew=Q({leakyRelu_:UQe});function WQe(e,t){let n=z(e,"a","less","string_or_numeric"),r=z(t,"b","less","string_or_numeric");[n,r]=Tn(n,r),Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel(C0,a)}var hg=Q({less_:WQe});function VQe(e,t){let n=z(e,"a","lessEqual","string_or_numeric"),r=z(t,"b","lessEqual","string_or_numeric");[n,r]=Tn(n,r),Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel(I0,a)}var Rc=Q({lessEqual_:VQe});function gne(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");let r={start:e,stop:t,num:n};return Y.runKernel(N0,{},r)}function GQe(e,t=5,n=1,r=1,a=.5){let i=z(e,"x","localResponseNormalization");U(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),U(ug(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let s=i,o=!1;i.rank===3&&(o=!0,s=Z(i,[1,i.shape[0],i.shape[1],i.shape[2]]));let l={x:s},u={depthRadius:t,bias:n,alpha:r,beta:a},c=Y.runKernel(vp,l,u);return o?Z(c,[c.shape[1],c.shape[2],c.shape[3]]):c}var TO=Q({localResponseNormalization_:GQe});function HQe(e){let t={x:z(e,"x","log","float32")};return Y.runKernel(gp,t)}var Xa=Q({log_:HQe});function qQe(e){let t={x:z(e,"x","log1p")};return Y.runKernel(yp,t)}var Aw=Q({log1p_:qQe});function YQe(e){return U(ic(e),()=>"The f passed in grad(f) must be a function"),(t,n)=>{let r=z(t,"x","tf.grad","string_or_numeric"),a=n!=null?z(n,"dy","tf.grad"):null;return Y.tidy(()=>{let{value:i,grads:s}=Y.gradients(()=>e(r),[r],a);return a!=null&&ca(i.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),HN(s),s[0]})}}function QQe(e){return U(ic(e),()=>"The f passed in grads(f) must be a function"),(t,n)=>{U(Array.isArray(t),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");let r=lb(t,"args","tf.grads","string_or_numeric"),a=n!=null?z(n,"dy","tf.grads"):null;return Y.tidy(()=>{let{value:i,grads:s}=Y.gradients(()=>e(...r),r,a);return a!=null&&ca(i.shape,a.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),HN(s),s})}}function KQe(e){return U(ic(e),()=>"The f passed in valueAndGrad(f) must be a function"),(t,n)=>{U(t instanceof nt,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),U(n==null||n instanceof nt,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");let{grads:r,value:a}=Y.gradients(()=>e(t),[t],n);return HN(r),{grad:r[0],value:a}}}function JQe(e){return U(ic(e),()=>"The f passed in valueAndGrads(f) must be a function"),(t,n)=>{U(Array.isArray(t)&&t.every(a=>a instanceof nt),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),U(n==null||n instanceof nt,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");let r=Y.gradients(()=>e(...t),t,n);return n!=null&&ca(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),HN(r.grads),r}}function yne(e,t){U(ic(e),()=>"The f passed in variableGrads(f) must be a function"),U(t==null||Array.isArray(t)&&t.every(u=>u instanceof rd),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");let n=t!=null;if(!n){t=[];for(let u in Y.registeredVariables)t.push(Y.registeredVariables[u])}let r=n?t.filter(u=>!u.trainable):null,a=t.length;t=t.filter(u=>u.trainable),U(t.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);let i=!0,{value:s,grads:o}=Y.gradients(e,t,null,i);U(o.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),U(s.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${s.rank} tensor`);let l={};return t.forEach((u,c)=>{o[c]!=null&&(l[u.name]=o[c])}),r!=null&&r.forEach(u=>l[u.name]=null),{value:s,grads:l}}function Do(e){return Y.customGrad(e)}function HN(e){if(e.filter(t=>t==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function ZQe(e){let t={x:z(e,"x","neg")};return Y.runKernel(j0,t)}var on=Q({neg_:ZQe});function XQe(e){let t={x:z(e,"x","softplus")};return Y.runKernel(Hp,t)}var nh=Q({softplus_:XQe});function eKe(e){let t=z(e,"x","logSigmoid");return Do(n=>({value:on(nh(on(n))),gradFunc:r=>K(r,ts(on(n)))}))(t)}var EO=Q({logSigmoid_:eKe});function tKe(e,t){let n=z(e,"a","sub"),r=z(t,"b","sub");[n,r]=Tn(n,r);let a={a:n,b:r};return Y.runKernel(Jp,a)}var Me=Q({sub_:tKe});function nKe(e,t=-1){let n=z(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return Do((r,a)=>{let i=xi(r,t,!0),s=Me(r,i),o=Me(ve(s,"float32"),Xa($e(Gr(s),t,!0)));return a([o]),{value:o,gradFunc:(l,u)=>{let[c]=u,f=!0,d=Gr(c);return Me(l,K($e(l,t,f),d))}}})(n)}var qN=Q({logSoftmax_:nKe});function rKe(e,t=null,n=!1){let r=z(e,"x","logSumExp"),a=cs(t,r.shape),i=xi(r,a,!0),s=Me(r,i),o=Gr(s),l=$e(o,a),u=Xa(l),c=le(Z(i,u.shape),u);if(n){let f=ud(c.shape,a);return Z(c,f)}return c}var Lw=Q({logSumExp_:rKe});function aKe(e,t){let n=z(e,"a","logicalAnd","bool"),r=z(t,"b","logicalAnd","bool");Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel(M0,a)}var ss=Q({logicalAnd_:aKe});function iKe(e){let t={x:z(e,"x","logicalNot","bool")};return Y.runKernel(T0,t)}var _w=Q({logicalNot_:iKe});function sKe(e,t){let n=z(e,"a","logicalOr","bool"),r=z(t,"b","logicalOr","bool");Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel(E0,a)}var YN=Q({logicalOr_:sKe});function oKe(e,t){let n=z(e,"a","logicalXor","bool"),r=z(t,"b","logicalXor","bool");return Qt(n.shape,r.shape),ss(YN(e,t),_w(ss(e,t)))}var AO=Q({logicalXor_:oKe}),s2=2147483648;function lKe(e,t,n="left"){let r=z(e,"sortedSequence","searchSorted"),a=z(t,"values","searchSorted"),i=r.shape[r.shape.length-1],s=a.shape[a.shape.length-1],o=Z(r,[-1,i]),l=Z(a,[-1,s]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Bt(l.shape)>=s2)throw new Error(`values tensor size must less than ${s2}`);if(o.shape[1]>=s2)throw new Error(`trailing dim_size must less than ${s2} for int32 output type, was ${o.shape[1]}`);let u={sortedSequence:o,values:l},c={side:n};return Y.runKernel(G0,u,c)}var QN=Q({searchSorted_:lKe});function vne(e,t){return QN(e,t,"left")}function uKe(e,t,n,r,a){let i=z(e,"x","maxPool"),s=1,o=i,l=!1;i.rank===3&&(l=!0,o=Z(i,[1,i.shape[0],i.shape[1],i.shape[2]])),U(o.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`),U(zo(n,s),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),fa("maxPool",r,a);let u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a},f=Y.runKernel(xp,u,c);return l?Z(f,[f.shape[1],f.shape[2],f.shape[3]]):f}var mr=Q({maxPool_:uKe});function cKe(e,t=[1,1,1],n,r,a,i="NDHWC"){let s=z(e,"x","maxPool3d"),o=s,l=!1;s.rank===4&&(l=!0,o=Z(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),U(o.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),U(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),fa("maxPool3d",r,a);let u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},f=Y.runKernel(L0,u,c);return l?Z(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}var LO=Q({maxPool3d_:cKe});function fKe(e,t,n,r,a=!1){let i={x:z(e,"x","maxPoolWithArgmax")},s={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},o=Y.runKernel(lw,i,s);return{result:o[0],indexes:o[1]}}var bne=Q({maxPoolWithArgmax_:fKe});function dKe(e,t){let n=z(e,"a","maximum"),r=z(t,"b","maximum");[n,r]=Tn(n,r),n.dtype==="bool"&&(n=ve(n,"int32"),r=ve(r,"int32")),Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel(wp,a)}var Bo=Q({maximum_:dKe});function pKe(e,t=null,n=!1){let r={x:z(e,"x","mean")},a={axis:t,keepDims:n};return Y.runKernel(Sp,r,a)}var Cn=Q({mean_:pKe});function In(e,t="float32"){if(ai(e),t==="complex64"){let r=In(e,"float32"),a=In(e,"float32");return El(r,a)}let n=wN(Bt(e),t);return Y.makeTensor(n,e,t)}function ka(e,t="float32"){if(ai(e),t==="complex64"){let r=ka(e,"float32"),a=In(e,"float32");return El(r,a)}let n=PD(Bt(e),t);return Y.makeTensor(n,e,t)}function wne(e,t,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(e===void 0)return[];let r=z(e,"x","meshgrid",e instanceof nt?e.dtype:"float32");if(t===void 0)return[r];let a=z(t,"y","meshgrid",t instanceof nt?t.dtype:"float32"),i=Bt(r.shape),s=Bt(a.shape);return n==="xy"?(r=Z(r,[1,-1]),a=Z(a,[-1,1]),[at(ka([s,1],r.dtype),r),at(a,ka([1,i],a.dtype))]):(r=Z(r,[-1,1]),a=Z(a,[1,-1]),[at(r,ka([1,s],r.dtype)),at(ka([i,1],a.dtype),a)])}function hKe(e,t){let n=z(e,"a","minimum"),r=z(t,"b","minimum");[n,r]=Tn(n,r),n.dtype==="bool"&&(n=ve(n,"int32"),r=ve(r,"int32")),Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel(Cp,a)}var fc=Q({minimum_:hKe});function mKe(e,t,n){U(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);let r=z(e,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");U(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);let a=n==="reflect"?1:0;for(let o=0;o<r.rank;o++)U(t[o].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),U(t[o][0]>=0&&t[o][0]<=r.shape[o]-a&&t[o][1]>=0&&t[o][1]<=r.shape[o]-a,()=>`Padding in dimension ${o} cannot be greater than or equal to ${r.shape[o]-a} or less than 0 for input of shape ${r.shape}`);let i={paddings:t,mode:n},s={x:r};return Y.runKernel(Ip,s,i)}var _O=Q({mirrorPad_:mKe});function gKe(e,t){let n=z(e,"a","mod"),r=z(t,"b","mod");[n,r]=Tn(n,r);let a={a:n,b:r};return Y.runKernel(Np,a)}var jO=Q({mod_:gKe});function yKe(e,t=null,n=!1){e=z(e,"x","moments");let r=cs(t,e.shape),a=Cn(e,r,n),i=a.shape;n||(i=ud(a.shape,r));let s=Ht(Me(ve(e,"float32"),Z(a,i))),o=Cn(s,r,n);return{mean:a,variance:o}}var jw=Q({moments_:yKe});function vKe(e,t,n,r){let a=z(t,"data","multiRNNCell"),i=lb(n,"c","multiRNNCell"),s=lb(r,"h","multiRNNCell"),o=a,l=[];for(let f=0;f<e.length;f++){let d=e[f](o,i[f],s[f]);l.push(d[0]),l.push(d[1]),o=d[1]}let u=[],c=[];for(let f=0;f<l.length;f+=2)u.push(l[f]),c.push(l[f+1]);return[u,c]}var xne=Q({multiRNNCell_:vKe});function bKe(e,t,n,r=!1){let a=z(e,"logits","multinomial"),i=a.size,s=a.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(s>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${s}`);n=n||Math.random();let o={logits:s===1?Z(a,[1,-1]):a},l={numSamples:t,seed:n,normalized:r},u=Y.runKernel(_0,o,l);return s===1?Z(u,[u.size]):u}var Sne=Q({multinomial_:bKe});function wKe(e,t){let n=z(e,"a","notEqual","string_or_numeric"),r=z(t,"b","notEqual","string_or_numeric");[n,r]=Tn(n,r),Qt(n.shape,r.shape);let a={a:n,b:r};return Y.runKernel($0,a)}var cd=Q({notEqual_:wKe});function xKe(e,t,n=1,r=0,a="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);let i={indices:z(e,"indices","oneHot","int32")},s={dtype:a,depth:t,onValue:n,offValue:r};return Y.runKernel(Tp,i,s)}var mg=Q({oneHot_:xKe});function SKe(e){let t={x:z(e,"x","onesLike")};return Y.runKernel(P0,t)}var ei=Q({onesLike_:SKe});function kKe(e,t){let n=z(e,"v1","outerProduct"),r=z(t,"v2","outerProduct");U(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);let a=Z(n,[-1,1]),i=Z(r,[1,-1]);return at(a,i)}var kne=Q({outerProduct_:kKe});function CKe(e,t,n=0){let r=z(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");let a={paddings:t,constantValue:n},i={x:r};return Y.runKernel(Ep,i,a)}var Qs=Q({pad_:CKe});function IKe(e,t,n=0){return U(t.length===2,()=>"Invalid number of paddings. Must be length of 2."),Qs(e,[t],n)}var Cne=Q({pad1d_:IKe});function NKe(e,t,n=0){return U(t.length===2&&t[0].length===2&&t[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Qs(e,t,n)}var Ine=Q({pad2d_:NKe});function MKe(e,t,n=0){return U(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Qs(e,t,n)}var Nne=Q({pad3d_:MKe});function TKe(e,t,n=0){return U(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Qs(e,t,n)}var Mne=Q({pad4d_:TKe});function EKe(e,t,n){let r=z(e,"x","spaceToBatchND");U(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),U(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),U(r.shape.reduce((s,o,l)=>l>0&&l<=t.length?s&&(o+n[l-1][0]+n[l-1][1])%t[l-1]===0:s,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);let a={x:r},i={blockShape:t,paddings:n};return Y.runKernel(Y0,a,i)}var $w=Q({spaceToBatchND_:EKe});function AKe(e,t,n,r,a,i,s){a==null&&(a=[1,1]),i==null&&(i=1),r===0&&(r="valid");let o=z(e,"x","maxPool"),l=o,u=!1;o.rank===3&&(u=!0,l=Z(o,[1,o.shape[0],o.shape[1],o.shape[2]])),U(zo(i,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${a}'`);let c=nne(l.shape,t,i,a,r),f=[c.dilationHeight,c.dilationWidth],d;r==="same"?d=_Ke([c.filterHeight,c.filterWidth],f):d=[[0,0],[0,0]];let p=f[0]===1&&f[1]===1,[h,m]=LKe([c.inHeight,c.inWidth],f,d),g=p?r:"valid",y=p?l:$w(l,f,h),v=(n==="avg"?()=>Fl(y,t,i,g,s):()=>mr(y,t,i,g,s))(),b=p?v:Nw(v,f,m);return u?Z(b,[b.shape[1],b.shape[2],b.shape[3]]):b}function LKe(e,t,n){let r=n.map(c=>c[0]),a=n.map(c=>c[1]),i=e.concat(r,a),s=t.map((c,f)=>(c-i[f]%c)%c),o=a.map((c,f)=>c+s[f]),l=t.map((c,f)=>[r[f],o[f]]),u=t.map((c,f)=>[0,s[f]]);return[l,u]}function _Ke(e,t){let n=e.map((i,s)=>i+(i-1)*(t[s]-1)).map(i=>i-1),r=n.map(i=>Math.floor(i/2)),a=n.map((i,s)=>i-r[s]);return n.map((i,s)=>[r[s],a[s]])}var $O=Q({pool_:AKe});function jKe(e,t){let n=z(e,"x","prelu"),r=z(t,"alpha","prelu"),a={x:n,alpha:r};return Y.runKernel(Lp,a)}var Dw=Q({prelu_:jKe});function $Ke(e,t=null,n=!1){let r=z(e,"x","prod");r.dtype==="bool"&&(r=ve(r,"int32"));let a={x:r},i={axis:t,keepDims:n};return Y.runKernel(_p,a,i)}var DO=Q({prod_:$Ke});function DKe(e,t,n,r){let a=e.map((c,f)=>z(c,`tensors${f}`,"raggedGather","int32")),i=z(t,"paramsDenseValues","raggedGather"),s=z(n,"indices","raggedGather","int32"),o={paramsNestedSplits:a,paramsDenseValues:i,indices:s},l={outputRaggedRank:r},u=Y.runKernel(LN,o,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}var Tne=Q({raggedGather_:DKe});function OKe(e,t,n){let r=z(e,"starts","raggedRange"),a=z(t,"limits","raggedRange",r.dtype),i=z(n,"deltas","raggedRange",r.dtype),s={starts:r,limits:a,deltas:i},o=Y.runKernel(_N,s);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}var Ene=Q({raggedRange_:OKe});function RKe(e,t,n,r,a){let i=z(e,"shape","raggedTensorToTensor","int32"),s=z(t,"values","raggedTensorToTensor"),o=z(n,"defaultValue","raggedTensorToTensor",s.dtype),l=r.map((f,d)=>z(f,`tensors${d}`,"raggedTensorToTensor","int32")),u={shape:i,values:s,defaultValue:o,rowPartitionTensors:l},c={rowPartitionTypes:a};return Y.runKernel(jN,u,c)}var Ane=Q({raggedTensorToTensor_:RKe});function PKe(e,t,n){ai(e);let r=Bt(e),a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else if(n==="bool")a=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let i=0;i<r;i++)a[i]=t();return Y.makeTensor(a,e,n)}var Lne=Q({rand_:PKe}),OO=Lc(vN()),_ne={};et(_ne,{TEST_EPSILON_FLOAT16:()=>jne,createVideoElement:()=>HKe,encodeStrings:()=>$ne,expectArrayBuffersEqual:()=>GKe,expectArraysClose:()=>zKe,expectArraysEqual:()=>UKe,expectNumbersClose:()=>WKe,expectPromiseToFail:()=>BKe,expectValuesInRange:()=>VKe,play:()=>qKe,testEpsilon:()=>RO});var FKe=.001,jne=.1;function zKe(e,t,n){return n==null&&(n=RO()),bL(e,t,(r,a)=>PO(r,a,n))}function RO(){return Y.backend.floatPrecision()===32?FKe:jne}function bL(e,t,n){let r=!0;if((br(e)||br(t))&&(r=!1),br(e)&&br(t)&&(r=!0),r){let s=e.constructor.name,o=t.constructor.name;if(s!==o)throw new Error(`Arrays are of different type. Actual: ${s}. Expected: ${o}`)}if(Array.isArray(e)&&Array.isArray(t)){let s=jo(e),o=jo(t);if(!Rl(s,o))throw new Error(`Arrays have different shapes. Actual: [${s}]. Expected: [${o}]`)}let a=br(e)?e:sc(e),i=br(t)?t:sc(t);if(a.length!==i.length)throw new Error(`Arrays have different lengths actual: ${a.length} vs expected: ${i.length}.
Actual:   ${a}.
Expected: ${i}.`);for(let s=0;s<i.length;++s){let o=a[s],l=i[s];if(!n(o,l))throw new Error(`Arrays differ: actual[${s}] = ${o}, expected[${s}] = ${l}.
Actual:   ${a}.
Expected: ${i}.`)}typeof expect<"u"&&expect().nothing()}function BKe(e,t){e().then(()=>t.fail(),()=>t()),typeof expect<"u"&&expect().nothing()}function UKe(e,t){let n=typeof t=="string"||typeof t=="number"||typeof t=="boolean"?[t]:t;return _u(e)||_u(e[0])||_u(t)||_u(t[0])?bL(e,n,(r,a)=>r==a):bL(e,t,(r,a)=>PO(r,a,0))}function WKe(e,t,n){if(n==null&&(n=RO()),!PO(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`);typeof expect<"u"&&expect().nothing()}function PO(e,t,n){return!isFinite(e)&&!isFinite(t)?!0:!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function VKe(e,t,n){for(let r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error(`Value out of range:${e[r]} low: ${t}, high: ${n}`)}function GKe(e,t){let n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let a=0;a<r.length;a++)if(n[a]!==r[a])throw new Error(`Expected ArrayBuffer value at ${a} to be ${r[a]} but got ${n[a]} instead`)}function $ne(e){for(let t=0;t<e.length;t++){let n=e[t];Array.isArray(n)?$ne(n):e[t]=Sw(n)}return e}function HKe(e){let t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise(n=>{t.addEventListener("loadeddata",r=>n(t)),t.load()})}async function qKe(e){await e.play(),"requestVideoFrameCallback"in e&&await new Promise(t=>{e.requestVideoFrameCallback(t)})}var FO=class{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);let i=a||Math.random();this.random=OO.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){let r=this.nextVal;return this.nextVal=NaN,r}let e,t,n=!1;for(;!n;){let r,a,i;do r=2*this.random()-1,a=2*this.random()-1,i=r*r+a*a;while(i>=1||i===0);let s=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*s,t=this.mean+this.stdDev*a*s,(!this.truncated||this.isValidTruncated(e))&&(n=!0)}return(!this.truncated||this.isValidTruncated(t))&&(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}},YKe=class{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;let a=r||Math.random();this.randu=OO.alea(a.toString()),this.randn=new FO(0,1,n,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,a,i;for(;;){do r=this.randn.nextValue(),i=1+this.c*r;while(i<=0);if(i*=i*i,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-i+Math.log(i)),a=this.randu(),a<t||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}},QKe=class{constructor(e=0,t=1,n,r){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=t-e,this.dtype=n,r==null&&(r=Math.random()),typeof r=="number"&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=OO.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}};function KKe(e,t,n=1,r="float32",a){if(ai(e),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);let i=new YKe(t,n,r,a),s=st(e,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}var Dne=Q({randomGamma_:KKe});function JKe(e,t=0,n=1,r,a){if(ai(e),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);let i=new FO(t,n,r,!1,a),s=st(e,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}var KN=Q({randomNormal_:JKe});function ZKe(e,t,n){if(t!=null&&t==="bool")throw new Error(`Unsupported data type ${t}`);return KN(e,0,1,t,n)}var One=Q({randomStandardNormal_:ZKe});function XKe(e,t=0,n=1,r="float32",a){ai(e);let i=st(e,r),s=new QKe(t,n,null,a);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}var Pc=Q({randomUniform_:XKe});function eJe(e,t,n,r){return Pc(e,t,n,"int32",r)}var Rne=Q({randomUniformInt_:eJe});function fd(e,t,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");let a={start:e,stop:t,step:n,dtype:r};return Y.runKernel(uw,{},a)}function tJe(e){let t={input:z(e,"input","real")};return Y.runKernel($N,t)}var gg=Q({real_:tJe});function nJe(e){let t={x:z(e,"x","reciprocal")};return Y.runKernel(jp,t)}var zO=Q({reciprocal_:nJe});function rJe(e){let t={x:z(e,"x","relu")};return Y.runKernel($p,t)}var Ft=Q({relu_:rJe});function aJe(e){let t={x:z(e,"x","relu6")};return Y.runKernel(Rp,t)}var JN=Q({relu6_:aJe});function iJe(e,t){let n={x:z(e,"x","reverse")},r={dims:t};return Y.runKernel(Pp,n,r)}var Ni=Q({reverse_:iJe});function sJe(e){let t=z(e,"x","reverse");return U(t.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Ni(t,0)}var Pne=Q({reverse1d_:sJe});function oJe(e,t){let n=z(e,"x","reverse");return U(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Ni(n,t)}var Fne=Q({reverse2d_:oJe});function lJe(e,t){let n=z(e,"x","reverse");return U(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Ni(n,t)}var zne=Q({reverse3d_:lJe});function uJe(e,t){let n=z(e,"x","reverse");return U(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Ni(n,t)}var Bne=Q({reverse4d_:uJe});function cJe(e){let t={x:z(e,"x","round")};return Y.runKernel(Fp,t)}var ZN=Q({round_:cJe});function fJe(e){let t={x:z(e,"x","rsqrt","float32")};return Y.runKernel(zp,t)}var XN=Q({rsqrt_:fJe});function dJe(e){let t={x:z(e,"x","selu")};return Y.runKernel(Bp,t)}var eM=Q({selu_:dJe});function pJe(e,t,n,r,a,i=[1,1],s="NHWC"){let o=z(e,"x","separableConv2d"),l=z(t,"depthwiseFilter","separableConv2d"),u=z(n,"pointwiseFilter","separableConv2d"),c=o,f=!1;if(o.rank===3&&(f=!0,c=Z(o,[1,o.shape[0],o.shape[1],o.shape[2]])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");U(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),U(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),U(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),U(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),U(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);let d=l.shape[2],p=l.shape[3];U(u.shape[2]===d*p,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*p}, but got ${u.shape[2]}.`);let h=th(c,l,r,a,s,i),m=oa(h,u,1,"valid",s);return f?Z(m,[m.shape[1],m.shape[2],m.shape[3]]):m}var u1=Q({separableConv2d_:pJe});async function hJe(e,t){let n=z(e,"x","setdiff1d"),r=z(t,"y","setdiff1d");U(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),U(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),U(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);let a=await n.data(),i=await r.data(),s=new Set(i),o=0;for(let c=0;c<a.length;c++)s.has(a[c])||o++;let l=new qn([o],n.dtype),u=new qn([o],"int32");for(let c=0,f=0;c<a.length;c++)s.has(a[c])||(l.values[f]=a[c],u.values[f]=c,f++);return[l.toTensor(),u.toTensor()]}var Une=hJe;function mJe(e){let t={x:z(e,"x","sign")};return Y.runKernel(Vp,t)}var BO=Q({sign_:mJe});function gJe(e){let t={x:z(e,"x","sin","float32")};return Y.runKernel(Up,t)}var tM=Q({sin_:gJe});function yJe(e){let t={x:z(e,"x","sinh")};return Y.runKernel(Wp,t)}var nM=Q({sinh_:yJe});function vJe(e,t,n){let r=z(e,"x","slice1d");return U(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),pt(r,[t],[n])}var Ow=Q({slice1d_:vJe});function bJe(e,t,n){let r=z(e,"x","slice2d");return U(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),pt(r,t,n)}var rM=Q({slice2d_:bJe});function wJe(e,t,n){let r=z(e,"x","slice3d");return U(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),pt(r,t,n)}var c1=Q({slice3d_:wJe});function xJe(e,t,n){let r=z(e,"x","slice4d");return U(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),pt(r,t,n)}var yg=Q({slice4d_:xJe});function SJe(e,t=-1){let n=z(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);let r={logits:n},a={dim:t};return Y.runKernel(Qp,r,a)}var Fc=Q({softmax_:SJe});function kJe(e){U(e.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`);let t={input:e};return Y.runKernel(TN,t)}var Rw=Q({fft_:kJe});function CJe(e){U(e.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`);let t={input:e};return Y.runKernel(EN,t)}var vg=Q({ifft_:CJe});function IJe(e){let t=e.shape[e.shape.length-1],n=e.size/t,r;if(t<=2){let a=Z(e,[n,t]);r=vg(a)}else{let a=[n,2*(t-1)],i=Z(gg(e),[n,t]),s=Z(Tw(e),[n,t]),o=Ni(pt(i,[0,1],[n,t-2]),1),l=K(Ni(pt(s,[0,1],[n,t-2]),1),Ue(-1)),u=Yt([i,o],1),c=Yt([s,l],1),f=Z(El(u,c),[a[0],a[1]]);r=vg(f)}if(r=gg(r),e.rank===3&&e.shape[0]!==0){let a=r,i=e.shape[0];r=Z(r,[i,r.shape[0]/i,r.shape[1]]),a.dispose()}return r}var aM=Q({irfft_:IJe});function NJe(e,t,n=0){let r={x:z(e,"x","split")},a={numOrSizeSplits:t,axis:n};return Y.runKernel(Q0,r,a)}var Ia=Q({split_:NJe});function MJe(e,t){U(e.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1],r=e.size/n,a;if(t!=null&&t<n){let h=e.shape.map(g=>0),m=e.shape.map(g=>g);m[e.shape.length-1]=t,a=pt(e,h,m),n=t}else if(t!=null&&t>n){let h=e.shape.map(m=>m);h[e.shape.length-1]=t-n,a=Yt([e,In(h)],e.shape.length-1),n=t}else a=e;let i=vt(a),s=Z(El(a,i),[r,n]),o=Rw(s),l=Math.floor(n/2)+1,u=gg(o),c=Tw(o),f=Ia(u,[l,n-l],u.shape.length-1),d=Ia(c,[l,n-l],c.shape.length-1),p=a.shape.slice();return p[a.shape.length-1]=l,Z(El(f[0],d[0]),p)}var Pw=Q({rfft_:MJe});function TJe(e,t){let n=z(e,"a","squaredDifference"),r=z(t,"b","squaredDifference");[n,r]=Tn(n,r),Qt(n.shape,r.shape);let a={a:n,b:r},i={};return Y.runKernel(Kp,a,i)}var iM=Q({squaredDifference_:TJe});function EJe(e,t){let n=z(e,"x","squeeze","string_or_numeric");return Z(n,mte(n.shape,t).newShape)}var zc=Q({squeeze_:EJe});function AJe(e,t=0){let n=lb(e,"tensors","stack","string_or_numeric");U(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&U(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");let r=n,a={axis:t};return Y.runKernel(F0,r,a)}var Yn=Q({stack_:AJe});function LJe(e,t=0){let n={x:z(e,"x","step")},r={alpha:t};return Y.runKernel(Dc,n,r)}var rh=Q({step_:LJe});function _Je(e,t,n,r,a=0,i=0,s=0,o=0,l=0){let u={x:z(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};return Y.runKernel(Z0,u,c)}var UO=Q({stridedSlice_:_Je});function jJe(e){let t={x:z(e,"x","tan","float32")};return Y.runKernel(Zp,t)}var WO=Q({tan_:jJe});function Ot(e,t){Dd(e);let n=jo(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Oc(e,null,n,t)}function Mo(e,t,n){if(Dd(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");let r=jo(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Oc(e,t,r,n)}function sM(e,t,n){if(Dd(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");let r=jo(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Oc(e,t,r,n)}function dc(e,t,n){if(Dd(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");let r=jo(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Oc(e,t,r,n)}function Wne(e,t,n){if(Dd(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");let r=jo(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Oc(e,t,r,n)}function Vne(e,t,n){if(Dd(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");let r=jo(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,Oc(e,t,r,n)}var oM={};et(oM,{calculateShapes:()=>Gne,validateInput:()=>lM,validateUpdateShape:()=>VO});function VO(e,t,n){let r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(i+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(i+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(i+` update.rank != ${a+e.length-r}`);for(let s=0;s<a;++s)if(n.shape[s]!==t.shape[s])throw new Error(i+` updates.shape[${s}] (${n.shape[s]}) != indices.shape[${s}] (${t.shape[s]}).`);for(let s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(i+` updates.shape[${s+a}] (${n.shape[s+a]}) != shape[${s+a}] (${e[s+a]})`)}function lM(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(t.size===0)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(e.size===0)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}VO(n,t,e)}function Gne(e,t,n){let r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length,s=1;for(let f=a;f<i;++f)s*=n[f];let o=a<1?1:a,l=Bt(t.shape)/o,u=[...t0(n.slice(0,a)),1],c=Bt(n);return{sliceRank:a,numUpdates:l,sliceSize:s,strides:u,outputSize:c}}function $Je(e,t,n){let r=z(e,"tensor","tensorScatterupdate"),a=z(t,"indices","tensorScatterupdate","int32"),i=z(n,"updates","tensorScatterupdate");if(lM(i,a,r.shape),r.dtype!==i.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${i.dtype}.`);let s={tensor:r,indices:a,updates:i},o={};return Y.runKernel(V0,s,o)}var Hne=Q({tensorScatterUpdate_:$Je});function DJe(e,t=1,n=!0){let r=z(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");let a=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);let i={x:r},s={k:t,sorted:n},[o,l]=Y.runKernel(X0,i,s);return{values:o,indices:l}}var GO=Q({topk_:DJe});function OJe(e,t=0,n=1,r,a){if(ai(e),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");let i=new FO(t,n,r,!0,a),s=st(e,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}var uM=Q({truncatedNormal_:OJe});function RJe(e,t=0){let n=z(e,"x","unique","string_or_numeric");U(n.rank>0,()=>"The input tensor must be at least 1D");let r={x:n},a={axis:t},[i,s]=Y.runKernel(vw,r,a);return{values:i,indices:s}}var HO=Q({unique_:RJe});function PJe(e,t,n){let r=z(e,"x","unsortedSegmentSum"),a=z(t,"segmentIds","unsortedSegmentSum","int32");U(ug(n),()=>"numSegments must be of dtype int");let i={x:r,segmentIds:a},s={numSegments:n};return Y.runKernel(bw,i,s)}var cM=Q({unsortedSegmentSum_:PJe});function FJe(e,t=0){let n=z(e,"x","unstack","string_or_numeric");U(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`);let r={value:n},a={axis:t};return Y.runKernel(t1,r,a)}var $n=Q({unstack_:FJe});function qne(e,t){return QN(e,t,"right")}function qO(e,t=!0,n,r){return Y.makeVariable(e,t,n,r)}function Yne(e,t){let n=[];for(let i=0;i<t.length;i++)t[i]&&n.push(i);let r=st(e,"int32"),a=st([n.length,e.length],"int32");for(let i=0;i<n.length;i++){let s=r.indexToLoc(n[i]),o=i*e.length;a.values.set(s,o)}return a.toTensor()}async function zJe(e){let t=z(e,"condition","whereAsync","bool"),n=await t.data(),r=Yne(t.shape,n);return e!==t&&t.dispose(),r}var YO=zJe;async function BJe(e,t,n){let r=z(e,"tensor","boolMask"),a=z(t,"mask","boolMask","bool"),i=n??0,s=a.rank,o=r.shape;U(s>0,()=>"mask cannot be scalar"),ca(o.slice(i,i+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=i;m<i+s;m++)l*=o[m];let u=o.slice(0,i).concat([l],o.slice(i+s)),c=Z(r,u),f=Z(a,[-1]),d=await YO(f),p=zc(d,[1]),h=l1(c,p,i);return e!==r&&r.dispose(),t!==a&&a.dispose(),p.dispose(),c.dispose(),f.dispose(),d.dispose(),h}var Qne=BJe;function UJe(e,t,n){let r=z(e,"x","transpose");if(t==null&&(t=r.shape.map((s,o)=>o).reverse()),U(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(s=>{U(s>=0&&s<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`)}),r.rank<=1)return r.clone();let a={x:r},i={perm:t};return r.dtype==="complex64"?X(()=>{let s=gg(r),o=Tw(r);return s=Y.runKernel(hl,{x:s},i),o=Y.runKernel(hl,{x:o},i),n&&(o=on(o)),El(s,o)}):Y.runKernel(hl,a,i)}var it=Q({transpose_:UJe});function WJe(e,t,n,r,a=!0){let i=z(e,"v","movingAverage"),s=z(t,"x","movingAverage"),o=z(n,"decay","movingAverage");Dte(i,s),U(Rl(i.shape,s.shape),()=>"Shape mismatch in v and x");let l=Ue(1),u=Me(l,o),c=K(Me(s,i),u);if(a){U(r!=null,()=>"When using zeroDebias: true, step is required.");let f=z(r,"step","movingAverage");c=Ee(c,Me(l,$o(o,f)))}return le(i,c)}var Kne=Q({movingAverage_:WJe});function VJe(e,t,n){ai(n);let r=z(e,"indices","scatterND","int32"),a=z(t,"updates","scatterND");lM(a,r,n);let i={indices:r,updates:a},s={shape:n};return Y.runKernel(W0,i,s)}var Jne=Q({scatterND_:VJe});function GJe(e,t,n,r){if(e.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);let a=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);let s=t.size;if(!(t.rank===0||t.rank===1&&s===a))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${a}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function HJe(e,t,n,r=0){ai(n);let a=z(e,"sparseIndices","sparseToDense","int32"),i=z(t,"sparseValues","sparseToDense","string_or_numeric"),s=z(r,"defaultValue","sparseToDense",i.dtype);GJe(a,i,n,s);let o={sparseIndices:a,sparseValues:i,defaultValue:s},l={outputShape:n};return Y.runKernel(J0,o,l)}var Zne=Q({sparseToDense_:HJe});function qJe(e,t){let n=z(t,"indices","gatherND","int32"),r={params:z(e,"x","gatherND","string_or_numeric"),indices:n};return Y.runKernel(S0,r)}var Xne=Q({gatherND_:qJe});function YJe(e,t){if(t==null)return e.shape.slice();if(Rl(e.shape,t))return t;if(e.shape.length===t.length){let n=[];for(let r=0;r<e.shape.length;r++)t[r]==null&&e.shape[r]!=null?n.push(e.shape[r]):n.push(t[r]);return n}return t}function QJe(e,t,n,r){let a=z(e,"x","dropout");if(U(a.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),U(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),t===0)return e instanceof nt?a.clone():a;let i=YJe(a,n),s=1-t,o=Ee(o1(le(Pc(i,0,1,"float32",r),s)),s);return K(a,o)}var QO=Q({dropout_:QJe});function KO(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function fM(e,t,n){let r=1-e%2,a=new Float32Array(e);for(let i=0;i<e;++i){let s=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(s)}return Ot(a,"float32")}async function KJe(e,t,n=1){let r=z(e,"predictions","inTopK"),a=z(t,"targets","inTopK");U(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),U(r.rank-1===a.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${a.rank}`),ca(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");let i=r.shape[r.shape.length-1];U(n>0&&n<=i,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`);let s=await r.data(),o=await a.data(),[l,u]=[s.length/i,i],c=gte("bool",l);for(let f=0;f<l;f++){let d=f*u,p=s.subarray(d,d+u),h=[];for(let m=0;m<p.length;m++)h.push({value:p[m],index:m});h.sort((m,g)=>g.value-m.value),c[f]=0;for(let m=0;m<n;m++)if(h[m].index===o[f]){c[f]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),ia(c,a.shape,"bool")}var ere=KJe,bg={};et(bg,{conv2d:()=>XJe,depthwiseConv2d:()=>rZe,matMul:()=>iZe});function JJe(e,t,n,r,a,i="NHWC",s){let o=e;e.rank===3&&(o=Z(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=Z(t,[1,t.shape[0],t.shape[1],t.shape[2]])),U(o.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),U(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),U(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);let u=i==="NHWC"?o.shape[3]:o.shape[1],c=i==="NHWC"?l.shape[3]:l.shape[1];U(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),U(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),fa("conv2dDerFilter",a,s);let f={x:o,dy:l},d={strides:r,pad:a,dataFormat:i,dimRoundingMode:s,filterShape:n};return Y.runKernel(kN,f,d)}var JO=Q({conv2DBackpropFilter_:JJe});function dM(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return K(e,rh(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function pM(e,t){let n=t,r=Qn(e.shape,t.shape);return r.length>0&&(n=$e(n,r)),Z(n,e.shape)}function hM(e,t,n,r){if(t==="linear")return e;if(t==="relu")return Ft(e);if(t==="elu")return i1(e);if(t==="relu6")return JN(e);if(t==="prelu")return Dw(e,n);if(t==="leakyrelu")return Ew(e,r);if(t==="sigmoid")return ts(e);throw new Error(`Unknown fused activation ${t}.`)}var mM=(e,t)=>!(e>0)||t==="linear";function ZJe({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",mM(Y.state.gradientDepth,l)===!1){U(a==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let k=oa(e,t,n,r,a,i,s);return o!=null&&(k=le(k,o)),hM(k,l,u,c)}let f=z(e,"x","conv2d","float32"),d=z(t,"filter","conv2d","float32"),p=f,h=!1;f.rank===3&&(h=!0,p=Z(f,[1,f.shape[0],f.shape[1],f.shape[2]])),U(p.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`),U(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),fa("fused conv2d",r,s);let m=a==="NHWC"?p.shape[3]:p.shape[1];U(d.shape[2]===m,()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${d.shape[2]}.`),U(zo(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);let g=Iw(p.shape,d.shape,n,i,r,s),y;o!=null&&(y=z(o,"bias","fused conv2d"),[y]=Tn(y,f),a==="NHWC"?Qt(g.outShape,y.shape):(U(y.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`),U(y.shape.length===0||y.shape[0]===g.outChannels||y.shape[0]===1,()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${g.outChannels})`)));let v;if(u!=null){let k=u.shape;if(U(k.length<=1||k.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${k.length}.`),k.length===1)U(k[0]===1||k[0]===g.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${k}) is not compatible with the number of output channels (${g.outChannels}).`);else if(k.length===3)try{Qt(k,g.outShape)}catch{let N=`Error in fused conv2d: PReLU activation weights (${k}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(N)}v=z(u,"prelu weights","fused conv2d")}let b=(k,I)=>{U(a==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`);let[N,T,L,E]=I,M=dM(k,L,l);U(uc(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);let j=hO(T.shape,M,N,n,r),D=JO(T,M,N.shape,n,r),F=[j,D];if(E!=null){let $=pM(E,M);F.push($)}return F},x={x:p,filter:d,bias:y,preluActivationWeights:v},S={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s,activation:l,leakyreluAlpha:c};return o==null?Do((k,I,N)=>{let T=Y.runKernel(td,x,S);return N([I,k,T]),h&&(T=Z(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:b}})(p,d):Do((k,I,N,T)=>{let L=Y.runKernel(td,x,S);return T([I,k,L,N]),h&&(L=Z(L,[L.shape[1],L.shape[2],L.shape[3]])),{value:L,gradFunc:b}})(p,d,y)}var XJe=Q({fusedConv2d_:ZJe});function eZe(e,t,n,r,a,i=[1,1],s){let o=e;e.rank===3&&(o=Z(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=Z(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let u={x:o,dy:l},c={strides:r,pad:a,dimRoundingMode:s,dilations:i,filterShape:n};return Y.runKernel(CN,u,c)}var tre=Q({depthwiseConv2dNativeBackpropFilter_:eZe});function tZe(e,t,n,r,a,i=[1,1],s){let o=t,l=!1;t.rank===3&&(l=!0,o=Z(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let u={dy:o,filter:n},c={strides:r,pad:a,dimRoundingMode:s,dilations:i,inputShape:e},f=Y.runKernel(IN,u,c);return l?Z(f,[f.shape[1],f.shape[2],f.shape[3]]):f}var nre=Q({depthwiseConv2dNativeBackpropInput_:tZe});function nZe({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(mM(Y.state.gradientDepth,l)===!1){let S=th(e,t,n,r,a,i,s);return o!=null&&(S=le(S,o)),hM(S,l,u,c)}let f=z(e,"x","depthwiseConv2d","float32"),d=z(t,"filter","depthwiseConv2d","float32"),p=f,h=!1;f.rank===3&&(h=!0,p=Z(f,[1,f.shape[0],f.shape[1],f.shape[2]])),U(p.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),U(d.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`),U(p.shape[3]===d.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`),i==null&&(i=[1,1]),U(zo(n,i),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),fa("fused depthwiseConv2d",r,s);let m=Iw(p.shape,d.shape,n,i,r,s,!0),g;o!=null&&(g=z(o,"bias","fused conv2d"),[g]=Tn(g,f),Qt(m.outShape,g.shape));let y;u!=null&&(y=z(u,"prelu weights","fused depthwiseConv2d"));let v=(S,k)=>{U(uc(i),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);let[I,N,T,L]=k,E=dM(S,T,l),M=nre(N.shape,E,I,n,r,i,s),j=tre(N,E,I.shape,n,r,i,s);if(L!=null){let D=pM(g,E);return[M,j,D]}return[M,j]},b={x:p,filter:d,bias:g,preluActivationWeights:y},x={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s,activation:l,leakyreluAlpha:c};return o==null?Do((S,k,I)=>{let N=Y.runKernel(nd,b,x);return I([k,S,N]),h&&(N=Z(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:v}})(p,d):Do((S,k,I,N)=>{let T=Y.runKernel(nd,b,x);return N([k,S,T,I]),h&&(T=Z(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:v}})(p,d,g)}var rZe=Q({fusedDepthwiseConv2d_:nZe});function aZe({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:a,activation:i="linear",preluActivationWeights:s,leakyreluAlpha:o=.2}){if(mM(Y.state.gradientDepth,i)===!1){let L=at(e,t,n,r);return a!=null&&(L=le(L,a)),hM(L,i,s,o)}let l=z(e,"a","fused matMul"),u=z(t,"b","fused matMul");[l,u]=Tn(l,u);let c=n?l.shape[l.rank-2]:l.shape[l.rank-1],f=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=r?u.shape[u.rank-2]:u.shape[u.rank-1],h=l.shape.slice(0,-2),m=u.shape.slice(0,-2),g=Bt(h),y=Bt(m);U(c===f,()=>`Error in fused matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);let v=Qt(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([d,p]),b=n?Z(l,[g,c,d]):Z(l,[g,d,c]),x=r?Z(u,[y,p,f]):Z(u,[y,f,p]),S;a!=null&&(S=z(a,"bias","fused matMul"),[S]=Tn(S,l),Qt(v,S.shape));let k;s!=null&&(k=z(s,"prelu weights","fused matMul"));let I=(L,E)=>{let[M,j,D,F]=E,$=dM(Z(L,D.shape),D,i),B,O;if(!n&&!r?(B=at($,j,!1,!0),O=at(M,$,!0,!1)):!n&&r?(B=at($,j,!1,!1),O=at($,M,!0,!1)):n&&!r?(B=at(j,$,!1,!0),O=at(M,$,!1,!1)):(B=at(j,$,!0,!0),O=at($,M,!0,!0)),a!=null){let P=pM(F,$);return[B,O,P]}else return[B,O]},N={a:b,b:x,bias:S,preluActivationWeights:k},T={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:o};return a==null?Do((L,E,M)=>{let j=Y.runKernel(ed,N,T);return M([L,E,j]),{value:Z(j,v),gradFunc:I}})(b,x):Do((L,E,M,j)=>{let D=Y.runKernel(ed,N,T);return j([L,E,D,M]),{value:Z(D,v),gradFunc:I}})(b,x,S)}var iZe=Q({fusedMatMul_:aZe});function sZe(e){return fM(e,.54,.46)}var oZe=Q({hammingWindow_:sZe});function lZe(e){return fM(e,.5,.5)}var rre=Q({hannWindow_:lZe});function uZe(e,t,n,r=!1,a=0){let i=0,s=[];for(;i+t<=e.size;)s.push(pt(e,i,t)),i+=n;if(r)for(;i<e.size;){let o=i+t-e.size,l=Yt([pt(e,i,t-o),Ka([o],a)]);s.push(l),i+=n}return s.length===0?Mo([],[0,t]):Z(Yt(s),[s.length,t])}var are=Q({frame_:uZe});function cZe(e,t,n,r,a=rre){r==null&&(r=KO(t));let i=are(e,t,n),s=K(i,a(t));return Pw(s,r)}var fZe=Q({stft_:cZe});function dZe(e,t,n,r,a="bilinear",i=0){let s=z(e,"image","cropAndResize"),o=z(t,"boxes","cropAndResize","float32"),l=z(n,"boxInd","cropAndResize","int32"),u=o.shape[0];U(s.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`),U(o.rank===2&&o.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${o.shape}.`),U(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${o.shape}.`),U(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),U(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),U(a==="bilinear"||a==="nearest",()=>`method must be bilinear or nearest, but was ${a}`);let c={image:s,boxes:o,boxInd:l},f={method:a,extrapolationValue:i,cropSize:r};return Y.runKernel(m0,c,f)}var pZe=Q({cropAndResize_:dZe});function hZe(e){let t=z(e,"image","flipLeftRight","float32");U(t.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);let n={image:t};return Y.runKernel(w0,n,{})}var mZe=Q({flipLeftRight_:hZe});function gZe(e){let t=z(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];U(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),U(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);let a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,Ha(t,a)}var yZe=Q({grayscaleToRGB_:gZe});function vZe(e){let t=z(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];U(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),U(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);let a=t.dtype,i=ve(t,"float32"),s=Ot([.2989,.587,.114]),o;switch(t.rank){case 2:o=uf("ij,j->i",i,s);break;case 3:o=uf("ijk,k->ij",i,s);break;case 4:o=uf("ijkl,l->ijk",i,s);break;case 5:o=uf("ijklm,m->ijkl",i,s);break;case 6:o=uf("ijklmn,n->ijklm",i,s);break;default:throw new Error("Not a valid tensor rank.")}return o=wr(o,-1),ve(o,a)}var bZe=Q({rgbToGrayscale_:vZe});function wZe(e,t,n=0,r=.5){let a=z(e,"image","rotateWithOffset","float32");U(a.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);let i={image:a},s={radians:t,fillValue:n,center:r};return Y.runKernel(r1,i,s)}var xZe=Q({rotateWithOffset_:wZe});function f1(e,t,n,r,a,i){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),i==null&&(i=0);let s=e.shape[0];return n=Math.min(n,s),U(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),U(e.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),U(e.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),U(t.rank===1,()=>"scores must be a 1D tensor"),U(t.shape[0]===s,()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${t.shape[0]}`),U(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}function SZe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){let i=z(e,"boxes","nonMaxSuppression","float32"),s=z(t,"scores","nonMaxSuppression","float32"),o=f1(i,s,n,r,a);n=o.maxOutputSize,r=o.iouThreshold,a=o.scoreThreshold;let l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return Y.runKernel(D0,{boxes:i,scores:s},l)}var kZe=Q({nonMaxSuppression_:SZe});function CZe(e,t,n){let r=IZe(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function IZe(e,t,n){return MZe(e,t,n||NZe)}function NZe(e,t){return e>t?1:e<t?-1:0}function MZe(e,t,n){let r=0,a=e.length,i=0,s=!1;for(;r<a;){i=r+(a-r>>>1);let o=n(t,e[i]);o>0?r=i+1:(a=i,s=!o)}return s?r:-r-1}function ire(e,t,n,r,a){return ZO(e,t,n,r,a,0)}function sre(e,t,n,r,a,i){return ZO(e,t,n,r,a,0,!1,i,!0)}function ore(e,t,n,r,a,i){return ZO(e,t,n,r,a,i,!0)}function ZO(e,t,n,r,a,i,s=!1,o=!1,l=!1){let u=[];for(let g=0;g<t.length;g++)t[g]>a&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(e8);let c=i>0?-.5/i:0,f=[],d=[];for(;f.length<n&&u.length>0;){let g=u.pop(),{score:y,boxIndex:v,suppressBeginIndex:b}=g;if(y<a)break;let x=!1;for(let S=f.length-1;S>=b;--S){let k=TZe(e,v,f[S]);if(k>=r){x=!0;break}if(g.score=g.score*EZe(r,c,k),g.score<=a)break}g.suppressBeginIndex=f.length,x||(g.score===y?(f.push(v),d.push(g.score)):g.score>a&&CZe(u,g,e8))}let p=f.length,h=n-p;o&&h>0&&(f.push(...new Array(h).fill(0)),d.push(...new Array(h).fill(0)));let m={selectedIndices:f};return s&&(m.selectedScores=d),l&&(m.validOutputs=p),m}function TZe(e,t,n){let r=e.subarray(t*4,t*4+4),a=e.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),p=(o-i)*(l-s),h=(f-u)*(d-c);if(p<=0||h<=0)return 0;let m=Math.max(i,u),g=Math.max(s,c),y=Math.min(o,f),v=Math.min(l,d),b=Math.max(y-m,0)*Math.max(v-g,0);return b/(p+h-b)}function EZe(e,t,n){let r=Math.exp(t*n*n);return n<=e?r:0}function e8(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}async function AZe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){let i=z(e,"boxes","nonMaxSuppressionAsync"),s=z(t,"scores","nonMaxSuppressionAsync"),o=f1(i,s,n,r,a);n=o.maxOutputSize,r=o.iouThreshold,a=o.scoreThreshold;let l=await Promise.all([i.data(),s.data()]),u=l[0],c=l[1],{selectedIndices:f}=ire(u,c,n,r,a);return i!==e&&i.dispose(),s!==t&&s.dispose(),Ot(f,"int32")}var LZe=AZe;function _Ze(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){let s=z(e,"boxes","nonMaxSuppression"),o=z(t,"scores","nonMaxSuppression"),l=f1(s,o,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;let u={boxes:s,scores:o},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i},f=Y.runKernel(R0,u,c);return{selectedIndices:f[0],selectedScores:f[1]}}var jZe=Q({nonMaxSuppressionWithScore_:_Ze});async function $Ze(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){let s=z(e,"boxes","nonMaxSuppressionAsync"),o=z(t,"scores","nonMaxSuppressionAsync"),l=f1(s,o,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;let u=await Promise.all([s.data(),o.data()]),c=u[0],f=u[1],{selectedIndices:d,selectedScores:p}=ore(c,f,n,r,a,i);return s!==e&&s.dispose(),o!==t&&o.dispose(),{selectedIndices:Ot(d,"int32"),selectedScores:Ot(p)}}var DZe=$Ze;function OZe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){let s=z(e,"boxes","nonMaxSuppression"),o=z(t,"scores","nonMaxSuppression"),l=f1(s,o,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,d={boxes:s,scores:o},p={maxOutputSize:u,iouThreshold:c,scoreThreshold:f,padToMaxOutputSize:i},h=Y.runKernel(O0,d,p);return{selectedIndices:h[0],validOutputs:h[1]}}var RZe=Q({nonMaxSuppressionPadded_:OZe});async function PZe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){let s=z(e,"boxes","nonMaxSuppressionAsync"),o=z(t,"scores","nonMaxSuppressionAsync"),l=f1(s,o,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,[d,p]=await Promise.all([s.data(),o.data()]),{selectedIndices:h,validOutputs:m}=sre(d,p,u,c,f,i);return s!==e&&s.dispose(),o!==t&&o.dispose(),{selectedIndices:Ot(h,"int32"),validOutputs:Ue(m,"int32")}}var FZe=PZe;function zZe(e,t,n=!1,r=!1){let a=z(e,"images","resizeBilinear");U(a.rank===3||a.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),U(t.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),U(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=a,s=!1;a.rank===3&&(s=!0,i=Z(a,[1,a.shape[0],a.shape[1],a.shape[2]]));let o={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=Y.runKernel(Op,o,l);return s?Z(u,[u.shape[1],u.shape[2],u.shape[3]]):u}var lre=Q({resizeBilinear_:zZe});function BZe(e,t,n=!1,r=!1){let a=z(e,"images","resizeNearestNeighbor");U(a.rank===3||a.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),U(t.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),U(a.dtype==="float32"||a.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),U(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=a,s=!1;a.rank===3&&(s=!0,i=Z(a,[1,a.shape[0],a.shape[1],a.shape[2]]));let o={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=Y.runKernel(Dp,o,l);return s?Z(u,[u.shape[1],u.shape[2],u.shape[3]]):u}var ure=Q({resizeNearestNeighbor_:BZe});function UZe(e,t="binary",n=!1,r=.5){let a=z(e,"image","threshold"),i=.2989,s=.587,o=.114,l=a.shape[0]*a.shape[1],u=K(Ot([r]),255),c,f,d,p;if(U(a.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),U(a.shape[2]===3||a.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),U(a.dtype==="int32"||a.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),U(t==="otsu"||t==="binary",()=>`Method must be binary or otsu, but was ${t}`),a.shape[2]===3){[c,f,d]=Ia(a,[1,1,1],-1);let m=K(c,i),g=K(f,s),y=K(d,o);p=le(le(m,g),y)}else p=e;if(t==="otsu"){let m=lO(ve(ZN(p),"int32"),ia([]),256);u=WZe(m,l)}let h=n?Rc(p,u):da(p,u);return ve(K(h,255),"int32")}function WZe(e,t){let n=Ot([-1]),r=Ot([0]),a=Ot([0]),i,s,o,l,u,c;for(let f=0;f<e.size-1;f++){i=pt(e,0,f+1),s=pt(e,f+1),u=Ee($e(i),t),c=Ee($e(s),t);let d=$e(K(i,fd(0,i.size)));o=Ee(d,$e(i));let p=Ka(s.shape,i.size),h=le(fd(0,s.size),p),m=K(s,h);l=Ee($e(m),$e(s));let g=Me(o,l),y=Me(o,l),v=K(u,c);a=K(K(v,g),y);let b=da(a,r);r=Cr(b,a,r),n=Cr(b,Ot([f]),n)}return n}var VZe=Q({threshold_:UZe});function GZe(e,t,n="nearest",r="constant",a=0,i){let s=z(e,"image","transform","float32"),o=z(t,"transforms","transform","float32");U(s.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`),U(o.rank===2&&(o.shape[0]===s.shape[0]||o.shape[0]===1)&&o.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),U(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);let l={image:s,transforms:o},u={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return Y.runKernel(e1,l,u)}var HZe=Q({transform_:GZe});function qZe(e,t,n){let r=z(e,"a","bandPart");U(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);let a=r.shape,[i,s]=r.shape.slice(-2),o,l;typeof t=="number"?(U(t%1===0,()=>`bandPart(): numLower must be an integer, got ${t}.`),U(t<=i,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${i}).`),o=z(t<0?i:t,"numLower","bandPart")):(U(t.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),o=Cr(hg(t,0),i,fc(t,i))),typeof n=="number"?(U(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),U(n<=s,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${s}).`),l=z(n<0?s:n,"numUpper","bandPart")):(U(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=Cr(hg(n,0),s,fc(n,s)));let u=Z(fd(0,i,1,"int32"),[-1,1]),c=fd(0,s,1,"int32"),f=Me(u,c),d=ss(Rc(f,o),zl(f,on(l))),p=In([i,s],r.dtype);return Z(Yn($n(Z(r,[-1,i,s])).map(h=>Cr(d,h,p))),a)}var YZe=Q({bandPart_:qZe});function QZe(e){let t;if(Array.isArray(e)){t=!1,U(e!=null&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");let a=e[0].shape[0];for(let i=1;i<e.length;++i)U(e[i].shape[0]===a,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[i].shape[0]} vs. ${a})`)}else t=!0,e=Ia(e,e.shape[0],0).map(a=>zc(a,[0]));U(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`);let n=[],r=e;for(let a=0;a<e.length;++a)n.push(Y.tidy(()=>{let i=r[a];if(a>0)for(let s=0;s<a;++s){let o=K($e(K(n[s],i)),n[s]);i=Me(i,o)}return Ee(i,s1(i,"euclidean"))}));return t?Yn(n,0):n}var KZe=Q({gramSchmidt_:QZe});function JZe(e,t=!1){if(U(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),e.rank===2)return t8(e,t);{let n=e.shape.slice(0,e.shape.length-2).reduce((l,u)=>l*u),r=$n(Z(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];r.forEach(l=>{let[u,c]=t8(l,t);a.push(u),i.push(c)});let s=Z(Yn(a,0),e.shape),o=Z(Yn(i,0),e.shape);return[s,o]}}function t8(e,t=!1){return Y.tidy(()=>{U(e.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);let n=e.shape[0],r=e.shape[1],a=GN(n),i=No(e),s=Mo([[1]],[1,1]),o=No(s),l=n>=r?r:n;for(let u=0;u<l;++u){let c=i,f=o,d=a;[o,i,a]=Y.tidy(()=>{let p=pt(i,[u,u],[n-u,1]),h=s1(p),m=pt(i,[u,u],[1,1]),g=Cr(da(m,0),Mo([[-1]]),Mo([[1]])),y=Me(m,K(g,h)),v=Ee(p,y);v.shape[0]===1?o=No(s):o=Yt([s,pt(v,[1,0],[v.shape[0]-1,v.shape[1]])],0);let b=on(Ee(at(g,y),h)),x=pt(i,[u,0],[n-u,r]),S=K(b,o),k=it(o);if(u===0)i=Me(x,at(S,at(k,x)));else{let T=Me(x,at(S,at(k,x)));i=Yt([pt(i,[0,0],[u,r]),T],0)}let I=it(S),N=pt(a,[0,u],[n,a.shape[1]-u]);if(u===0)a=Me(N,at(at(N,o),I));else{let T=Me(N,at(at(N,o),I));a=Yt([pt(a,[0,0],[n,u]),T],1)}return[o,i,a]}),Xe([c,f,d])}return!t&&n>r&&(a=pt(a,[0,0],[n,r]),i=pt(i,[0,0],[r,r])),[a,i]})}var ZZe=Q({qr_:JZe}),ra;(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(ra||(ra={}));function XZe(e,t,n=ra.SUM_BY_NONZERO_WEIGHTS){let r=z(e,"losses","computeWeightedLoss"),a=null;t!=null&&(a=z(t,"weights","computeWeightedLoss"));let i=a==null?r:K(r,a);if(n===ra.NONE)return i;if(n===ra.SUM)return $e(i);if(n===ra.MEAN){if(a==null)return Cn(i);{let s=r.size/a.size,o=Ee($e(i),$e(a));return s>1?Ee(o,Ue(s)):o}}if(n===ra.SUM_BY_NONZERO_WEIGHTS){if(a==null)return Ee($e(i),Ue(r.size));{let s=K(a,ka(r.shape)),o=ve($e(cd(s,Ue(0))),"float32");return Ee($e(i),o)}}throw Error(`Unknown reduction: ${n}`)}var Bl=Q({computeWeightedLoss_:XZe});function eXe(e,t,n,r=ra.SUM_BY_NONZERO_WEIGHTS){let a=z(e,"labels","absoluteDifference"),i=z(t,"predictions","absoluteDifference"),s=null;n!=null&&(s=z(n,"weights","absoluteDifference")),ca(a.shape,i.shape,"Error in absoluteDifference: ");let o=Wn(Me(a,i));return Bl(o,s,r)}var tXe=Q({absoluteDifference_:eXe});function nXe(e,t,n,r,a=ra.SUM_BY_NONZERO_WEIGHTS){let i=z(e,"labels","cosineDistance"),s=z(t,"predictions","cosineDistance"),o=null;r!=null&&(o=z(r,"weights","cosineDistance")),ca(i.shape,s.shape,"Error in cosineDistance: ");let l=Ue(1),u=Me(l,$e(K(i,s),n,!0));return Bl(u,o,a)}var rXe=Q({cosineDistance_:nXe});function aXe(e,t,n,r=ra.SUM_BY_NONZERO_WEIGHTS){let a=z(e,"labels","hingeLoss"),i=z(t,"predictions","hingeLoss"),s=null;n!=null&&(s=z(n,"weights","hingeLoss")),ca(a.shape,i.shape,"Error in hingeLoss: ");let o=Ue(1);a=Me(K(Ue(2),a),o);let l=Ft(Me(o,K(a,i)));return Bl(l,s,r)}var iXe=Q({hingeLoss_:aXe});function sXe(e,t,n,r=1,a=ra.SUM_BY_NONZERO_WEIGHTS){let i=z(e,"labels","huberLoss"),s=z(t,"predictions","huberLoss"),o=null;n!=null&&(o=z(n,"weights","huberLoss")),ca(i.shape,s.shape,"Error in huberLoss: ");let l=Ue(r),u=Wn(Me(s,i)),c=fc(u,l),f=Me(u,c),d=le(K(Ue(.5),Ht(c)),K(l,f));return Bl(d,o,a)}var oXe=Q({huberLoss_:sXe});function lXe(e,t,n,r=1e-7,a=ra.SUM_BY_NONZERO_WEIGHTS){let i=z(e,"labels","logLoss"),s=z(t,"predictions","logLoss"),o=null;n!=null&&(o=z(n,"weights","logLoss")),ca(i.shape,s.shape,"Error in logLoss: ");let l=Ue(1),u=Ue(r),c=on(K(i,Xa(le(s,u)))),f=K(Me(l,i),Xa(le(Me(l,s),u))),d=Me(c,f);return Bl(d,o,a)}var uXe=Q({logLoss_:lXe});function cXe(e,t,n,r=ra.SUM_BY_NONZERO_WEIGHTS){let a=z(e,"labels","meanSquaredError"),i=z(t,"predictions","meanSquaredError"),s=null;n!=null&&(s=z(n,"weights","meanSquaredError")),ca(a.shape,i.shape,"Error in meanSquaredError: ");let o=iM(a,i);return Bl(o,s,r)}var fXe=Q({meanSquaredError_:cXe});function dXe(e,t){let n=z(e,"labels","sigmoidCrossEntropyWithLogits"),r=z(t,"logits","sigmoidCrossEntropyWithLogits");ca(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");let a=Ft(r),i=K(r,n),s=Aw(Gr(on(Wn(r))));return le(Me(a,i),s)}function pXe(e,t,n,r=0,a=ra.SUM_BY_NONZERO_WEIGHTS){let i=z(e,"multiClassLabels","sigmoidCrossEntropy"),s=z(t,"logits","sigmoidCrossEntropy"),o=null;if(n!=null&&(o=z(n,"weights","sigmoidCrossEntropy")),ca(i.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){let u=Ue(r),c=Ue(1),f=Ue(.5);i=le(K(i,Me(c,u)),K(f,u))}let l=dXe(i,s);return Bl(l,o,a)}var hXe=Q({sigmoidCrossEntropy_:pXe});function mXe(e,t,n=-1){if(n===-1&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);return Do((r,a,i)=>{let s=Lw(a,[n],!0),o=Me(ve(a,"float32"),s);i([r,o]);let l=on(K(o,r));return{value:$e(l,[n]),gradFunc:(u,c)=>{let[f,d]=c,p=ud(u.shape,[n]);return[K(Z(u,p),Me(ve(f,"float32"),Gr(d))),K(Z(u,p),Me(Gr(d),ve(f,"float32")))]}}})(e,t)}function gXe(e,t,n,r=0,a=ra.SUM_BY_NONZERO_WEIGHTS){let i=z(e,"onehotLabels","softmaxCrossEntropy"),s=z(t,"logits","softmaxCrossEntropy"),o=null;if(n!=null&&(o=z(n,"weights","softmaxCrossEntropy")),ca(i.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){let u=Ue(r),c=Ue(1),f=Ue(i.shape[1]);i=le(K(i,Me(c,u)),Ee(u,f))}let l=mXe(i,s);return Bl(l,o,a)}var yXe=Q({softmaxCrossEntropy_:gXe});function vXe(e,t,n,r){let a=z(e,"indices","sparseFillEmptyRows","int32"),i=z(t,"values","sparseFillEmptyRows"),s=z(n,"denseShape","sparseFillEmptyRows","int32"),o=z(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${a.shape}`);if(i.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(s.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${s.shape}`);if(o.rank!==0)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);let l={indices:a,values:i,denseShape:s,defaultValue:o},u=Y.runKernel(cw,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}var bXe=Q({sparseFillEmptyRows_:vXe});function wXe(e,t,n){let r=z(e,"inputIndices","sparseReshape","int32"),a=z(t,"inputShape","sparseReshape","int32"),i=z(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(a.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(i.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);let s={inputIndices:r,inputShape:a,newShape:i},o=Y.runKernel(K0,s);return{outputIndices:o[0],outputShape:o[1]}}var xXe=Q({sparseReshape_:wXe});function SXe(e,t,n){let r=z(e,"data","sparseSegmentMean"),a=z(t,"indices","sparseSegmentMean","int32"),i=z(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${a.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${i.shape}`);let s={data:r,indices:a,segmentIds:i};return Y.runKernel(fw,s)}var kXe=Q({sparseSegmentMean_:SXe});function CXe(e,t,n){let r=z(e,"data","sparseSegmentSum"),a=z(t,"indices","sparseSegmentSum","int32"),i=z(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${a.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${i.shape}`);let s={data:r,indices:a,segmentIds:i};return Y.runKernel(dw,s)}var IXe=Q({sparseSegmentSum_:CXe});function NXe(e,t,n,r,a,i,s,o){let l=z(e,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);let u=z(t,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");let c={separator:n,nGramWidths:r,leftPad:a,rightPad:i,padWidth:s,preserveShortSequences:o},f={data:l,dataSplits:u},d=Y.runKernel(mw,f,c);return{nGrams:d[0],nGramsSplits:d[1]}}var MXe=Q({stringNGrams_:NXe});function TXe(e,t,n=!0){let r=z(e,"input","stringSplit","string"),a=z(t,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(a.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);let i={skipEmpty:n},s={input:r,delimiter:a},o=Y.runKernel(gw,s,i);return{indices:o[0],values:o[1],shape:o[2]}}var EXe=Q({stringSplit_:TXe});function AXe(e,t){let n=z(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");let a={input:n};return Y.runKernel(yw,a,r)}var LXe=Q({stringToHashBucketFast_:AXe});function _Xe(e,t,n,r=!0){let a=z(e,"input","staticRegexReplace","string"),i={pattern:t,rewrite:n,replaceGlobal:r};return Y.runKernel(hw,{x:a},i)}var jXe=Q({staticRegexReplace_:_Xe}),cre={fft:Rw,ifft:vg,rfft:Pw,irfft:aM},fre={hammingWindow:oZe,hannWindow:rre,frame:are,stft:fZe},mi={flipLeftRight:mZe,grayscaleToRGB:yZe,resizeNearestNeighbor:ure,resizeBilinear:lre,rgbToGrayscale:bZe,rotateWithOffset:xZe,cropAndResize:pZe,nonMaxSuppression:kZe,nonMaxSuppressionAsync:LZe,nonMaxSuppressionWithScore:jZe,nonMaxSuppressionWithScoreAsync:DZe,nonMaxSuppressionPadded:RZe,nonMaxSuppressionPaddedAsync:FZe,threshold:VZe,transform:HZe},XO={bandPart:YZe,gramSchmidt:KZe,qr:ZZe},dre={absoluteDifference:tXe,computeWeightedLoss:Bl,cosineDistance:rXe,hingeLoss:iXe,huberLoss:oXe,logLoss:uXe,meanSquaredError:fXe,sigmoidCrossEntropy:hXe,softmaxCrossEntropy:yXe},pre={sparseFillEmptyRows:bXe,sparseReshape:xXe,sparseSegmentMean:kXe,sparseSegmentSum:IXe},hre={stringNGrams:MXe,stringSplit:EXe,stringToHashBucketFast:LXe,staticRegexReplace:jXe},de={};et(de,{Serializable:()=>mre,SerializationMap:()=>gre,getRegisteredName:()=>DXe,registerClass:()=>yre});var $Xe=new Map,wL=new Map,mre=class{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}},gre=class Eh{constructor(){this.classNameMap={}}static getMap(){return Eh.instance==null&&(Eh.instance=new Eh),Eh.instance}static register(t){Eh.getMap().classNameMap[t.className]=[t,t.fromConfig]}};function yre(e,t,n){U(e.className!=null,()=>"Class being registered does not have the static className property defined."),U(typeof e.className=="string",()=>"className is required to be a string, but got type "+typeof e.className),U(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof n>"u"&&(n=e.className);let r=n,a=t+">"+r;return gre.register(e),$Xe.set(a,e),wL.set(e,a),e}function DXe(e){return wL.has(e)?wL.get(e):e.className}var Ul=class extends mre{minimize(e,t=!1,n){let{value:r,grads:a}=this.computeGradients(e,n);if(n!=null){let i=n.map(s=>({name:s.name,tensor:a[s.name]}));this.applyGradients(i)}else this.applyGradients(a);return Xe(a),t?r:(r.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return yne(e,t)}dispose(){this.iterations_!=null&&Xe(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Ue(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}};Object.defineProperty(Ul,Symbol.hasInstance,{value:e=>e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null});var eR=class extends Ul{static get className(){return"Adadelta"}constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],n==null&&(this.epsilon=Y.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(t=>t.name):Object.keys(e)).forEach((t,n)=>{let r=Y.registeredVariables[t],a=!1;this.accumulatedGrads[n]==null&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:X(()=>vt(r).variable(a))}),this.accumulatedUpdates[n]==null&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:X(()=>vt(r).variable(a))});let i=Array.isArray(e)?e[n].tensor:e[t];if(i==null)return;let s=this.accumulatedGrads[n].variable,o=this.accumulatedUpdates[n].variable;X(()=>{let l=le(K(s,this.rho),K(Ht(i),1-this.rho)),u=K(Ee(Ir(le(o,this.epsilon)),Ir(le(s,this.epsilon))),i),c=le(K(o,this.rho),K(Ht(u),1-this.rho));s.assign(l),o.assign(c);let f=le(K(u,-this.learningRate),r);r.assign(f)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Xe(this.accumulatedGrads.map(e=>e.variable)),Xe(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){let e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=e.length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.accumulatedUpdates=e.slice(t,t*2).map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}},tR=class extends Ul{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(t=>t.name):Object.keys(e)).forEach((t,n)=>{let r=Y.registeredVariables[t];this.accumulatedGrads[n]==null&&(this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:X(()=>Ka(r.shape,this.initialAccumulatorValue).variable(!1))});let a=Array.isArray(e)?e[n].tensor:e[t];if(a==null)return;let i=this.accumulatedGrads[n].variable;X(()=>{let s=le(i,Ht(a));i.assign(s);let o=le(K(Ee(a,Ir(le(s,Y.backend.epsilon()))),-this.learningRate),r);r.assign(o)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Xe(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=!1;this.accumulatedGrads=e.map(n=>({originalName:n.name,variable:n.tensor.variable(t)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}},nR=class extends Ul{static get className(){return"Adam"}constructor(e,t,n,r=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],X(()=>{this.accBeta1=Ue(t).variable(),this.accBeta2=Ue(n).variable()}),r==null&&(this.epsilon=Y.backend.epsilon())}applyGradients(e){let t=Array.isArray(e)?e.map(n=>n.name):Object.keys(e);X(()=>{let n=Me(1,this.accBeta1),r=Me(1,this.accBeta2);t.forEach((a,i)=>{let s=Y.registeredVariables[a],o=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${a}/m`,variable:X(()=>vt(s).variable(o))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${a}/v`,variable:X(()=>vt(s).variable(o))});let l=Array.isArray(e)?e[i].tensor:e[a];if(l==null)return;let u=this.accumulatedFirstMoment[i].variable,c=this.accumulatedSecondMoment[i].variable,f=le(K(u,this.beta1),K(l,1-this.beta1)),d=le(K(c,this.beta2),K(Ht(l),1-this.beta2)),p=Ee(f,n),h=Ee(d,r);u.assign(f),c.assign(d);let m=le(K(Ee(p,le(Ir(h),this.epsilon)),-this.learningRate),s);s.assign(m)}),this.accBeta1.assign(K(this.accBeta1,this.beta1)),this.accBeta2.assign(K(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Xe(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Xe(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){let e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(e){e=await this.extractIterations(e),X(()=>{this.accBeta1.assign($o(this.beta1,this.iterations_+1)),this.accBeta2.assign($o(this.beta2,this.iterations_+1))});let t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.accumulatedSecondMoment=e.slice(t,t*2).map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}},rR=class extends Ul{static get className(){return"Adamax"}constructor(e,t,n,r=null,a=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],X(()=>{this.iteration=Ue(0).variable(),this.accBeta1=Ue(t).variable()}),r==null&&(this.epsilon=Y.backend.epsilon())}applyGradients(e){let t=Array.isArray(e)?e.map(n=>n.name):Object.keys(e);X(()=>{let n=Me(1,this.accBeta1),r=Ee(-this.learningRate,le(K(this.iteration,this.decay),1));t.forEach((a,i)=>{let s=Y.registeredVariables[a],o=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${a}/m`,variable:vt(s).variable(o)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${a}/v`,variable:vt(s).variable(o)});let l=Array.isArray(e)?e[i].tensor:e[a];if(l==null)return;let u=this.accumulatedFirstMoment[i].variable,c=this.accumulatedWeightedInfNorm[i].variable,f=le(K(u,this.beta1),K(l,1-this.beta1)),d=K(c,this.beta2),p=Wn(l),h=Bo(d,p);u.assign(f),c.assign(h);let m=le(K(Ee(r,n),Ee(f,le(h,this.epsilon))),s);s.assign(m)}),this.iteration.assign(le(this.iteration,1)),this.accBeta1.assign(K(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Xe(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Xe(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}},gM=class extends Ul{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(t=>t.name):Object.keys(e)).forEach((t,n)=>{let r=Array.isArray(e)?e[n].tensor:e[t];if(r==null)return;let a=Y.registeredVariables[t];X(()=>{let i=le(K(this.c,r),a);a.assign(i)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=rr(Ue(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}},aR=class extends gM{static get className(){return"Momentum"}constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Ue(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(t=>t.name):Object.keys(e)).forEach((t,n)=>{let r=Y.registeredVariables[t];this.accumulations[n]==null&&(this.accumulations[n]={originalName:`${t}/momentum`,variable:X(()=>vt(r).variable(!1))});let a=this.accumulations[n].variable,i=Array.isArray(e)?e[n].tensor:e[t];i!=null&&X(()=>{let s,o=le(K(this.m,a),i);this.useNesterov?s=le(K(this.c,le(i,K(o,this.m))),r):s=le(K(this.c,o),r),a.assign(o),r.assign(s)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Xe(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=!1;this.accumulations=e.map(n=>({originalName:n.name,variable:n.tensor.variable(t)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}},iR=class extends Ul{static get className(){return"RMSProp"}constructor(e,t=.9,n=0,r=null,a=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,r==null&&(this.epsilon=Y.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(t=>t.name):Object.keys(e)).forEach((t,n)=>{let r=Y.registeredVariables[t],a=!1;this.accumulatedMeanSquares[n]==null&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:X(()=>vt(r).variable(a))}),this.accumulatedMoments[n]==null&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:X(()=>vt(r).variable(a))}),this.accumulatedMeanGrads[n]==null&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:X(()=>vt(r).variable(a))});let i=Array.isArray(e)?e[n].tensor:e[t];if(i==null)return;let s=this.accumulatedMeanSquares[n].variable,o=this.accumulatedMoments[n].variable;X(()=>{let l=le(K(s,this.decay),K(Ht(i),1-this.decay));if(this.centered){let u=this.accumulatedMeanGrads[n].variable,c=le(K(u,this.decay),K(i,1-this.decay)),f=Ee(K(i,this.learningRate),Ir(Me(l,le(Ht(c),this.epsilon)))),d=le(K(o,this.momentum),f);s.assign(l),u.assign(c),o.assign(d);let p=Me(r,d);r.assign(p)}else{let u=le(K(s,this.decay),K(Ht(i),1-this.decay)),c=le(K(o,this.momentum),Ee(K(i,this.learningRate),Ir(le(u,this.epsilon))));s.assign(u),o.assign(c);let f=Me(r,c);r.assign(f)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Xe(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Xe(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Xe(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){let e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.accumulatedMoments=e.slice(t,t*2).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.centered&&(this.accumulatedMeanGrads=e.slice(t*2,t*3).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}},OXe=[eR,tR,nR,rR,aR,iR,gM];function RXe(){for(let e of OXe)yre(e)}var jr={};et(jr,{CompositeArrayBuffer:()=>Pl,browserFiles:()=>VXe,browserHTTPRequest:()=>KXe,concatenateArrayBuffers:()=>Cqe,copyModel:()=>Hqe,decodeWeights:()=>Wte,decodeWeightsStream:()=>Gte,encodeWeights:()=>vqe,fromMemory:()=>ZXe,fromMemorySync:()=>Sre,getLoadHandlers:()=>_qe,getModelArtifactsForJSON:()=>qD,getModelArtifactsForJSONSync:()=>qte,getModelArtifactsInfoForJSON:()=>Cw,getSaveHandlers:()=>Lqe,getWeightSpecs:()=>hL,http:()=>oR,isHTTPScheme:()=>SL,listModels:()=>Vqe,loadWeights:()=>HXe,moveModel:()=>qqe,registerLoadRouter:()=>Aqe,registerSaveRouter:()=>Eqe,removeModel:()=>Gqe,weightsLoaderFactory:()=>bre,withSaveHandler:()=>XXe,withSaveHandlerSync:()=>eet});var PXe="model",FXe=".json",zXe=".weights.bin";function n8(e){return new Promise(t=>setTimeout(t)).then(e)}var rC=class xL{constructor(t){if(!ne().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(xL.URL_SCHEME)&&(t=t.slice(xL.URL_SCHEME.length)),(t==null||t.length===0)&&(t=PXe),this.modelJsonFileName=t+FXe,this.weightDataFileName=t+zXe}async save(t){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");let n=Pl.join(t.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let a=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],i=Hte(t,a),s=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),o=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=s,await n8(()=>o.dispatchEvent(new MouseEvent("click"))),t.weightData!=null){let l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,await n8(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Cw(t)}}}};rC.URL_SCHEME="downloads://";var BXe=class{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,t)=>{let n=new FileReader;n.onload=r=>{let a=JSON.parse(r.target.result),i=a.modelTopology;if(i==null){t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(a.weightsManifest==null){t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:i});return}let s=qD(a,o=>this.loadWeights(o));e(s)},n.onerror=r=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)})}loadWeights(e){let t=[],n=[];for(let i of e)t.push(...i.weights),n.push(...i.paths);let r=this.checkManifestAndWeightFiles(e),a=n.map(i=>this.loadWeightsFile(i,r[i]));return Promise.all(a).then(i=>[t,i])}loadWeightsFile(e,t){return new Promise((n,r)=>{let a=new FileReader;a.onload=i=>{let s=i.target.result;n(s)},a.onerror=i=>r(`Failed to weights data from file of path '${e}'.`),a.readAsArrayBuffer(t)})}checkManifestAndWeightFiles(e){let t=[],n=this.weightsFiles.map(a=>XW(a.name)),r={};for(let a of e)a.paths.forEach(i=>{let s=XW(i);if(t.indexOf(s)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${s}'`);if(t.push(s),n.indexOf(s)===-1)throw new Error(`Weight file with basename '${s}' is not provided.`);r[i]=this.weightsFiles[n.indexOf(s)]});if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}},UXe=e=>ne().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(rC.URL_SCHEME)?WXe(e.slice(rC.URL_SCHEME.length)):null;Ii.registerSaveRouter(UXe);function WXe(e="model"){return new rC(e)}function VXe(e){return new BXe(e)}function r8(e,t,n,r){s(e),n=n??0,r=r??1,o(n,r);let a=0,i=l=>(l.then(u=>{let c=n+ ++a/e.length*(r-n);return t(c),u}),l);function s(l){U(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function o(l,u){U(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),U(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),U(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(e.map(i))}async function vre(e,t){t==null&&(t={});let n=t.fetchFunc==null?ne().platform.fetch:t.fetchFunc,r=e.map(i=>n(i,t.requestInit,{isBinary:!0})),a=(t.onProgress==null?await Promise.all(r):await r8(r,t.onProgress,0,.5)).map(i=>i.arrayBuffer());return t.onProgress==null?await Promise.all(a):await r8(a,t.onProgress,.5,1)}function GXe(e,t){var n;let r=t.fetchFunc==null?ne().platform.fetch:t.fetchFunc,a=0,i;return(n=t.onProgress)===null||n===void 0||n.call(t,0),new ReadableStream({pull:async s=>{for(var o;a<e.length;){i||(i=(await r(e[a],t.requestInit,{isBinary:!0})).body.getReader());let{done:l,value:u}=await i.read();if(l){a++,i=void 0,(o=t.onProgress)===null||o===void 0||o.call(t,a/e.length);continue}s.enqueue(u);return}s.close()}})}async function HXe(e,t="",n,r){return bre(a=>vre(a,{requestInit:r}))(e,t,n)}function bre(e){return async(t,n="",r)=>{let a=t.map(()=>!1),i={},s=r!=null?r.map(()=>!1):[],o=[];if(t.forEach((p,h)=>{let m=0;p.weights.forEach(g=>{let y="quantization"in g?g.quantization.dtype:g.dtype,v=ad[y]*Bt(g.shape),b=()=>{a[h]=!0,i[h]==null&&(i[h]=[]),i[h].push({manifestEntry:g,groupOffset:m,sizeBytes:v})};r!=null?r.forEach((x,S)=>{x===g.name&&(b(),s[S]=!0)}):b(),o.push(g.name),m+=v})}),!s.every(p=>p)){let p=r.filter((h,m)=>!s[m]);throw new Error(`Could not find weights in manifest with names: ${p.join(", ")}. 
Manifest JSON has weights with names: ${o.join(", ")}.`)}let l=a.reduce((p,h,m)=>(h&&p.push(m),p),[]),u=[];l.forEach(p=>{t[p].paths.forEach(h=>{let m=n+(n.endsWith("/")?"":"/")+h;u.push(m)})});let c=await e(u),f={},d=0;return l.forEach(p=>{let h=t[p].paths.length,m=new Pl(c.slice(d,d+h));i[p].forEach(g=>{let y=m.slice(g.groupOffset,g.groupOffset+g.sizeBytes),v=Wte(y,[g.manifestEntry]);for(let b in v)f[b]=v[b]}),d+=h}),f}}var qXe="application/octet-stream",YXe="application/json",sR=class{constructor(e,t){if(this.DEFAULT_METHOD="POST",t==null&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,t.fetchFunc!=null?(U(typeof t.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=t.fetchFunc):this.fetch=ne().platform.fetch,U(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&U(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,t.requestInit!=null&&t.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;let n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=Hte(e,n);if(t.body.append("model.json",new Blob([JSON.stringify(r)],{type:YXe}),"model.json"),e.weightData!=null){let i=Pl.join(e.weightData);t.body.append("model.weights.bin",new Blob([i],{type:qXe}),"model.weights.bin")}let a=await this.fetch(this.path,t);if(a.ok)return{modelArtifactsInfo:Cw(e),responses:[a]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${a.status}.`)}async loadModelJSON(){let e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch{let i=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?i+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":i+=" Please make sure the server is serving valid JSON for this request.",new Error(i)}let n=t.modelTopology,r=t.weightsManifest;if(n==null&&r==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();let e=await this.loadModelJSON();return qD(e,t=>this.loadWeights(t))}async loadStream(){let e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=hL(e.weightsManifest),r=()=>GXe(t,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:r})}async getWeightUrls(e){let t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=QXe(t),a=this.weightPathPrefix||n,i=[],s=[];for(let o of e)for(let l of o.paths)this.weightUrlConverter!=null?s.push(this.weightUrlConverter(l)):i.push(a+l+r);return this.weightUrlConverter&&i.push(...await Promise.all(s)),i}async loadWeights(e){let t=await this.getWeightUrls(e),n=hL(e),r=await vre(t,this.loadOptions);return[n,r]}};sR.URL_SCHEME_REGEX=/^https?:\/\//;function QXe(e){let t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}function SL(e){return e.match(sR.URL_SCHEME_REGEX)!=null}var wre=(e,t)=>{if(typeof fetch>"u"&&(t==null||t.fetchFunc==null))return null;{let n=!0;if(Array.isArray(e)?n=e.every(r=>SL(r)):n=SL(e),n)return oR(e,t)}return null};Ii.registerSaveRouter(wre);Ii.registerLoadRouter(wre);function oR(e,t){return new sR(e,t)}function KXe(e,t){return oR(e,t)}var EE=class{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}},xre=class{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}},JXe=class{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}};function ZXe(e,t,n,r){let a=arguments;return new JXe(Sre(...a))}function Sre(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new EE(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new EE({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new EE({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function XXe(e){return new xre(e)}function eet(e){return new xre(e)}var kre={};et(kre,{confusionMatrix:()=>net});function tet(e,t,n){let r=z(e,"labels","confusionMatrix"),a=z(t,"predictions","confusionMatrix");U(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),U(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),U(a.rank===1,()=>`Expected the rank of predictions to be 1, but got ${a.rank}`),U(r.shape[0]===a.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${a.shape[0]}. Labels and predictions should have the same number of elements.`),U(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);let i=mg(ve(r,"int32"),n),s=mg(ve(a,"int32"),n),o=it(i),l=at(o,s);return ve(l,"int32")}var net=Q({confusionMatrix_:tet}),Fw={};et(Fw,{draw:()=>fet,fromPixels:()=>det,fromPixelsAsync:()=>oet,toPixels:()=>cet});var Kc,a8=!1;function Cre(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,i=!1,s=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)i=!0;else if(e.getContext!=null)s=!0;else if(typeof ImageBitmap<"u"&&e instanceof ImageBitmap)o=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);if(sb(Xk,Y.backendName)!=null){let d={pixels:e},p={numChannels:t};return Y.runKernel(Xk,d,p)}let[l,u]=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],c;if(s)c=e.getContext("2d").getImageData(0,0,l,u).data;else if(r||n)c=e.data;else if(i||a||o){if(Kc==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Kc=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Kc=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Kc.canvas.width=l,Kc.canvas.height=u,Kc.drawImage(e,0,0,l,u),c=Kc.getImageData(0,0,l,u).data}let f;if(t===4)f=new Int32Array(c);else{let d=l*u;f=new Int32Array(d*t);for(let p=0;p<d;p++)for(let h=0;h<t;++h)f[p*t+h]=c[p*4+h]}return sM(f,[u,l,t],"int32")}function ret(e){return e!=null&&e.data instanceof Uint8Array}function aet(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function iet(e){return e!=null&&e.width!==0&&e.height!==0}function set(e){return aet()&&!(e instanceof ImageBitmap)&&iet(e)&&!ret(e)}async function oet(e,t=3){let n=null;if(ne().getBool("WRAP_TO_IMAGEBITMAP")&&set(e)){let r;try{r=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===e.width&&r.height===e.height?n=r:n=e}else n=e;return Cre(n,t)}function Ire(e){if(e.rank!==2&&e.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);let t=e.rank===2?1:e.shape[2];if(t>4||t===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if(e.dtype!=="float32"&&e.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}function uet(e){let t=(e==null?void 0:e.alpha)||1;if(t>1||t<0)throw new Error(`Alpha value ${t} is suppoed to be in range [0 - 1].`)}async function cet(e,t){let n=z(e,"img","toPixels");if(!(e instanceof nt)){let u=n;n=ve(u,"int32"),u.dispose()}Ire(n);let[r,a]=n.shape.slice(0,2),i=n.rank===2?1:n.shape[2],s=await n.data(),o=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(a*r*4);for(let u=0;u<r*a;++u){let c=[0,0,0,255];for(let d=0;d<i;d++){let p=s[u*i+d];if(n.dtype==="float32"){if(p<0||p>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${p}.`)}else if(n.dtype==="int32"&&(p<0||p>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${p}.`);i===1?(c[0]=p*o,c[1]=p*o,c[2]=p*o):c[d]=p*o}let f=u*4;l[f+0]=Math.round(c[0]),l[f+1]=Math.round(c[1]),l[f+2]=Math.round(c[2]),l[f+3]=Math.round(c[3])}if(t!=null){a8||sb(NN,Y.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),a8=!0),t.width=a,t.height=r;let u=t.getContext("2d"),c=new ImageData(l,a,r);u.putImageData(c,0,0)}return n!==e&&n.dispose(),l}function fet(e,t,n){let r=z(e,"img","draw");if(!(e instanceof nt)){let s=r;r=ve(s,"int32"),s.dispose()}Ire(r),uet(n==null?void 0:n.imageOptions);let a={image:r},i={canvas:t,options:n};Y.runKernel(NN,a,i)}var det=Q({fromPixels_:Cre}),lR={};et(lR,{prepareAndValidate:()=>Nre});function Nre(e,t){let n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(t.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(Bt(e.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);let a=t.shape,i=a[a.length-1],s=1;for(let f=0;f<a.length-1;++f)s*=a[f];let o=e.shape,l=a.slice();l.pop();let u=1;for(let f=i;f<n;++f)u*=o[f],l.push(o[f]);let c=[...t0(e.shape).map(f=>f/u),1].slice(0,i);return[l,s,u,c]}var sr={};et(sr,{assertParamsValid:()=>het,computeFlatOffset:()=>bet,computeOutShape:()=>get,getNormalizedAxes:()=>yet,isSliceContinous:()=>vet,maskToAxes:()=>met,parseSliceParams:()=>Dre,sliceInfo:()=>wet,startForAxis:()=>jre,startIndicesWithElidedDims:()=>Are,stopForAxis:()=>$re,stopIndicesWithElidedDims:()=>Lre,stridesForAxis:()=>_re,stridesWithElidedDims:()=>Mre});var kL=-2,pet=-1;function het(e,t,n){let r=e.shape.length;U(r===t.length,()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`),U(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let a=0;a<r;++a)U(t[a]+n[a]<=e.shape[a],()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${t[a]+n[a]}) would overflow input.shape[${a}] (${e.shape[a]})`)}function met(e){let t=[],n=0;for(;e>0;)e&1&&t.push(n),e/=2,n++;return t}function get(e,t,n){let r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function Mre(e,t,n,r){let a=[...e];for(let i=a.length;i<r.length;i++)a.push(1);for(let i=0;i<n;i++)i===0?a[t]=1:(a.splice(t,0,1),a.pop());return a}function Tre(e,t,n){return n<=e?n:n-(t-1)}function Ere(e,t){let n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function yet(e,t,n,r,a,i,s,o,l){let u=e.length,c=new Array(u),f=new Array(u),d=new Array(u);if(t.length&&n>0){let p=t[0],h=n+1;c=Are(s,p,h,r,e),f=Lre(o,p,h,a,e),d=Mre(i,p,h,e)}else for(let p=0;p<u;p++)c[p]=jre(s,r,i,e,p,l),f[p]=$re(o,a,i,e,p,l),d[p]=_re(i,p,l);return{begin:c,end:f,strides:d}}function Are(e,t,n,r,a){let i=[...a],s=Ere(n,t);for(let o=0;o<i.length;o++)if(s.indexOf(o)>-1)i[o]=0;else{let l=Tre(t,n,o),u=r[l];e&1<<l&&(u=0),i[o]=u}return i}function Lre(e,t,n,r,a){let i=[...a],s=Ere(n,t);for(let o=0;o<i.length;o++)if(s.indexOf(o)>-1)i[o]=Number.MAX_SAFE_INTEGER;else{let l=Tre(t,n,o),u=r[l];e&1<<l&&(u=Number.MAX_SAFE_INTEGER),i[o]=u}for(let o=0;o<i.length;o++){let l=a[o];i[o]<0&&(i[o]+=l),i[o]=ab(0,i[o],a[o])}return i}function _re(e,t,n){let r=e[t];return(n&1<<t||r==null)&&(r=1),r}function jre(e,t,n,r,a,i){let s=t[a],o=n[a]||1;(e&1<<a||i&1<<a||s==null)&&(o>0?s=Number.MIN_SAFE_INTEGER:s=Number.MAX_SAFE_INTEGER);let l=r[a];return s<0&&(s+=l),s=ab(0,s,l-1),s}function $re(e,t,n,r,a,i){let s=t[a],o=n[a]||1;(e&1<<a||i&1<<a||s==null)&&(o>0?s=Number.MAX_SAFE_INTEGER:s=Number.MIN_SAFE_INTEGER);let l=r[a];return s<0&&(s+=l),o>0?s=ab(0,s,l):s=ab(-1,s,l-1),s}function vet(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function bet(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function Dre(e,t,n){let r,a=e.shape.length;typeof t=="number"?r=[t,...new Array(a-1).fill(0)]:t.length<a?r=t.concat(new Array(a-t.length).fill(0)):r=t.slice(),r.forEach(s=>{U(s!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(a).fill(-1):typeof n=="number"?i=[n,...new Array(a-1).fill(-1)]:n.length<a?i=n.concat(new Array(a-n.length).fill(-1)):i=n,i=i.map((s,o)=>s>=0?s:(U(s===-1,()=>`Negative size values should be exactly -1 but got ${s} for the slice() size at index ${o}.`),e.shape[o]-r[o])),[r,i]}function wet(e,t,n,r,a,i,s,o,l){let u;if(r==null?(u=new Array(t.length),u.fill(1)):u=r,s!=null&&s&s-1)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1,f={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};for(let v=0;v<f.dims;v++)c&&1<<v&o&&f.numAddAxisAfterEllipsis++,1<<v&s&&(c=!0);c||(f.ellipsisMask|=1<<f.dims,f.dims++);let d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};xet(f,d);let p=!0,h=!0,m=!0,g=[],y=[];for(let v=0;v<e.length;++v){if(d.strides[v]===0)throw Error(`strides[${v}] must be non-zero`);let b=!!(d.shrinkAxisMask&1<<v),x=e[v];if(x===-1){g.push(b?1:-1);continue}let S=[d.beginMask&1<<v,d.endMask&1<<v],k=[d.strides[v]>0?0:-1,d.strides[v]>0?x:x-1];if(b&&d.strides[v]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&d.strides[v]===1;let I=!!(d.beginMask&1<<v&&d.endMask&1<<v);if(d.beginValid&&d.endValid){if(b){let E=d.begin[v]<0?x+d.begin[v]:d.begin[v];if(d.begin[v]=E,d.end[v]=d.begin[v]+1,E<0||E>=x)throw Error(`slice index ${d.begin[v]} of dimension ${v} out of bounds.`)}else d.begin[v]=i8(d.begin[v],0,d.strides[v],x,S,k),d.end[v]=i8(d.end[v],1,d.strides[v],x,S,k);let L=d.strides[v]===1&&d.begin[v]===0&&d.end[v]===x;p=p&&L,h=h&&(v===0&&d.strides[v]===1||L)}else p=p&&d.strides[v]===1&&I,h=h&&(v===0&&d.strides[v]===1||I);let N,T=!1;if(d.beginValid&&d.endValid?(N=d.end[v]-d.begin[v],T=!0):b?(N=1,T=!0):I&&x>=0&&(d.strides[v]<0?N=-x:N=x,T=!0),T){let L;N===0||N<0!=d.strides[v]<0?L=0:L=Math.trunc(N/d.strides[v])+(N%d.strides[v]!==0?1:0),g.push(L)}else g.push(-1)}for(let v=0;v<d.finalShapeGatherIndices.length;++v){let b=d.finalShapeGatherIndices[v];b>=0?y.push(g[b]):b===kL&&y.push(1)}return{finalShapeSparse:y.filter((v,b)=>d.finalShapeGatherIndices[b]!==kL),finalShape:y,isIdentity:p,sliceDim0:h,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function xet(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=e.begin!=null,t.endValid=e.end!=null,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){let a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(kL),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);e.begin!=null&&(t.begin[n]=e.begin[r]),e.end!=null&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(pet),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}function i8(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];{let s=e<0?r+e:e;return s<i[0]?i[0]:s>i[1]?i[1]:s}}var ket="4.22.0",Ore=class{static sgd(e){return new gM(e)}static momentum(e,t,n=!1){return new aR(e,t,n)}static rmsprop(e,t=.9,n=0,r=null,a=!1){return new iR(e,t,n,r,a)}static adam(e=.001,t=.9,n=.999,r=null){return new nR(e,t,n,r)}static adadelta(e=.001,t=.95,n=null){return new eR(e,t,n)}static adamax(e=.002,t=.9,n=.999,r=null,a=0){return new rR(e,t,n,r,a)}static adagrad(e,t=.1){return new tR(e,t)}},sf=Ore,Cet=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:e=>e();function uR(){return new Promise(e=>Cet(()=>e()))}var R={};et(R,{ERF_A1:()=>Fet,ERF_A2:()=>zet,ERF_A3:()=>Bet,ERF_A4:()=>Uet,ERF_A5:()=>Wet,ERF_P:()=>Pet,PARALLELIZE_THRESHOLD:()=>cR,RowPartitionType:()=>lo,SELU_SCALE:()=>Pre,SELU_SCALEALPHA:()=>Rre,applyActivation:()=>hM,assertAndGetBroadcastShape:()=>Qt,assertAxesAreInnerMostDims:()=>bQe,assertParamsConsistent:()=>Iet,assignToTypedArray:()=>Qet,axesAreInnerMostDims:()=>xO,calculateShapes:()=>Gne,checkEinsumDimSizes:()=>ttt,checkPadOnDimRoundingMode:()=>fa,combineLocations:()=>dne,combineRaggedTensorToTensorShapes:()=>Met,complexWithEvenIndex:()=>Het,complexWithOddIndex:()=>qet,computeConv2DInfo:()=>Iw,computeConv3DInfo:()=>rne,computeDefaultPad:()=>rO,computeDilation2DInfo:()=>yYe,computeOptimalWindowSize:()=>Let,computeOutAndReduceShapes:()=>pne,computeOutShape:()=>Net,computePool2DInfo:()=>nne,computePool3DInfo:()=>vYe,convertConv2DDataFormat:()=>ane,decodeEinsumEquation:()=>Xet,eitherStridesOrDilationsAreOne:()=>zo,expandShapeToKeepDim:()=>ud,exponent:()=>Jet,exponents:()=>Ket,fromStringArrayToUint8:()=>Stt,fromUint8ToStringArray:()=>xtt,getAxesPermutation:()=>hne,getBroadcastDims:()=>cne,getComplexWithIndex:()=>Yet,getEinsumComputePath:()=>ntt,getEinsumPermutation:()=>ett,getFusedBiasGradient:()=>pM,getFusedDyActivation:()=>dM,getImageCenter:()=>_et,getInnerMostAxes:()=>wQe,getPermuted:()=>$et,getRaggedRank:()=>Eet,getReductionAxes:()=>Qn,getReshaped:()=>jet,getReshapedPermuted:()=>Det,getRowPartitionTypesHelper:()=>Tet,getSliceBeginCoords:()=>Oet,getSliceSize:()=>Ret,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>stt,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>ott,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>ltt,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>ftt,getSparseReshapeInputOutputMismatchErrorMessage:()=>ptt,getSparseReshapeInputOutputMultipleErrorMessage:()=>dtt,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>utt,getSparseReshapeNegativeOutputDimErrorMessage:()=>ctt,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>ytt,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>htt,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>mtt,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>gtt,getUndoAxesPermutation:()=>SO,isIdentityPermutation:()=>rtt,log:()=>EHe,mergeRealAndImagArrays:()=>Vet,prepareAndValidate:()=>Nre,prepareSplitSize:()=>itt,segment_util:()=>Fre,shouldFuse:()=>mM,slice_util:()=>sr,splitRealAndImagArrays:()=>Get,stridesOrDilationsArePositive:()=>ld,tupleValuesAreOne:()=>uc,upcastType:()=>Ci,validateDefaultValueShape:()=>Aet,validateInput:()=>lM,validateUpdateShape:()=>VO,warn:()=>pu});function Iet(e,t){let n=e[0].length;e.forEach((a,i)=>{U(a.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),U(t>=0&&t<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);let r=e[0];e.forEach((a,i)=>{for(let s=0;s<n;s++)U(s===t||a[s]===r[s],()=>`Error in concat${n}D: Shape of tensors[${i}] (${a}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function Net(e,t){let n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var lo;(function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"})(lo||(lo={}));function Met(e,t,n){let r=new Array;if(n==null&&t==null)return r;if(t==null)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(n==null)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){let i=n[a],s=r[r.length-n.length+a],o=r[s];if(i>=0)if(o>=0){if(o!==i)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${a+e}] = ${i} but shape[${a+e}] = ${o}`)}else r[s]=i}return r}function Tet(e){let t={FIRST_DIM_SIZE:lo.FIRST_DIM_SIZE,VALUE_ROWIDS:lo.VALUE_ROWIDS,ROW_LENGTHS:lo.ROW_LENGTHS,ROW_SPLITS:lo.ROW_SPLITS,ROW_LIMITS:lo.ROW_LIMITS,ROW_STARTS:lo.ROW_STARTS},n=[];for(let r of e)if(r in t)n.push(t[r]);else break;return n}function Eet(e){return e.length===0?0:e[0]===lo.FIRST_DIM_SIZE?e.length-1:e.length}function Aet(e,t){if(e==null||t==null)return;let n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){let i=e[a],s=t[a+1];if(i>=0&&s>=0&&i!==1&&i!==s)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${a-e.length}] = ${i} but ragged tensor input.flatValues.shape[${a-e.length}] = ${s}`)}}var cR=30;function Let(e){return e<=cR?e:Zk(e,Math.floor(Math.sqrt(e)))}function _et(e,t,n){let r=n*(typeof e=="number"?e:e[0]),a=t*(typeof e=="number"?e:e[1]);return[r,a]}function jet(e,t,n,r=!0){let a=[];if(r)a=a.concat(t.slice(0)),a.push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);let i=t.length;for(let s=0;s<i;++s)a=a.concat([e[s+1]/t[s],t[s]]);a=a.concat(e.slice(i+1))}return a}function $et(e,t,n=!0){let r=[];if(n){r.push(t);for(let a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{let a=[],i=[];for(let s=1;s<e;++s)s>=t*2+1||s%2===1?i.push(s):a.push(s);r.push(...a),r.push(0),r.push(...i)}return r}function Det(e,t,n,r=!0){let a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function Oet(e,t){let n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function Ret(e,t,n){let r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}var Rre=1.7580993408473768,Pre=1.0507009873554805,Pet=.3275911,Fet=.254829592,zet=-.284496736,Bet=1.421413741,Uet=-1.453152027,Wet=1.061405429;function Vet(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);let n=new Float32Array(e.length*2);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Get(e){let t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Het(e){let t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function qet(e){let t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function Yet(e,t){let n=e[t*2],r=e[t*2+1];return{real:n,imag:r}}function Qet(e,t,n,r){e[r*2]=t,e[r*2+1]=n}function Ket(e,t){let n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){let i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function Jet(e,t,n){let r=(n?2:-2)*Math.PI*(e/t),a=Math.cos(r),i=Math.sin(r);return{real:a,imag:i}}var AE="->",Zet=/->/g,s8=",",o8="...";function Xet(e,t){e=e.replace(/\s/g,"");let n=(e.length-e.replace(Zet,"").length)/AE.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${AE}").`);let[r,a]=e.split(AE);U(r.indexOf(o8)===-1,()=>`The ellipsis notation ("${o8}") is not supported yet.`);let i=r.split(s8),s=i.length;if(t!==s)throw new Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");let o=[];for(let d=0;d<a.length;++d){let p=a[d];if(!i.some(h=>h.indexOf(p)!==-1))throw new Error(`Output subscripts contain the label ${p} not present in the input subscripts.`);o.indexOf(p)===-1&&o.push(p)}for(let d=0;d<r.length;++d){let p=r[d];o.indexOf(p)===-1&&p!==s8&&o.push(p)}let l=new Array(i.length);for(let d=0;d<s;++d){if(new Set(i[d].split("")).size!==i[d].length)throw new Error(`Found duplicate axes in input component ${i[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let p=0;p<i[d].length;++p)l[d].push(o.indexOf(i[d][p]))}let u=o.length,c=a.length,f=[];for(let d=c;d<u;++d)f.push(d);return{allDims:o,summedDims:f,idDims:l}}function ett(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;let r=[];for(let a=0;a<e;++a)n[a]===-1&&r.push(a);return n=n.filter(a=>a!==-1),{permutationIndices:n,expandDims:r}}function ttt(e,t,n){let r=new Array(e);for(let a=0;a<n.length;++a){let i=n[a].shape;for(let s=0;s<t[a].length;++s)r[t[a][s]]===void 0?r[t[a][s]]=i[s]:U(r[t[a][s]]===i[s],()=>`Expected dimension ${r[t[a][s]]} at axis ${s} of input shaped ${JSON.stringify(i)}, but got dimension ${i[s]}`)}}function ntt(e,t){let n=e,r=[],a=0;e.length===0&&n.push(-1),a=e.length+1;for(let s=0;s<a;++s)r.push([]);let i=[];for(let s=0;s<n.length;++s){let o=n[s],l=att(t,o);for(let u of l)i.indexOf(u)===-1&&(r[s].push(u),i.push(u))}return{path:n,steps:r}}function rtt(e){return e.every((t,n)=>t===n)}function att(e,t){let n=[];for(let r=0;r<e.length;++r)(e[r].length===0||e[r].indexOf(t)!==-1||t===-1)&&n.push(r);return n}function itt(e,t,n=0){let r=[];if(typeof t=="number")U(e.shape[n]%t===0,()=>"Number of splits must evenly divide the axis."),r=new Array(t).fill(e.shape[n]/t);else{let a=t.reduce((s,o)=>(o===-1&&(s+=1),s),0);U(a<=1,()=>"There should be only one negative value in split array.");let i=t.indexOf(-1);if(i!==-1){let s=t.reduce((o,l)=>l>0?o+l:o);t[i]=e.shape[n]-s}U(e.shape[n]===t.reduce((s,o)=>s+o),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}function stt(e){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${e}`}function ott(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function ltt(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function utt(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function ctt(e,t){return`size ${e} must be non-negative, not ${t}`}function ftt(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function dtt(e,t){let n=Bt(e),r=Bt(t);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${e} outputShape= ${t}`}function ptt(e,t){let n=Bt(e),r=Bt(t);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${e} outputShape=${t}`}function htt(){return"segment ids must be >= 0"}function mtt(){return"segment ids are not increasing"}function gtt(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function ytt(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}var Fre={};et(Fre,{collectGatherOpShapeInfo:()=>wtt,computeOutShape:()=>btt,segOpComputeOptimalWindowSize:()=>vtt});function vtt(e,t){let n=!1,r;for(e<=cR?(r=e,n=!0):r=Zk(e,Math.floor(Math.sqrt(e)));!n;)r>t||r===e?n=!0:r=Zk(e,r+1);return r}function btt(e,t,n){let r=[],a=e.length;for(let i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function wtt(e,t,n,r){let a=t.shape.length,i=e.shape.length;if(r!==0&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(e.shape[f]!==t.shape[f])throw new Error(`x.shape[${f}]: ${e.shape[f]} should be equal to indices.shape[${f}]: ${t.shape[f]}.`);let s=e.shape[n],o=[],l=1,u=1,c=1;for(let f=0;f<r;++f)o.push(e.shape[f]),l*=e.shape[f];for(let f=r;f<n;f++)o.push(e.shape[f]),u*=e.shape[f];for(let f=r;f<a;f++)o.push(t.shape[f]);for(let f=n+1;f<i;f++)o.push(e.shape[f]),c*=e.shape[f];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:s,outputShape:o}}function xtt(e){try{return e.map(t=>tC(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function Stt(e){return e.map(t=>Sw(t))}var Uo={};et(Uo,{nonMaxSuppressionV3Impl:()=>ire,nonMaxSuppressionV4Impl:()=>sre,nonMaxSuppressionV5Impl:()=>ore,whereImpl:()=>Yne});RXe();var zre={kernelName:n0,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(e,rh(ve(n,"float32"),-1))}}},ktt={kernelName:Od,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>{let r=Ht(ve(n,"float32")),a=Ir(Me(Ue(1),r));return on(Ee(e,a))}}}},Ctt={kernelName:Rd,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>{let r=Ir(Me(Ht(ve(n,"float32")),1));return Ee(e,r)}}}},Itt={kernelName:_c,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t,a=Qt(n.shape,r.shape);return{a:()=>{let i=e,s=Qn(n.shape,a);return s.length>0&&(i=$e(i,s)),Z(i,n.shape)},b:()=>{let i=e,s=Qn(r.shape,a);return s.length>0&&(i=$e(i,s)),Z(i,r.shape)}}}},Ntt={kernelName:Pd,saveAllInputs:!0,gradFunc:(e,t)=>{let n={};return t.forEach((r,a)=>{n[a]=()=>e.clone()}),n}},Mtt={kernelName:i0,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>vt(n)}}},Ttt={kernelName:s0,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>vt(n)}}},Ett={kernelName:Fd,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Ee(e,Ir(Me(Ue(1),Ht(ve(n,"float32")))))}}},Att={kernelName:zd,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>{let r=Ir(le(Ue(1),Ht(ve(n,"float32"))));return Ee(e,r)}}}},Ltt={kernelName:Wd,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t,a=Qt(n.shape,r.shape);return{a:()=>{let i=le(Ht(n),Ht(r)),s=K(e,Ee(r,i)),o=Qn(n.shape,a);return o.length>0&&(s=$e(s,o)),Z(s,n.shape)},b:()=>{let i=le(Ht(n),Ht(r)),s=on(K(e,Ee(n,i))),o=Qn(r.shape,a);return o.length>0&&(s=$e(s,o)),Z(s,r.shape)}}}},_tt={kernelName:Bd,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Ee(e,le(Ht(ve(n,"float32")),1))}}},jtt={kernelName:Ud,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Ee(e,Me(Ue(1),Ht(ve(n,"float32"))))}}};function $tt(e,t,n,r,a,i){let s=z(e,"dy","avgPool3dGrad"),o=z(t,"input","avgPool3dGrad"),l=s,u=o,c=!1;o.rank===4&&(c=!0,l=Z(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),u=Z(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),U(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),U(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),fa("avgPool3dGrad",a,i);let f={dy:l,input:u},d={filterSize:n,strides:r,pad:a,dimRoundingMode:i},p=Y.runKernel(ew,f,d);return c?Z(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}var Dtt=Q({avgPool3dGrad_:$tt}),Ott={kernelName:o0,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:o}=n;return{x:()=>Dtt(e,r,a,i,s,o)}}};function Rtt(e,t,n,r,a){let i=z(e,"dy","avgPoolGrad"),s=z(t,"input","avgPoolGrad");U(s.rank===i.rank,()=>`Rank of input (${s.rank}) does not match rank of dy (${i.rank})`);let o=s,l=i,u=!1;s.rank===3&&(u=!0,o=Z(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=Z(i,[1,i.shape[0],i.shape[1],i.shape[2]])),U(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),U(o.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);let c={dy:l,input:o},f={filterSize:n,strides:r,pad:a},d=Y.runKernel(Xb,c,f);return u?Z(d,[d.shape[1],d.shape[2],d.shape[3]]):d}var Ptt=Q({avgPoolGrad_:Rtt}),Ftt={kernelName:Vd,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,{filterSize:a,strides:i,pad:s}=n;return{x:()=>Ptt(e,r,a,i,s)}}},ztt={kernelName:Gd,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{let[r,a]=t,{transposeA:i,transposeB:s}=n;return!i&&!s?{a:()=>at(e,a,!1,!0),b:()=>at(r,e,!0,!1)}:!i&&s?{a:()=>at(e,a,!1,!1),b:()=>at(e,r,!0,!1)}:i&&!s?{a:()=>at(a,e,!1,!0),b:()=>at(r,e,!1,!1)}:{a:()=>at(a,e,!0,!0),b:()=>at(e,r,!0,!0)}}},Btt={kernelName:l0,gradFunc:(e,t,n)=>{let{blockShape:r,crops:a}=n;return{x:()=>$w(e,r,a)}}},Utt={kernelName:Ite,gradFunc:(e,t,n)=>{let r=n,a=r.inputShape,i=r.shape,s=Array.from(i);for(let l=a.length-1;l>=0;l--)if(a[l]===i[l])s[l]=1;else if(a[l]!==1)throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${i}].`);let o=[];for(let l=0;l<s.length;l++)s[l]>1&&o.push(l);return{x:()=>$e(e,o,!0)}}},Wtt={kernelName:Hd,gradFunc:e=>({x:()=>e.clone()})},Vtt={kernelName:qd,gradFunc:e=>({x:()=>vt(e)})},Gtt={kernelName:jc,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,{clipValueMin:a,clipValueMax:i}=n;return{x:()=>Cr(ss(zl(r,a),Rc(r,i)),e,vt(e))}}},Htt={kernelName:nw,inputsToSave:["x"],gradFunc:zre.gradFunc},qtt={kernelName:f0,saveAllInputs:!0,gradFunc:(e,t,n)=>{let r=t.map(o=>o.shape),{axis:a}=n,i=cs(a,t[0].shape)[0],s=r.map(o=>o[i]);return Ia(e,s,i).map(o=>()=>o)}},Ytt={kernelName:Yd,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{let[r,a]=t,{dilations:i,strides:s,pad:o,dataFormat:l}=n;return U(uc(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>hO(r.shape,e,a,s,o,l),filter:()=>JO(r,e,a.shape,s,o,l)}}},Qtt={kernelName:Qd,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{let[r,a]=t,{strides:i,pad:s,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>oa(e,a,i,s,o,1,l),filter:()=>JO(e,r,a.shape,i,s,o,l)}}};function Ktt(e,t,n,r,a){let i=e;e.rank===4&&(i=Z(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let s=t;s.rank===4&&(s=Z(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),U(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),U(s.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${s.shape}.`),U(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),U(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),U(s.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${s.shape[4]}) must match output depth for filter (${n[4]}).`);let o={x:i,dy:s},l={strides:r,pad:a,filterShape:n};return Y.runKernel(d0,o,l)}var Jtt=Q({conv3DBackpropFilter_:Ktt}),Ztt={kernelName:Kd,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{let{dilations:r,strides:a,pad:i}=n;U(uc(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);let[s,o]=t;return{x:()=>lne(s.shape,e,o,a,i),filter:()=>Jtt(s,e,o.shape,a,i)}}},Xtt={kernelName:Jd,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(on(tM(ve(n,"float32"))),e)}}},ent={kernelName:Zd,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(nM(ve(n,"float32")),e)}}},tnt={kernelName:Xd,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,{axis:a,exclusive:i,reverse:s}=n;return{x:()=>{let o=hne([a],r.rank),l=WN(e,a,i,!s);return o!=null&&(l=it(l,o)),l}}}},nnt={kernelName:ep,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{let{dilations:r,strides:a,pad:i,dimRoundingMode:s}=n,o=r??[1,1];U(uc(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);let[l,u]=t;return U(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),U(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),U(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),U(zo(a,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${o}'.`),fa("depthwiseConv2d",i,s),{x:()=>nre(l.shape,e,u,a,i,o,s),filter:()=>tre(l,e,u.shape,a,i,o,s)}}},rnt={kernelName:tp,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{let[r,a]=t,i={x:r,filter:a,dy:e},s={x:r,filter:a,dy:e};return{x:()=>Y.runKernel(cg,i,n),filter:()=>Y.runKernel(fg,s,n)}}},ant={kernelName:rp,outputsToSave:[!0],gradFunc:(e,t)=>{let[n]=t,r={dy:e,y:n};return{x:()=>Y.runKernel(y0,r)}}},int={kernelName:ap,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t,r=K(Gr(on(Ht(n))),2/Math.sqrt(Math.PI));return{x:()=>K(e,r)}}},snt={kernelName:ip,outputsToSave:[!0],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(e,n)}}},ont={kernelName:b0,inputsToSave:["input"],gradFunc:(e,t)=>{let[n]=t;return{input:()=>Z(e,n.shape)}}},lnt={kernelName:sp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(e,Gr(n))}}},unt={kernelName:op,gradFunc:e=>({x:()=>vt(e)})},cnt={kernelName:lp,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t,a=Qt(n.shape,r.shape);return{a:()=>{let i=Ee(e,ve(r,"float32")),s=Qn(n.shape,a);return s.length>0?Z($e(i,s),n.shape):i},b:()=>{let i=K(e,ve(n,"float32")),s=Qn(r.shape,a);s.length>0&&(i=Z($e(i,s),r.shape));let o=Ht(r);return on(Ee(i,ve(o,"float32")))}}}},fnt={kernelName:up,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{let{varianceEpsilon:r}=n,[a,i,s,o]=t,l=o??Ue(1),u=Qn(i.shape,a.shape),c=[];if(i.rank===1){for(let m=0;m<a.shape.length-1;++m)c.push(a.shape[m]);c.push(1)}let f=Me(a,i),d=K(e,l),p=XN(le(s,Ue(r))),h=K(K(K(p,p),p),Ue(-.5));return{x:()=>i.rank===1?Z(K(K(e,Ha(Z(p,[1,1,1,i.shape[0]]),c)),l),a.shape):Z(K(K(e,p),l),a.shape),mean:()=>{let m=K(K(p,Ue(-1)),d);return i.rank===1&&(m=$e(m,u)),Z(m,i.shape)},variance:()=>{let m=K(K(h,f),d);return i.rank===1&&(m=$e(m,u)),Z(m,i.shape)},scale:()=>{let m=K(f,p),g=K(e,m);return i.rank===1&&(g=$e(g,u)),Z(g,i.shape)},offset:()=>{let m=e;return i.rank===1&&(m=$e(m,u)),Z(m,i.shape)}}}},dnt={kernelName:x0,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{let[r,a]=t,{axis:i,batchDims:s}=n,o=cs(i,r.shape)[0],l=(u,c,f)=>()=>{let d=u.shape,p=c.size,h=d.slice(0,o),m=h.length,g=d.slice(i,d.length).slice(1),y=g.length,v=l8(0,m),b=l8(m+1,m+1+y),x=u8([h,[p],g]),S=Z(f,x),k=Z(c,[p]),I=u8([[m],v,b]),N=it(S,I),T=cM(N,k,u.shape[o]),L=SO(I);return T=it(T,L),T};if(s===1){let u=r.shape[0],c=r.split(u,0);return{x:()=>Yn(c.map((f,d)=>l(f,a.slice(d,1),e.slice(d,1))())).reshape(r.shape),indices:()=>a}}else return{x:l(r,a,e),indices:()=>a}}};function l8(e,t){let n=[];for(let r=e;r<t;++r)n.push(r);return n}function u8(e){let t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var pnt={kernelName:cp,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t;return{a:()=>vt(n),b:()=>vt(r)}}},hnt={kernelName:fp,gradFunc:e=>({x:()=>ve(e,"float32")})},mnt={kernelName:dp,gradFunc:e=>({x:()=>vt(e)})},gnt={kernelName:pp,gradFunc:e=>({x:()=>vt(e)})},ynt={kernelName:hp,gradFunc:e=>({x:()=>vt(e)})},vnt={kernelName:mp,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,{alpha:a}=n,i=da(r,0);return{x:()=>Cr(i,e,K(e,a))}}},bnt={kernelName:yp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Ee(e,le(n,1))}}},wnt={kernelName:gp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Ee(e,ve(n,"float32"))}}},xnt={kernelName:Mte,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{let[r]=t,{axis:a}=n;return{logits:()=>{let i=Gr(r);return Me(e,K($e(e,a,!0),i))}}}};function Snt(e,t,n,r=5,a=1,i=1,s=.5){let o={x:e,y:t,dy:n},l={depthRadius:r,bias:a,alpha:i,beta:s};return Y.runKernel(A0,o,l)}var knt=Q({localResponseNormalizationBackprop_:Snt}),Cnt={kernelName:vp,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{let[r,a]=t,{depthRadius:i,bias:s,alpha:o,beta:l}=n;return{x:()=>knt(r,a,e,i,s,o,l)}}};function Bre(e,t,n,r){return t.rank<n.rank&&(t=Z(t,ud(t.shape,r))),e.rank<n.rank&&(e=Z(e,ud(e.shape,r))),{x:()=>K(e,ve(Za(n,t),e.dtype))}}var c8={kernelName:bp,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{let r=n,{reductionIndices:a}=r,i=t[0],s=t[1],o=cs(a,i.shape),l=Bre(e,s,i,o);return{x:()=>l.x()}}},Int={kernelName:wp,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t;return{a:()=>K(e,ve(zl(n,r),"float32")),b:()=>K(e,ve(hg(n,r),"float32"))}}};function Nnt(e,t,n,r,a,i,s){let o=z(e,"dy","maxPool3dGrad"),l=z(t,"input","maxPool3dGrad"),u=z(n,"output","maxPool3dGrad"),c=o,f=l,d=u,p=!1;l.rank===4&&(p=!0,c=Z(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),f=Z(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=Z(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),U(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),U(f.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${f.rank}.`),U(d.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`),fa("maxPool3dGrad",i,s);let h={dy:c,input:f,output:d},m={filterSize:r,strides:a,pad:i,dimRoundingMode:s},g=Y.runKernel(ow,h,m);return p?Z(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}var Mnt=Q({maxPool3dGrad_:Nnt}),Tnt={kernelName:L0,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{let[r,a]=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=n;return{x:()=>Mnt(e,r,a,i,s,o,l)}}};function Ent(e,t,n,r,a,i,s){let o=z(e,"dy","maxPoolGrad"),l=z(t,"input","maxPoolGrad"),u=z(n,"output","maxPoolGrad");U(l.rank===o.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`),U(o.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),U(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),fa("maxPoolGrad",i,s);let c={dy:o,input:l,output:u},f={filterSize:r,strides:a,pad:i,dimRoundingMode:s};return Y.runKernel(sw,c,f)}var Ant=Q({maxPoolGrad_:Ent}),Lnt={kernelName:xp,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{let[r,a]=t,{filterSize:i,strides:s,pad:o}=n;return{x:()=>Ant(e,r,a,i,s,o)}}},_nt={kernelName:Sp,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,{axis:a}=n,i=cs(a,r.shape),s=pne(r.shape,i)[1],o=Bt(s);return{x:()=>{let l=r.shape.slice();i.forEach(c=>{l[c]=1});let u=Z(e,l);return Ee(K(u,ka(r.shape,"float32")),o)}}}},jnt={kernelName:kp,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{let r=n,{axis:a}=r,[i,s]=t,o=cs(a,i.shape),l=Bre(e,s,i,o);return{x:()=>l.x()}}},$nt={kernelName:Cp,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t;return{a:()=>K(e,ve(Rc(n,r),"float32")),b:()=>K(e,ve(da(n,r),"float32"))}}},Dnt={kernelName:Ip,inputsToSave:["x"],gradFunc:(e,t,n)=>{let r=t[0],{paddings:a}=n,i=a.map(s=>s[0]);return{x:()=>pt(e,i,r.shape)}}},Ont={kernelName:Np,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t,a=Qt(n.shape,r.shape);return{a:()=>{let i=Qn(n.shape,a);return i.length>0?Z($e(e,i),n.shape):e},b:()=>{let i=K(e,on(o1(Ee(n,r)))),s=Qn(r.shape,a);return s.length>0?Z($e(i,s),r.shape):i}}}},Rnt={kernelName:Mp,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t,a=Qt(n.shape,r.shape);return{a:()=>{let i=K(e,ve(r,"float32")),s=Qn(n.shape,a);return s.length>0?Z($e(i,s),n.shape):i},b:()=>{let i=K(e,ve(n,"float32")),s=Qn(r.shape,a);return s.length>0?Z($e(i,s),r.shape):i}}}},Pnt={kernelName:j0,gradFunc:e=>({x:()=>on(e)})},Fnt={kernelName:Tp,inputsToSave:["indices"],gradFunc:(e,t)=>{let n=t[0];return{indices:()=>In(n.shape,"float32")}}},znt={kernelName:P0,gradFunc:e=>({x:()=>vt(e)})},Bnt={kernelName:F0,saveAllInputs:!0,gradFunc:(e,t,n)=>{let{axis:r}=n;return $n(e,r).map(a=>()=>a)}},f8={kernelName:Ep,inputsToSave:["x"],gradFunc:(e,t,n)=>{let r=t[0],{paddings:a}=n,i=a.map(s=>s[0]);return{x:()=>pt(e,i,r.shape)}}},Unt={kernelName:Ap,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{let[n,r,a]=t,i=n,s=r,o=Qt(i.shape,s.shape);return{a:()=>{let l=ve(s,"float32"),u=K(e,K(l,$o(i,Me(l,Ue(1))))),c=Qn(i.shape,o);return c.length>0&&(u=$e(u,c)),Z(u,i.shape)},b:()=>{let l=da(i,0),u=Cr(l,Xa(i),vt(i)),c=K(e,K(a,u)),f=Qn(s.shape,o);return f.length>0&&(c=$e(c,f)),Z(c,s.shape)}}}},Wnt={kernelName:Lp,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{let[n,r]=t,a=da(n,0);return{x:()=>Cr(a,e,K(e,r)),alpha:()=>{let i=Cr(a,vt(e),K(e,n)),s=Qn(r.shape,e.shape);return s.length>0&&(i=$e(i,s)),Z(i,r.shape)}}}};function Vnt(e,t,n){let r=e.shape.slice();r[n]=1;let a=Z(t,r),i=db(e,n,!0,!1),s=db(e,n,!0,!0),o=K(i,s);return K(a,o)}function Gnt(e,t,n){let r=e.shape.length,a=r-n.length,i=R.getAxesPermutation(n,r),s=e;i!=null&&(s=it(e,i));let o=s.shape.slice(),l=o.splice(r-n.length,n.length).reduce((f,d)=>f*d,1);o.push(l);let u=s.reshape(o),c=Vnt(u,t,a);if(c=c.reshape(s.shape),i!=null){let f=R.getUndoAxesPermutation(i);c=it(c,f)}return c}var Hnt={kernelName:_p,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,{axis:a}=n,i=[];return a==null?i=r.shape.map((s,o)=>o):typeof a=="number"?i=[a]:i=a,{x:()=>Gnt(r,e,i)}}},qnt={kernelName:np,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t,a=Qt(n.shape,r.shape);return{a:()=>{let i=Ee(e,ve(r,"float32")),s=Qn(n.shape,a);return s.length>0?Z($e(i,s),n.shape):i},b:()=>{let i=K(e,ve(n,"float32")),s=Qn(r.shape,a);s.length>0&&(i=Z($e(i,s),r.shape));let o=Ht(r);return on(Ee(i,ve(o,"float32")))}}}},Ynt={kernelName:jp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Ee(e,on(Ht(n)))}}},Qnt={kernelName:Rp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t,r=K(Rc(n,6),rh(n));return{x:()=>K(e,ve(r,"float32"))}}},Knt={kernelName:$p,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(e,ve(rh(n),"float32"))}}},Jnt={kernelName:z0,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Z(e,n.shape)}}},Znt={kernelName:Op,inputsToSave:["images"],gradFunc:(e,t,n)=>{let[r]=t,a={dy:e,images:r};return{images:()=>Y.runKernel(U0,a,n)}}},Xnt={kernelName:Dp,inputsToSave:["images"],gradFunc:(e,t,n)=>{let[r]=t,a={dy:e,images:r};return{images:()=>Y.runKernel(B0,a,n)}}},ert={kernelName:Pp,gradFunc:(e,t,n)=>{let{dims:r}=n,a=cs(r,e.shape);return{x:()=>Ni(e,a)}}},trt={kernelName:Fp,gradFunc:e=>({x:()=>vt(e)})},nrt={kernelName:zp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>on(Ee(e,K($o(n,1.5),2)))}}},rrt={kernelName:H0,inputsToSave:["condition"],gradFunc:(e,t)=>{let[n]=t;return{condition:()=>ve(vt(n),"float32"),t:()=>K(e,ve(n,e.dtype)),e:()=>K(e,ve(_w(n),e.dtype))}}},art={kernelName:Bp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>{let r=da(n,Ue(0)),a=Ue(Rre),i=Ue(Pre),s=K(e,i),o=K(K(e,a),Gr(ve(n,"float32")));return Cr(r,s,o)}}}},irt={kernelName:Gp,outputsToSave:[!0],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(e,K(n,Me(Ue(1),n)))}}},srt={kernelName:Vp,gradFunc:e=>({x:()=>vt(e)})},ort={kernelName:Up,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(Mw(ve(n,"float32")),e)}}},lrt={kernelName:Wp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(UN(ve(n,"float32")),e)}}},urt={kernelName:q0,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,{begin:a,size:i}=n,s=r.shape,[o,l]=Dre(r,a,i),u=[];for(let c=0;c<e.rank;c++)u.push([o[c],s[c]-o[c]-l[c]]);return{x:()=>Qs(e,u)}}},crt={kernelName:Qp,outputsToSave:[!0],gradFunc:(e,t,n)=>{let[r]=t,{dim:a}=n,i=!0,s=K(e,r);return{logits:()=>Me(s,K($e(s,[a],i),r))}}},frt={kernelName:Hp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(e,ts(n))}}},d8={kernelName:Y0,gradFunc:(e,t,n)=>{let{blockShape:r,paddings:a}=n;return{x:()=>Nw(e,r,a)}}},p8={kernelName:Q0,gradFunc:(e,t,n)=>{let{axis:r}=n;return{x:()=>Yt(e,r)}}},drt={kernelName:qp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Ee(e,K(Ir(ve(n,"float32")),2))}}},prt={kernelName:pw,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(e,K(ve(n,"float32"),2))}}},hrt={kernelName:Kp,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t,a=Ue(2);return{a:()=>K(e,K(a,Me(n,r))),b:()=>K(e,K(a,Me(r,n)))}}},mrt={kernelName:Dc,gradFunc:e=>({x:()=>vt(e)})},grt={kernelName:Jp,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[n,r]=t,a=Qt(n.shape,r.shape);return{a:()=>{let i=e,s=Qn(n.shape,a);return s.length>0&&(i=$e(i,s)),Z(i,n.shape)},b:()=>{let i=e,s=Qn(r.shape,a);return s.length>0&&(i=$e(i,s)),Z(on(i),r.shape)}}}},yrt={kernelName:Yp,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,a=r.shape.slice(),{axis:i}=n;cs(i,r.shape).forEach(l=>{a[l]=1});let s=Z(e,a),o=K(s,ka(r.shape,"float32"));return{x:()=>o}}},vrt={kernelName:Zp,inputsToSave:["x"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Ee(e,Ht(Mw(n)))}}},brt={kernelName:Xp,outputsToSave:[!0],gradFunc:(e,t)=>{let[n]=t;return{x:()=>K(Me(Ue(1),Ht(n)),e)}}},wrt={kernelName:$c,inputsToSave:["x"],gradFunc:(e,t,n)=>{let[r]=t,{reps:a}=n;return{x:()=>{let i=vt(r);if(r.rank===1)for(let s=0;s<a[0];++s)i=le(i,pt(e,[s*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let s=0;s<a[0];++s)for(let o=0;o<a[1];++o)i=le(i,pt(e,[s*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let s=0;s<a[0];++s)for(let o=0;o<a[1];++o)for(let l=0;l<a[2];++l)i=le(i,pt(e,[s*r.shape[0],o*r.shape[1],l*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let s=0;s<a[0];++s)for(let o=0;o<a[1];++o)for(let l=0;l<a[2];++l)for(let u=0;u<a[3];++u)i=le(i,pt(e,[s*r.shape[0],o*r.shape[1],l*r.shape[2],u*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return i}}}},xrt={kernelName:hl,gradFunc:(e,t,n)=>{let r=n,{perm:a}=r,i=SO(a);return{x:()=>it(e,i)}}},Srt={kernelName:t1,gradFunc:(e,t,n)=>{let r=n,{axis:a}=r;return{value:()=>Yn(e,a)}}},krt={kernelName:bw,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{let[n]=t;return{x:()=>Crt(e,n)}}};function Crt(e,t){let n=Bo(t,vt(t)),r=l1(e,n),a=zl(t,Ue(0,"int32")),i=r.rank-a.rank;for(let o=0;o<i;++o)a=wr(a,o+1);a=ss(a,ka(r.shape,"bool"));let s=vt(r);return Cr(a,r,s)}var Irt={kernelName:n1,gradFunc:e=>({x:()=>vt(e)})},Nrt=[zre,ktt,Ctt,Itt,Ntt,Mtt,Ttt,Ett,Att,Ltt,_tt,jtt,Ott,Ftt,ztt,Btt,Utt,Wtt,Vtt,Gtt,Htt,qtt,Qtt,Ytt,Ztt,Xtt,ent,tnt,nnt,rnt,qnt,ant,int,snt,ont,lnt,cnt,unt,fnt,dnt,pnt,hnt,mnt,gnt,ynt,vnt,bnt,wnt,xnt,Cnt,c8,c8,Int,Tnt,Lnt,_nt,jnt,$nt,Dnt,Ont,Rnt,Pnt,Fnt,znt,Bnt,f8,f8,Unt,Wnt,Hnt,Ynt,Qnt,Knt,Jnt,Znt,Xnt,ert,trt,nrt,rrt,art,irt,srt,ort,lrt,urt,crt,frt,d8,d8,p8,p8,drt,hrt,prt,mrt,grt,yrt,vrt,brt,wrt,xrt,Srt,krt,Irt];for(let e of Nrt)Tte(e);ue().prototype.abs=function(){return this.throwIfDisposed(),Wn(this)};ue().prototype.acos=function(){return this.throwIfDisposed(),QD(this)};ue().prototype.acosh=function(){return this.throwIfDisposed(),KD(this)};ue().prototype.add=function(e){return this.throwIfDisposed(),le(this,e)};ue().prototype.all=function(e,t){return this.throwIfDisposed(),FN(this,e,t)};ue().prototype.any=function(e,t){return this.throwIfDisposed(),ub(this,e,t)};ue().prototype.argMax=function(e){return this.throwIfDisposed(),od(this,e)};ue().prototype.argMin=function(e){return this.throwIfDisposed(),JD(this,e)};ue().prototype.asScalar=function(){return this.throwIfDisposed(),U(this.size===1,()=>"The array must have only 1 element."),Z(this,[])};ue().prototype.asType=function(e){return this.throwIfDisposed(),ve(this,e)};ue().prototype.as1D=function(){return this.throwIfDisposed(),Z(this,[this.size])};ue().prototype.as2D=function(e,t){return this.throwIfDisposed(),Z(this,[e,t])};ue().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),Z(this,[e,t,n])};ue().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),Z(this,[e,t,n,r])};ue().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),Z(this,[e,t,n,r,a])};ue().prototype.asin=function(){return this.throwIfDisposed(),ZD(this)};ue().prototype.asinh=function(){return this.throwIfDisposed(),XD(this)};ue().prototype.atan=function(){return this.throwIfDisposed(),eO(this)};ue().prototype.atan2=function(e){return this.throwIfDisposed(),tO(this,e)};ue().prototype.atanh=function(){return this.throwIfDisposed(),nO(this)};ue().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Fl(this,e,t,n,r)};ue().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Nw(this,e,t)};ue().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),eh(this,e,t,n,r,a)};ue().prototype.broadcastTo=function(e){return this.throwIfDisposed(),Rf(this,e)};ue().prototype.cast=function(e){return this.throwIfDisposed(),ve(this,e)};ue().prototype.ceil=function(){return this.throwIfDisposed(),uO(this)};ue().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Vr(this,e,t)};ue().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof nt&&(e=[e]),Yt([this,...e],t)};ue().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),zN(this,e,t,n,r,a,i)};ue().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),BN(this,e,t,n,r,a)};ue().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),oa(this,e,t,n,r,a,i)};ue().prototype.cos=function(){return this.throwIfDisposed(),Mw(this)};ue().prototype.cosh=function(){return this.throwIfDisposed(),UN(this)};ue().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),db(this,e,t,n)};ue().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),WN(this,e,t,n)};ue().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),yO(this,e,t)};ue().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),th(this,e,t,n,r,a,i)};ue().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),vO(this,e,t,n,r,a)};ue().prototype.divNoNan=function(e){return this.throwIfDisposed(),bO(this,e)};ue().prototype.div=function(e){return this.throwIfDisposed(),Ee(this,e)};ue().prototype.dot=function(e){return this.throwIfDisposed(),wO(this,e)};ue().prototype.elu=function(){return this.throwIfDisposed(),i1(this)};ue().prototype.equal=function(e){return this.throwIfDisposed(),Za(this,e)};ue().prototype.erf=function(){return this.throwIfDisposed(),VN(this)};ue().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),kO(this,e,t)};ue().prototype.exp=function(){return this.throwIfDisposed(),Gr(this)};ue().prototype.expandDims=function(e){return this.throwIfDisposed(),wr(this,e)};ue().prototype.expm1=function(){return this.throwIfDisposed(),CO(this)};ue().prototype.fft=function(){return this.throwIfDisposed(),Rw(this)};ue().prototype.flatten=function(){return this.throwIfDisposed(),Z(this,[this.size])};ue().prototype.floor=function(){return this.throwIfDisposed(),o1(this)};ue().prototype.floorDiv=function(e){return this.throwIfDisposed(),PN(this,e)};ue().prototype.gather=function(e,t,n){return this.throwIfDisposed(),l1(this,e,t,n)};ue().prototype.greaterEqual=function(e){return this.throwIfDisposed(),zl(this,e)};ue().prototype.greater=function(e){return this.throwIfDisposed(),da(this,e)};ue().prototype.ifft=function(){return this.throwIfDisposed(),vg(this)};ue().prototype.irfft=function(){return this.throwIfDisposed(),aM(this)};ue().prototype.isFinite=function(){return this.throwIfDisposed(),IO(this)};ue().prototype.isInf=function(){return this.throwIfDisposed(),NO(this)};ue().prototype.isNaN=function(){return this.throwIfDisposed(),MO(this)};ue().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Ew(this,e)};ue().prototype.lessEqual=function(e){return this.throwIfDisposed(),Rc(this,e)};ue().prototype.less=function(e){return this.throwIfDisposed(),hg(this,e)};ue().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),TO(this,e,t,n,r)};ue().prototype.logSigmoid=function(){return this.throwIfDisposed(),EO(this)};ue().prototype.logSoftmax=function(e){return this.throwIfDisposed(),qN(this,e)};ue().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Lw(this,e,t)};ue().prototype.log=function(){return this.throwIfDisposed(),Xa(this)};ue().prototype.log1p=function(){return this.throwIfDisposed(),Aw(this)};ue().prototype.logicalAnd=function(e){return this.throwIfDisposed(),ss(this,e)};ue().prototype.logicalNot=function(){return this.throwIfDisposed(),_w(this)};ue().prototype.logicalOr=function(e){return this.throwIfDisposed(),YN(this,e)};ue().prototype.logicalXor=function(e){return this.throwIfDisposed(),AO(this,e)};ue().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),at(this,e,t,n)};ue().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),mr(this,e,t,n,r)};ue().prototype.max=function(e,t){return this.throwIfDisposed(),xi(this,e,t)};ue().prototype.maximum=function(e){return this.throwIfDisposed(),Bo(this,e)};ue().prototype.mean=function(e,t){return this.throwIfDisposed(),Cn(this,e,t)};ue().prototype.min=function(e,t){return this.throwIfDisposed(),pg(this,e,t)};ue().prototype.minimum=function(e){return this.throwIfDisposed(),fc(this,e)};ue().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),_O(this,e,t)};ue().prototype.mod=function(e){return this.throwIfDisposed(),jO(this,e)};ue().prototype.mul=function(e){return this.throwIfDisposed(),K(this,e)};ue().prototype.neg=function(){return this.throwIfDisposed(),on(this)};ue().prototype.norm=function(e,t,n){return this.throwIfDisposed(),s1(this,e,t,n)};ue().prototype.notEqual=function(e){return this.throwIfDisposed(),cd(this,e)};ue().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),mg(this,e,t,n)};ue().prototype.onesLike=function(){return this.throwIfDisposed(),ei(this)};ue().prototype.pad=function(e,t){return this.throwIfDisposed(),Qs(this,e,t)};ue().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),$O(this,e,t,n,r,a,i)};ue().prototype.pow=function(e){return this.throwIfDisposed(),$o(this,e)};ue().prototype.prelu=function(e){return this.throwIfDisposed(),Dw(this,e)};ue().prototype.prod=function(e,t){return this.throwIfDisposed(),DO(this,e,t)};ue().prototype.reciprocal=function(){return this.throwIfDisposed(),zO(this)};ue().prototype.relu=function(){return this.throwIfDisposed(),Ft(this)};ue().prototype.relu6=function(){return this.throwIfDisposed(),JN(this)};ue().prototype.reshapeAs=function(e){return this.throwIfDisposed(),Z(this,e.shape)};ue().prototype.reshape=function(e){return this.throwIfDisposed(),Z(this,e)};ue().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),lre(this,e,t,n)};ue().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),ure(this,e,t,n)};ue().prototype.reverse=function(e){return this.throwIfDisposed(),Ni(this,e)};ue().prototype.rfft=function(){return this.throwIfDisposed(),Pw(this)};ue().prototype.round=function(){return this.throwIfDisposed(),ZN(this)};ue().prototype.rsqrt=function(){return this.throwIfDisposed(),XN(this)};ue().prototype.selu=function(){return this.throwIfDisposed(),eM(this)};ue().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),u1(this,e,t,n,r,a,i)};ue().prototype.sigmoid=function(){return this.throwIfDisposed(),ts(this)};ue().prototype.sign=function(){return this.throwIfDisposed(),BO(this)};ue().prototype.sin=function(){return this.throwIfDisposed(),tM(this)};ue().prototype.sinh=function(){return this.throwIfDisposed(),nM(this)};ue().prototype.slice=function(e,t){return this.throwIfDisposed(),pt(this,e,t)};ue().prototype.softmax=function(e){return this.throwIfDisposed(),Fc(this,e)};ue().prototype.softplus=function(){return this.throwIfDisposed(),nh(this)};ue().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),$w(this,e,t)};ue().prototype.split=function(e,t){return this.throwIfDisposed(),Ia(this,e,t)};ue().prototype.sqrt=function(){return this.throwIfDisposed(),Ir(this)};ue().prototype.square=function(){return this.throwIfDisposed(),Ht(this)};ue().prototype.squaredDifference=function(e){return this.throwIfDisposed(),iM(this,e)};ue().prototype.squeeze=function(e){return this.throwIfDisposed(),zc(this,e)};ue().prototype.stack=function(e,t){this.throwIfDisposed();let n=e instanceof nt?[this,e]:[this,...e];return Yn(n,t)};ue().prototype.step=function(e){return this.throwIfDisposed(),rh(this,e)};ue().prototype.stridedSlice=function(e,t,n,r,a,i,s,o){return this.throwIfDisposed(),UO(this,e,t,n,r,a,i,s,o)};ue().prototype.sub=function(e){return this.throwIfDisposed(),Me(this,e)};ue().prototype.sum=function(e,t){return this.throwIfDisposed(),$e(this,e,t)};ue().prototype.tan=function(){return this.throwIfDisposed(),WO(this)};ue().prototype.tanh=function(){return this.throwIfDisposed(),cc(this)};ue().prototype.tile=function(e){return this.throwIfDisposed(),Ha(this,e)};ue().prototype.toBool=function(){return this.throwIfDisposed(),ve(this,"bool")};ue().prototype.toFloat=function(){return this.throwIfDisposed(),ve(this,"float32")};ue().prototype.toInt=function(){return this.throwIfDisposed(),ve(this,"int32")};ue().prototype.topk=function(e,t){return this.throwIfDisposed(),GO(this,e,t)};ue().prototype.transpose=function(e){return this.throwIfDisposed(),it(this,e)};ue().prototype.unique=function(e){return this.throwIfDisposed(),HO(this,e)};ue().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),cM(this,e,t)};ue().prototype.unstack=function(e){return this.throwIfDisposed(),$n(this,e)};ue().prototype.where=function(e,t){return this.throwIfDisposed(),Cr(e,this,t)};ue().prototype.zerosLike=function(){return this.throwIfDisposed(),vt(this)};var uu=class Ure extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Ure.prototype)}},yo=class Wre extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Wre.prototype)}},te=class Vre extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Vre.prototype)}},ut=class Gre extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Gre.prototype)}},Mrt=class Hre extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Hre.prototype)}},qre=class{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){let n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){let n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}};function dd(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}else{let n=new Array(t);return n.fill(e),n}}function uo(e,t){if(!e)throw new Mrt(t)}function h8(e,t){let n=0;for(let r of e)r===t&&n++;return n}function wa(e){return e.length===1?e[0]:e}function Pt(e){return Array.isArray(e)?e:[e]}function el(e){let t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return t[0]!=="_"?t:"private"+t}function cf(e){return e.length<=1||e.indexOf("_")===-1?e:e.replace(/[_]+(\w|$)/g,(t,n)=>n.toUpperCase())}var Pi={};function fR(e){if(e==null)return null;let t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function CL(e){if(!(e==null||typeof e!="object"))if(Array.isArray(e))e.forEach(t=>CL(t));else{let t=Object.keys(e);for(let n of t){let r=e[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?e[n]=r.value:CL(r))}}}function zw(e,t={},n={},r="object",a=!1){if(typeof e=="string"){let i=e,s;if(i in n)s=n[i];else if(i in Pi)s=Pi[i];else if(s=t[i],s==null)throw new te(`Unknown ${r}: ${e}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return s}else{let i=e;if(i.className==null||i.config==null)throw new te(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);let s=i.className,o,l;if(s in n?[o,l]=n[s]:s in Pi?[o,l]=Pi.className:s in t&&([o,l]=t[s]),o==null)throw new te(`Unknown ${r}: ${s}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){let u={};for(let p of Object.keys(Pi))u[p]=Pi[p];for(let p of Object.keys(n))u[p]=n[p];let c=i.config;c.customObjects=u;let f=Object.assign({},Pi);for(let p of Object.keys(n))Pi[p]=n[p];CL(i.config);let d=l(o,i.config,n,a);return Pi=Object.assign({},f),d}else{let u=Object.assign({},Pi);for(let f of Object.keys(n))Pi[f]=n[f];let c=new o(i.config);return Pi=Object.assign({},u),c}}}function Trt(e,t){return e<t?-1:e>t?1:0}function o2(e,t){return-1*Trt(e,t)}function Ju(e){if(e==null)return e;let t=[];for(let n of e)t.indexOf(n)===-1&&t.push(n);return t}function Ert(e){if(e==null)throw new te(`Invalid value in obj: ${JSON.stringify(e)}`);for(let t in e)if(e.hasOwnProperty(t))return!1;return!0}function ah(e,t,n){if(n!=null&&e.indexOf(n)<0)throw new te(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function dR(e,t,n=0,r=1/0){return uo(n>=0),uo(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(a=>typeof a===t)}function kr(e,t){Array.isArray(e)?(A.assert(e.length>0,()=>`${t} is unexpectedly an empty array.`),e.forEach((n,r)=>kr(n,`element ${r+1} of ${t}`))):A.assert(Number.isInteger(e)&&e>0,()=>`Expected ${t} to be a positive integer, but got ${Yre(e)}.`)}function Yre(e){return e===null?"null":Array.isArray(e)?"["+e.map(t=>Yre(t)).join(",")+"]":typeof e=="string"?`"${e}"`:`${e}`}function Art(e,t,n){let r=n!=null?n():A.now(),a;return(...i)=>{let s=n!=null?n():A.now();return s-r<t||(r=s,a=e(...i)),a}}function Qre(e){return e==="relu"?"relu":e==="linear"?"linear":e==="elu"?"elu":null}var Lrt=0;function Kre(){return Lrt++}var l2={};function yM(e=""){return e in l2||(l2[e]=0),l2[e]+=1,e+l2[e].toString()}var _rt=["channelsFirst","channelsLast"],jrt=["nearest","bilinear"],$rt=["valid","same","causal"],Drt=["max","avg"],Ort=["sum","mul","concat","ave"],Sh=new Map;function Fn(e){ah(_rt,"DataFormat",e)}function Rrt(e){ah(jrt,"InterpolationFormat",e)}function _i(e){ah($rt,"PaddingMode",e)}function Jre(e){ah(Drt,"PoolMode",e)}var zy=[],m8="/";function Pf(e,t){zy.push(e);try{let n=t();return zy.pop(),n}catch(n){throw zy.pop(),n}}function Prt(){return zy.length===0?"":zy.join(m8)+m8}function Zre(e){if(!eae(e))throw new Error("Not a valid tensor name: '"+e+"'");return Prt()+e}function Xre(e){if(!eae(e))throw new Error("Not a valid tensor name: '"+e+"'");Sh.has(e)||Sh.set(e,0);let t=Sh.get(e);if(Sh.set(e,Sh.get(e)+1),t>0){let n=`${e}_${t}`;return Sh.set(n,1),n}else return e}var Frt=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function eae(e){return!!e.match(Frt)}function zrt(e){return e===parseInt(e.toString(),10)}function Zu(e,t,n){t==null&&(t=0),n==null&&(n=e.length);let r=1;for(let a=t;a<n;++a)r*=e[a];return r}function wg(e){if(e.length===0)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){let r=e[n];r<t&&(t=r)}return t}function pc(e){if(e.length===0)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){let r=e[n];r>t&&(t=r)}return t}function Us(e,t){if(t<e)throw new te(`end (${t}) < begin (${e}) is forbidden.`);let n=[];for(let r=e;r<t;++r)n.push(r);return n}var LE;function ar(){return LE==null&&(LE=GD().epsilon()),LE}function Ws(){return"channelsLast"}function Al(e,t){return ve(e,t)}function Bw(e,t=-1){let n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),Z(e,n)}function Brt(e,t){return X(()=>{if(e.shape.length!==2)throw new te(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);let n=Bw(e,1);return IL(n,[1,t,1])})}function Urt(e){let t=[Zu(e.shape)];return Z(e,t)}function Wrt(e){if(e.rank<=1)throw new te(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);let t=[e.shape[0],Zu(e.shape,1)];return Z(e,t)}function Ff(e,t,n){return X(()=>{switch(e.rank){case 1:return Ow(e,t,n);case 2:return rM(e,[t,0],[n,e.shape[1]]);case 3:return c1(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return yg(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return pt(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return pt(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new te(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}})}function _E(e,t,n){return X(()=>{switch(e.rank){case 1:return Ow(e,t,n);case 2:return rM(e,[0,t],[e.shape[0],n]);case 3:return c1(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return yg(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new te(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function u2(e,t,n,r){return X(()=>{switch(e.rank){case 1:return Ow(e,t,n);case 2:switch(r){case 1:return Ff(e,t,n);case 2:return _E(e,t,n);default:throw new te(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Ff(e,t,n);case 2:return c1(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return _E(e,t,n);default:throw new te(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Ff(e,t,n);case 2:return yg(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return yg(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return _E(e,t,n);default:throw new te(`The axis is not within the rank of the tensor ${r}`)}default:throw new te(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function pR(e,t=-1){let n;return t<0&&(n=e[0].rank,n!==0?t=n:t=0),t===e[0].rank&&(t=-1),Yt(e,t)}function g8(e,t){switch(e.rank){case 1:return cO([e,t]);case 2:return fO([e,t],0);case 3:return dO([e,t],0);case 4:return pO([e,t],0);default:throw new te(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function IL(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new te(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return Ha(e,t)}function vM(e,t=0,n=1,r,a){return KN(e,t,n,r,a)}function To(e,t,n,r){if(e.rank<2||t.rank<2)throw new ut(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){let a=e.shape.slice(-1)[0],i=t.shape.slice(-2)[0];if(a!==i)throw new ut(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(e.rank===2&&t.rank===2)return bg.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?NL(e.rank,r,Ws()):null,activation:n});{let a=e.shape.slice(),i=a.pop();e=Z(e,[-1,i]);let s=t.shape.slice(),o=s.pop(),l=s.pop(),u=[...s,o],c=Array.from({length:t.rank},(d,p)=>p===0?t.rank-2:p<=t.rank-2?p-1:p);t=Z(it(t,c),[l,-1]);let f=[...a,...u];return Z(bg.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?NL(e.rank,r,Ws()):null,activation:n}),f)}}function tae(e,t,n){return X(()=>(Array.isArray(t)?t=Ot(t,"int32"):t=ve(t,"int32"),l1(e,t,n)))}function Uw(e){return K(e,e)}function NL(e,t,n){let r=t.shape;if(t.rank!==1&&t.rank!==e)throw new te(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(e===5){if(n==="channelsFirst")return r.length===1?Z(t,[1,r[0],1,1,1]):Z(t,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?Z(t,[1,1,1,1,r[0]]):Z(t,[1].concat(r))}else if(e===4){if(n==="channelsFirst")return r.length===1?Z(t,[1,r[0],1,1]):Z(t,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?Z(t,[1,1,1,r[0]]):Z(t,[1].concat(r))}else if(e===3){if(n==="channelsFirst")return r.length===1?Z(t,[1,r[0],1]):Z(t,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?Z(t,[1,1,r[0]]):Z(t,[1].concat(r))}else if(e<3)return t;throw new te(`Unsupported input rank by biasAdd: ${t.rank}`)}function Ks(e,t,n){return X(()=>(n==null&&(n=Ws()),Fn(n),le(e,NL(e.rank,t,n))))}function Vrt(e,t=1){if(t!==1)throw new ut(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return i1(e)}function Grt(e){return X(()=>Ee(e,le(Wn(e),1)))}function nae(e,t,n,r){return X(()=>QO(e,t,n,r))}function Hrt(e){return X(()=>{let t=le(.5,K(.2,e));return Vr(t,0,1)})}function Ww(e,t,n=!1){return n?e():t()}var qrt=["fanIn","fanOut","fanAvg"],Yrt=["normal","uniform","truncatedNormal"];function Qrt(e){ah(qrt,"FanMode",e)}function Krt(e){ah(Yrt,"Distribution",e)}var fs=class extends de.Serializable{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}},hR=class extends fs{apply(e,t){return In(e,t)}};hR.className="Zeros";de.registerClass(hR);var bM=class extends fs{apply(e,t){return ka(e,t)}};bM.className="Ones";de.registerClass(bM);var mR=class extends fs{constructor(e){if(super(),typeof e!="object")throw new te(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new te(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return X(()=>K(Ue(this.value),ka(e,t)))}getConfig(){return{value:this.value}}};mR.className="Constant";de.registerClass(mR);var gR=class extends fs{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return Pc(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}};gR.className="RandomUniform";de.registerClass(gR);var yR=class extends fs{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if(t=t||"float32",t!=="float32"&&t!=="int32")throw new ut(`randomNormal does not support dType ${t}.`);return vM(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}};yR.className="RandomNormal";de.registerClass(yR);var vR=class extends fs{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if(t=t||"float32",t!=="float32"&&t!=="int32")throw new ut(`truncatedNormal does not support dType ${t}.`);return uM(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}};vR.className="TruncatedNormal";de.registerClass(vR);var bR=class extends fs{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,t){return X(()=>{if(e.length!==2||e[0]!==e[1])throw new te("Identity matrix initializer can only be used for 2D square matrices.");return K(this.gain,GN(e[0]))})}getConfig(){return{gain:this.gain}}};bR.className="Identity";de.registerClass(bR);function Jrt(e,t="channelsLast"){let n,r;if(Fn(t),e.length===2)n=e[0],r=e[1];else if([3,4,5].indexOf(e.length)!==-1){if(t==="channelsFirst"){let a=Zu(e,2);n=e[1]*a,r=e[0]*a}else if(t==="channelsLast"){let a=Zu(e,0,e.length-2);n=e[e.length-2]*a,r=e[e.length-1]*a}}else{let a=Zu(e);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}var Ta=class extends fs{constructor(e){if(super(),e.scale<0)throw new te(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,Qrt(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,Krt(this.distribution),this.seed=e.seed}apply(e,t){let n=Jrt(e),r=n[0],a=n[1],i=this.scale;if(this.mode==="fanIn"?i/=Math.max(1,r):this.mode==="fanOut"?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),this.distribution==="normal"){let s=Math.sqrt(i);if(t=t||"float32",t!=="float32"&&t!=="int32")throw new ut(`${this.getClassName()} does not support dType ${t}.`);return uM(e,0,s,t,this.seed)}else{let s=Math.sqrt(3*i);return Pc(e,-s,s,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}};Ta.className="VarianceScaling";de.registerClass(Ta);var wM=class extends Ta{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ta.className}};wM.className="GlorotUniform";de.registerClass(wM);var xM=class extends Ta{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ta.className}};xM.className="GlorotNormal";de.registerClass(xM);var SM=class extends Ta{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ta.className}};SM.className="HeNormal";de.registerClass(SM);var kM=class extends Ta{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ta.className}};kM.className="HeUniform";de.registerClass(kM);var CM=class extends Ta{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ta.className}};CM.className="LeCunNormal";de.registerClass(CM);var IM=class extends Ta{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ta.className}};IM.className="LeCunUniform";de.registerClass(IM);var wR=class extends fs{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return X(()=>{if(e.length<2)throw new ut("Shape must be at least 2D.");if(t!=="int32"&&t!=="float32"&&t!==void 0)throw new TypeError(`Unsupported data type ${t}.`);t=t;let n=A.sizeFromShape(e.slice(0,-1)),r=e[e.length-1],a=n*r;a>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${a}) elements: Slowness may result.`);let i=[Math.max(r,n),Math.min(r,n)],s=vM(i,0,1,t,this.seed),o=XO.qr(s,!1),l=o[0],u=o[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return l=K(l,u.sign()),n<r&&(l=l.transpose()),K(Ue(this.gain),l.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}};wR.className="Orthogonal";de.registerClass(wR);var y8={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function v8(e,t={}){return zw(e,de.SerializationMap.getMap().classNameMap,t,"initializer")}function Mn(e){return fR(e)}function bn(e){if(typeof e=="string"){let t=e in y8?y8[e]:e;if(t==="GlorotNormal")return new xM;if(t==="GlorotUniform")return new wM;if(t==="HeNormal")return new SM;if(t==="HeUniform")return new kM;if(t==="LeCunNormal")return new CM;if(t==="LeCunUniform")return new IM;{let n={};return n.className=t,n.config={},v8(n)}}else return e instanceof fs?e:v8(e)}function ML(e){return Array.isArray(e)&&Array.isArray(e[0])}function aC(e){return e.length===0?[]:Array.isArray(e[0])?e:[e]}function Je(e){let t;if(Array.isArray(e)){if(e.length!==1)throw new te(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function At(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(e.length===1)return e=e,e[0];throw new te(`Expected exactly 1 Shape; got ${e.length}`)}else return e}function iC(e){let t=0;for(let n of e)n.shape.length===0?t+=1:t+=n.shape.reduce((r,a)=>r*a);return t}var b8="Variable",rae=class{constructor(e,t="float32",n=b8,r=!0,a=null){this.dtype=t??"float32",this.shape=e.shape,this.id=Kre(),n=n??b8,this.originalName=Zre(n),this.name=Xre(this.originalName),this.trainable_=r,this.constraint=a,this.val=qO(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),Zrt(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}};function Zrt(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}function TL(e){return e.map(t=>t.read())}function xR(e){e.forEach(t=>{t[0].write(t[1])})}var Gn=class{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}},Vs=class{constructor(e,t,n,r,a,i,s){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=a,this.outputTensorIndex=s,this.id=Kre(),i!=null&&(this.originalName=Zre(i),this.name=Xre(this.originalName)),this.rank=t.length}},Xrt=0,NM=class{constructor(e,t){this.callArgs=t,this.id=Xrt++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(let n of e.inboundLayers)n!=null&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){let e=[];for(let t of this.inboundLayers)t!=null?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},eat=0,ct=class extends de.Serializable{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=eat++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){let n=this.getClassName();t=el(n)+"_"+yM(n)}if(this.name=t,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let n;if(e.batchInputShape!=null)n=e.batchInputShape;else if(e.inputShape!=null){let a=null;e.batchSize!=null&&(a=e.batchSize),n=[a].concat(e.inputShape)}this.batchInputShape=n;let r=e.dtype;r==null&&(r=e.inputDType),r==null&&(r="float32"),this.dtype=r}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(this.inboundNodes.length===0)throw new yo(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new te(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return wa(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return wa(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new uu(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new uu(`Layer ${this.name} is not connected, no input to return.`);return wa(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new uu(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new uu(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return wa(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(t=>t.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){let t=Pt(e);if(this.inputSpec==null||this.inputSpec.length===0)return;let n=Pt(this.inputSpec);if(t.length!==n.length)throw new te(`Layer ${this.name} expects ${n.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let r=0;r<t.length;r++){let a=t[r],i=n[r];if(i==null)continue;let s=a.rank;if(i.ndim!=null&&s!==i.ndim)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${s}`);if(i.maxNDim!=null&&s>i.maxNDim)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${s}`);if(i.minNDim!=null&&s<i.minNDim)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${s}.`);if(i.dtype!=null&&a.dtype!==i.dtype)throw new te(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${a.dtype}.`);if(i.axes){let o=a.shape;for(let l in i.axes){let u=Number(l),c=i.axes[l],f=u>=0?o[u]:o[o.length+u];if(c!=null&&[c,null].indexOf(f)===-1)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected axis ${u} of input shape to have value ${c} but got shape ${o}.`)}}if(i.shape!=null)for(let o=0;o<i.shape.length;++o){let l=i.shape[o],u=a.shape[o];if(l!=null&&u!=null&&l!==u)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${a.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){this._callHook!=null&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();let n=Pt(e),r=rat(e),a=aat(e);if(r===a)throw new te("Arguments to apply() must be all SymbolicTensors or all Tensors");return Pf(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);let i=[];for(let s of Pt(e))i.push(s.shape);this.build(wa(i)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&a&&(this._refCount=1)}if(this.assertInputCompatibility(e),a){let i=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,i);let s=Pt(i),o=[];for(let l of s)n.indexOf(l)!==-1&&(l=l.clone()),o.push(l);if(i=wa(o),this.activityRegularizer!=null)throw new ut("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return i}else{let i=tat(e),s=this.computeOutputShape(i),o,l=nat(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?i[0]:i),s!=null&&s.length>0&&Array.isArray(s[0])?o=s.map((u,c)=>new Vs(l,u,this,Pt(e),t,this.name,c)):o=new Vs(l,s,this,Pt(e),t,this.name),this.addInboundNode(e,o,null,null,i,s,t),this._refCount++,this.activityRegularizer!=null)throw new ut("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach((n,r)=>{n!=null&&e[r]!=null&&e[r]!==n&&(t=!0)}),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new uu(`The layer ${this.name} has never been called and thus has no defined output shape.`);let e=[];for(let t of this.inboundNodes){let n=JSON.stringify(t.outputShapes);e.indexOf(n)===-1&&e.push(n)}if(e.length===1){let t=this.inboundNodes[0].outputShapes;return Array.isArray(t)&&Array.isArray(t[0])&&t.length===1?t[0]:t}else throw new uu(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new yo(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return iC(this.weights)}build(e){this.built=!0}getWeights(e=!1){return TL(e?this.trainableWeights:this.weights)}setWeights(e){X(()=>{let t=this.weights;if(t.length!==e.length)throw new te(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(t.length===0)return;let n=[],r=TL(t);for(let a=0;a<r.length;++a){let i=r[a],s=t[a],o=e[a];if(!A.arraysEqual(i.shape,o.shape))throw new te(`Layer weight shape ${i.shape} not compatible with provided weight shape ${o.shape}`);n.push([s,o])}xR(n)})}addWeight(e,t,n,r,a,i,s,o){if(this._addedWeightNames.indexOf(e)!==-1)throw new te(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),n==null&&(n="float32"),this.fastWeightInitDuringBuild&&(r=o!=null?o():bn("zeros"));let l=r.apply(t,n),u=new rae(l,n,e,i,s);return l.dispose(),a!=null&&this.addLoss(()=>a.apply(u.read())),i==null&&(i=!0),i?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=Pt(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(t!=null)if(Array.isArray(t))t.forEach(n=>{if(n!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;let r=this.computeMask(e,n),a=Pt(t),i=Pt(r);if(a.length!==i.length)throw new Error(`${this.name} outputs ${a.length} tensors but ${a.length} masks for those tensors`);for(let s=0;s<a.length;s++)a[s].kerasMask=i[s]}addInboundNode(e,t,n,r,a,i,s=null){let o=Pt(e);t=Pt(t),n=Pt(n),r=Pt(r),a=aC(a),i=aC(i);let l=[],u=[],c=[];for(let f of o)l.push(f.sourceLayer),u.push(f.nodeIndex),c.push(f.tensorIndex);new NM({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:o,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},s);for(let f=0;f<t.length;f++)t[f].sourceLayer=this,t[f].nodeIndex=this.inboundNodes.length-1,t[f].tensorIndex=f}getConfig(){let e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}};function tat(e){e=Pt(e);let t=[];for(let n of e)t.push(n.shape);return wa(t)}function nat(e){return"float32"}function aae(e,t,n){if((t==null||n!=null&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),t.inboundNodes.length===0)return[e];{let r=t.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{let a=[];for(let i=0;i<r.inboundLayers.length;i++){let s=r.inputTensors[i],o=r.inboundLayers[i],l=r.nodeIndices[i],u=aae(s,o,l);for(let c of u)a.indexOf(c)===-1&&a.push(c)}return a}}}function rat(e){let t=!0;for(let n of Pt(e))if(!(n instanceof Vs)){t=!1;break}return t}function aat(e){let t=!0;for(let n of Pt(e))if(n instanceof Vs){t=!1;break}return t}var d1=class extends ct{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:yM("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new te("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(t==null){if(e.inputShape==null)throw new te("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new te("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");let n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];let r=new Vs(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new NM({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new te(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}};d1.className="InputLayer";de.registerClass(d1);function iae(e){if(e.batchShape==null&&e.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(e.batchShape!=null&&e.shape!=null)throw new te("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;e.shape!=null&&t==null&&(t=[null].concat(e.shape));let n=e.dtype;return n==null&&(n="float32"),new d1({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function iat(e,t){if(e.dtype==null||e.dtype===t.dtype)return t;try{return ve(t,e.dtype)}catch{throw new te(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}var Gh=class sae{constructor(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof sae)for(let n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(t==null)return;for(let n of t)this.add(n.key,n.value)}}add(t,n,r){if(this.id2Value[t.id]==null)this.id2Value[t.id]=iat(t,n),this.name2Id[t.name]=t.id,r!=null&&(this.id2Mask[t.id]=r);else throw new te(`Duplicate key: name=${t.name}, id=${t.id}`);return this}addFeed(t){this.add(t.key,t.value)}hasKey(t){return this.id2Value[t.id]!=null}names(){return Object.keys(this.name2Id)}getValue(t){if(t instanceof Vs){if(this.id2Value[t.id]==null)throw new te(`Nonexistent key: ${t.name}`);return this.id2Value[t.id]}else{let n=this.name2Id[t];if(n==null)throw new te(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Value[n]}}getMask(t){if(t instanceof Vs){if(this.id2Value[t.id]==null)throw new te(`Nonexistent key: ${t.name}`);return this.id2Mask[t.id]}else{let n=this.name2Id[t];if(n==null)throw new te(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&Xe(this.id2Mask)}},sC=new qre,oC=new qre;function sat(e){sC!=null&&sC.setMaxEntries(e),oC!=null&&oC.setMaxEntries(e)}function py(e,t,n,r){let a=n==null?!1:n.training,i=Array.isArray(e),s=i?e:[e],o=s.map(h=>h.name),l=[],u=t.names();for(let h of o)u.indexOf(h)!==-1?l.push(t.getValue(h)):l.push(null);let c=o.join(",")+"|"+t.names().sort().join(","),f=sC.get(c),d;if(f==null){let h=oat(s,t);f=h.sorted,d=h.recipientCounts,sC.put(c,f),oC.put(c,d)}d={},a||Object.assign(d,oC.get(c));let p=new Gh(t);for(let h=0;h<f.length;++h){let m=f[h],g=m.sourceLayer;if(g instanceof d1)continue;let y=[],v=[],b=[],x=!1;for(let T of m.inputs){let L=p.getValue(T),E=p.getMask(T);y.push(L),v.push(E),E!=null&&(x=!0),a||(d[T.name]--,d[T.name]===0&&!t.hasKey(T)&&o.indexOf(T.name)===-1&&!L.isDisposed&&T.sourceLayer.stateful!==!0&&b.push(L))}x&&(n=n||{},n.mask=v[0]);let S=Pt(g.apply(y,n)),k=null;g.supportsMasking&&(k=g.computeMask(y,v));let I=uat(m),N=Array.isArray(I)?I:[I];for(let T=0;T<N.length;++T){p.hasKey(N[T])||p.add(N[T],S[T],Array.isArray(k)?k[0]:k);let L=o.indexOf(N[T].name);L!==-1&&(l[L]=S[T])}a||Xe(b)}return p.disposeMasks(),i?l:l[0]}function oat(e,t){A.assert(e!=null&&e.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(e.length===1){let a=w8(e[0],t);n=a.sorted,r=a.recipientMap}else{let a=new Set;for(let i of e){let{sorted:s,recipientMap:o}=w8(i,t);for(let l of s)a.has(l.name)||(n.push(l),a.add(l.name));for(let l in o)r[l]==null&&(r[l]=new Set),o[l].forEach(u=>r[l].add(u))}}return{sorted:n,recipientCounts:lat(r)}}function lat(e){let t={};for(let n in e)t[n]=e[n].size;return t}function w8(e,t){let n=new Set,r=[],a={};for(let o of t.names())n.add(o);let i=[],s=[];for(i.push(e);i.length>0;){let o=i[i.length-1];if(n.has(o.name)){i.pop();continue}let l=s[s.length-1]===i.length-1;if(o.inputs.length===0||l)i.pop(),r.push(o),n.add(o.name),l&&s.pop();else{s.push(i.length-1);for(let u of o.inputs)a[u.name]==null&&(a[u.name]=new Set),a[u.name].add(o.name),!n.has(u.name)&&i.push(u)}}return{sorted:r,recipientMap:a}}function uat(e){let t;if(e.sourceLayer.inboundNodes.length===1)t=e.sourceLayer.output;else{let n=null;for(let r=0;r<e.sourceLayer.inboundNodes.length;++r)for(let a of e.sourceLayer.inboundNodes[r].outputTensors)if(a.id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}var cat=ne();cat.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,sat);var oae={};et(oae,{maxNorm:()=>fat,minMaxNorm:()=>hat,nonNeg:()=>pat,unitNorm:()=>dat});function SR(e,t){return X(()=>Ir($e(K(e,e),t,!0)))}var Vw=class extends de.Serializable{getConfig(){return{}}},kR=class extends Vw{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return X(()=>{let t=SR(e,this.axis),n=Vr(t,0,this.maxValue);return K(e,Ee(n,le(ar(),t)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}};kR.className="MaxNorm";de.registerClass(kR);var CR=class extends Vw{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return X(()=>Ee(e,le(ar(),SR(e,this.axis))))}getConfig(){return{axis:this.axis}}};CR.className="UnitNorm";de.registerClass(CR);var IR=class extends Vw{apply(e){return Ft(e)}};IR.className="NonNeg";de.registerClass(IR);var NR=class extends Vw{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return X(()=>{let t=SR(e,this.axis),n=le(K(this.rate,Vr(t,this.minValue,this.maxValue)),K(1-this.rate,t));return K(e,Ee(n,le(ar(),t)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}};NR.className="MinMaxNorm";de.registerClass(NR);var x8={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function or(e){return fR(e)}function S8(e,t={}){return zw(e,de.SerializationMap.getMap().classNameMap,t,"constraint")}function lr(e){if(e==null)return null;if(typeof e=="string"){let t={className:e in x8?x8[e]:e,config:{}};return S8(t)}else return e instanceof Vw?e:S8(e)}function fat(e){return new kR(e)}function dat(e){return new CR(e)}function pat(){return new IR}function hat(e){return new NR(e)}var lae={};et(lae,{constant:()=>yat,glorotNormal:()=>Cat,glorotUniform:()=>kat,heNormal:()=>Iat,heUniform:()=>Nat,identity:()=>xat,leCunNormal:()=>Mat,leCunUniform:()=>Tat,ones:()=>gat,orthogonal:()=>Eat,randomNormal:()=>bat,randomUniform:()=>vat,truncatedNormal:()=>wat,varianceScaling:()=>Sat,zeros:()=>mat});function mat(){return new hR}function gat(){return new bM}function yat(e){return new mR(e)}function vat(e){return new gR(e)}function bat(e){return new yR(e)}function wat(e){return new vR(e)}function xat(e){return new bR(e)}function Sat(e){return new Ta(e)}function kat(e){return new wM(e)}function Cat(e){return new xM(e)}function Iat(e){return new SM(e)}function Nat(e){return new kM(e)}function Mat(e){return new CM(e)}function Tat(e){return new IM(e)}function Eat(e){return new wR(e)}var uae={};et(uae,{Layer:()=>ct,RNN:()=>Wl,RNNCell:()=>Hw,activation:()=>sst,add:()=>mst,alphaDropout:()=>Zst,average:()=>gst,averagePooling1d:()=>PP,averagePooling2d:()=>FP,averagePooling3d:()=>zP,avgPool1d:()=>Ist,avgPool2d:()=>Mst,avgPool3d:()=>Est,avgPooling1d:()=>Nst,avgPooling2d:()=>Tst,avgPooling3d:()=>Ast,batchNormalization:()=>Sst,bidirectional:()=>Vst,categoryEncoding:()=>rot,centerCrop:()=>tot,concatenate:()=>yst,conv1d:()=>Jit,conv2d:()=>Zit,conv2dTranspose:()=>Xit,conv3d:()=>est,conv3dTranspose:()=>tst,convLstm2d:()=>zst,convLstm2dCell:()=>Bst,cropping2D:()=>rst,dense:()=>ost,depthwiseConv2d:()=>ist,dot:()=>xst,dropout:()=>lst,elu:()=>Git,embedding:()=>hst,flatten:()=>cst,gaussianDropout:()=>Jst,gaussianNoise:()=>Kst,globalAveragePooling1d:()=>Lst,globalAveragePooling2d:()=>_st,globalMaxPool1d:()=>Hst,globalMaxPool2d:()=>qst,globalMaxPooling1d:()=>fie,globalMaxPooling2d:()=>die,gru:()=>$st,gruCell:()=>Dst,input:()=>Mae,inputLayer:()=>Vit,layerNormalization:()=>kst,leakyReLU:()=>qit,lstm:()=>Ost,lstmCell:()=>Rst,masking:()=>Xst,maxPool1d:()=>Yst,maxPool2d:()=>Qst,maxPooling1d:()=>pie,maxPooling2d:()=>hie,maxPooling3d:()=>jst,maximum:()=>vst,minimum:()=>bst,multiply:()=>wst,permute:()=>pst,prelu:()=>Yit,randomWidth:()=>aot,reLU:()=>Hit,repeatVector:()=>fst,rescaling:()=>eot,reshape:()=>dst,resizing:()=>not,rnn:()=>Ust,separableConv2d:()=>nst,simpleRNN:()=>Pst,simpleRNNCell:()=>Fst,softmax:()=>Qit,spatialDropout1d:()=>ust,stackedRNNCells:()=>Wst,thresholdedReLU:()=>Kit,timeDistributed:()=>Gst,upSampling2d:()=>ast,zeroPadding2d:()=>Cst});async function au(e){if(e==null)return;let t=[],n=[],r=[];for(let a in e){let i=e[a];if(typeof i!="number"){let s=i;t.push(s.data()),n.push(a),r.push(s)}}if(t.length>0){let a=await Promise.all(t);for(let i=0;i<a.length;++i)e[n[i]]=a[i][0];Xe(r)}}function cae(e){if(e!=null)for(let t in e){let n=e[t];typeof n!="number"&&n.dispose()}}var k8;(function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"})(k8||(k8={}));var Aat=125,xg=class{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}},fae=class{constructor(e,t=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(let t of this.callbacks)t.setParams(e)}setModel(e){for(let t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){t==null&&(t={});for(let n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){t==null&&(t={});for(let n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){t==null&&(t={});for(let n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){t==null&&(t={});for(let n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){e==null&&(e={});for(let t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(let t of this.callbacks)await t.onTrainEnd(e)}},Lat=class extends xg{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){t==null&&(t={});let n=t.size==null?0:t.size;this.seen+=n;for(let r in t){let a=t[r];if(typeof a=="number")this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+a*n;else{let i;r in this.totals?i=this.totals[r]:this.totals[r]=0;let s=X(()=>le(this.totals[r],K(a,n)));this.totals[r]=s,i!=null&&i.dispose()}}}async onEpochEnd(e,t){if(t!=null)for(let n of this.params.metrics)this.totals[n]!=null&&(typeof this.totals[n]=="number"?t[n]=this.totals[n]/this.seen:X(()=>{let r=K(Ee(1,this.seen),this.totals[n]);t[n]=r,this.totals[n].dispose(),rr(t[n])}))}},dae=class extends xg{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){t==null&&(t={}),this.epoch.push(e);for(let n in t)this.history[n]==null&&(this.history[n]=[]),this.history[n].push(t[n])}async syncData(){let e=[],t=[],n=[];for(let a in this.history){let i=this.history[a];for(let s=0;s<i.length;++s)if(typeof i[s]!="number"){let o=i[s];e.push(o.data()),t.push(a),n.push(s)}}let r=await Promise.all(e);for(let a=0;a<r.length;++a)this.history[t[a]][n[a]].dispose(),this.history[t[a]][n[a]]=r[a][0]}},pae=class extends xg{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||uR,this.yieldEvery=t||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=Aat),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");A.isNumber(this.yieldEvery)&&(this.maybeWait=Art(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){let r=[];this.yield!=null&&(await au(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,this.epochBegin!=null&&(await au(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){let n=[];this.epochEnd!=null&&(await au(t),n.push(this.epochEnd(e,t))),this.yieldEvery==="epoch"&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){this.batchBegin!=null&&(await au(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){let n=[];this.batchEnd!=null&&(await au(t),n.push(this.batchEnd(e,t))),this.yieldEvery==="batch"?n.push(this.nextFrameFunc()):A.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){this.trainBegin!=null&&(await au(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await au(e),await this.trainEnd(e))}};function hae(e,t){return e==null&&(e={}),e instanceof xg?[e]:Array.isArray(e)&&e[0]instanceof xg?e:Pt(e).map(n=>new pae(n,t))}var MR=class to{constructor(){}static registerCallbackConstructor(t,n){A.assert(t>=0&&Number.isInteger(t),()=>`Verbosity level is expected to be an integer >= 0, but got ${t}`),to.checkForDuplicate(n),to.constructors[t]==null&&(to.constructors[t]=[]),to.constructors[t].push(n)}static checkForDuplicate(t){for(let n in to.constructors)to.constructors[+n].forEach(r=>{if(r===t)throw new te("Duplicate callback constructor.")})}static clear(){to.constructors={}}static createCallbacks(t){let n=[];for(let r in to.constructors){let a=+r;t>=a&&n.push(...to.constructors[a])}return n.map(r=>new r)}};MR.constructors={};function mae(e,t,n,r,a,i,s,o,l){let u=new dae,c=[new Lat,...MR.createCallbacks(t)];e!=null&&c.push(...e),c.push(u);let f=new fae(c);return f.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:s,verbose:t,doValidation:o,metrics:l}),{callbackList:f,history:u}}function Rs(e,t={},n=!1){return zw(e,de.SerializationMap.getMap().classNameMap,t,"layer",n)}function lC(e,t){return X(()=>{e.dtype!=="float32"&&(e=ve(e,"float32"));let n=$e(Uw(e),t,!0),r=Ka(n.shape,ar()),a=Ir(Bo(n,r));return Ee(e,a)})}function ih(e,t){return X(()=>Cn(Uw(Me(t,e)),-1))}function MM(e,t){return X(()=>Cn(Wn(Me(t,e)),-1))}function p1(e,t){return X(()=>{let n=Me(e,t),r=Vr(Wn(e),ar(),Number.MAX_VALUE),a=Wn(Ee(n,r));return K(100,Cn(a,-1))})}function _at(e,t){return X(()=>{let n=Vr(t,ar(),Number.MAX_VALUE),r=Xa(le(1,n)),a=Vr(e,ar(),Number.MAX_VALUE),i=Xa(le(1,a));return Cn(Uw(Me(r,i)),-1)})}function jat(e,t){return X(()=>{let n=Bo(0,Me(1,K(e,t)));return Cn(Uw(n),-1)})}function $at(e,t){return X(()=>{let n=Bo(0,Me(1,K(e,t)));return Cn(n,-1)})}function Dat(e,t){return X(()=>{let n=$e(K(e,t),-1),r=xi(K(Me(1,e),t),-1);return Bo(0,le(1,Me(r,n)))})}function Oat(e,t){return X(()=>{let n=Math.log(2),r=Me(t,e),a=Me(le(r,nh(K(-2,r))),n);return Cn(a,-1)})}function pb(e,t,n=!1){return X(()=>{if(n)t=Fc(t);else{let r=$e(t,t.shape.length-1,!0);t=Ee(t,r)}return t=Vr(t,ar(),1-ar()),on($e(K(ve(e,"float32"),Xa(t)),t.shape.length-1))})}function uC(e,t,n=!1){return X(()=>{let r=ve(o1(Urt(e)),"int32");t=Vr(t,ar(),1-ar());let a=t.shape,i=Z(mg(r,a[a.length-1]),a);return pb(i,t,n)})}function Rat(e,t){if(!A.arraysEqual(e.shape,t.shape))throw new te(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return X(()=>{let n=Ft(t),r=on(Wn(t));return le(Me(n,K(t,e)),Aw(Gr(r)))})}function TM(e,t){return X(()=>{let n;return n=Vr(t,ar(),1-ar()),n=Xa(Ee(n,Me(1,n))),Cn(Rat(e,n),-1)})}function Pat(e,t){return X(()=>{let n=Vr(e,ar(),1),r=Vr(t,ar(),1);return $e(K(e,Xa(Ee(n,r))),-1)})}function Fat(e,t){return X(()=>{let n=Xa(le(ar(),t));return Cn(Me(t,K(e,n)),-1)})}function TR(e,t){return X(()=>{let n=lC(e,-1),r=lC(t,-1),a=K(n,r);return on($e(a,-1))})}var cC={meanSquaredError:ih,meanAbsoluteError:MM,meanAbsolutePercentageError:p1,meanSquaredLogarithmicError:_at,squaredHinge:jat,hinge:$at,categoricalHinge:Dat,logcosh:Oat,categoricalCrossentropy:pb,sparseCategoricalCrossentropy:uC,binaryCrossentropy:TM,kullbackLeiblerDivergence:Pat,poisson:Fat,cosineProximity:TR};function jE(e){if(typeof e=="string"){if(e in cC)return cC[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new te(t)}else return e}function ER(e,t){return X(()=>{let n=K(.5,ei(t)),r=Al(da(t,n),e.dtype);return Cn(Za(e,r),-1)})}function AR(e,t){return X(()=>Al(Za(od(e,-1),od(t,-1)),"float32"))}function gae(e,t){return X(()=>ve($e(ss(Za(e,1),Za(t,1))),"float32"))}function zat(e,t){return X(()=>ve($e(ss(Za(e,1),Za(t,0))),"float32"))}function Bat(e,t){return X(()=>ve($e(ss(Za(e,0),Za(t,1))),"float32"))}function yae(e,t){return X(()=>{let n=gae(e,t),r=Bat(e,t),a=le(n,r);return ve(Cr(da(a,0),Ee(n,a),0),"float32")})}function Uat(e,t){return X(()=>{let n=gae(e,t),r=zat(e,t),a=le(n,r);return ve(Cr(da(a,0),Ee(n,a),0),"float32")})}function vae(e,t){return TM(e,t)}function bae(e,t){return e.rank===t.rank&&(e=zc(e,[e.rank-1])),t=od(t,-1),t.dtype!==e.dtype&&(t=ve(t,e.dtype)),ve(Za(e,t),"float32")}function Wat(e,t){return X(()=>{let n=e.sub(t).square().sum(),r=e.sub(e.mean()).square().sum();return Ue(1).sub(n.div(r))})}var Vat=ih,Gat=ih,Hat=MM,qat=MM,Yat=p1,Qat=p1,LR=pb,Kat=TR,wae=uC,fC={binaryAccuracy:ER,categoricalAccuracy:AR,precision:yae,categoricalCrossentropy:LR,sparseCategoricalCrossentropy:wae,mse:Vat,MSE:Gat,mae:Hat,MAE:qat,mape:Yat,MAPE:Qat,cosine:Kat};function Jat(e){if(typeof e=="string"&&e in fC)return fC[e];if(typeof e!="string"&&e!=null)return e;throw new te(`Unknown metric ${e}`)}function c2(e){if(uo(e!==null,`Unknown LossOrMetricFn ${e}`),typeof e=="string")return e;{let t;for(let n of Object.keys(cC))if(cC[n]===e){t=n;break}if(t!==void 0)return t;for(let n of Object.keys(fC))if(fC[n]===e){t=n;break}return t!==void 0?t:e.name}}function Zat(e){let t={Adagrad:()=>sf.adagrad(.01),Adadelta:()=>sf.adadelta(1,.95,ar()),Adam:()=>sf.adam(.001,.9,.999,ar()),Adamax:()=>sf.adamax(.002,.9,.999,ar(),0),RMSProp:()=>sf.rmsprop(.001,.9,0,ar()),SGD:()=>sf.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new te(`Unknown Optimizer ${e}`)}function C8(e,t,n=!1){if(e==null||typeof e!="object"||Object.getPrototypeOf(e)!==Object.prototype||!EL(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){let r=JSON.stringify(e);r.length>1048576&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function EL(e){if(e===null)return!0;if(typeof e=="object")if(Object.getPrototypeOf(e)===Object.prototype){let t=Object.keys(e);for(let n of t)if(typeof n!="string"||!EL(e[n]))return!1;return!0}else if(Array.isArray(e)){for(let t of e)if(!EL(t))return!1;return!0}else return!1;else{let t=typeof e;return t==="string"||t==="number"||t==="boolean"}}function Xat(e,t,n,r=console.log){let a=tit(e),i=["Layer (type)","Input Shape","Output shape","Param #"];a?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(c=>Math.floor(t*c)));let s;if(!a){i.push("Receives inputs"),s=[];for(let c in e.nodesByDepth)s.push(...e.nodesByDepth[c])}r("_".repeat(t)),dC(i,n,r),r("=".repeat(t));let o=e.layers;for(let c=0;c<o.length;++c)a?nit(o[c],n,r):rit(o[c],n,s,r),r((c===o.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();let l=eit(e),u=iC(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}function eit(e){let t;return e.collectedTrainableWeights!=null?t=iC(e.collectedTrainableWeights):t=iC(e.trainableWeights),t}function tit(e){let t=!0,n=[],r=[];for(let a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(let a of n){if(a.length>1||a.length===1&&a[0].inboundLayers.length>1){t=!1;break}r.push(...a)}if(t)for(let a of e.layers){let i=!1;for(let s of a.inboundNodes)if(r.indexOf(s)!==-1)if(i){t=!1;break}else i=!0;if(!t)break}return t}function dC(e,t,n=console.log){let r="";for(let a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r+=e[a],r=r.slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function nit(e,t,n){let r,a;try{a=e.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{a="multiple"}try{r=JSON.stringify(e.outputShape)}catch{r="multiple"}let i=e.name,s=e.getClassName(),o=[`${i} (${s})`,a,r,e.countParams().toString()];dC(o,t,n)}function rit(e,t,n,r){let a,i;try{i=e.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{i="multiple"}try{a=JSON.stringify(e.outputShape)}catch{a="multiple"}let s=[];for(let f of e.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(f)===-1))for(let d=0;d<f.inboundLayers.length;++d){let p=f.inboundLayers[d].name,h=f.nodeIndices[d],m=f.tensorIndices[d];s.push(`${p}[${h}][${m}]`)}let o=e.name,l=e.getClassName(),u=s.length===0?"":s[0],c=[`${o} (${l})`,i,a,e.countParams().toString(),u];dC(c,t,r);for(let f=1;f<s.length;++f)dC(["","","","",s[f]],t,r)}function xae(e,t,n){return(e==="inboundNodes"||e==="outputLayers"||e==="inputLayers")&&t===0&&typeof n=="string"}function hb(e,t){if(e===null)return null;if(typeof e=="string")return cf(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){let n=[],r=e.length;for(let a=0;a<r;++a){let i=e[a];xae(t,a,i)?n.push(i):n.push(hb(i,t))}return n}else{let n={};for(let r of Object.keys(e)){let a=e[r];if(r==="name"&&typeof a=="string")n[r]=a;else{let i=cf(r);n[i]=hb(a,i)}}return n}}function AL(e,t){if(e==null)return null;if(typeof e=="string")return el(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){let n=[],r=e.length;for(let a=0;a<r;++a){let i=e[a];xae(t,a,i)?n.push(i):n.push(AL(i,t))}return n}else{let n={};for(let r of Object.keys(e)){let a=e[r],i=el(r);(r==="name"||r==="className")&&typeof a=="string"?n[i]=a:n[i]=AL(a,r)}return n}}var _R="4.22.0",ait=e=>{let t=Object.keys(e);if(t.length===0)return!1;let n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))},iit=class no extends ct{constructor(t){if(super({}),this.containerNodes=new Set,this.name=t.name,this.name==null){let v=this.getClassName().toLowerCase();this.name=yM(v)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(t.inputs)?this.inputs=t.inputs.slice():this.inputs=[t.inputs],Array.isArray(t.outputs)?this.outputs=t.outputs.slice():this.outputs=[t.outputs],Ju(this.inputs).length!==this.inputs.length)throw new te(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(v=>v.name)}`);Ju(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(v=>v.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(let v of this.outputs){let b=v.sourceLayer,x=v.nodeIndex,S=v.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(x),this.outputLayersTensorIndices.push(S)}for(let v of this.inputs){let b=v.sourceLayer,x=v.nodeIndex,S=v.tensorIndex;uo(x===0,"input layer has >1 nodes"),uo(S===0,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(x),this.inputLayersTensorIndices.push(S)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let v=0;v<this.inputLayers.length;v++){let b=this.inputLayers[v];if(!(b instanceof d1))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${t.inputs}. Input ${v} (0-based) originates from layer type ${b.getClassName()}.`);this.inputNames.push(b.name),this.feedInputShapes.push(b.batchInputShape),this.feedInputNames.push(b.name)}for(let v of this.outputLayers)this.outputNames.push(v.name);this.internalInputShapes=this.inputs.map(v=>v.shape),this.internalOutputShapes=this.outputs.map(v=>v.shape);let n={},r={},a={},i={},s={},o=[],l=(v,b,x,S,k,I)=>{(S==null||k==null||I==null)&&(S=v.sourceLayer,k=v.nodeIndex,I=v.tensorIndex);let N=S.inboundNodes[k];if(x.indexOf(N)!==-1)throw new yo(`The tensor ${v.name} at layer "${S.name}" is part of a cycle.`);if(b.indexOf(N)!==-1)return;this.containerNodes.add(no.nodeKey(S,k)),S.id in s||(s[S.id]=Object.keys(s).length),x.indexOf(N)===-1&&x.push(N);let T=N.inboundLayers.length;for(let L=0;L<T;L++){let E=N.inputTensors[L],M=N.inboundLayers[L],j=N.nodeIndices[L],D=N.tensorIndices[L];l(E,b,x,M,j,D)}for(b.push(N);x.indexOf(N)>=0;)x.splice(x.indexOf(N),1);o.push(N)},u=[],c=[];for(let v of this.outputs)l(v,u,c);let f=o.slice().reverse();for(let v of f){r[v.id]=v,v.id in n||(n[v.id]=0);let b=n[v.id],x=a[v.outboundLayer.id]==null?0:a[v.outboundLayer.id];b=Math.max(b,x),a[v.outboundLayer.id]=b,i[v.outboundLayer.id]=v.outboundLayer,n[v.id]=b;for(let S=0;S<v.inboundLayers.length;S++){let k=v.inboundLayers[S],I=v.nodeIndices[S],N=k.inboundNodes[I],T=n[N.id]==null?0:n[N.id];n[N.id]=Math.max(b+1,T),r[N.id]=N}}let d={};for(let v in n){let b=n[v];b in d||(d[b]=[]),d[b].push(r[v])}let p={};for(let v in a){let b=a[v];b in p||(p[b]=[]),p[b].push(i[v])}let h=Object.keys(p).map(v=>parseInt(v,10)).sort(o2);this.layers=[];for(let v of h){let b=p[v];b.sort((x,S)=>{let k=s[x.id],I=s[S.id];return k<I?-1:k>I?1:0});for(let x of b)x instanceof no&&this.internalContainerRefs.push(x),this.layers.push(x)}this.layersByDepth=p,h=Object.keys(d).map(v=>parseInt(v,10)).sort(o2);let m=this.inputs.slice(),g=[];for(let v of h)for(let b of d[v]){let x=b.outboundLayer;if(x!=null){for(let S of b.inputTensors)if(m.indexOf(S)===-1)throw new yo(`Graph disconnected: cannot obtain value for tensor ${S} at layer "${x.name}". The following previous layers were accessed without issue: ${g}`);for(let S of b.outputTensors)m.push(S);g.push(x.name)}}this.nodesByDepth=d;let y=this.layers.map(v=>v.name);for(let v of y){let b=y.filter(x=>x===v).length;if(b!==1)throw new yo(`The name "${v}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(y))}this.outboundNodes=[],this.inboundNodes=[],new NM({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(v=>null),outputMasks:this.outputs.map(v=>null),inputShapes:this.inputs.map(v=>v.shape),outputShapes:this.outputs.map(v=>v.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();let t={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(let n of this.layers)t.numDisposedVariables+=n.dispose().numDisposedVariables;for(let n of this.internalContainerRefs)t.numDisposedVariables+=n.dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t}get trainable(){return this.trainable_}set trainable(t){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=t)}),this.trainable_=t}get trainableWeights(){if(this._trainableWeights.length>0)throw new te("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let t=[];for(let n of this.layers)t=t.concat(n.trainableWeights);return t}get nonTrainableWeights(){let t=[];for(let n of this.layers)t.push(...n.nonTrainableWeights);if(!this.trainable){let n=[];for(let r of this.layers)n.push(...r.trainableWeights);return n.concat(t)}return t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(t,n=!0){let r={},a=0,i=ait(t);i&&this.parseWeights(t);for(let o of this.layers)for(let[l,u]of o.weights.entries()){let c=i?`${u.name.split("/").slice(0,-1).join("/")+"/"}${l}`:u.originalName;if(r[c]!=null)throw new te(`Duplicate weight name: ${c}`);r[c]=u,a++}let s=[];for(let o in t){let l=o;if(r[o]==null){let u=o.split("/");l=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(r[l]!=null)s.push([r[l],t[o]]);else if(n)throw new te(`Provided weight data has no target variable: ${o}`);delete r[l]}if(n){let o=[];for(let l in r)o.push(l);if(o.length>0)throw new te(`${o.length} of ${a} weights are not set: ${o}`)}xR(s)}parseWeights(t){for(let n in Object.keys(t)){let r=n.split("/"),a=["vars","layer_checkpoint_dependencies"],i=r.map(s=>s.startsWith("_")?s.slice(1):s).filter(s=>!a.includes(s)).join("/");i!==n&&(t[i]=t[n],delete t[n])}}updatedConfig(){let t=this.getConfig(),n={};return n.className=this.getClassName(),n.config=t,n.kerasVersion=`tfjs-layers ${_R}`,n.backend="TensorFlow.js",n}toJSON(t,n=!0){let r=AL(this.updatedConfig());return n?JSON.stringify(r):r}call(t,n){return X(()=>{t=Pt(t);let r=new Gh;for(let a=0;a<this.inputs.length;++a)r.add(this.inputs[a],t[a]);return py(this.outputs,r,n)})}computeMask(t,n){return X(()=>{t=Pt(t);let r;return n==null?r=dd(null,t.length):r=Pt(n),this.runInternalGraph(t,r)[1]})}computeOutputShape(t){let n=aC(t);if(n.length!==this.inputLayers.length)throw new te(`Invalid inputShape argument ${t}: model has ${this.inputLayers.length} tensor inputs.`);let r={};for(let o=0;o<n.length;o++){let l=this.inputLayers[o],u=n[o],c=l.name+"_0_0";r[c]=u}let a=Object.keys(this.nodesByDepth).map(o=>parseInt(o,10)).sort(o2);if(a.length>1)for(let o of a){let l=this.nodesByDepth[o];for(let u of l){let c=u.outboundLayer;if(this.inputLayers.map(m=>m.id).indexOf(c.id)!==-1)continue;let f=[];for(let m=0;m<u.inboundLayers.length;m++){let g=u.inboundLayers[m],y=u.nodeIndices[m],v=u.tensorIndices[m],b=`${g.name}_${y}_${v}`,x=r[b];f.push(x)}let d=c.computeOutputShape(wa(f)),p=aC(d),h=c.inboundNodes.indexOf(u);for(let m=0;m<p.length;m++){let g=`${c.name}_${h}_${m}`;r[g]=p[m]}}}let i=[],s=[];for(let o=0;o<this.outputLayers.length;o++){let l=this.outputLayers[o],u=this.outputLayersNodeIndices[o],c=this.outputLayersTensorIndices[o],f=`${l.name}_${u}_${c}`;s.push(f)}for(let o=0;o<s.length;o++){let l=s[o];uo(l in r),i.push(r[l])}return wa(i)}runInternalGraph(t,n){n==null&&(n=dd(null,t.length));let r={};for(let l=0;l<this.inputs.length;++l){let u=this.inputs[l],c=t[l],f=n[l];r[u.id]=[c,f]}let a=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(o2);for(let l of a){let u=this.nodesByDepth[l];for(let c of u){let f=c.outboundLayer,d=c.inputTensors,p=c.outputTensors,h=new Array;for(let m of d)m.id in r&&h.push(r[m.id]);if(h.length===d.length){let m={},g,y,v,b;if(c.callArgs!=null&&(m=c.callArgs),h.length===1){let[x,S]=h[0];m.mask==null&&(m.mask=S),v=Pt(f.call(x,m)),b=Pt(f.computeMask(x,S)),g=[x],y=[S]}else g=h.map(x=>x[0]),y=h.map(x=>x[1]),m.mask==null&&(m.mask=y),v=Pt(f.call(g,m)),b=Pt(f.computeMask(g,y));if(f.activityRegularizer)throw new ut("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let x=0;x<p.length;++x){let S=p[x],k=v[x],I=b[x];r[S.id]=[k,I]}}}}let i=[],s=[],o=[];for(let l of this.outputs){uo(l.id in r,`Could not compute output ${l.name} : ${l.id}`);let[u,c]=r[l.id];o.push(u.shape),i.push(u),s.push(c)}return[i,s,o]}buildNodeConversionMap(t){let n={},r;for(let a of this.layers){r=a instanceof no?1:0;for(let i=0;i<a.inboundNodes.length;i++){let s=no.nodeKey(a,i);this.containerNodes.has(s)&&(n[s]=r,r+=1)}}return n}getLayer(t,n){if(n!=null)return this.findLayer(n);if(t==null)throw new te("Provide either a layer name or layer index");if(typeof t=="number")return this.findLayer(t);for(let r of this.layers)if(r.name===t)return r;throw new te(`No such layer: ${t}`)}findLayer(t){if(this.layers.length<=t)throw new te(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}calculateLosses(){return X(()=>{let t=[];for(let n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){let a=no.nodeKey(n,r);this.containerNodes.has(a)&&t.push(...n.calculateLosses())}return t})}getConfig(){let t={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(let s of this.layers){let o=s.getClassName(),l=s.getConfig(),u=[];for(let f=0;f<s.inboundNodes.length;f++){let d=s.inboundNodes[f],p=no.nodeKey(s,f),h={};if(this.containerNodes.has(p)){if(d.callArgs)try{JSON.stringify(d.callArgs),h=d.callArgs}catch{console.warn(`Layer ${s.name} was passed non-serializable keyword arguments: ${d.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),h={}}if(d.inboundLayers.length>0){let m=[];for(let g=0;g<d.inboundLayers.length;g++){let y=d.inboundLayers[g],v=d.nodeIndices[g],b=d.tensorIndices[g],x=no.nodeKey(y,v),S=n[x];S==null&&(S=0),m.push([y.name,S,b,h])}u.push(m)}}}let c={};c.name=s.name,c.className=o,c.config=l,c.inboundNodes=u,r.push(c)}t.layers=r;let a=[];for(let s=0;s<this.inputLayers.length;s++){let o=this.inputLayers[s],l=this.inputLayersNodeIndices[s],u=no.nodeKey(o,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);let f=this.inputLayersTensorIndices[s];a.push([o.name,c,f])}t.inputLayers=a;let i=[];for(let s=0;s<this.outputLayers.length;s++){let o=this.outputLayers[s],l=this.outputLayersNodeIndices[s],u=no.nodeKey(o,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);let f=this.outputLayersTensorIndices[s];i.push([o.name,c,f])}return t.outputLayers=i,t}static fromConfig(t,n,r={},a=!1){let i={},s={};function o(g,y){g.name in s?s[g.name].push(y):s[g.name]=[y]}function l(g,y){let v=[],b;for(let x of y){let S=x[0],k=x[1],I=x[2];if(b=x[3]==null?{}:x[3],!(S in i)){o(g,y);return}let N=i[S];if(N.inboundNodes.length<=k){o(g,y);return}let T=N.inboundNodes[k];v.push(T.outputTensors[I])}v.length>0&&g.apply(wa(v),b)}function u(g){let y=g.name,v=Rs(g,n.customObjects!=null?n.customObjects:{});v.setFastWeightInitDuringBuild(a),i[y]=v,g.inboundNodes.forEach(b=>{if(!(b instanceof Array))throw new te(`Corrupted configuration, expected array for nodeData: ${b}`);o(v,b)})}let c=n.name,f=n.layers;for(let g of f)u(g);for(;!Ert(s);)for(let g of f){let y=i[g.name];if(y.name in s){let v=s[y.name];delete s[y.name];for(let b of v)l(y,b)}}let d=[],p=[],h=n.inputLayers;for(let g of h){let y=g[0],v=g[1],b=g[2];uo(y in i);let x=i[y].inboundNodes[v].outputTensors;d.push(x[b])}let m=n.outputLayers;for(let g of m){let y=g[0],v=g[1],b=g[2];uo(y in i);let x=i[y].inboundNodes[v].outputTensors;p.push(x[b])}return new t({inputs:d,outputs:p,name:c})}get stateful(){if(this._stateful)throw new te("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(let t of this.layers)if(t.stateful)return!0;return!1}resetStates(){X(()=>{this.layers.forEach(t=>{t.stateful&&t.resetStates()})})}};function sit(e,t,n){let r=t.length;if(e==null||Array.isArray(e)&&e.length===0)return t.map(a=>null);if(r===1)return Array.isArray(e)&&e.length===1?e:typeof e=="object"&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}else if(typeof e=="object"&&Object.keys(e).length>0&&typeof e[Object.keys(e)[0]]=="object"){let a=[];return t.forEach(i=>{i in e?a.push(e[i]):a.push(null)}),a}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function Sae(e,t){return sit(e,t,"classWeight")}async function kae(e,t,n,r){if(n!=null){let a=X(()=>{if(e.shape.length===1)return No(e);if(e.shape.length===2){if(e.shape[1]>1)return od(e,1);if(e.shape[1]===1)return Z(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await a.data());Xe(a);let s=[];return i.forEach(o=>{if(n[o]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${o} exists in the data but not in classWeight`);s.push(n[o])}),Ot(s,"float32")}else return null}function oit(e,t){return K(e,t)}var lit=32;function Cae(e,t){let n,r,a=t;n=a.xs,r=a.ys,A.assert(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);let i=I8("input",e.inputNames,n),s=I8("output",e.outputNames,r),o=i[0].shape[0];A.assert(i.length===e.inputs.length,()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`),A.assert(s.length===e.outputs.length,()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${s.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`);for(let l=0;l<i.length;l++)A.assert(i[l].shape[0]===o,()=>`Batch size mismatch: input ${e.inputNames[l]} has ${i[l].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`);for(let l=0;l<s.length;l++)A.assert(s[l].shape[0]===o,()=>`Batch size mismatch: output ${e.outputNames[l]} has ${s[l].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`);return{xs:i,ys:s}}function I8(e,t,n){if(n instanceof nt)return[n];if(Array.isArray(n))return A.assert(n.length===t.length,()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`),n;{let r=[];for(let a of t){if(n[a]==null)throw new te(`The feature data generated by the dataset lacks the required ${e} key '${a}'.`);r.push(n[a])}return r}}function uit(e){if(e.length===3)throw new ut("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}async function cit(e,t,n){let r=n.batchesPerEpoch!=null;if(A.assert(e.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),A.assert(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),A.assert(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),A.assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),A.assert(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{let a=n.validationData!=null,i,s;if(a)if(N8(n.validationData))A.assert(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{let g=uit(n.validationData);i=g.xs,s=g.ys}let o=e.makeTrainFunction(),l=e.getDedupedMetricsNames(),u;a?u=l.slice().concat(l.map(g=>"val_"+g)):u=l.slice();let c=hae(n.callbacks,n.yieldEvery),f=n.verbose==null?1:n.verbose,{callbackList:d,history:p}=mae(c,f,n.epochs,null,null,fit(t,n),null,a,u);d.setModel(e),e.history=p,await d.onTrainBegin(),e.stopTraining_=!1;let h=n.initialEpoch==null?0:n.initialEpoch,m=await t.iterator();for(;h<n.epochs;){let g={};await d.onEpochBegin(h);let y=0,v=0;for(r||(m=await t.iterator());!r||y<n.batchesPerEpoch;){let b=await m.next();if(r&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${y} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(b.value!=null){let{xs:x,ys:S}=Cae(e,b.value),k={};k.batch=v,k.size=x[0].shape[0],await d.onBatchBegin(v,k);let I=[];if(n.classWeight!=null){let L=Sae(n.classWeight,e.outputNames);for(let E=0;E<L.length;++E)I.push(await kae(S[E],null,L[E]))}let N=x.concat(S).concat(I),T=o(N);Xe(N);for(let L=0;L<l.length;++L){let E=l[L],M=T[L];k[E]=M,rr(M)}await d.onBatchEnd(v,k),cae(k),v++,y++}if(r?y>=n.batchesPerEpoch:b.done){if(a){let x;N8(n.validationData)?x=Pt(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):x=Pt(e.evaluate(i,s,{batchSize:n.validationBatchSize==null?lit:n.validationBatchSize,verbose:0}));for(let S=0;S<e.metricsNames.length;++S)g[`val_${e.metricsNames[S]}`]=x[S]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(h,g),h++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function fit(e,t){let n=null;return t.batchesPerEpoch!=null?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function N8(e){return typeof e.iterator=="function"}function dit(e){return typeof e.next=="function"}async function pit(e,t,n){n=n||{};let r=n.batches!=null,a=e.testFunction,i=[];if(n.verbose>0)throw new ut("Verbose mode is not implemented yet.");A.assert(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);let s=dit(t)?t:await t.iterator(),o=0,l=0;for(;!r||l<n.batches;){let u=await s.next();if(i=X(()=>{if(u.value){let{xs:c,ys:f}=Cae(e,u.value),d=c.concat(f),p=X(()=>a(d));if(Xe(d),l===0)for(let m=0;m<p.length;++m)i.push(Ue(0));let h=d[0].shape[0];for(let m=0;m<p.length;++m){let g=p[m],y=i[m];i[m]=X(()=>le(i[m],K(h,g))),l>0&&Xe(y)}Xe(p),o+=h,++l}return i}),u.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<i.length;++u){let c=i[u];i[u]=Ee(i[u],o),Xe(c)}return wa(i)}function $E(e){A.assert(e>0&&Number.isInteger(e),()=>`batchSize is required to be a positive integer, but got ${e}`)}function Z1(e,t,n){return e==null?[null]:Array.isArray(e)?e.map(r=>Ff(r,t,n-t)):Ff(e,t,n-t)}function LL(e,t){return X(()=>e==null?null:Array.isArray(e)?e.map(n=>LL(n,t)):tae(e,t.dtype==="int32"?t:ve(t,"int32")))}function DE(e,t){let n=[],r=0,a=null;for(;r<e;)a=r+t,a>=e&&(a=e),n.push([r,a]),r=a;return n}function Iae(e){let t=[];e instanceof nt&&(e=[e]);for(let n=0;n<e.length;++n){let r=e[n];if(r.rank===1)t.push(Bw(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function vs(e,t){if(e==null)return;let n=[];if(t instanceof nt)n.push(t.id);else if(Array.isArray(t))t.forEach(a=>n.push(a.id));else if(t!=null)for(let a in t){let i=t[a];n.push(i.id)}let r=[];if(e instanceof nt)n.indexOf(e.id)===-1&&r.push(e);else if(Array.isArray(e))e.forEach(a=>{n.indexOf(a.id)===-1&&r.push(a)});else if(e!=null)for(let a in e){let i=e[a];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(a=>{a.isDisposed||a.dispose()})}function hit(e){return e instanceof nt}function _L(e){return Array.isArray(e)}function M8(e){return!hit(e)&&!_L(e)}function T8(e,t,n,r=!0,a=""){if(t==null||t.length===0){if(e!=null){let s=!1;if(_L(e)&&e.length>0)s=!0;else if(M8(e)){for(let o in e)if(e.hasOwnProperty(o)){s=!0;break}}else s=!0;if(s)throw new te(`Error when checking model ${a} expected no data, but got ${e}`)}return[]}if(e==null)return t.map(s=>null);let i;if(M8(e)){e=e,i=[];for(let s of t){if(e[s]==null)throw new te(`No data provided for "${s}". Need data for each key in: ${t}`);i.push(e[s])}}else if(_L(e)){if(e=e,e.length!==t.length)throw new te(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);i=e}else{if(e=e,t.length>1)throw new te(`The model ${a} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);i=[e]}if(i=Iae(i),n!=null)for(let s=0;s<t.length;++s){if(n[s]==null)continue;let o=i[s];if(o.shape.length!==n[s].length)throw new te(`Error when checking ${a}: expected ${t[s]} to have ${n[s].length} dimension(s). but got array with shape ${o.shape}`);for(let l=0;l<n[s].length;++l){if(l===0&&!r)continue;let u=o.shape[l],c=n[s][l];if(c!=null&&c>=0&&u!==c)throw new te(`${a} expected a batch of elements where each example has shape [${n[s].slice(1,n[s].length)}] (i.e.,tensor shape [*,${n[s].slice(1,n[s].length)}]) but the ${a} received an input with ${o.shape[0]} examples, each with shape [${o.shape.slice(1,o.shape.length)}] (tensor shape [${o.shape}])`)}}return i}function mit(e,t,n){let r=Ju(e.map(i=>i.shape[0]));r.sort();let a=Ju(t.map(i=>i.shape[0]));if(a.sort(),r.length>1)throw new te(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(a.length>1)throw new te(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(r.length>0&&a.length>0&&!A.arraysEqual(r,a))throw new te(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${a[0]} target sample(s).`)}function git(e,t,n){let r=[ih,TM,pb];for(let a=0;a<e.length;++a){let i=e[a],s=t[a],o=n[a];if(s!=null){if(s===pb&&i.shape[i.shape.length-1]===1)throw new te(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(s)!==-1){let l=i.shape.slice(1),u=o.slice(1);for(let c=0;c<l.length;++c){let f=l[c],d=u[c];if(d!=null&&f!==d)throw new te(`A target Tensor with shape ${i.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function E8(e,t,n,r=!0,a=""){let i;if(Array.isArray(e)){if(e.length!==t.length)throw new te(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);i=e}else{if(t.length>1)throw new te(`The model expects ${t.length} ${a} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);i=[e]}if(n!=null)for(let s=0;s<t.length;++s){if(n[s]==null)continue;let o=i[s];if(o.shape.length!==n[s].length)throw new te(`Error when checking ${a}: expected ${t[s]} to have ${n[s].length} dimension(s), but got array with shape ${JSON.stringify(o.shape)}`);for(let l=0;l<n[s].length;++l){if(l===0&&!r)continue;let u=o.shape[l],c=n[s][l];if(c!=null&&c!==u)throw new te(`Error when checking ${a}: expected ${t[s]} to have shape ${JSON.stringify(n[s])} but got array with shape ${JSON.stringify(o.shape)}.`)}}}function yit(e,t){if(e==null||Array.isArray(e)&&e.length===0)return t.map(r=>[]);let n;if(typeof e=="string"||typeof e=="function")n=[e];else if(Array.isArray(e)||typeof e=="object")n=e;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);if(Array.isArray(n))return t.map(r=>n);{let r=[];for(let a of t){let i=n.hasOwnProperty(a)?n[a]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}var vit="layers-model",ml=class extends iit{constructor(e){super(e),this.isTraining=!1}summary(e,t,n=console.log){if(!this.built)throw new te("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Xat(this,e,t,n)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=Zat(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Ul))throw new te("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(let i in e.loss)if(this.outputNames.indexOf(i)===-1)throw new te(`Unknown entry in loss dictionary: "${i}". Only expected the following keys: ${this.outputNames}`);for(let i of this.outputNames)e.loss[i]==null&&console.warn(`Output "${i}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${i} during training`),t.push(jE(e.loss[i]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new te(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);t=e.loss.map(i=>jE(i))}else{let i=jE(e.loss);this.outputs.forEach(s=>{t.push(i)})}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let i=0;i<this.outputs.length;++i){let s=this.internalOutputShapes[i],o=this.outputNames[i];this.feedOutputNames.push(o),this.feedOutputShapes.push(s),this.feedLossFns.push(this.lossFunctions[i])}let n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Pf("loss",()=>{for(let i=0;i<this.outputs.length;++i){if(n.indexOf(i)!==-1)continue;let s=this.lossFunctions[i];this.outputs.length>1&&(this.metricsTensors.push([s,i]),this.metricsNames.push(this.outputNames[i]+"_loss"))}});let r=yit(e.metrics,this.outputNames),a=(i,s,o)=>{this.outputNames.length>1&&(s=this.outputNames[i]+"_"+s),this.metricsNames.push(s),this.metricsTensors.push([o,i])};Pf("metric",()=>{for(let i=0;i<this.outputs.length;++i){if(n.indexOf(i)!==-1)continue;let s=r[i];(o=>{let l="",u,c,f;for(let d of o){if(typeof d=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(d)!==-1){let h=this.internalOutputShapes[i];h[h.length-1]===1||this.lossFunctions[i]===TM?["accuracy","acc"].indexOf(d)!==-1?c=ER:["crossentropy","ce"].indexOf(d)!==-1&&(c=vae):this.lossFunctions[i]===uC?["accuracy","acc"].indexOf(d)!==-1?c=bae:["crossentropy","ce"].indexOf(d)!==-1&&(c=wae):["accuracy","acc"].indexOf(d)!==-1?c=AR:["crossentropy","ce"].indexOf(d)!==-1&&(c=LR);let m;["accuracy","acc"].indexOf(d)!==-1?m="acc":["crossentropy","ce"].indexOf(d)!==-1&&(m="ce"),f=c,u=l+m}else f=Jat(d),u=l+c2(d);let p;Pf(u,()=>{p=f}),a(i,u,p)}})(s)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t,n={}){let r=n.batchSize==null?32:n.batchSize;$E(r);let a=this.standardizeUserDataXY(e,t,!0,r);try{let i=a[0].concat(a[1]);this.makeTestFunction();let s=this.testFunction,o=this.testLoop(s,i,r,n.verbose,n.steps);return wa(o)}finally{vs(a[0],e),vs(a[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),pit(this,e,t)}checkNumSamples(e,t,n,r="steps"){let a;if(n!=null){if(a=null,t!=null)throw new te(`If ${r} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else if(e!=null)Array.isArray(e)?a=e[0].shape[0]:a=e.shape[0];else throw new te(`Either the input data should have a defined shape, or ${r} shoud be specified.`);return a}execute(e,t){if(Array.isArray(t)&&t.length===0)throw new te("`outputs` is an empty Array, which is not allowed.");let n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),i=new Gh;if(e instanceof nt&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new te(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let o=0;o<this.inputs.length;++o)i.add(this.inputs[o],e[o])}else for(let o of this.inputs){let l=e[o.name];if(l==null)throw new te(`No value is provided for the model's input ${o.name}`);i.add(o,l)}let s=py(a,i);return n?s:s[0]}retrieveSymbolicTensors(e){let t=dd(null,e.length),n=e.length;for(let r of this.layers){let a=Array.isArray(r.output)?r.output:[r.output],i=a.map(s=>s.name);for(let s=0;s<e.length;++s){let o=i.indexOf(e[s]);if(o!==-1&&(t[s]=a[o],n--),n===0)break}if(n===0)break}if(n>0){let r=[];throw t.forEach((a,i)=>{a==null&&r.push(e[i])}),new te(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(r)}`)}return t}predictLoop(e,t=32,n=!1){return X(()=>{let r=this.checkNumSamples(e);if(n)throw new ut("Verbose predictLoop() is not implemented yet.");let a=DE(r,t),i=this.outputs.map(s=>[]);for(let s=0;s<a.length;++s)X(()=>{let o=a[s][0],l=a[s][1],u=Z1(e,o,l),c=[];if(Array.isArray(u))for(let d=0;d<u.length;++d)c.push({key:this.inputs[d],value:u[d]});else c.push({key:this.inputs[0],value:u});let f=new Gh(c);return py(this.outputs,f)}).forEach((o,l)=>i[l].push(o));return wa(i.map(s=>Yt(s,0)))})}predict(e,t={}){let n=Iae(e);E8(n,this.inputNames,this.feedInputShapes,!1);try{let r=t.batchSize==null?32:t.batchSize;return $E(r),this.predictLoop(n,r)}finally{vs(n,e)}}predictOnBatch(e){E8(e,this.inputNames,this.feedInputShapes,!0);let t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,n=!0,r){if(this.optimizer_==null)throw new yo("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");let a=[];for(let i=0;i<this.feedOutputShapes.length;++i){let s=this.feedOutputShapes[i];this.feedLossFns[i]===uC?a.push(s.slice(0,s.length-1).concat([1])):a.push(s)}if(e=T8(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=T8(t,this.feedOutputNames,a,!1,"target"),mit(e,t),git(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&r!=null&&r>0&&e[0].shape[0]%r!==0)throw new te(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,r,a=!0,i){let[s,o]=this.standardizeUserDataXY(e,t,a,i);if(n!=null)throw new Error("sample weight is not supported yet.");let l=null;if(r!=null){let u=Sae(r,this.outputNames);l=[];for(let c=0;c<u.length;++c)l.push(await kae(o[c],null,u[c]))}return[s,o,l]}testLoop(e,t,n,r=0,a){return X(()=>{let i=this.checkNumSamples(t,n,a,"steps"),s=[];if(r>0)throw new ut("Verbose mode is not implemented yet.");if(a!=null)throw new ut("steps mode in testLoop() is not implemented yet");{let o=DE(i,n),l=Ot(Us(0,i));for(let u=0;u<o.length;++u){let c=o[u][0],f=o[u][1],d=Ff(l,c,f-c),p=LL(t,d),h=e(p);if(u===0)for(let m=0;m<h.length;++m)s.push(Ue(0));for(let m=0;m<h.length;++m){let g=h[m];s[m]=le(s[m],K(f-c,g))}}for(let u=0;u<s.length;++u)s[u]=Ee(s[u],i)}return s})}getDedupedMetricsNames(){let e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){let r=e[n],a=r;if(h8(e,r)>1){let i=h8(e.slice(0,n),r);a+=`_${i}`}t.push(a)}return t}makeTrainFunction(){return e=>{let t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),i=[],s=()=>{let l=[];for(let d=0;d<this.inputs.length;++d)l.push({key:this.inputs[d],value:n[d]});let u=new Gh(l),c=py(this.outputs,u,{training:!0}),f;for(let d=0;d<this.lossFunctions.length;++d){let p=this.lossFunctions[d],h=p(r[d],c[d]);a[d]!=null&&(h=oit(h,a[d]));let m=Cn(h);t.push(m),d===0?f=h:f=le(f,h)}for(let d=0;d<this.metricsTensors.length;++d){let p;if(this.outputs.length>1&&d<this.outputs.length)p=t[d];else{let h=this.metricsTensors[d][0],m=this.metricsTensors[d][1];p=Cn(h(r[m],c[m]))}rr(p),i.push(p)}return f=Cn(f),this.calculateLosses().forEach(d=>{f=le(f,d)}),f},o=this.collectedTrainableWeights.map(l=>l.read());return[this.optimizer_.minimize(s,!0,o)].concat(i)}}makeTestFunction(){this.testFunction=e=>X(()=>{let t=[],n,r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let l=0;l<this.inputs.length;++l)i.push({key:this.inputs[l],value:r[l]});let s=new Gh(i),o=py(this.outputs,s);for(let l=0;l<this.lossFunctions.length;++l){let u=this.lossFunctions[l],c=Cn(u(a[l],o[l]));l===0?n=c:n=le(n,c),t.push(n)}for(let l=0;l<this.metricsTensors.length;++l){let u=this.metricsTensors[l][0],c=this.metricsTensors[l][1],f=Cn(u(a[c],o[c]));t.push(f)}return t})}async fit(e,t,n={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let r,a,i,s,o,l,u,c,f;try{let d=n.batchSize==null?32:n.batchSize;$E(d);let p=await this.standardizeUserData(e,t,n.sampleWeight,n.classWeight,!1,d);r=p[0],a=p[1],f=p[2];let h=!1,m;if(n.validationData!=null&&n.validationData.length>0){if(h=!0,n.validationData.length===2)o=n.validationData[0],l=n.validationData[1];else throw n.validationData.length===3?new ut("validationData including sample weights is not supported yet."):new te(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${n.validationData} is invalid.`);let k=await this.standardizeUserData(o,l,null,null,!0,d);u=k[0],c=k[1],m=u.concat(c)}else if(n.validationSplit!=null&&n.validationSplit>0&&n.validationSplit<1){h=!0;let k=Math.floor(r[0].shape[0]*(1-n.validationSplit)),I=r[0].shape[0];u=Z1(r,k,I),i=r,r=Z1(r,0,k),c=Z1(a,k,I),s=a,a=Z1(a,0,k),m=u.concat(c)}else n.validationSteps!=null&&(h=!0);let g=r.concat(a).concat(f);this.checkTrainableWeightsConsistency();let y=this.makeTrainFunction(),v=this.getDedupedMetricsNames(),b,x;h?(this.makeTestFunction(),b=this.testFunction,x=v.slice().concat(v.map(k=>"val_"+k))):(b=null,m=[],x=v.slice());let S=hae(n.callbacks,n.yieldEvery);return await this.fitLoop(y,g,v,d,n.epochs,n.verbose,S,b,m,n.shuffle,x,n.initialEpoch,null,null)}finally{this.isTraining=!1,vs(r,e),vs(a,t),vs(i,e),vs(s,t),vs(u,o),vs(c,l),f!=null&&Xe(f)}}async fitLoop(e,t,n,r,a,i,s,o,l,u,c,f,d,p){r==null&&(r=32),a==null&&(a=1),u==null&&(u=!0),f==null&&(f=0);let h=!1;if(o!=null&&l!=null&&(h=!0),p!=null&&(h=!0,d==null))throw new te("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");let m=this.checkNumSamples(t,r,d,"steps_per_epoch"),g;m!=null&&(g=Us(0,m)),i==null&&(i=1);let{callbackList:y,history:v}=mae(s,i,a,f,m,d,r,h,c);y.setModel(this),this.history=v,await y.onTrainBegin(),this.stopTraining_=!1;for(let b=f;b<a;++b){await y.onEpochBegin(b);let x={};if(d!=null)throw new ut("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new ut("batch shuffling is not implemneted yet");u&&A.shuffle(g);let S=Ot(g),k=DE(m,r);for(let I=0;I<k.length;++I){let N={};if(await y.onBatchBegin(I,N),X(()=>{let T=k[I][0],L=k[I][1],E=Ff(S,T,L-T);N.batch=I,N.size=L-T;let M=LL(t,E),j=e(M);for(let D=0;D<n.length;++D){let F=n[D],$=j[D];N[F]=$,rr($)}if(I===k.length-1&&h){let D=this.testLoop(o,l,r);for(let F=0;F<n.length;++F){let $=n[F],B=D[F];rr(B),x["val_"+$]=B}}}),await y.onBatchEnd(I,N),cae(N),this.stopTraining_)break}S.dispose()}if(await y.onEpochEnd(b,x),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return cit(this,e,t)}async trainOnBatch(e,t){let n=await this.standardizeUserData(e,t),r=n[0],a=n[1],i=this.makeTrainFunction()(r.concat(a)),s=[];for(let o of i){let l=await o.data();s.push(l[0])}return Xe(i),vs(n[0],e),vs(n[1],t),wa(s)}getNamedWeights(e){let t=[],n=e!=null&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n);for(let i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){let e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){let t=pL().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-pL().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=el(this.loss);else if(Array.isArray(this.loss)){for(let t of this.loss)if(typeof t!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(t=>el(t))}else{let t=Object.keys(this.loss);e={};let n=this.loss;for(let r of t)if(typeof n[r]=="string")e[r]=el(n[r]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[el(c2(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>el(c2(e)));{let e={};for(let t in this.metrics)e[t]=el(c2(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");let t=hb(e.optimizer_config),n=Rs(t),r;if(typeof e.loss=="string")r=cf(e.loss);else if(Array.isArray(e.loss))r=e.loss.map(i=>cf(i));else if(e.loss!=null){r={};for(let i in e.loss)r[i]=cf(e.loss[i])}let a;if(Array.isArray(e.metrics))a=e.metrics.map(i=>cf(i));else if(e.metrics!=null){a={};for(let i in e.metrics)a[i]=cf(e.metrics[i])}this.compile({loss:r,metrics:a,optimizer:n})}async save(e,t){if(typeof e=="string"){let a=jr.getSaveHandlers(e);if(a.length===0)throw new te(`Cannot find any save handlers for URL '${e}'`);if(a.length>1)throw new te(`Found more than one (${a.length}) save handlers for URL '${e}'`);e=a[0]}if(e.save==null)throw new te("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");let n=await jr.encodeWeights(this.getNamedWeights(t)),r={modelTopology:this.toJSON(null,!1),format:vit,generatedBy:`TensorFlow.js tfjs-layers v${_R}`,convertedBy:null};if(t!=null&&t.includeOptimizer&&this.optimizer!=null){r.trainingConfig=this.getTrainingConfig();let a="optimizer",{data:i,specs:s}=await jr.encodeWeights(await this.optimizer.getWeights(),a);n.specs.push(...s),n.data=jr.concatenateArrayBuffers([n.data,i])}return this.userDefinedMetadata!=null&&(C8(this.userDefinedMetadata,this.name,!0),r.userDefinedMetadata=this.userDefinedMetadata),r.weightData=n.data,r.weightSpecs=n.specs,e.save(r)}setUserDefinedMetadata(e){C8(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}};ml.className="Model";de.registerClass(ml);var Nae=class extends ml{};Nae.className="Functional";de.registerClass(Nae);async function bit(e,t){"modelTopology"in e||(e={modelTopology:e}),e=e;let n=e.modelTopology;n.model_config!=null&&(n=n.model_config);let r=hb(n),a=Rs(r,t);if(e.weightsManifest!=null){let i=await jr.loadWeights(e.weightsManifest,e.pathPrefix,a.weights.map(o=>o.originalName)),s={};for(let o of a.weights)s[o.originalName]=i[o.originalName];a.loadWeights(s),Xe(i)}return a}async function wit(e,t){if(t==null&&(t={}),typeof e=="string"){let n=jr.getLoadHandlers(e,t);if(n.length===0)n.push(jr.browserHTTPRequest(e,t));else if(n.length>1)throw new te(`Found more than one (${n.length}) load handlers for URL '${e}'`);e=n[0]}return xit(e,void 0,t)}async function xit(e,t,n){if(n==null&&(n={}),e.load==null)throw new te("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");let r=await e.load(),a=r.modelTopology;a.model_config!=null&&(a=a.model_config);let i=n.strict==null?!0:n.strict,s=r.weightData!=null&&r.weightSpecs!=null&&i,o=Rs(hb(a),t,s),l=r.trainingConfig;if(l!=null&&o.loadTrainingConfig(l),r.userDefinedMetadata!=null&&o.setUserDefinedMetadata(r.userDefinedMetadata),r.weightData!=null){if(r.weightSpecs==null)throw new te("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");let{modelWeights:u,optimizerWeights:c}=Sit(r.weightData,r.weightSpecs);o.loadWeights(u,i),o.optimizer!=null&&c.length>0&&await o.optimizer.setWeights(c),Xe(u),Xe(c.map(f=>f.tensor))}return o}function Sit(e,t){let n=jr.decodeWeights(e,t),r={},a=[];return t.forEach(i=>{i.group==="optimizer"?a.push({name:i.name,tensor:n[i.name]}):r[i.name]=n[i.name]}),{modelWeights:r,optimizerWeights:a}}var EM=class jL extends ml{constructor(t){if(super({inputs:[],outputs:[]}),t=t||{},this.trainable=!0,this.built=!1,this.name=t.name!=null?t.name:yM("sequential_"),t.layers!=null)for(let n of t.layers)this.add(n)}checkShape(t){if(t.inboundNodes[0].outputTensors[0].shape.some(n=>n<0))throw new te(`Negative dimension size caused by adding layer ${t.name} with input shape [${t.inboundNodes[0].inputTensors[0].shape}]`)}add(t){let n=t instanceof jL||t instanceof ml,r;if(n){if(r=t,r.outputs.length!==1)throw new te("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new te("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(t.inboundNodes.length===0){if(t.batchInputShape==null)throw new te("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");let a=iae({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(a)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(t.inboundNodes.length!==1)throw new te(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${t.name} which has ${t.inboundNodes.length} pre-existing inbound connections.`);if(t.inboundNodes[0].outputTensors.length!==1)throw new te("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=aae(this.outputs[0])}this.inboundNodes=[],new NM({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:dd(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{let a=t.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{let t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(t,n){return this.model==null&&this.build(),this.model.call(t,n)}build(t){if(At(t),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new ml({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(t,n,r=console.log){this.built||this.build(),super.summary(t,n,r)}setWeights(t){this.model==null&&this.build(),this.model.setWeights(t)}evaluate(t,n,r={}){if(!this.built)throw new yo("The model needs to be compiled before being used.");return this.model.evaluate(t,n,r)}async evaluateDataset(t,n){if(!this.built)throw new yo("The model needs to be compiled before being used.");return this.model.evaluateDataset(t,n)}predict(t,n={}){return this.model==null&&this.build(),this.model.predict(t,n)}predictOnBatch(t){return this.model==null&&this.build(),this.model.predictOnBatch(t)}compile(t){this.build(),this.model.compile(t),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(t){this.model.optimizer=t}async fit(t,n,r={}){if(!this.built)throw new yo("The model needs to be compiled before being used.");return this.model.fit(t,n,r)}async fitDataset(t,n){if(!this.built)throw new yo("The model needs to be compiled before being used.");return this.model.fitDataset(t,n)}async trainOnBatch(t,n){return this.model.trainOnBatch(t,n)}static fromConfig(t,n,r={},a=!1){let i,s={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new te("Legacy serialization format not supported yet.");i=n}else A.assert(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,s=n;let o=new t(s);if(!(o instanceof jL))throw new ut(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(let l of i){let u=Rs(l,void 0,a);a&&u.setFastWeightInitDuringBuild(!0),o.add(u)}return o}set stopTraining(t){if(this.model==null)throw new te("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=t}get stopTraining(){if(this.model==null)throw new te("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){let t=[];for(let n of this.layers){let r={};r.className=n.getClassName(),r.config=n.getConfig(),t.push(r)}return{name:this.name,layers:t}}};EM.className="Sequential";de.registerClass(EM);function kit(e){return new ml(e)}function Cit(e){return new EM(e)}function Mae(e){return iae(e)}function Iit(e,t){MR.registerCallbackConstructor(e,t)}var Hr=class extends de.Serializable{getConfig(){return{}}},Tae=class extends Hr{apply(e,t=1){return Vrt(e,t)}};Tae.className="elu";de.registerClass(Tae);var Eae=class extends Hr{apply(e){return eM(e)}};Eae.className="selu";de.registerClass(Eae);var Aae=class extends Hr{apply(e){return Ft(e)}};Aae.className="relu";de.registerClass(Aae);var Lae=class extends Hr{apply(e){return X(()=>fc(6,Ft(e)))}};Lae.className="relu6";de.registerClass(Lae);var _ae=class extends Hr{apply(e){return e}};_ae.className="linear";de.registerClass(_ae);var jae=class extends Hr{apply(e){return ts(e)}};jae.className="sigmoid";de.registerClass(jae);var $ae=class extends Hr{apply(e){return Hrt(e)}};$ae.className="hardSigmoid";de.registerClass($ae);var Dae=class extends Hr{apply(e){return nh(e)}};Dae.className="softplus";de.registerClass(Dae);var Oae=class extends Hr{apply(e){return Grt(e)}};Oae.className="softsign";de.registerClass(Oae);var Rae=class extends Hr{apply(e){return cc(e)}};Rae.className="tanh";de.registerClass(Rae);var jR=class extends Hr{apply(e,t=-1){return Fc(e,t)}};jR.className="softmax";de.registerClass(jR);var Pae=class extends Hr{apply(e,t=-1){return qN(e,t)}};Pae.className="logSoftmax";de.registerClass(Pae);var Fae=class extends Hr{apply(e){return X(()=>X(()=>{let t=Math.sqrt(2),n=K(.5,le(1,VN(Ee(e,t))));return K(e,n)}))}};Fae.className="gelu";de.registerClass(Fae);var zae=class extends Hr{apply(e){return X(()=>K(.5,K(e,le(1,cc(K(Ir(Ee(2,Math.PI)),le(e,K(.044715,$o(e,3)))))))))}};zae.className="gelu_new";de.registerClass(zae);var Bae=class extends Hr{apply(e){return X(()=>K(e,cc(nh(e))))}};Bae.className="mish";de.registerClass(Bae);var Uae=class extends Hr{apply(e,t=1){return X(()=>K(ts(K(e,t)),e))}};Uae.className="swish";de.registerClass(Uae);function hc(e){return e.getClassName()}function OE(e,t={}){return zw(e,de.SerializationMap.getMap().classNameMap,t,"activation")}function mc(e){if(e==null){let t={};return t.className="linear",t.config={},OE(t)}if(typeof e=="string"){let t={};return t.className=e,t.config={},OE(t)}else return e instanceof Hr?e:OE(e)}function $R(e){if(e!=null&&typeof e!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}var Wae=class extends de.Serializable{},Gw=class extends Wae{constructor(e){super(),$R(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return X(()=>{let t=In([1]);return this.hasL1&&(t=le(t,$e(K(this.l1,Wn(e))))),this.hasL2&&(t=le(t,$e(K(this.l2,Uw(e))))),Z(t,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}};Gw.className="L1L2";de.registerClass(Gw);function Nit(e){return $R(e),new Gw({l1:e!=null?e.l1:null,l2:0})}function Mit(e){return $R(e),new Gw({l2:e!=null?e.l2:null,l1:0})}var A8={l1l2:"L1L2"};function nn(e){return fR(e)}function L8(e,t={}){return zw(e,de.SerializationMap.getMap().classNameMap,t,"regularizer")}function xn(e){if(e==null)return null;if(typeof e=="string"){let t={className:e in A8?A8[e]:e,config:{}};return L8(t)}else return e instanceof Wae?e:L8(e)}var DR=class extends ct{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,t){e=Je(e);let n=Ft(e);return this.maxValue!=null&&(n=Vr(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){let e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}};DR.className="ReLU";de.registerClass(DR);var OR=class extends ct{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,t){let n=Je(e);return Ew(n,this.alpha)}computeOutputShape(e){return e}getConfig(){let e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}};OR.className="LeakyReLU";de.registerClass(OR);var RR=class extends ct{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=bn(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=xn(e.alphaRegularizer),this.alphaConstraint=lr(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new te(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=At(e);let t=e.slice(1);if(this.sharedAxes!=null)for(let r of this.sharedAxes)t[r-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);let n={};if(this.sharedAxes!=null)for(let r=1;r<e.length;++r)n[r]=e[r];this.inputSpec=[new Gn({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=Je(e),Dw(e,this.alpha.read())}getConfig(){let e={alphaInitializer:Mn(this.alphaInitializer),alphaRegularizer:nn(this.alphaRegularizer),alphaConstraint:or(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}};RR.className="PReLU";de.registerClass(RR);var PR=class extends ct{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new ut(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,t){let n=Je(e);return i1(n)}computeOutputShape(e){return e}getConfig(){let e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}};PR.className="ELU";de.registerClass(PR);var FR=class extends ct{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,t){let n=Je(e);return K(n,ve(da(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){let e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}};FR.className="ThresholdedReLU";de.registerClass(FR);var zR=class extends ct{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new jR().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,t){return X(()=>{let n=Je(e),r=t.mask;if(r!=null){let a=K(Me(ka(n.shape),ve(r,n.dtype)),Ue(-1e9));n=le(n,a)}return this.axis instanceof Array?this.axis.length>1?Gr(Me(n,Lw(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)})}computeOutputShape(e){return e}getConfig(){let e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}};zR.className="Softmax";de.registerClass(zR);function cm(e,t,n){if(typeof e=="number")return dd(e,t);if(e.length!==t)throw new te(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){let a=e[r];if(!zrt(a))throw new te(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${a}`)}return e}function Ps(e,t,n,r,a=1){if(e==null)return e;let i=t+(t-1)*(a-1),s;return n==="same"?s=e:s=e-i+1,Math.floor((s+r-1)/r)}function co(e,t,n,r){if(e==null)return null;if(r==="valid")e=e*t+pc([n-t,0]);else if(r==="same")e=e*t;else throw new te(`Unsupport padding mode: ${r}.`);return e}function BR(e,t){return X(()=>(Fn(t),t==="channelsFirst"?it(e,[0,2,3,1]):e))}function Vae(e,t){return X(()=>(Fn(t),t==="channelsFirst"?it(e,[0,2,3,4,1]):e))}function Tit(e,t,n,r=1,a="valid",i,s=1){return X(()=>{if(i==null&&(i=Ws()),Fn(i),e.shape.length!==3)throw new te(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(t.shape.length!==3)throw new te(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new te(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(i==="channelsFirst"&&(e=it(e,[0,2,1])),a==="causal")throw new ut("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=zN(e,t,r,a==="same"?"same":"valid","NWC",s);return n!=null&&(o=Ks(o,n)),o})}function _8(e,t,n,r=[1,1],a="valid",i,s,o=null){return X(()=>{if(i==null&&(i=Ws()),Fn(i),e.rank!==3&&e.rank!==4)throw new te(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(t.rank!==3&&t.rank!==4)throw new te(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=BR(e,i);if(a==="causal")throw new ut("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=bg.conv2d({x:l,filter:t,strides:r,pad:a==="same"?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:o}),i==="channelsFirst"&&(l=it(l,[0,3,1,2])),l})}function Eit(e,t,n,r=[1,1,1],a="valid",i,s){return X(()=>{if(i==null&&(i=Ws()),Fn(i),e.rank!==4&&e.rank!==5)throw new te(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(t.rank!==4&&t.rank!==5)throw new te(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let o=Vae(e,i);if(a==="causal")throw new ut("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=mO(o,t,r,a==="same"?"same":"valid","NDHWC",s),n!=null&&(o=Ks(o,n)),i==="channelsFirst"&&(o=it(o,[0,4,1,2,3])),o})}var Gae=class Hae extends ct{constructor(t,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",Hae.verifyArgs(n),this.rank=t,kr(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new ut(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=cm(n.kernelSize,t,"kernelSize"),this.strides=cm(n.strides==null?1:n.strides,t,"strides"),this.padding=n.padding==null?"valid":n.padding,_i(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Fn(this.dataFormat),this.activation=mc(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=bn(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=lr(n.biasConstraint),this.biasRegularizer=xn(n.biasRegularizer),this.activityRegularizer=xn(n.activityRegularizer),this.dilationRate=cm(n.dilationRate==null?1:n.dilationRate,t,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new te(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new te(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new te(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(t){if(uo("kernelSize"in t,"required key 'kernelSize' not in config"),typeof t.kernelSize!="number"&&!dR(t.kernelSize,"number",1,3))throw new te(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(t.kernelSize)}.`)}getConfig(){let t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:hc(this.activation),useBias:this.useBias,biasInitializer:Mn(this.biasInitializer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),biasConstraint:or(this.biasConstraint)},n=super.getConfig();return Object.assign(t,n),t}},AM=class qae extends Gae{constructor(t,n){super(t,n),this.kernel=null,qae.verifyArgs(n),this.filters=n.filters,kr(this.filters,"filters"),this.kernelInitializer=bn(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=lr(n.kernelConstraint),this.kernelRegularizer=xn(n.kernelRegularizer)}build(t){t=At(t);let n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new te(`The channel dimension of the input should be defined. Found ${t[n]}`);let r=t[n],a=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(t,n){return X(()=>{t=Je(t);let r,a=this.bias==null?null:this.bias.read(),i=Qre(this.activation.getClassName());if(i!=null&&this.rank===2)r=_8(t,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=Tit(t,this.kernel.read(),a,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=_8(t,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=Eit(t,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new ut("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(t){t=At(t);let n=[],r=this.dataFormat==="channelsLast"?t.slice(1,t.length-1):t.slice(2);for(let i=0;i<r.length;++i){let s=Ps(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(s)}let a=[t[0]];return this.dataFormat==="channelsLast"?(a=a.concat(n),a.push(this.filters)):(a.push(this.filters),a=a.concat(n)),a}getConfig(){let t={filters:this.filters,kernelInitializer:Mn(this.kernelInitializer),kernelRegularizer:nn(this.kernelRegularizer),kernelConstraint:or(this.kernelConstraint)},n=super.getConfig();return Object.assign(t,n),t}static verifyArgs(t){if(!("filters"in t)||typeof t.filters!="number"||t.filters<1)throw new te(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(t.filters)}`)}},LM=class Yae extends AM{constructor(t){super(2,t),Yae.verifyArgs(t)}getConfig(){let t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!dR(t.kernelSize,"number",1,2))throw new te(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(t.kernelSize)}.`)}};LM.className="Conv2D";de.registerClass(LM);var _M=class Qae extends AM{constructor(t){super(3,t),Qae.verifyArgs(t)}getConfig(){let t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!(Array.isArray(t.kernelSize)&&(t.kernelSize.length===1||t.kernelSize.length===3)))throw new te(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(t.kernelSize)}.`)}};_M.className="Conv3D";de.registerClass(_M);var UR=class extends LM{constructor(e){if(super(e),this.inputSpec=[new Gn({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new te(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=At(e),e.length!==4)throw new te("Input should have rank 4; Received input shape: "+JSON.stringify(e));let t=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[t]==null)throw new te("The channel dimension of the inputs should be defined. Found `None`.");let n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Gn({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return X(()=>{let n=Je(e);if(n.shape.length!==4)throw new te(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);let r=n.shape,a=r[0],i,s;this.dataFormat==="channelsFirst"?(i=2,s=3):(i=1,s=2);let o=r[i],l=r[s],u=this.kernelSize[0],c=this.kernelSize[1],f=this.strides[0],d=this.strides[1],p=co(o,f,u,this.padding),h=co(l,d,c,this.padding),m=[a,p,h,this.filters];this.dataFormat!=="channelsLast"&&(n=it(n,[0,2,3,1]));let g=BN(n,this.kernel.read(),m,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(g=it(g,[0,3,1,2])),this.bias!=null&&(g=Ks(g,this.bias.read(),this.dataFormat)),this.activation!=null&&(g=this.activation.apply(g)),g})}computeOutputShape(e){e=At(e);let t=e.slice(),n,r,a;this.dataFormat==="channelsFirst"?(n=1,r=2,a=3):(n=3,r=1,a=2);let i=this.kernelSize[0],s=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[r]=co(t[r],o,i,this.padding),t[a]=co(t[a],l,s,this.padding),t}getConfig(){let e=super.getConfig();return delete e.dilationRate,e}};UR.className="Conv2DTranspose";de.registerClass(UR);var WR=class extends _M{constructor(e){if(super(e),this.inputSpec=[new Gn({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new te(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=At(e),e.length!==5)throw new te("Input should have rank 5; Received input shape: "+JSON.stringify(e));let t=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[t]==null)throw new te("The channel dimension of the inputs should be defined. Found `None`.");let n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Gn({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return X(()=>{let n=Je(e);if(n.shape.length!==5)throw new te(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);let r=n.shape,a=r[0],i,s,o;this.dataFormat==="channelsFirst"?(o=2,i=3,s=4):(o=1,i=2,s=3);let l=r[o],u=r[i],c=r[s],f=this.kernelSize[0],d=this.kernelSize[1],p=this.kernelSize[2],h=this.strides[0],m=this.strides[1],g=this.strides[2],y=co(l,h,f,this.padding),v=co(u,m,d,this.padding),b=co(c,g,p,this.padding),x=[a,y,v,b,this.filters];this.dataFormat!=="channelsLast"&&(n=it(n,[0,2,3,4,1]));let S=gO(n,this.kernel.read(),x,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(S=it(S,[0,4,1,2,3])),this.bias!==null&&(S=Ks(S,this.bias.read(),this.dataFormat)),this.activation!==null&&(S=this.activation.apply(S)),S})}computeOutputShape(e){e=At(e);let t=e.slice(),n,r,a,i;this.dataFormat==="channelsFirst"?(n=1,r=2,a=3,i=4):(n=4,r=1,a=2,i=3);let s=this.kernelSize[0],o=this.kernelSize[1],l=this.kernelSize[2],u=this.strides[0],c=this.strides[1],f=this.strides[2];return t[n]=this.filters,t[r]=co(t[r],u,s,this.padding),t[a]=co(t[a],c,o,this.padding),t[i]=co(t[i],f,l,this.padding),t}getConfig(){let e=super.getConfig();return delete e.dilationRate,e}};WR.className="Conv3DTranspose";de.registerClass(WR);var Kae=class extends AM{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,t.filters==null)throw new te("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(t.kernelInitializer!=null||t.kernelRegularizer!=null||t.kernelConstraint!=null)throw new te("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(t.padding!=null&&t.padding!=="same"&&t.padding!=="valid")throw new te(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=t.depthMultiplier==null?1:t.depthMultiplier,this.depthwiseInitializer=bn(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=xn(t.depthwiseRegularizer),this.depthwiseConstraint=lr(t.depthwiseConstraint),this.pointwiseInitializer=bn(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=xn(t.pointwiseRegularizer),this.pointwiseConstraint=lr(t.pointwiseConstraint)}build(e){if(e=At(e),e.length<this.rank+2)throw new te(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);let t=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[t]==null||e[t]<0)throw new te(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);let n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[];for(let s=0;s<this.rank;++s)a.push(1);a.push(n*this.depthMultiplier,this.filters);let i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new Gn({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return X(()=>{e=Je(e);let n;if(this.rank===1)throw new ut("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=it(e,[0,2,3,1])),n=u1(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(n=Ks(n,this.bias.read(),this.dataFormat)),this.activation!=null&&(n=this.activation.apply(n)),this.dataFormat==="channelsFirst"&&(n=it(n,[0,3,1,2])),n})}getConfig(){let e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Mn(this.depthwiseInitializer),e.pointwiseInitializer=Mn(this.pointwiseInitializer),e.depthwiseRegularizer=nn(this.depthwiseRegularizer),e.pointwiseRegularizer=nn(this.pointwiseRegularizer),e.depthwiseConstraint=or(this.depthwiseConstraint),e.pointwiseConstraint=or(this.pointwiseConstraint),e}};Kae.className="SeparableConv";var VR=class extends Kae{constructor(e){super(2,e)}};VR.className="SeparableConv2D";de.registerClass(VR);var GR=class Jae extends AM{constructor(t){super(1,t),Jae.verifyArgs(t),this.inputSpec=[{ndim:3}]}getConfig(){let t=super.getConfig();return delete t.rank,delete t.dataFormat,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!dR(t.kernelSize,"number",1,1))throw new te(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(t.kernelSize)}.`)}};GR.className="Conv1D";de.registerClass(GR);var HR=class extends ct{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return X(()=>{if(e=Je(e),this.dataFormat==="channelsLast"){let n=u2(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return u2(n,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{let n=u2(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return u2(n,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){let e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}};HR.className="Cropping2D";de.registerClass(HR);var qR=class extends ct{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Fn(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,Rrt(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){let t=e[2]==null?null:this.size[0]*e[2],n=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],t,n]}else{let t=e[1]==null?null:this.size[0]*e[1],n=e[2]==null?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return X(()=>{let n=Je(e),r=n.shape;if(this.dataFormat==="channelsFirst"){n=it(n,[0,2,3,1]);let a=this.size[0]*r[2],i=this.size[1]*r[3],s=this.interpolation==="nearest"?mi.resizeNearestNeighbor(n,[a,i]):mi.resizeBilinear(n,[a,i]);return it(s,[0,3,1,2])}else{let a=this.size[0]*r[1],i=this.size[1]*r[2];return this.interpolation==="nearest"?mi.resizeNearestNeighbor(n,[a,i]):mi.resizeBilinear(n,[a,i])}})}getConfig(){let e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}};qR.className="UpSampling2D";de.registerClass(qR);function Ait(e,t,n=[1,1],r="valid",a,i){return X(()=>{a==null&&(a=Ws()),Fn(a);let s=BR(e,a);if(e.rank!==4)throw new te(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(t.rank!==4)throw new te(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return s=th(s,t,n,r==="same"?"same":"valid","NHWC",i),a==="channelsFirst"&&(s=it(s,[0,3,1,2])),s})}var YR=class extends Gae{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=bn(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=lr(e.depthwiseConstraint),this.depthwiseRegularizer=xn(e.depthwiseRegularizer)}build(e){if(e=At(e),e.length<4)throw new te(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);let t=this.dataFormat==="channelsFirst"?1:3;if(e[t]==null||e[t]<0)throw new te(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);let n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return X(()=>{e=Je(e);let n=Ait(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(n=Ks(n,this.bias.read(),this.dataFormat)),this.activation!=null&&(n=this.activation.apply(n)),n})}computeOutputShape(e){e=At(e);let t=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=Ps(t,this.kernelSize[0],this.padding,this.strides[0]),i=Ps(n,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],r,a,i]:[e[0],a,i,r]}getConfig(){let e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Mn(this.depthwiseInitializer),e.depthwiseRegularizer=nn(this.depthwiseRegularizer),e.depthwiseConstraint=or(this.depthwiseRegularizer),e}};YR.className="DepthwiseConv2D";de.registerClass(YR);function Zae(e,t,n,r){if(Array.isArray(e)){if(t!=null||n!=null)throw new te("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(i){return i==null||Array.isArray(i)?i:[i]}return t=a(t),n=a(n),{inputs:e,initialState:t,constants:n}}function Xae(e,t,n,r=!1,a,i,s=!1,o=!1){return X(()=>{let l=t.shape.length;if(l<3)throw new te(`Input should be at least 3D, but is ${l}D.`);let u=[1,0].concat(Us(2,l));t=it(t,u),i!=null,s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),a!=null&&(a=ve(ve(a,"bool"),"float32"),a.rank===l-1&&(a=wr(a,-1)),a=it(a,u)),r&&(t=Ni(t,0),a!=null&&(a=Ni(a,0)));let c=[],f,d=n,p=t.shape[0],h=$n(t),m;a!=null&&(m=$n(a));for(let y=0;y<p;++y){let v=h[y],b=X(()=>e(v,d));if(a==null)f=b[0],d=b[1];else{let x=X(()=>{let S=m[y],k=Me(ei(S),S),I=le(K(b[0],S),K(d[0],k)),N=d.map((T,L)=>le(K(b[1][L],S),K(T,k)));return{output:I,newStates:N}});f=x.output,d=x.newStates}o&&c.push(f)}let g;return o&&(g=Yn(c,1)),[f,g,d]})}var Wl=class eie extends ct{constructor(t){super(t);let n;if(t.cell==null)throw new te("cell property is missing for the constructor of RNN.");if(Array.isArray(t.cell)?n=new DM({cells:t.cell}):n=t.cell,n.stateSize==null)throw new te("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=t.returnSequences==null?!1:t.returnSequences,this.returnState=t.returnState==null?!1:t.returnState,this.goBackwards=t.goBackwards==null?!1:t.goBackwards,this._stateful=t.stateful==null?!1:t.stateful,this.unroll=t.unroll==null?!1:t.unroll,this.supportsMasking=!0,this.inputSpec=[new Gn({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){let t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Us(0,t).map(n=>null)}else return this.states_}setStates(t){this.states_=t}computeOutputShape(t){ML(t)&&(t=t[0]),t=t;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);let r=n[0],a;if(this.returnSequences?a=[t[0],t[1],r]:a=[t[0],r],this.returnState){let i=[];for(let s of n)i.push([t[0],s]);return[a].concat(i)}else return a}computeMask(t,n){return X(()=>{Array.isArray(n)&&(n=n[0]);let r=this.returnSequences?n:null;if(this.returnState){let a=this.states.map(i=>null);return[r].concat(a)}else return r})}get states(){if(this.states_==null){let t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<t;++r)n.push(null);return n}else return this.states_}set states(t){this.states_=t}build(t){if(this.numConstants!=null)throw new ut("Constants support is not implemented in RNN yet.");ML(t)&&(t=t[0]),t=t;let n=this.stateful?t[0]:null,r=t.slice(2);this.inputSpec[0]=new Gn({shape:[n,null,...r]});let a=[t[0]].concat(t.slice(2));this.cell.build(a);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!A.arraysEqual(this.stateSpec.map(s=>s.shape[s.shape.length-1]),i))throw new te(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(s=>new Gn({shape:[null,s]}));this.stateful&&this.resetStates()}resetStates(t,n=!1){X(()=>{if(!this.stateful)throw new uu("Cannot call resetStates() on an RNN Layer that is not stateful.");let r=this.inputSpec[0].shape[0];if(r==null)throw new te("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>In([r,a])):this.states_=[In([r,this.cell.stateSize])];else if(t==null)Xe(this.states_),this.keptStates!=null&&(Xe(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>In([r,a])):this.states_[0]=In([r,this.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new te(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);n===!0?this.keptStates.push(this.states_.slice()):Xe(this.states_);for(let a=0;a<this.states_.length;++a){let i=t[a],s=Array.isArray(this.cell.stateSize)?this.cell.stateSize[a]:this.cell.stateSize,o=[r,s];if(!A.arraysEqual(i.shape,o))throw new te(`State ${a} is incompatible with layer ${this.name}: expected shape=${o}, received shape=${i.shape}`);this.states_[a]=i}}this.states_=this.states_.map(a=>rr(a.clone()))})}apply(t,n){let r=n==null?null:n.initialState,a=n==null?null:n.constants;n==null&&(n={});let i=Zae(t,r,a,this.numConstants);t=i.inputs,r=i.initialState,a=i.constants;let s=[],o=[];if(r!=null){n.initialState=r,s=s.concat(r),this.stateSpec=[];for(let l of r)this.stateSpec.push(new Gn({shape:l.shape}));o=o.concat(this.stateSpec)}if(a!=null&&(n.constants=a,s=s.concat(a),this.numConstants=a.length),s[0]instanceof Vs){let l=[t].concat(s),u=this.inputSpec.concat(o),c=this.inputSpec;this.inputSpec=u;let f=super.apply(l,n);return this.inputSpec=c,f}else return super.apply(t,n)}call(t,n){return X(()=>{let r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;t=Je(t),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(t));let s=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==s)throw new te(`RNN Layer has ${s} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");let o={training:a},l=Xae((p,h)=>{let m=this.cell.call([p].concat(h),o);return[m[0],m.slice(1)]},t,i,this.goBackwards,r,null,this.unroll,this.returnSequences),u=l[0],c=l[1],f=l[2];this.stateful&&this.resetStates(f,a);let d=this.returnSequences?c:u;return this.returnState?[d].concat(f):d})}getInitialState(t){return X(()=>{let n=In(t.shape);return n=$e(n,[1,2]),n=Bw(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?IL(n,[1,r]):n):this.cell.stateSize>1?[IL(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(t)}getConfig(){let t=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);let r=this.cell.getConfig();return this.getClassName()===eie.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),t),n)}static fromConfig(t,n,r={}){let a=n.cell,i=Rs(a,r);return new t(Object.assign(n,{cell:i}))}};Wl.className="RNN";de.registerClass(Wl);var Hw=class extends ct{},jM=class extends Hw{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,kr(this.units,"units"),this.activation=mc(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=bn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=bn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=bn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=xn(e.kernelRegularizer),this.recurrentRegularizer=xn(e.recurrentRegularizer),this.biasRegularizer=xn(e.biasRegularizer),this.kernelConstraint=lr(e.kernelConstraint),this.recurrentConstraint=lr(e.recurrentConstraint),this.biasConstraint=lr(e.biasConstraint),this.dropout=wg([1,pc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=wg([1,pc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=At(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return X(()=>{if(e=e,e.length!==2)throw new te(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];let r=t.training==null?!1:t.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=gc({ones:()=>ei(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=gc({ones:()=>ei(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));let a,i=this.dropoutMask,s=this.recurrentDropoutMask;i!=null?a=To(K(e,i),this.kernel.read()):a=To(e,this.kernel.read()),this.bias!=null&&(a=Ks(a,this.bias.read())),s!=null&&(n=K(n,s));let o=le(a,To(n,this.recurrentKernel.read()));return this.activation!=null&&(o=this.activation.apply(o)),[o,o]})}getConfig(){let e=super.getConfig(),t={units:this.units,activation:hc(this.activation),useBias:this.useBias,kernelInitializer:Mn(this.kernelInitializer),recurrentInitializer:Mn(this.recurrentInitializer),biasInitializer:Mn(this.biasInitializer),kernelRegularizer:nn(this.kernelRegularizer),recurrentRegularizer:nn(this.recurrentRegularizer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),kernelConstraint:or(this.kernelConstraint),recurrentConstraint:or(this.recurrentConstraint),biasConstraint:or(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}};jM.className="SimpleRNNCell";de.registerClass(jM);var QR=class extends Wl{constructor(e){e.cell=new jM(e),super(e)}call(e,t){return X(()=>{this.cell.dropoutMask!=null&&(Xe(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Xe(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let n=t==null?null:t.mask,r=t==null?null:t.training,a=t==null?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})})}static fromConfig(e,t){return new e(t)}};QR.className="SimpleRNN";de.registerClass(QR);var $M=class extends Hw{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new te("GRUCell does not support reset_after parameter set to true.");this.units=e.units,kr(this.units,"units"),this.activation=mc(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=mc(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=bn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=bn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=bn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=xn(e.kernelRegularizer),this.recurrentRegularizer=xn(e.recurrentRegularizer),this.biasRegularizer=xn(e.biasRegularizer),this.kernelConstraint=lr(e.kernelConstraint),this.recurrentConstraint=lr(e.recurrentConstraint),this.biasConstraint=lr(e.biasConstraint),this.dropout=wg([1,pc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=wg([1,pc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=At(e);let t=e[e.length-1];this.kernel=this.addWeight("kernel",[t,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return X(()=>{if(e=e,e.length!==2)throw new te(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);let n=t.training==null?!1:t.training,r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=gc({ones:()=>ei(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=gc({ones:()=>ei(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));let a=this.dropoutMask,i=this.recurrentDropoutMask,s,o,l;0<this.dropout&&this.dropout<1&&(e=K(e,a[0]));let u=To(e,this.kernel.read());this.useBias&&(u=Ks(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=K(r,i[0]));let c=this.recurrentKernel.read(),[f,d]=Ia(c,[2*this.units,this.units],c.rank-1),p=To(r,f),[h,m,g]=Ia(u,3,u.rank-1),[y,v]=Ia(p,2,p.rank-1);s=this.recurrentActivation.apply(le(h,y)),o=this.recurrentActivation.apply(le(m,v));let b=To(K(o,r),d);l=this.activation.apply(le(g,b));let x=le(K(s,r),K(le(1,on(s)),l));return[x,x]})}getConfig(){let e=super.getConfig(),t={units:this.units,activation:hc(this.activation),recurrentActivation:hc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Mn(this.kernelInitializer),recurrentInitializer:Mn(this.recurrentInitializer),biasInitializer:Mn(this.biasInitializer),kernelRegularizer:nn(this.kernelRegularizer),recurrentRegularizer:nn(this.recurrentRegularizer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),kernelConstraint:or(this.kernelConstraint),recurrentConstraint:or(this.recurrentConstraint),biasConstraint:or(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}};$M.className="GRUCell";de.registerClass($M);var KR=class extends Wl{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new $M(e),super(e)}call(e,t){return X(()=>{this.cell.dropoutMask!=null&&(Xe(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Xe(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let n=t==null?null:t.mask,r=t==null?null:t.training,a=t==null?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})})}static fromConfig(e,t){return t.implmentation===0&&(t.implementation=1),new e(t)}};KR.className="GRU";de.registerClass(KR);var qw=class extends Hw{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,kr(this.units,"units"),this.activation=mc(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=mc(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=bn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=bn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=bn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=xn(e.kernelRegularizer),this.recurrentRegularizer=xn(e.recurrentRegularizer),this.biasRegularizer=xn(e.biasRegularizer),this.kernelConstraint=lr(e.kernelConstraint),this.recurrentConstraint=lr(e.recurrentConstraint),this.biasConstraint=lr(e.biasConstraint),this.dropout=wg([1,pc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=wg([1,pc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;e=At(e);let n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let r;if(this.useBias){if(this.unitForgetBias){let a=this.biasInitializer,i=this.units;r=new(t=class extends fs{apply(s,o){let l=a.apply([i]),u=new bM().apply([i]),c=a.apply([i*2]);return g8(g8(l,u),c)}},t.className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return X(()=>{let n=t.training==null?!1:t.training;if(e=e,e.length!==3)throw new te(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1],a=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=gc({ones:()=>ei(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=gc({ones:()=>ei(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));let i=this.dropoutMask,s=this.recurrentDropoutMask,o,l,u,c;0<this.dropout&&this.dropout<1&&(e=K(e,i[0]));let f=To(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=K(r,s[0])),f=le(f,To(r,this.recurrentKernel.read())),this.useBias&&(f=Ks(f,this.bias.read()));let[d,p,h,m]=Ia(f,4,f.rank-1);o=this.recurrentActivation.apply(d),l=this.recurrentActivation.apply(p),u=le(K(l,a),K(o,this.activation.apply(h))),c=this.recurrentActivation.apply(m);let g=K(c,this.activation.apply(u));return[g,g,u]})}getConfig(){let e=super.getConfig(),t={units:this.units,activation:hc(this.activation),recurrentActivation:hc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Mn(this.kernelInitializer),recurrentInitializer:Mn(this.recurrentInitializer),biasInitializer:Mn(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:nn(this.kernelRegularizer),recurrentRegularizer:nn(this.recurrentRegularizer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),kernelConstraint:or(this.kernelConstraint),recurrentConstraint:or(this.recurrentConstraint),biasConstraint:or(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}};qw.className="LSTMCell";de.registerClass(qw);var JR=class extends Wl{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new qw(e),super(e)}call(e,t){return X(()=>{this.cell.dropoutMask!=null&&(Xe(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Xe(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let n=t==null?null:t.mask,r=t==null?null:t.training,a=t==null?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})})}static fromConfig(e,t){return t.implmentation===0&&(t.implementation=1),new e(t)}};JR.className="LSTM";de.registerClass(JR);var DM=class extends Hw{constructor(e){super(e),this.cells=e.cells}get stateSize(){let e=[];for(let t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return X(()=>{e=e;let n=e.slice(1),r=[];for(let s of this.cells.slice().reverse())Array.isArray(s.stateSize)?r.push(n.splice(0,s.stateSize.length)):r.push(n.splice(0,1));r.reverse();let a=[],i;for(let s=0;s<this.cells.length;++s){let o=this.cells[s];n=r[s],s===0?i=[e[0]].concat(n):i=[i[0]].concat(n),i=o.call(i,t),a.push(i.slice(1))}n=[];for(let s of a.slice().reverse())n.push(...s);return[i[0]].concat(n)})}build(e){ML(e)&&(e=e[0]),e=e;let t;this.cells.forEach((n,r)=>{Pf(`RNNCell_${r}`,()=>{n.build(e),Array.isArray(n.stateSize)?t=n.stateSize[0]:t=n.stateSize,e=[e[0],t]})}),this.built=!0}getConfig(){let e=super.getConfig(),t=r=>({className:r.getClassName(),config:r.getConfig()}),n={cells:this.cells.map(t)};return Object.assign(Object.assign({},e),n)}static fromConfig(e,t,n={}){let r=[];for(let a of t.cells)r.push(Rs(a,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];let e=[];for(let t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){let e=[];for(let t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){let t=[];for(let n of this.cells)t.push(...n.trainableWeights);return t.concat(e)}return e}getWeights(){let e=[];for(let t of this.cells)e.push(...t.weights);return TL(e)}setWeights(e){let t=[];for(let n of this.cells){let r=n.weights.length,a=e.splice(r);for(let i=0;i<n.weights.length;++i)t.push([n.weights[i],a[i]])}xR(t)}};DM.className="StackedRNNCells";de.registerClass(DM);function gc(e){let{ones:t,rate:n,training:r=!1,count:a=1,dropoutFunc:i}=e,s=()=>i!=null?i(t(),n):nae(t(),n),o=()=>Ww(s,t,r);return!a||a<=1?rr(o().clone()):Array(a).fill(void 0).map(o).map(l=>rr(l.clone()))}var Lit=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},tie=class extends Wl{constructor(e){if(e.unroll)throw new ut("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new ut("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Gn({ndim:5})]}call(e,t){return X(()=>{if(this.cell.dropoutMask!=null&&(Xe(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Xe(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new te("ConvRNN2D cell does not support constants");let n=t==null?null:t.mask,r=t==null?null:t.training,a=t==null?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})})}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return X(()=>{let{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),a=[r[0],...r.slice(2)],i=In(a);return Array.isArray(t)?Array(t.length).fill(i):[i]})}resetStates(e,t=!1){X(()=>{if(!this.stateful)throw new uu("Cannot call resetStates() on an RNN Layer that is not stateful.");let n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),a=[r[0],...r.slice(2)];if(n[0]==null)throw new te("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>In(a)):this.states_=[In(a)];else if(e==null)Xe(this.states_),this.keptStates!=null&&(Xe(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>In(a)):this.states_[0]=In(a);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new te(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):Xe(this.states_);for(let i=0;i<this.states_.length;++i){let s=e[i],o=a;if(!A.arraysEqual(s.shape,o))throw new te(`State ${i} is incompatible with layer ${this.name}: expected shape=${o}, received shape=${s.shape}`);this.states_[i]=s}}this.states_=this.states_.map(i=>rr(i.clone()))})}computeSingleOutputShape(e){let{dataFormat:t,filters:n,kernelSize:r,padding:a,strides:i,dilationRate:s}=this.cell,o=t==="channelsFirst",l=e[o?3:2],u=e[o?4:3],c=Ps(l,r[0],a,i[0],s[0]),f=Ps(u,r[1],a,i[1],s[1]);return[...e.slice(0,2),...o?[n,c,f]:[c,f,n]]}};tie.className="ConvRNN2D";var OM=class extends qw{constructor(e){let{filters:t,kernelSize:n,strides:r,padding:a,dataFormat:i,dilationRate:s}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,kr(this.filters,"filters"),this.kernelSize=cm(n,2,"kernelSize"),this.kernelSize.forEach(o=>kr(o,"kernelSize")),this.strides=cm(r||1,2,"strides"),this.strides.forEach(o=>kr(o,"strides")),this.padding=a||"valid",_i(this.padding),this.dataFormat=i||"channelsLast",Fn(this.dataFormat),this.dilationRate=cm(s||1,2,"dilationRate"),this.dilationRate.forEach(o=>kr(o,"dilationRate"))}build(e){var t;e=At(e);let n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new te(`The channel dimension of the input should be defined. Found ${e[n]}`);let r=e[n],a=4,i=this.kernelSize.concat([r,this.filters*a]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);let s=this.kernelSize.concat([this.filters,this.filters*a]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",s,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let o;if(this.unitForgetBias){let l=this.biasInitializer,u=this.filters;o=new(t=class extends fs{apply(c,f){let d=l.apply([u]),p=ka([u]),h=l.apply([u*2]);return pR([d,p,h])}},t.className="CustomInit",t)}else o=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*a],null,o,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return X(()=>{if(e.length!==3)throw new te(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let n=t.training||!1,r=e[0],a=e[1],i=e[2],s=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=gc({ones:()=>ei(r),rate:this.dropout,training:n,count:s,dropoutFunc:this.dropoutFunc}));let o=this.dropoutMask,l=(P,W,H)=>!W||!W[H]?P:K(W[H],P),u=l(r,o,0),c=l(r,o,1),f=l(r,o,2),d=l(r,o,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=gc({ones:()=>ei(a),rate:this.recurrentDropout,training:n,count:s,dropoutFunc:this.dropoutFunc}));let p=this.recurrentDropoutMask,h=l(a,p,0),m=l(a,p,1),g=l(a,p,2),y=l(a,p,3),v=3,[b,x,S,k]=Ia(this.kernel.read(),s,v),[I,N,T,L]=this.useBias?Ia(this.bias.read(),s):[null,null,null,null];u=this.inputConv(u,b,I,this.padding),c=this.inputConv(c,x,N,this.padding),f=this.inputConv(f,S,T,this.padding),d=this.inputConv(d,k,L,this.padding);let[E,M,j,D]=Ia(this.recurrentKernel.read(),s,v);h=this.recurrentConv(h,E),m=this.recurrentConv(m,M),g=this.recurrentConv(g,j),y=this.recurrentConv(y,D);let F=this.recurrentActivation.apply(le(u,h)),$=this.recurrentActivation.apply(le(c,m)),B=le(K($,i),K(F,this.activation.apply(le(f,g)))),O=K(this.recurrentActivation.apply(le(d,y)),this.activation.apply(B));return[O,O,B]})}getConfig(){let e=super.getConfig(),t=Lit(e,["units"]),n={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},t),n)}inputConv(e,t,n,r){let a=oa(e,t,this.strides,r||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return n?Ks(a,n,this.dataFormat):a}recurrentConv(e,t){return oa(e,t,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}};OM.className="ConvLSTM2DCell";de.registerClass(OM);var ZR=class extends tie{constructor(e){let t=new OM(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}};ZR.className="ConvLSTM2D";de.registerClass(ZR);var RM=class extends ct{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;let t=e.shape,n=[];for(let r=0;r<this.noiseShape.length;++r)n.push(this.noiseShape[r]==null?t[r]:this.noiseShape[r]);return n}call(e,t){return X(()=>{this.invokeCallHook(e,t);let n=Je(e);if(0<this.rate&&this.rate<1){let r=t.training==null?!1:t.training,a=this.getNoiseShape(n);return Ww(()=>nae(n,this.rate,a,this.seed),()=>n,r)}return e})}getConfig(){let e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}};RM.className="Dropout";de.registerClass(RM);var XR=class extends RM{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){let t=e.shape;return[t[0],1,t[2]]}};XR.className="SpatialDropout1D";de.registerClass(XR);var eP=class extends ct{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let t=null;e.batchSize!=null&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,kr(this.units,"units"),this.activation=mc(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=bn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=bn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=lr(e.kernelConstraint),this.biasConstraint=lr(e.biasConstraint),this.kernelRegularizer=xn(e.kernelRegularizer),this.biasRegularizer=xn(e.biasRegularizer),this.activityRegularizer=xn(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=At(e);let t=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){e=At(e);let t=e.slice();return t[t.length-1]=this.units,t}call(e,t){return X(()=>{this.invokeCallHook(e,t);let n=Je(e),r=Qre(this.activation.getClassName()),a;return r!=null?a=To(n,this.kernel.read(),r,this.bias?this.bias.read():null):(a=To(n,this.kernel.read()),this.bias!=null&&(a=Ks(a,this.bias.read())),this.activation!=null&&(a=this.activation.apply(a))),a})}getConfig(){let e={units:this.units,activation:hc(this.activation),useBias:this.useBias,kernelInitializer:Mn(this.kernelInitializer),biasInitializer:Mn(this.biasInitializer),kernelRegularizer:nn(this.kernelRegularizer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),kernelConstraint:or(this.kernelConstraint),biasConstraint:or(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}};eP.className="Dense";de.registerClass(eP);var tP=class extends ct{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=At(e);for(let t of e.slice(1))if(t==null)throw new te(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Zu(e,1)]}call(e,t){return X(()=>{this.invokeCallHook(e,t);let n=Je(e);if(this.dataFormat==="channelsFirst"&&n.rank>1){let r=[0];for(let a=2;a<n.rank;++a)r.push(a);r.push(1),n=it(n,r)}return Wrt(n)})}getConfig(){let e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);let t=super.getConfig();return Object.assign(e,t),e}};tP.className="Flatten";de.registerClass(tP);var nP=class extends ct{constructor(e){super(e),this.supportsMasking=!0,this.activation=mc(e.activation)}call(e,t){return X(()=>{this.invokeCallHook(e,t);let n=Je(e);return this.activation.apply(n)})}getConfig(){let e={activation:hc(this.activation)},t=super.getConfig();return Object.assign(e,t),e}};nP.className="Activation";de.registerClass(nP);var rP=class extends ct{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return X(()=>(e=Je(e),Brt(e,this.n)))}getConfig(){let e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}};rP.className="RepeatVector";de.registerClass(rP);var aP=class extends ct{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,t){let n="Total size of new array must be unchanged.",r=t.slice(),a=1,i=null;for(let o=0;o<r.length;++o){let l=r[o];if(this.isUnknown(l))if(i===null)i=o;else throw new te("Can only specifiy one unknown dimension.");else a*=l}let s=Zu(e);if(i!==null){if(a===0||s%a!==0)throw new te(n);r[i]=s/a}else if(s!==a)throw new te(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return X(()=>{this.invokeCallHook(e,t);let n=Je(e),r=n.shape,a=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return Z(n,a)})}getConfig(){let e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}};aP.className="Reshape";de.registerClass(aP);var iP=class extends ct{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);let t=Us(1,e.dims.length+1);if(!A.arraysEqual(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Gn({ndim:this.dims.length+1})]}computeOutputShape(e){e=At(e);let t=e.slice();return this.dims.forEach((n,r)=>{t[r+1]=e[n]}),t}call(e,t){return it(Je(e),this.dimsIncludingBatch)}getConfig(){let e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}};iP.className="Permute";de.registerClass(iP);var sP=class extends ct{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){let n=Je(e);return ub(cd(n,this.maskValue),-1)}call(e,t){return X(()=>{this.invokeCallHook(e,t);let n=Je(e),r=ub(cd(n,this.maskValue),-1,!0);return K(n,ve(r,n.dtype))})}};sP.className="Masking";de.registerClass(sP);var oP=class extends ct{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let t=null;e.batchSize!=null&&(t=e.batchSize),e.inputLength==null?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(Pt(e.inputLength))}this.inputDim=e.inputDim,kr(this.inputDim,"inputDim"),this.outputDim=e.outputDim,kr(this.outputDim,"outputDim"),this.embeddingsInitializer=bn(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=xn(e.embeddingsRegularizer),this.activityRegularizer=xn(e.activityRegularizer),this.embeddingsConstraint=lr(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return X(()=>this.maskZero?(e=Je(e),cd(e,vt(e))):null)}computeOutputShape(e){if(e=At(e),this.inputLength==null)return[...e,this.outputDim];let t=Pt(this.inputLength);if(t.length!==e.length-1)throw new te(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let r=0;r<t.length;++r){let a=t[r],i=e[r+1];if(a!=null&&i!=null&&a!==i)throw new te(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);a==null&&(t[n]=i),n++}}return[e[0],...t,this.outputDim]}call(e,t){return X(()=>{this.invokeCallHook(e,t);let n=Je(e);n.dtype!=="int32"&&(n=Al(n,"int32"));let r=tae(this.embeddings.read(),Z(n,[n.size]));return Z(r,At(this.computeOutputShape(n.shape)))})}getConfig(){let e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Mn(this.embeddingsInitializer),embeddingsRegularizer:nn(this.embeddingsRegularizer),activityRegularizer:nn(this.activityRegularizer),embeddingsConstraint:or(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}};oP.className="Embedding";de.registerClass(oP);var sh=class extends ct{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new ut}computeElementwiseOpOutputShape(e,t){if(e==null||t==null)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(t.length===0)return e;let n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){let a=e[e.length-t.length+r],i=t[r];if(a==null||i==null||a<0||i<0)n.push(null);else if(a===1)n.push(i);else if(i===1)n.push(a);else{if(a!==i)throw new te("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[At(e)]),e=e,e.length<2)throw new te(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(let a of e)a!=null&&a[0]!==null&&t.push(a[0]);if(t=Ju(t),t.length>1)throw new te(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=e[0]==null?null:e[0].slice(1);for(let a=1;a<e.length;++a){let i=e[a]==null?null:e[a].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=e.map(a=>a.length);e.indexOf(null)===-1&&Ju(r).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return X(()=>{if(e=e,this.reshapeRequired){let n=[],r=e.map(a=>a.rank);if(r.indexOf(null)===-1){let a=pc(r);for(let i of e){let s=i.rank;for(let o=0;o<a-s;++o)i=Bw(i,1);n.push(i)}return this.mergeFunction(n)}else{let a=!1;for(let o of e){let l=o.rank;if(l==null){let u=o.shape,c=u[0],f=u.slice(1).concat([c]),d=Z(o,[c].concat(Zu(u.slice(1))));d=it(d,[1,0]),d=Z(d,f),n.push(d),a=!0}else if(l>1){let u=Us(1,l).concat([0]);n.push(it(o,u)),a=!0}else n.push(o)}let i=this.mergeFunction(n),s=i.rank;if(a){if(s==null){let o=i.shape,l=o.length,u=o[l-1],c=[u].concat(o.slice(0,o.length-1));i=Z(it(Z(i,[-1,u]),[1,0]),c)}else if(s>1){let o=[s-1].concat(Us(0,s-1));i=it(i,o)}}return i}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let t;e[0]==null?t=null:t=e[0].slice(1);for(let r=1;r<e.length;++r){let a=e[r]==null?null:e[r].slice(1);t=this.computeElementwiseOpOutputShape(t,a)}let n=[];for(let r of e)r!=null&&r[0]!==null&&n.push(r[0]);return n=Ju(n),n.length===1?t=n.concat(t):t=[null].concat(t),t}computeMask(e,t){return X(()=>{if(t==null)return null;if(!Array.isArray(t))throw new te("`mask` should be an Array");if(!Array.isArray(e))throw new te("`inputs` should be an Array");if(t.length!==e.length)throw new te(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every(r=>r==null))return null;t=t.map(r=>r==null?r:wr(r,0));let n=t[0];for(let r=1;r<t.length-1;++r)n=ss(n,t[r]);return n})}},lP=class extends sh{constructor(e){super(e)}mergeFunction(e){return X(()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=le(t,e[n]);return t})}};lP.className="Add";de.registerClass(lP);var uP=class extends sh{constructor(e){super(e)}mergeFunction(e){return X(()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=K(t,e[n]);return t})}};uP.className="Multiply";de.registerClass(uP);var cP=class extends sh{constructor(e){super(e)}mergeFunction(e){return X(()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=le(t,e[n]);return K(1/e.length,t)})}};cP.className="Average";de.registerClass(cP);var fP=class extends sh{constructor(e){super(e)}mergeFunction(e){return X(()=>{let t=e[0];for(let n=1;n<e.length;++n)t=Bo(t,e[n]);return t})}};fP.className="Maximum";de.registerClass(fP);var dP=class extends sh{constructor(e){super(e)}mergeFunction(e){return X(()=>{let t=e[0];for(let n=1;n<e.length;++n)t=fc(t,e[n]);return t})}};dP.className="Minimum";de.registerClass(dP);var pP=class extends sh{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new te("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let t=!0;for(let r of e)if(r!=null){t=!1;break}if(t)return;let n=[];for(let r=0;r<e.length;++r){let a=e[r].slice();a.splice(this.axis,1);let i=!1;for(let s of n)if(A.arraysEqual(s,a)){i=!0;break}i||n.push(a)}if(n.length>1)throw new te("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return X(()=>pR(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new te("A `Concatenate` layer should be called on a list of inputs.");let t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(let a of t.slice(1)){if(n[r]==null||a[r]==null){n[r]=null;break}n[r]+=a[r]}return n}computeMask(e,t){if(t==null)return null;if(!Array.isArray(t))throw new te("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new te("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new te(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return X(()=>{let n=!0;if(t.forEach(i=>{if(i!=null){n=!1;return}}),n)return null;let r=[];for(let i=0;i<e.length;++i)t[i]==null?r.push(ve(ei(e[i]),"bool")):t[i].rank<e[i].rank?r.push(wr(t[i],-1)):r.push(t[i]);let a=Yt(r,this.axis);return FN(a,-1,!1)})}getConfig(){let e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}};pP.className="Concatenate";de.registerClass(pP);function X1(e,t){for(;e<0;)e+=t;return e}function _it(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new ut("batchDot is not implemented for tensors of 4D or higher rank yet");if(A.assert(e.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`),A.assert(e.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),typeof n=="number"&&(n=[n,n]),e.dtype==="complex64"||t.dtype==="complex64")throw new ut("batchDot is not implemented for complex64-type Tensors yet.");let r=e.shape.length,a=t.shape.length;n==null&&(n=[r-1,a-2]);let i=n;return X(()=>{let s;if(r>a){s=r-a;let l=[];for(let u=0;u<s;++u)l.push(1);t=Z(t,t.shape.concat(l))}else if(a>r){s=a-r;let l=[];for(let u=0;u<s;++u)l.push(1);e=Z(e,e.shape.concat(l))}else s=0;let o;if(e.shape.length===2&&t.shape.length===2)i[0]===i[1]?o=$e(K(e,t),i[0]):o=$e(K(it(e,[1,0]),t),i[1]);else{let l=i[0]!==e.shape.length-1,u=i[1]===t.shape.length-1;o=at(e,t,l,u)}if(s>0){let l;r>a?l=r+a-3:l=r-1;let u=[];for(let c=l;c<l+s;++c)u.push(c);o=zc(o,u)}return o.shape.length===1&&(o=wr(o,1)),o})}var hP=class extends sh{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){A.assert(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let t=e[0],n=e[1];if(t.length>3||n.length>3)throw new ut("Dot layer does not support tensors of 4D or higher rank yet.");let r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new te(`Dimension incompatibility: ${t[r[0]]} !== ${n[r[1]]}`)}mergeFunction(e){if(e.length!==2)throw new te(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t=e[0],n=e[1],r;return Array.isArray(this.axes)?r=this.axes.map((a,i)=>X1(a,e[i].shape.length)):r=[X1(this.axes,t.shape.length),X1(this.axes,n.shape.length)],this.normalize&&(t=lC(t,r[0]),n=lC(n,r[1])),_it(t,n,r)}interpretAxes(e,t){let n;return Array.isArray(this.axes)?n=this.axes:n=[X1(this.axes,e.length),X1(this.axes,t.length)],n}computeOutputShape(e){A.assert(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new ut("Dot layer does not support tensors of 4D or higher rank yet.");let r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);let a=t.concat(n);return a.length===1&&a.push(1),a}computeMask(e,t){return null}getConfig(){let e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}};hP.className="Dot";de.registerClass(hP);var mP=class extends ct{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return X(()=>{this.invokeCallHook(e,t);let n=Je(e);return Ww(()=>le(vM(n.shape,0,this.stddev),n),()=>n,t.training||!1)})}};mP.className="GaussianNoise";de.registerClass(mP);var gP=class extends ct{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return X(()=>{this.invokeCallHook(e,t);let n=Je(e);return this.rate>0&&this.rate<1?Ww(()=>{let r=Math.sqrt(this.rate/(1-this.rate));return K(n,vM(n.shape,1,r))},()=>n,t.training||!1):n})}};gP.className="GaussianDropout";de.registerClass(gP);var yP=class extends ct{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Je(e).shape}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return X(()=>{if(this.rate<1&&this.rate>0){let n=this._getNoiseShape(e);return Ww(()=>{let r=Je(e),a=-1.6732632423543772*1.0507009873554805,i=zl(Pc(n),this.rate);i=Al(i,"float32");let s=((1-this.rate)*(1+this.rate*a**2))**-.5,o=-s*a*this.rate,l=le(K(r,i),K(le(i,-1),a));return le(K(l,s),o)},()=>Je(e),t.training||!1)}return e})}};yP.className="AlphaDropout";de.registerClass(yP);function mb(e,t,n,r,a,i=.001){let s;if(e.rank===2)s=iO(e,t,n,r,a,i);else if(e.rank===3)s=sO(e,t,n,r,a,i);else if(e.rank===4)s=oO(e,t,n,r,a,i);else throw new ut(`batchNormalization is not implemented for array of rank ${e.rank} yet`);return s}function jit(e,t,n,r,a=.001){return X(()=>{let i=jw(e,r),s=i.mean,o=i.variance;return[mb(e,s,o,n,t,a),s,o]})}function $it(e,t,n,r,a=.001){return X(()=>{let i=jw(e,r),s=i.mean,o=i.variance,l=[];for(let p of Us(0,e.rank))r.indexOf(p)!==-1?l.push(1):l.push(e.shape[p]);let u=Z(s,l),c=Z(o,l),f=t==null?null:Z(t,l),d=n==null?null:Z(n,l);return[mb(e,u,c,d,f,a),s,o]})}function Dit(e,t,n,r,a=.001){return A.arraysEqual(r.slice().sort(),Us(0,e.rank-1))?jit(e,t,n,r,a):$it(e,t,n,r,a)}var vP=class extends ct{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=bn(e.betaInitializer||"zeros"),this.gammaInitializer=bn(e.gammaInitializer||"ones"),this.movingMeanInitializer=bn(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=bn(e.movingVarianceInitializer||"ones"),this.betaConstraint=lr(e.betaConstraint),this.gammaConstraint=lr(e.gammaConstraint),this.betaRegularizer=xn(e.betaRegularizer),this.gammaRegularizer=xn(e.gammaRegularizer)}build(e){e=At(e);let t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(n==null)throw new te(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Gn({ndim:e.length,axes:{[t]:n}})];let r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return X(()=>{let n=t.training==null?!1:t.training,r=Je(e),a=r.shape,i=a.length,s=Us(0,i),o=this.axis>=0?this.axis:this.axis+i;s.splice(o,1);let l=dd(1,i);l[o]=a[o];let u=s.slice();u.sort();let c=!A.arraysEqual(u,Us(0,i).slice(0,i-1)),f=()=>{if(c){let g=Z(this.movingMean.read(),l),y=Z(this.movingVariance.read(),l),v=this.center?Z(this.beta.read(),l):null,b=this.scale?Z(this.gamma.read(),l):null;return mb(r,g,y,v,b,this.epsilon)}else return mb(r,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!n)return f();let[d,p,h]=Dit(r,this.gamma.read(),this.beta.read(),s,this.epsilon),m=(g,y,v)=>{X(()=>{let b=1-v,x=g.read(),S=K(Me(x,y),b);g.write(Me(x,S))})};return m(this.movingMean,p,this.momentum),m(this.movingVariance,h,this.momentum),d})}getConfig(){let e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Mn(this.betaInitializer),gammaInitializer:Mn(this.gammaInitializer),movingMeanInitializer:Mn(this.movingMeanInitializer),movingVarianceInitializer:Mn(this.movingVarianceInitializer),betaRegularizer:nn(this.betaRegularizer),gammaRegularizer:nn(this.gammaRegularizer),betaConstraint:or(this.betaConstraint),gammaConstraint:or(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}};vP.className="BatchNormalization";de.registerClass(vP);var bP=class extends ct{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(let t of this.axis)if(!Number.isInteger(t))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=bn(e.betaInitializer||"zeros"),this.gammaInitializer=bn(e.gammaInitializer||"ones"),this.betaRegularizer=xn(e.betaRegularizer),this.gammaRegularizer=xn(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=At(e);let t=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let a=0;a<this.axis.length;++a)this.axis[a]<0&&(this.axis[a]+=t);for(let a of this.axis)if(a<0||a>=t)throw new Error(`Invalid axis: ${a}`);if(this.axis.length!==Ju(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);let n=this.axis.map(a=>e[a]),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,t){let n=Je(e),r=n.shape,a=r.length;return X(()=>{let{mean:i,variance:s}=jw(n,this.axis,!0),o=dd(1,a);for(let p of this.axis)o[p]=r[p];let l=p=>p!=null&&p.shape.length!==a?Z(p,o):p,u=this.scale?l(this.gamma.read()):null,c=this.center?l(this.beta.read()):null,f=[],d=[];for(let p=0;p<a;++p)this.axis.indexOf(p)!==-1?(f.push(r[p]),d.push(1)):(f.push(1),d.push(r[p]));return i=Ha(i,f),s=Ha(s,f),u!=null&&(u=Ha(u,d)),c!=null&&(c=Ha(c,d)),mb(n,i,s,c,u,this.epsilon)})}getConfig(){let e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Mn(this.betaInitializer),gammaInitializer:Mn(this.gammaInitializer),betaRegularizer:nn(this.betaRegularizer),gammaRegularizer:nn(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}};bP.className="LayerNormalization";de.registerClass(bP);function Oit(e,t,n){return X(()=>{if(e.rank!==4)throw new te(`temporalPadding expects input tensor to be 4-D, but received a ${e.rank}-D tensor.`);if(t==null&&(t=[[1,1],[1,1]]),t.length!==2||t[0].length!==2||t[1].length!==2)throw new te("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=Ws()),n!=="channelsLast"&&n!=="channelsFirst")throw new te(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],t[0],t[1]]:r=[[0,0],t[0],t[1],[0,0]],Qs(e,r)})}var wP=class extends ct{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?Ws():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new te(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if(typeof e.padding[0]=="number")t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new te(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],e.padding[1].length!==2)throw new te(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new Gn({ndim:4})]}computeOutputShape(e){e=At(e);let t,n;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?t=e[2]+this.padding[0][0]+this.padding[0][1]:t=null,e[3]!=null&&e[3]>=0?n=e[3]+this.padding[1][0]+this.padding[1][1]:n=null,[e[0],e[1],t,n]):(e[1]!=null&&e[1]>=0?t=e[1]+this.padding[0][0]+this.padding[0][1]:t=null,e[2]!=null&&e[2]>=0?n=e[2]+this.padding[1][0]+this.padding[1][1]:n=null,[e[0],t,n,e[3]])}call(e,t){return X(()=>Oit(Je(e),this.padding,this.dataFormat))}getConfig(){let e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}};wP.className="ZeroPadding2D";de.registerClass(wP);function PM(e,t,n,r,a,i){return X(()=>{Fn(a),Jre(i),_i(r),n==null&&(n=[1,1]),r==null&&(r="valid"),a==null&&(a=Ws()),i==null&&(i="max"),e=BR(e,a);let s,o=r==="same"?"same":"valid";return i==="max"?s=mr(e,t,n,o):s=Fl(e,t,n,o),a==="channelsFirst"&&(s=it(s,[0,3,1,2])),s})}function nie(e,t,n,r,a,i){return X(()=>{Fn(a),Jre(i),_i(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),a==null&&(a=Ws()),i==null&&(i="max"),e=Vae(e,a);let s,o=r==="same"?"same":"valid";return i==="max"?s=LO(e,t,n,o):s=aO(e,t,n,o),a==="channelsFirst"&&(s=it(s,[0,4,1,2,3])),s})}var rie=class extends ct{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new te(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(kr(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new te(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);kr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,_i(this.padding),this.inputSpec=[new Gn({ndim:3})]}computeOutputShape(e){e=At(e);let t=Ps(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return X(()=>{this.invokeCallHook(e,t),e=Bw(Je(e),2);let n=this.poolingFunction(Je(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return zc(n,[2])})}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}},xP=class extends rie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Fn(a),_i(r),PM(e,t,n,r,a,"max")}};xP.className="MaxPooling1D";de.registerClass(xP);var SP=class extends rie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Fn(a),_i(r),PM(e,t,n,r,a,"avg")}};SP.className="AveragePooling1D";de.registerClass(SP);var aie=class extends ct{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new te(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];kr(this.poolSize,"poolSize"),kr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Fn(this.dataFormat),_i(this.padding),this.inputSpec=[new Gn({ndim:4})]}computeOutputShape(e){e=At(e);let t=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2];return t=Ps(t,this.poolSize[0],this.padding,this.strides[0]),n=Ps(n,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return X(()=>(this.invokeCallHook(e,t),this.poolingFunction(Je(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}},kP=class extends aie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Fn(a),_i(r),PM(e,t,n,r,a,"max")}};kP.className="MaxPooling2D";de.registerClass(kP);var CP=class extends aie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Fn(a),_i(r),PM(e,t,n,r,a,"avg")}};CP.className="AveragePooling2D";de.registerClass(CP);var iie=class extends ct{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new te(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];kr(this.poolSize,"poolSize"),kr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Fn(this.dataFormat),_i(this.padding),this.inputSpec=[new Gn({ndim:5})]}computeOutputShape(e){e=At(e);let t=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[4]:e[3];return t=Ps(t,this.poolSize[0],this.padding,this.strides[0]),n=Ps(n,this.poolSize[1],this.padding,this.strides[1]),r=Ps(r,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return X(()=>(this.invokeCallHook(e,t),this.poolingFunction(Je(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}},IP=class extends iie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Fn(a),_i(r),nie(e,t,n,r,a,"max")}};IP.className="MaxPooling3D";de.registerClass(IP);var NP=class extends iie{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Fn(a),_i(r),nie(e,t,n,r,a,"avg")}};NP.className="AveragePooling3D";de.registerClass(NP);var sie=class extends ct{constructor(e){super(e),this.inputSpec=[new Gn({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new ut}},MP=class extends sie{constructor(e){super(e||{})}call(e,t){return X(()=>{let n=Je(e);return Cn(n,1)})}};MP.className="GlobalAveragePooling1D";de.registerClass(MP);var TP=class extends sie{constructor(e){super(e||{})}call(e,t){return X(()=>{let n=Je(e);return xi(n,1)})}};TP.className="GlobalMaxPooling1D";de.registerClass(TP);var oie=class extends ct{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Fn(this.dataFormat),this.inputSpec=[new Gn({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new ut}getConfig(){let e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}},EP=class extends oie{call(e,t){return X(()=>{let n=Je(e);return this.dataFormat==="channelsLast"?Cn(n,[1,2]):Cn(n,[2,3])})}};EP.className="GlobalAveragePooling2D";de.registerClass(EP);var AP=class extends oie{call(e,t){return X(()=>{let n=Je(e);return this.dataFormat==="channelsLast"?xi(n,[1,2]):xi(n,[2,3])})}};AP.className="GlobalMaxPooling2D";de.registerClass(AP);var lie=class extends ct{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){let e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,n={}){let r=t.layer,a=Rs(r,n);delete t.layer;let i={layer:a};return Object.assign(i,t),new e(i)}},LP=class extends lie{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=At(e),e.length<3)throw new te(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];let t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=At(e);let t=[e[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return X(()=>(e=Je(e),Xae((n,r)=>[Je(this.layer.call(n,t)),[]],e,[],!1,null,null,!1,!0)[1]))}};LP.className="TimeDistributed";de.registerClass(LP);function Rit(e){ah(Ort,"BidirectionalMergeMode",e)}var Pit="concat",_P=class extends lie{constructor(e){super(e);let t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=Rs(n),t.goBackwards=t.goBackwards!==!0;let r={};if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=Rs(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?Pit:e.mergeMode,Rit(this.mergeMode),e.weights)throw new ut("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){let t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t=this.forwardLayer.computeOutputShape(e);Array.isArray(t)&&Array.isArray(t[0])||(t=[t]),t=t;let n,r,a;return this.returnState&&(a=t.slice(1)),n=t[0],n=n,this.mergeMode==="concat"?(n[n.length-1]*=2,r=[n]):this.mergeMode==null?r=[n,n.slice()]:r=[n],this.returnState?this.mergeMode==null?r.concat(a).concat(a.slice()):[n].concat(a).concat(a.slice()):wa(r)}apply(e,t){let n=t==null?null:t.initialState,r=t==null?null:t.constants;t==null&&(t={});let a=Zae(e,n,r,this.numConstants);if(e=a.inputs,n=a.initialState,r=a.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(n==null||n.length===0)&&r==null)return super.apply(e,t);let i=[],s=[];if(n!=null){let l=n.length;if(l%2>0)throw new te("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,i.push(...n);let u=n.map(c=>new Gn({shape:c.shape}));this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),s.push(...u)}if(r!=null)throw new ut("Support for constants in Bidirectional layers is not implemented yet.");let o=i[0]instanceof Vs;for(let l of i)if(l instanceof Vs!==o)throw new te("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(o){let l=[e].concat(i),u=this.inputSpec.concat(s),c=this.inputSpec;this.inputSpec=u;let f=super.apply(l,t);return this.inputSpec=c,f}else return super.apply(e,t)}call(e,t){return X(()=>{let n=t.initialState,r,a;if(n==null)r=this.forwardLayer.call(e,t),a=this.backwardLayer.call(e,t);else{let o=n.slice(0,n.length/2),l=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:o})),a=this.backwardLayer.call(e,Object.assign(t,{initialState:l}))}let i;this.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),this.returnSequences&&(a=Ni(a,1));let s;return this.mergeMode==="concat"?s=pR([r,a]):this.mergeMode==="sum"?s=le(r,a):this.mergeMode==="ave"?s=K(.5,le(r,a)):this.mergeMode==="mul"?s=K(r,a):this.mergeMode==null&&(s=[r,a]),this.returnState?this.mergeMode==null?s.concat(i):[s].concat(i):s})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Pf(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),Pf(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,t){Array.isArray(t)&&(t=t[0]);let n;if(this.returnSequences?this.mergeMode==null?n=[t,t]:n=t:this.mergeMode==null?n=[null,null]:n=null,this.returnState){let r=this.forwardLayer.states.map(a=>null);return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}else return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){let e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){let n=Rs(t.layer);if(delete t.layer,t.numConstants!=null)throw new ut("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");let r=t;return r.layer=n,new e(r)}};_P.className="Bidirectional";de.registerClass(_P);var jP=class extends ct{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){let e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return X(()=>(e=Je(e),e.dtype!=="float32"&&(e=Al(e,"float32")),le(K(e,this.scale),this.offset)))}};jP.className="Rescaling";de.registerClass(jP);var{resizeBilinear:Fit,cropAndResize:zit}=mi,$P=class extends ct{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,r,a,i,s,o){return X(()=>{let l,u=!1,c=t/i,f=n/s,d=(r+t)/i,p=(a+n)/s,h=[c,f,d,p],m=[];e.rank===3?(u=!0,l=Yn([e])):l=e;for(let b=0;b<l.shape[0];b++)m.push(h);let g=ia(m,[m.length,4]),y=fd(0,m.length,1,"int32"),v=zit(l,g,y,[r,a],"nearest");return Al(u?Je($n(v)):v,o)})}upsize(e,t,n,r){return X(()=>{let a=Fit(e,[t,n]);return Al(a,r)})}call(e,t){return X(()=>{let n=Je(e),r=n.dtype,a=n.shape,i=a[a.length-3],s=a[a.length-2],o=0;i!==this.height&&(o=Math.floor((i-this.height)/2));let l=0;return s!==this.width&&(l=Math.floor((s-this.width)/2),l===0&&(l=1)),o>=0&&l>=0?this.centerCrop(n,o,l,this.height,this.width,i,s,r):this.upsize(e,this.height,this.width,r)})}getConfig(){let e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){e=At(e);let t=e.length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}};$P.className="CenterCrop";de.registerClass($P);function Bit(e,t,n,r){let a=Je(e);if(a.dtype!=="int32"&&(a=Al(a,"int32")),t==="int")return a;let i=a.shape;if(a.rank===0&&(a=wr(a,-1)),t==="oneHot"&&a.shape[a.shape.length-1]!==1&&(a=wr(a,-1)),a.rank>2)throw new te(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${i} which would result in output rank ${a.rank}.`);let s=["multiHot","oneHot"].includes(t),o=a,l;if(typeof r<"u"&&t==="count"?l=nC(o,r,n,s):l=nC(o,[],n,s),t!=="tfIdf")return l;if(r)return K(l,r);throw new te("When outputMode is 'tfIdf', weights must be provided.")}var DP=class extends ct{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){let e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return e=At(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return X(()=>{e=Je(e),e.dtype!=="int32"&&(e=Al(e,"int32"));let n;if(typeof t.countWeights<"u"){if(this.outputMode!=="count")throw new te(`countWeights is not used when outputMode !== count.
              Received countWeights=${t.countWeights}`);n=Je(t.countWeights)}let r=xi(e),a=pg(e),i=da(this.numTokens,r).bufferSync().get(0),s=zl(a,0).bufferSync().get(0);if(!(i&&s))throw new te(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return Bit(e,this.outputMode,this.numTokens,n)})}};DP.className="CategoryEncoding";de.registerClass(DP);var Uit=["bilinear","nearest"],j8=new Set(Uit),OP=class extends ct{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(j8.has(e.interpolation))this.interpolation=e.interpolation;else throw new te(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=At(e);let t=e[2];return[this.height,this.width,t]}getConfig(){let e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return X(()=>{let n=[this.height,this.width];if(this.interpolation==="bilinear")return mi.resizeBilinear(e,n,!this.cropToAspectRatio);if(this.interpolation==="nearest")return mi.resizeNearestNeighbor(e,n,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...j8]} are supported`)})}};OP.className="Resizing";de.registerClass(OP);var uie=class{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}};uie.className="RandomSeed";var cie=class extends ct{constructor(e){super(e),this.randomGenerator=new uie(e.seed)}getConfig(){let e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}};cie.className="BaseRandomLayer";var Wit=["bilinear","nearest"],$8=new Set(Wit),RP=class extends cie{constructor(e){super(e);let{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new te(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new te(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new te(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(n)if($8.has(n))this.interpolation=n;else throw new te(`Invalid interpolation parameter: ${n} is not implemented`)}getConfig(){let e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){e=At(e);let t=e[2];return[this.imgHeight,-1,t]}call(e,t){return X(()=>{let n=Je(e);this.imgHeight=n.shape[n.shape.length-3];let r=n.shape[n.shape.length-2];this.widthFactor=Pc([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let a=this.widthFactor.dataSync()[0]*r;a=Math.round(a);let i=[this.imgHeight,a];switch(this.interpolation){case"bilinear":return mi.resizeBilinear(e,i);case"nearest":return mi.resizeNearestNeighbor(e,i);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...$8]} are supported`)}})}};RP.className="RandomWidth";de.registerClass(RP);function Vit(e){return new d1(e)}function Git(e){return new PR(e)}function Hit(e){return new DR(e)}function qit(e){return new OR(e)}function Yit(e){return new RR(e)}function Qit(e){return new zR(e)}function Kit(e){return new FR(e)}function Jit(e){return new GR(e)}function Zit(e){return new LM(e)}function Xit(e){return new UR(e)}function est(e){return new _M(e)}function tst(e){return new WR(e)}function nst(e){return new VR(e)}function rst(e){return new HR(e)}function ast(e){return new qR(e)}function ist(e){return new YR(e)}function sst(e){return new nP(e)}function ost(e){return new eP(e)}function lst(e){return new RM(e)}function ust(e){return new XR(e)}function cst(e){return new tP(e)}function fst(e){return new rP(e)}function dst(e){return new aP(e)}function pst(e){return new iP(e)}function hst(e){return new oP(e)}function mst(e){return new lP(e)}function gst(e){return new cP(e)}function yst(e){return new pP(e)}function vst(e){return new fP(e)}function bst(e){return new dP(e)}function wst(e){return new uP(e)}function xst(e){return new hP(e)}function Sst(e){return new vP(e)}function kst(e){return new bP(e)}function Cst(e){return new wP(e)}function PP(e){return new SP(e)}function Ist(e){return PP(e)}function Nst(e){return PP(e)}function FP(e){return new CP(e)}function Mst(e){return FP(e)}function Tst(e){return FP(e)}function zP(e){return new NP(e)}function Est(e){return zP(e)}function Ast(e){return zP(e)}function Lst(e){return new MP(e)}function _st(e){return new EP(e)}function fie(e){return new TP(e)}function die(e){return new AP(e)}function pie(e){return new xP(e)}function hie(e){return new kP(e)}function jst(e){return new IP(e)}function $st(e){return new KR(e)}function Dst(e){return new $M(e)}function Ost(e){return new JR(e)}function Rst(e){return new qw(e)}function Pst(e){return new QR(e)}function Fst(e){return new jM(e)}function zst(e){return new ZR(e)}function Bst(e){return new OM(e)}function Ust(e){return new Wl(e)}function Wst(e){return new DM(e)}function Vst(e){return new _P(e)}function Gst(e){return new LP(e)}var Hst=fie,qst=die,Yst=pie,Qst=hie;function Kst(e){return new mP(e)}function Jst(e){return new gP(e)}function Zst(e){return new yP(e)}function Xst(e){return new sP(e)}function eot(e){return new jP(e)}function tot(e){return new $P(e)}function not(e){return new OP(e)}function rot(e){return new DP(e)}function aot(e){return new RP(e)}var mie={};et(mie,{MAPE:()=>mot,MSE:()=>vot,binaryAccuracy:()=>iot,binaryCrossentropy:()=>sot,categoricalAccuracy:()=>lot,categoricalCrossentropy:()=>uot,cosineProximity:()=>dot,mape:()=>got,meanAbsoluteError:()=>pot,meanAbsolutePercentageError:()=>hot,meanSquaredError:()=>yot,mse:()=>bot,precision:()=>cot,r2Score:()=>wot,recall:()=>fot,sparseCategoricalAccuracy:()=>oot});function iot(e,t){return ER(e,t)}function sot(e,t){return vae(e,t)}function oot(e,t){return bae(e,t)}function lot(e,t){return AR(e,t)}function uot(e,t){return LR(e,t)}function cot(e,t){return yae(e,t)}function fot(e,t){return Uat(e,t)}function dot(e,t){return TR(e,t)}function pot(e,t){return MM(e,t)}function hot(e,t){return p1(e,t)}function mot(e,t){return p1(e,t)}function got(e,t){return p1(e,t)}function yot(e,t){return ih(e,t)}function vot(e,t){return ih(e,t)}function bot(e,t){return ih(e,t)}function wot(e,t){return Wat(e,t)}var gie={};et(gie,{modelFromJSON:()=>bit});var yie={};et(yie,{l1:()=>Sot,l1l2:()=>xot,l2:()=>kot});function xot(e){return new Gw(e)}function Sot(e){return Nit(e)}function kot(e){return Mit(e)}var vie=class extends xg{constructor(){super(...arguments),this.model=null}setModel(e){if(!(e instanceof ml))throw new Error("model must be a LayersModel, not some other Container");this.model=e}};function f2(e,t){return e<t}function D8(e,t){return e>t}var bie=class extends vie{constructor(e){if(super(),e==null&&(e={}),e.restoreBestWeights)throw new ut("restoreBestWeights = True is not implemented in EarlyStopping yet.");this.monitor=e.monitor||"val_loss",this.minDelta=Math.abs(e.minDelta||0),this.patience=e.patience||0,this.verbose=e.verbose||0,this.mode=e.mode||"auto",this.baseline=e.baseline,["auto","min","max"].indexOf(this.mode)===-1&&(console.warn(`EarlyStopping mode '${this.mode}' is invalid. Falling back to mode 'auto'.`),this.mode="auto"),this.mode==="min"?this.monitorFunc=f2:this.mode==="max"?this.monitorFunc=D8:this.monitor.indexOf("acc")!==-1?this.monitorFunc=D8:this.monitorFunc=f2,this.monitorFunc===f2&&(this.minDelta*=-1)}async onTrainBegin(e){this.wait=0,this.stoppedEpoch=0,this.baseline!=null?this.best=this.baseline:this.best=this.monitorFunc===f2?1/0:-1/0}async onEpochEnd(e,t){await au(t);let n=this.getMonitorValue(t);n!=null&&(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)))}async onTrainEnd(e){this.stoppedEpoch>0&&this.verbose&&console.log(`Epoch ${this.stoppedEpoch}: early stopping.`)}getMonitorValue(e){e==null&&(e={});let t=e[this.monitor];return t==null&&console.warn(`Metric for EarlyStopping ${this.monitor} is not available. Available metrics are: ${Object.keys(e)}`),t}};function Cot(e){return new bie(e)}var Iot={earlyStopping:Cot},Not=ne();Not.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var Oa;(function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"})(Oa||(Oa={}));var O8;(function(e){(function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"})(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))})(O8||(O8={}));var BP={};function Mot(e,t){let n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};BP[e]=n}function wie(e){return BP[e]}function Tot(e){delete BP[e]}function _(e,t,n,r,a){let i=t.inputParams[e];if(i&&i.inputIndexStart!==void 0){let o=i.inputIndexStart,l=i.inputIndexEnd===0?void 0:i.inputIndexEnd===void 0?o+1:i.inputIndexEnd,u=o<0?t.inputNames.length+o:o;if(i.type==="tensor")return Lr(t.inputNames[u],n,r,a);if(i.type==="tensors"){let d=t.inputs.slice(o,l);return t.inputNames.slice(o,l).filter((p,h)=>{var m;return((m=d[h])===null||m===void 0?void 0:m.op)!=="NoOp"}).map(p=>Lr(p,n,r,a))}let c=Lr(t.inputNames[u],n,r,a),f=c.dataSync();return i.type==="number"?f[0]:A.toNestedArray(c.shape,f)}let s=t.attrParams[e];return s&&s.value}function Lr(e,t,n,r){let[a,i]=Ba(e,n);if(r!=null){let o=r.getHashTableHandleByName(a);if(o!=null)return o}let s=n.currentContextIds.find(o=>!!t[pC(a,o)]);return s!==void 0?t[pC(a,s)][i]:void 0}function R8(e,t,n){return t[pC(e,n.currentContextId)]}function tl(e,t){let[n,r,a]=Ba(e,t);return[pC(n,t&&t.currentContextId),r,a]}function pC(e,t){return t?`${e}-${t}`:e}function Ba(e,t){if(e==="")return["",0,void 0];let n=t!=null&&t.parseNodeNameCache!=null;if(n){let i=t.parseNodeNameCache.get(e);if(i!=null)return i}let r=e.split(":"),a;if(r.length===1)a=[e,0,void 0];else{let i=r[0],s=r.length===3?r[1]:void 0,o=Number(r[r.length-1]);a=[i,o,s]}return n&&t.parseNodeNameCache.set(e,a),a}function J2(e,t,n){let r=_("pad",e,t,n);if(r==="explicit"){r=_("explicitPaddings",e,t,n);let a=[[0,0],[0,0],[0,0],[0,0]];for(let i=0;i<4;i++)a[i][0]=r[i*2],a[i][1]=r[i*2+1];return a}return r}function nl(e){return e.kept?e:No(e)}var xie={};et(xie,{json:()=>Eot});var Eot=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Sie={};et(Sie,{json:()=>Aot});var Aot=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],kie={};et(kie,{json:()=>Lot});var Lot=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Cie={};et(Cie,{json:()=>_ot});var _ot=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Iie={};et(Iie,{json:()=>jot});var jot=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Nie={};et(Nie,{json:()=>$ot});var $ot=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Mie={};et(Mie,{json:()=>Dot});var Dot=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Tie={};et(Tie,{json:()=>Oot});var Oot=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Eie={};et(Eie,{json:()=>Rot});var Rot=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Aie={};et(Aie,{json:()=>Pot});var Pot=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Lie={};et(Lie,{json:()=>Fot});var Fot=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],_ie={};et(_ie,{json:()=>zot});var zot=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],jie={};et(jie,{json:()=>Bot});var Bot=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],$ie={};et($ie,{json:()=>Uot});var Uot=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Die={};et(Die,{json:()=>Wot});var Wot=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Oie={};et(Oie,{json:()=>Vot});var Vot=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],Rie={};et(Rie,{json:()=>Got});var Got=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Pie={};et(Pie,{json:()=>Hot});var Hot=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Fie={};et(Fie,{json:()=>qot});var qot=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],P8=class{static get Instance(){return this._instance||(this._instance=new this)}constructor(){let e=[xie,Sie,kie,Cie,Iie,Nie,Mie,Tie,Eie,Aie,Lie,_ie,jie,$ie,Die,Oie,Rie,Pie,Fie],t=[].concat(...e.map(n=>n.json));this.opMappers=t.reduce((n,r)=>(n[r.tfOpName]=r,n),{})}transformGraph(e,t={}){let n=e.node,r=[],a=[],i=[],s=n.reduce((h,m)=>(h[m.name]=this.mapNode(m),m.op.startsWith("Placeholder")?r.push(h[m.name]):m.op==="Const"?a.push(h[m.name]):(m.input==null||m.input.length===0)&&i.push(h[m.name]),h),{}),o=[],l=[],u={},c={};t!=null&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));let f=Object.keys(s);f.forEach(h=>{let m=s[h];m.inputNames.forEach((g,y)=>{let[v,,b]=tl(g),x=s[v];if(x.outputs!=null){let S=x.outputs.indexOf(b);if(S!==-1){let k=`${v}:${S}`;m.inputNames[y]=k}}m.inputs.push(x),x.children.push(m)})}),Object.keys(c).length===0?f.forEach(h=>{let m=s[h];m.children.length===0&&l.push(m)}):Object.keys(c).forEach(h=>{let[m]=tl(h),g=s[m];g!=null&&(g.signatureKey=c[h],l.push(g))}),Object.keys(u).length>0?Object.keys(u).forEach(h=>{let[m]=tl(h),g=s[m];g&&(g.signatureKey=u[h],o.push(g))}):o=r;let d={};e.library!=null&&e.library.function!=null&&(d=e.library.function.reduce((h,m)=>(h[m.signature.name]=this.mapFunction(m),h),{}));let p={nodes:s,inputs:o,outputs:l,weights:a,placeholders:r,signature:t,functions:d};return i.length>0&&(p.initNodes=i),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce((t,n)=>(t[e[n].name]=n,t),{})}mapNode(e){let t=wie(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});let n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return t.inputs!=null&&(n.inputParams=t.inputs.reduce((r,a)=>(r[a.name]={type:a.type,inputIndexStart:a.start,inputIndexEnd:a.end},r),{})),t.attrs!=null&&(n.attrParams=t.attrs.reduce((r,a)=>{let i=a.type,s;switch(a.type){case"string":s=$L(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=$L(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"string[]":s=BL(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=BL(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"number":s=OL(e.attr,a.tfName,a.defaultValue||0),s===void 0&&a.tfDeprecatedName&&(s=OL(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"number[]":s=zL(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=zL(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool":s=DL(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=DL(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool[]":s=WL(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=WL(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape":s=FL(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=FL(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape[]":s=UL(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=UL(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype":s=RL(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=RL(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype[]":s=PL(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=PL(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"func":s=F8(e.attr,a.tfName,a.defaultValue),s===void 0&&a.tfDeprecatedName&&(s=F8(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${a.type} for op: ${e.op}`)}return r[a.name]={value:s,type:i},r},{})),n}mapFunction(e){let t=e.nodeDef,n=[],r=[],a={};t!=null&&(a=t.reduce((u,c)=>(u[c.name]=this.mapNode(c),c.op==="Const"&&r.push(u[c.name]),u),{}));let i=[],s=[];e.signature.inputArg.forEach(u=>{let[c]=tl(u.name),f={name:c,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:UP(u.type),type:"dtype"}},children:[]};f.signatureKey=u.name,i.push(f),a[c]=f}),Object.keys(a).forEach(u=>{let c=a[u];c.inputNames.forEach((f,d)=>{let[p,,h]=tl(f),m=a[p];if(m.outputs!=null){let g=m.outputs.indexOf(h);if(g!==-1){let y=`${p}:${g}`;c.inputNames[d]=y}}c.inputs.push(m),m.children.push(c)})});let o=e.ret;e.signature.outputArg.forEach(u=>{let[c,f]=tl(o[u.name]),d=a[c];d!=null&&(d.defaultOutput=f,s.push(d))});let l=this.mapArgsToSignature(e);return{nodes:a,inputs:i,outputs:s,weights:r,placeholders:n,signature:l}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n),t),{}),outputs:e.signature.outputArg.reduce((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t),{})}}mapArgToTensorInfo(e,t){let n=e.name;return t!=null&&(n=t[n]),{name:n,dtype:e.type}}};function Yot(e){let t=ne().global;if(typeof t.atob<"u")return t.atob(e);if(typeof Buffer<"u")return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function zie(e,t){let n=Array.isArray(e)?String.fromCharCode.apply(null,e):Yot(e);return t?n:n.toLowerCase()}function $L(e,t,n,r=!1){let a=e[t];return a!=null?zie(a.s,r):n}function DL(e,t,n){let r=e[t];return r?r.b:n}function OL(e,t,n){let r=e[t]||{},a=r.i!=null?r.i:r.f!=null?r.f:n;return typeof a=="number"?a:parseInt(a,10)}function UP(e){switch(typeof e=="string"&&(e=Oa[e]),e){case Oa.DT_FLOAT:case Oa.DT_HALF:return"float32";case Oa.DT_INT32:case Oa.DT_INT64:case Oa.DT_INT8:case Oa.DT_UINT8:return"int32";case Oa.DT_BOOL:return"bool";case Oa.DT_DOUBLE:return"float32";case Oa.DT_STRING:return"string";case Oa.DT_COMPLEX64:case Oa.DT_COMPLEX128:return"complex64";default:return null}}function F8(e,t,n){let r=e[t];return r&&r.func?r.func.name:n}function RL(e,t,n){let r=e[t];return r&&r.type?UP(r.type):n}function PL(e,t,n){let r=e[t];return r&&r.list&&r.list.type?r.list.type.map(a=>UP(a)):n}function Bie(e){if(!e.unknownRank)return e.dim!=null?e.dim.map(t=>typeof t.size=="number"?t.size:parseInt(t.size,10)):[]}function FL(e,t,n){let r=e[t];return r&&r.shape?Bie(r.shape):n}function zL(e,t,n){let r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(a=>typeof a=="number"?a:parseInt(a,10)):n}function BL(e,t,n,r=!1){let a=e[t];return a&&a.list&&a.list.s?a.list.s.map(i=>zie(i,r)):n}function UL(e,t,n){let r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map(a=>Bie(a)):n}function WL(e,t,n){let r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var Qot=class{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(r=>this.getInput(r)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((r,a)=>(r[a]=this.getAttr(a),r),{}))}getInput(e){return Lr(e,this.tensorMap,this.context)}getAttr(e,t){let n=this.node.rawAttrs[e];if(n.tensor!=null)return Lr(e,this.tensorMap,this.context);if(n.i!=null||n.f!=null)return OL(this.node.rawAttrs,e,t);if(n.s!=null)return $L(this.node.rawAttrs,e,t);if(n.b!=null)return DL(this.node.rawAttrs,e,t);if(n.shape!=null)return FL(this.node.rawAttrs,e,t);if(n.type!=null)return RL(this.node.rawAttrs,e,t);if(n.list!=null){if(n.list.i!=null||n.list.f!=null)return zL(this.node.rawAttrs,e,t);if(n.list.s!=null)return BL(this.node.rawAttrs,e,t);if(n.list.shape!=null)return UL(this.node.rawAttrs,e,t);if(n.list.b!=null)return WL(this.node.rawAttrs,e,t);if(n.list.type!=null)return PL(this.node.rawAttrs,e,t)}return t}},Tr={};et(Tr,{OP_SCOPE_SUFFIX:()=>VD,abs:()=>Wn,acos:()=>QD,acosh:()=>KD,add:()=>le,addN:()=>tne,all:()=>FN,any:()=>ub,argMax:()=>od,argMin:()=>JD,asin:()=>ZD,asinh:()=>XD,atan:()=>eO,atan2:()=>tO,atanh:()=>nO,avgPool:()=>Fl,avgPool3d:()=>aO,basicLSTMCell:()=>ine,batchNorm:()=>eh,batchNorm2d:()=>iO,batchNorm3d:()=>sO,batchNorm4d:()=>oO,batchToSpaceND:()=>Nw,bincount:()=>lO,bitwiseAnd:()=>sne,booleanMaskAsync:()=>Qne,broadcastArgs:()=>one,broadcastTo:()=>Rf,buffer:()=>st,cast:()=>ve,ceil:()=>uO,clipByValue:()=>Vr,clone:()=>No,complex:()=>El,concat:()=>Yt,concat1d:()=>cO,concat2d:()=>fO,concat3d:()=>dO,concat4d:()=>pO,conv1d:()=>zN,conv2d:()=>oa,conv2dTranspose:()=>BN,conv3d:()=>mO,conv3dTranspose:()=>gO,cos:()=>Mw,cosh:()=>UN,cosineWindow:()=>fM,cumprod:()=>db,cumsum:()=>WN,denseBincount:()=>nC,depthToSpace:()=>yO,depthwiseConv2d:()=>th,diag:()=>une,dilation2d:()=>vO,div:()=>Ee,divNoNan:()=>bO,dot:()=>wO,dropout:()=>QO,einsum:()=>uf,elu:()=>i1,enclosingPowerOfTwo:()=>KO,ensureShape:()=>fne,equal:()=>Za,erf:()=>VN,euclideanNorm:()=>kO,exp:()=>Gr,expandDims:()=>wr,expm1:()=>CO,eye:()=>GN,fft:()=>Rw,fill:()=>Ka,floor:()=>o1,floorDiv:()=>PN,fused:()=>bg,gather:()=>l1,gatherND:()=>Xne,greater:()=>da,greaterEqual:()=>zl,ifft:()=>vg,imag:()=>Tw,image:()=>mi,inTopKAsync:()=>ere,irfft:()=>aM,isFinite:()=>IO,isInf:()=>NO,isNaN:()=>MO,leakyRelu:()=>Ew,less:()=>hg,lessEqual:()=>Rc,linalg:()=>XO,linspace:()=>gne,localResponseNormalization:()=>TO,log:()=>Xa,log1p:()=>Aw,logSigmoid:()=>EO,logSoftmax:()=>qN,logSumExp:()=>Lw,logicalAnd:()=>ss,logicalNot:()=>_w,logicalOr:()=>YN,logicalXor:()=>AO,losses:()=>dre,lowerBound:()=>vne,matMul:()=>at,max:()=>xi,maxPool:()=>mr,maxPool3d:()=>LO,maxPoolWithArgmax:()=>bne,maximum:()=>Bo,mean:()=>Cn,meshgrid:()=>wne,min:()=>pg,minimum:()=>fc,mirrorPad:()=>_O,mod:()=>jO,moments:()=>jw,movingAverage:()=>Kne,mul:()=>K,multiRNNCell:()=>xne,multinomial:()=>Sne,neg:()=>on,norm:()=>s1,notEqual:()=>cd,oneHot:()=>mg,ones:()=>ka,onesLike:()=>ei,op:()=>Q,outerProduct:()=>kne,pad:()=>Qs,pad1d:()=>Cne,pad2d:()=>Ine,pad3d:()=>Nne,pad4d:()=>Mne,pool:()=>$O,pow:()=>$o,prelu:()=>Dw,print:()=>YD,prod:()=>DO,raggedGather:()=>Tne,raggedRange:()=>Ene,raggedTensorToTensor:()=>Ane,rand:()=>Lne,randomGamma:()=>Dne,randomNormal:()=>KN,randomStandardNormal:()=>One,randomUniform:()=>Pc,randomUniformInt:()=>Rne,range:()=>fd,real:()=>gg,reciprocal:()=>zO,relu:()=>Ft,relu6:()=>JN,reshape:()=>Z,reverse:()=>Ni,reverse1d:()=>Pne,reverse2d:()=>Fne,reverse3d:()=>zne,reverse4d:()=>Bne,rfft:()=>Pw,round:()=>ZN,rsqrt:()=>XN,scalar:()=>Ue,scatterND:()=>Jne,searchSorted:()=>QN,selu:()=>eM,separableConv2d:()=>u1,setdiff1dAsync:()=>Une,sigmoid:()=>ts,sign:()=>BO,signal:()=>fre,sin:()=>tM,sinh:()=>nM,slice:()=>pt,slice1d:()=>Ow,slice2d:()=>rM,slice3d:()=>c1,slice4d:()=>yg,softmax:()=>Fc,softplus:()=>nh,spaceToBatchND:()=>$w,sparse:()=>pre,sparseToDense:()=>Zne,spectral:()=>cre,split:()=>Ia,sqrt:()=>Ir,square:()=>Ht,squaredDifference:()=>iM,squeeze:()=>zc,stack:()=>Yn,step:()=>rh,stridedSlice:()=>UO,string:()=>hre,sub:()=>Me,sum:()=>$e,tan:()=>WO,tanh:()=>cc,tensor:()=>ia,tensor1d:()=>Ot,tensor2d:()=>Mo,tensor3d:()=>sM,tensor4d:()=>dc,tensor5d:()=>Wne,tensor6d:()=>Vne,tensorScatterUpdate:()=>Hne,tile:()=>Ha,topk:()=>GO,transpose:()=>it,truncatedNormal:()=>uM,unique:()=>HO,unsortedSegmentSum:()=>cM,unstack:()=>$n,upperBound:()=>qne,variable:()=>qO,where:()=>Cr,whereAsync:()=>YO,zeros:()=>In,zerosLike:()=>vt});var Kot=(e,t,n,r=Tr)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(_("a",e,t,n),_("b",e,t,n))];case"AddN":return[r.addN(_("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(_("a",e,t,n),_("b",e,t,n))];case"Mul":return[r.mul(_("a",e,t,n),_("b",e,t,n))];case"RealDiv":case"Div":return[r.div(_("a",e,t,n),_("b",e,t,n))];case"DivNoNan":return[r.divNoNan(_("a",e,t,n),_("b",e,t,n))];case"FloorDiv":return[r.floorDiv(_("a",e,t,n),_("b",e,t,n))];case"Sub":return[r.sub(_("a",e,t,n),_("b",e,t,n))];case"Minimum":return[r.minimum(_("a",e,t,n),_("b",e,t,n))];case"Maximum":return[r.maximum(_("a",e,t,n),_("b",e,t,n))];case"Pow":return[r.pow(_("a",e,t,n),_("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(_("a",e,t,n),_("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},Jot=(e,t,n,r=Tr)=>{switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(_("x",e,t,n))];case"Acos":return[r.acos(_("x",e,t,n))];case"Acosh":return[r.acosh(_("x",e,t,n))];case"Asin":return[r.asin(_("x",e,t,n))];case"Asinh":return[r.asinh(_("x",e,t,n))];case"Atan":return[r.atan(_("x",e,t,n))];case"Atan2":return[r.atan2(_("x",e,t,n),_("y",e,t,n))];case"Atanh":return[r.atanh(_("x",e,t,n))];case"Ceil":return[r.ceil(_("x",e,t,n))];case"Complex":return[r.complex(_("real",e,t,n),_("imag",e,t,n))];case"Cos":return[r.cos(_("x",e,t,n))];case"Cosh":return[r.cosh(_("x",e,t,n))];case"Elu":return[r.elu(_("x",e,t,n))];case"Erf":return[r.erf(_("x",e,t,n))];case"Exp":return[r.exp(_("x",e,t,n))];case"Expm1":return[r.expm1(_("x",e,t,n))];case"Floor":return[r.floor(_("x",e,t,n))];case"Log":return[r.log(_("x",e,t,n))];case"Log1p":return[r.log1p(_("x",e,t,n))];case"Imag":return[r.imag(_("x",e,t,n))];case"Neg":return[r.neg(_("x",e,t,n))];case"Reciprocal":return[r.reciprocal(_("x",e,t,n))];case"Real":return[r.real(_("x",e,t,n))];case"Relu":return[r.relu(_("x",e,t,n))];case"Round":return[r.round(_("x",e,t,n))];case"Selu":return[r.selu(_("x",e,t,n))];case"Sigmoid":return[r.sigmoid(_("x",e,t,n))];case"Sin":return[r.sin(_("x",e,t,n))];case"Sign":return[r.sign(_("x",e,t,n))];case"Sinh":return[r.sinh(_("x",e,t,n))];case"Softplus":return[r.softplus(_("x",e,t,n))];case"Sqrt":return[r.sqrt(_("x",e,t,n))];case"Square":return[r.square(_("x",e,t,n))];case"Tanh":return[r.tanh(_("x",e,t,n))];case"Tan":return[r.tan(_("x",e,t,n))];case"ClipByValue":return[r.clipByValue(_("x",e,t,n),_("clipValueMin",e,t,n),_("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(_("x",e,t,n))];case"Rsqrt":return[r.rsqrt(Lr(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(_("x",e,t,n),_("alpha",e,t,n))];case"Prelu":return[r.prelu(_("x",e,t,n),_("alpha",e,t,n))];case"IsNan":return[r.isNaN(Lr(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(Lr(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(Lr(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};function Wi(e,t,n=""){if(!(typeof e=="number"||typeof t=="number")){A.assert(e.length===t.length,()=>n+` Shapes ${e} and ${t} must match`);for(let r=0;r<e.length;r++){let a=e[r],i=t[r];A.assert(a<0||i<0||a===i,()=>n+` Shapes ${e} and ${t} must match`)}}}function z8(e){return!(typeof e=="number"||e.some(t=>t<0))}function ey(e,t,n){let r=VL(e,n),a=!z8(r);if(a&&t.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&t.forEach(i=>{r=VL(i.shape,r)}),!z8(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function VL(e,t){if(typeof e=="number")return t;if(typeof t=="number")return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);let n=[];for(let r=0;r<e.length;++r){let a=e[r],i=t[r];if(a>=0&&i>=0&&a!==i)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=a>=0?a:i}return n}var Zot=class{constructor(e,t,n,r,a,i,s){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=i,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=Ue(0),rr(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(t=>{(e==null||!e.has(t.tensor.id))&&t.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);let t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map(t=>this.read(t))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);let n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=t.shape),Wi(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,rr(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach((n,r)=>this.write(n,t[r]))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let r=0;r<this.size();r++)e.push(r)}if(e.length===0)return ia([],[0].concat(this.elementShape));let n=this.readMany(e);return Wi(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Yn(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return ia([],[0].concat(this.elementShape));let t=[];for(let r=0;r<this.size();r++)t.push(r);let n=this.readMany(t);return Wi(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),Yt(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);let n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,$n(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0,r=e.map(o=>(n+=o,n));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);let a=n===0?0:t.size/n,i=[];X(()=>{t=Z(t,[1,n,a]);for(let o=0;o<e.length;++o){let l=[0,o===0?0:r[o-1],0],u=[1,e[o],a];i[o]=Z(pt(t,l,u),this.elementShape)}return i});let s=[];for(let o=0;o<e.length;o++)s[o]=o;this.writeMany(s,i)}},FM=class GL{get id(){return this.idTensor.id}constructor(t,n,r,a=-1){this.tensors=t,this.elementShape=n,this.elementDtype=r,t!=null&&t.forEach(i=>{if(r!==i.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${i.dtype}`);Wi(n,i.shape,"TensorList shape mismatch: "),rr(i)}),this.idTensor=Ue(0),this.maxNumElements=a,rr(this.idTensor)}copy(){return new GL([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(t){this.tensors.forEach(n=>{(t==null||!t.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(t,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);Wi(t,this.elementShape,"TensorList shape mismatch: ");let a=ey(this.elementShape,this.tensors,t);return X(()=>{let i=this.tensors.map(s=>Z(s,a));return Yn(i,0)})}popBack(t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");let r=ey(this.elementShape,this.tensors,t),a=this.tensors.pop();return a.kept=!1,Wi(a.shape,t,"TensorList shape mismatch: "),Z(a,r)}pushBack(t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(Wi(t.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");rr(t),this.tensors.push(t)}resize(t){if(t<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${t}`);if(this.maxNumElements!==-1&&t>this.maxNumElements)throw new Error(`TensorListResize input size ${t} is greater maxNumElement ${this.maxNumElements}.`);let n=new GL([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(let r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}getItem(t,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(t<0||t>this.tensors.length)throw new Error(`Trying to access element ${t} in a list with ${this.tensors.length} elements.`);if(this.tensors[t]==null)throw new Error(`element at index ${t} is null.`);Wi(this.tensors[t].shape,n,"TensorList shape mismatch: ");let a=ey(this.elementShape,this.tensors,n);return Z(this.tensors[t],a)}setItem(t,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(t<0||this.maxNumElements!==-1&&t>=this.maxNumElements)throw new Error(`Trying to set element ${t} in a list with max ${this.maxNumElements} elements.`);Wi(this.elementShape,n.shape,"TensorList shape mismatch: "),rr(n),this.tensors[t]!=null&&(this.tensors[t].kept=!1),this.tensors[t]=n}gather(t,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);Wi(this.elementShape,r,"TensorList shape mismatch: "),t=t.slice(0,this.size());let a=ey(this.elementShape,this.tensors,r);return t.length===0?ia([],[0].concat(a)):X(()=>{let i=t.map(s=>Z(this.tensors[s],a));return Yn(i,0)})}concat(t,n){if(t&&t!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${t}`);Wi(this.elementShape,n,"TensorList shape mismatch: ");let r=ey(this.elementShape,this.tensors,n);return this.size()===0?ia([],[0].concat(r)):X(()=>{let a=this.tensors.map(i=>Z(i,r));return Yt(a,0)})}};function Xot(e,t,n){let r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);let a=e.shape.slice(1);Wi(a,t,"TensorList shape mismatch: ");let i=$n(e);return new FM(i,t,r)}function elt(e,t,n,r){return new FM([],e,t,r)}function tlt(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);let a=Math.max(...t);if(r!=null&&r!==-1&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);let i=new FM([],n,e.dtype,r),s=$n(e,0);return t.forEach((o,l)=>{i.setItem(o,s[l])}),i}function nlt(e,t,n){let r=0,a=t.map(c=>(r+=c,r));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${e.shape}`);let i=e.shape.slice(1),s=VL(i,n),o=r===0?0:e.size/r,l=X(()=>{let c=[];e=Z(e,[1,r,o]);for(let f=0;f<t.length;++f){let d=[0,f===0?0:a[f-1],0],p=[1,t[f],o];c[f]=Z(pt(e,d,p),s)}return e.dispose(),c}),u=new FM([],n,e.dtype,t.length);for(let c=0;c<l.length;c++)u.setItem(c,l[c]);return u}var rlt=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{let r=_("thenBranch",e,t,n),a=_("elseBranch",e,t,n),i=_("cond",e,t,n),s=_("args",e,t,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{let r=_("body",e,t,n),a=_("cond",e,t,n),i=_("args",e,t,n),s=await n.functionMap[a].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),o=i.map(c=>c.id),l=await s[0].data();s.forEach(c=>{!c.kept&&o.indexOf(c.id)===-1&&c.dispose()});let u=i;for(;l[0];){let c=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);let f=u.map(p=>p.id);c.forEach(p=>{!p.kept&&o.indexOf(p.id)===-1&&f.indexOf(p.id)===-1&&p.dispose()});let d=await n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await d[0].data(),d.forEach(p=>{!p.kept&&o.indexOf(p.id)===-1&&f.indexOf(p.id)===-1&&p.dispose()})}return u}case"LoopCond":{let r=_("pred",e,t,n);return[nl(r)]}case"Switch":{let r=_("pred",e,t,n),a=_("data",e,t,n);return a.kept||(a=nl(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{let r=e.inputNames.find(a=>Lr(a,t,n)!==void 0);if(r){let a=Lr(r,t,n);return[nl(a)]}return}case"Enter":{let r=_("frameName",e,t,n),a=_("tensor",e,t,n);return n.enterFrame(r),[nl(a)]}case"Exit":{let r=_("tensor",e,t,n);return n.exitFrame(),[nl(r)]}case"NextIteration":{let r=_("tensor",e,t,n);return n.nextIteration(),[nl(r)]}case"TensorArrayV3":{let r=_("size",e,t,n),a=_("dtype",e,t,n),i=_("elementShape",e,t,n),s=_("dynamicSize",e,t,n),o=_("clearAfterRead",e,t,n),l=_("identicalElementShapes",e,t,n),u=_("name",e,t,n),c=new Zot(u,a,r,i,l,s,o);return n.addTensorArray(c),[c.idTensor,Ue(1)]}case"TensorArrayWriteV3":{let r=_("tensorArrayId",e,t,n),a=_("index",e,t,n),i=_("tensor",e,t,n),s=n.getTensorArray(r.id);return s.write(a,i),[s.idTensor]}case"TensorArrayReadV3":{let r=_("tensorArrayId",e,t,n),a=_("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{let r=_("tensorArrayId",e,t,n),a=_("indices",e,t,n),i=_("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,i)]}case"TensorArrayScatterV3":{let r=_("tensorArrayId",e,t,n),a=_("indices",e,t,n),i=_("tensor",e,t,n),s=n.getTensorArray(r.id);return s.scatter(a,i),[s.idTensor]}case"TensorArrayConcatV3":{let r=_("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),i=_("dtype",e,t,n);return[a.concat(i)]}case"TensorArraySplitV3":{let r=_("tensorArrayId",e,t,n),a=_("tensor",e,t,n),i=_("lengths",e,t,n),s=n.getTensorArray(r.id);return s.split(i,a),[s.idTensor]}case"TensorArraySizeV3":{let r=_("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return[Ue(a.size(),"int32")]}case"TensorArrayCloseV3":{let r=_("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{let r=_("tensorListId",e,t,n),a=_("index",e,t,n),i=_("tensor",e,t,n),s=n.getTensorList(r.id);return s.setItem(a,i),[s.idTensor]}case"TensorListGetItem":{let r=_("tensorListId",e,t,n),a=_("index",e,t,n),i=_("elementShape",e,t,n),s=_("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,i,s)]}case"TensorListScatterV2":case"TensorListScatter":{let r=_("indices",e,t,n),a=_("tensor",e,t,n),i=_("elementShape",e,t,n),s=_("numElements",e,t,n),o=tlt(a,r,i,s);return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{let r=_("elementShape",e,t,n),a=_("elementDType",e,t,n),i;e.op==="TensorListReserve"?i="numElements":i="maxNumElements";let s=_(i,e,t,n),o=e.op==="TensorListReserve"?-1:s,l=elt(r,a,s,o);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{let r=_("tensorListId",e,t,n),a=_("indices",e,t,n),i=_("elementShape",e,t,n),s=_("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,s,i)]}case"TensorListStack":{let r=_("tensorListId",e,t,n),a=_("elementShape",e,t,n),i=_("elementDType",e,t,n),s=_("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,i,s)]}case"TensorListFromTensor":{let r=_("tensor",e,t,n),a=_("elementShape",e,t,n),i=_("elementDType",e,t,n),s=Xot(r,a,i);return n.addTensorList(s),[s.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{let r=_("tensorListId",e,t,n),a=n.getTensorList(r.id),i=_("dtype",e,t,n),s=_("elementShape",e,t,n);return[a.concat(i,s)]}case"TensorListPushBack":{let r=_("tensorListId",e,t,n),a=_("tensor",e,t,n),i=n.getTensorList(r.id);return i.pushBack(a),[i.idTensor]}case"TensorListPopBack":{let r=_("tensorListId",e,t,n),a=_("elementShape",e,t,n),i=_("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,i)]}case"TensorListSplit":{let r=_("tensor",e,t,n),a=_("elementShape",e,t,n),i=_("lengths",e,t,n),s=nlt(r,i,a);return n.addTensorList(s),[s.idTensor]}case"TensorListLength":{let r=_("tensorListId",e,t,n),a=n.getTensorList(r.id);return[Ue(a.size(),"int32")]}case"TensorListResize":{let r=_("tensorListId",e,t,n),a=_("size",e,t,n),i=n.getTensorList(r.id).resize(a);return n.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function B8(e,t,n){let[r,a]=_("fusedOps",e,t,n),i=r==="biasadd",s=!i,o=a==="prelu",l=r==="fusedbatchnorm",u=_("numArgs",e,t,n);if(i){if(o&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&i&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");let c=_("strides",e,t,n),f=J2(e,t,n),d=_("dataFormat",e,t,n).toUpperCase(),p=_("dilations",e,t,n),[h,m]=_("args",e,t,n);s&&(m=h,h=void 0);let g=_("leakyreluAlpha",e,t,n);return{stride:c,pad:f,dataFormat:d,dilations:p,biasArg:h,preluArg:m,activationFunc:a,leakyreluAlpha:g}}var alt=(e,t,n,r=Tr)=>{switch(e.op){case"Conv1D":{let a=_("stride",e,t,n),i=_("pad",e,t,n),s=_("dataFormat",e,t,n).toUpperCase(),o=_("dilation",e,t,n);return[r.conv1d(_("x",e,t,n),_("filter",e,t,n),a,i,s,o)]}case"Conv2D":{let a=_("strides",e,t,n),i=J2(e,t,n),s=_("dataFormat",e,t,n).toUpperCase(),o=_("dilations",e,t,n);return[r.conv2d(_("x",e,t,n),_("filter",e,t,n),[a[1],a[2]],i,s,[o[1],o[2]])]}case"_FusedConv2D":{let{stride:a,pad:i,dataFormat:s,dilations:o,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:f}=B8(e,t,n);return[r.fused.conv2d({x:_("x",e,t,n),filter:_("filter",e,t,n),strides:[a[1],a[2]],pad:i,dataFormat:s,dilations:[o[1],o[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:f})]}case"FusedDepthwiseConv2dNative":{let{stride:a,pad:i,dataFormat:s,dilations:o,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:f}=B8(e,t,n);return[r.fused.depthwiseConv2d({x:_("x",e,t,n),filter:_("filter",e,t,n),strides:[a[1],a[2]],pad:i,dataFormat:s,dilations:[o[1],o[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:f})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{let a=_("outputShape",e,t,n),i=_("strides",e,t,n),s=J2(e,t,n);return[r.conv2dTranspose(_("x",e,t,n),_("filter",e,t,n),a,[i[1],i[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{let a=_("strides",e,t,n),i=J2(e,t,n),s=_("dilations",e,t,n),o=_("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(_("input",e,t,n),_("filter",e,t,n),[a[1],a[2]],i,o,[s[1],s[2]])]}case"Conv3D":{let a=_("strides",e,t,n),i=_("pad",e,t,n),s=_("dataFormat",e,t,n).toUpperCase(),o=_("dilations",e,t,n);return[r.conv3d(_("x",e,t,n),_("filter",e,t,n),[a[1],a[2],a[3]],i,s,[o[1],o[2],o[3]])]}case"AvgPool":{let a=_("strides",e,t,n),i=_("pad",e,t,n),s=_("kernelSize",e,t,n);return[r.avgPool(_("x",e,t,n),[s[1],s[2]],[a[1],a[2]],i)]}case"MaxPool":{let a=_("strides",e,t,n),i=_("pad",e,t,n),s=_("kernelSize",e,t,n);return[r.maxPool(_("x",e,t,n),[s[1],s[2]],[a[1],a[2]],i)]}case"MaxPoolWithArgmax":{let a=_("strides",e,t,n),i=_("pad",e,t,n),s=_("kernelSize",e,t,n),o=_("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(_("x",e,t,n),[s[1],s[2]],[a[1],a[2]],i,o);return[l,u]}case"AvgPool3D":{let a=_("strides",e,t,n),i=_("pad",e,t,n),s=_("kernelSize",e,t,n);return[r.avgPool3d(_("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],i)]}case"MaxPool3D":{let a=_("strides",e,t,n),i=_("pad",e,t,n),s=_("kernelSize",e,t,n);return[r.maxPool3d(_("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],i)]}case"Dilation2D":{let a=_("strides",e,t,n),i=_("pad",e,t,n),s=_("dilations",e,t,n),o=a[1],l=a[2],u=s[1],c=s[2];return[r.dilation2d(_("x",e,t,n),_("filter",e,t,n),[o,l],i,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},ilt=(e,t,n,r=Tr)=>{switch(e.op){case"Fill":{let a=_("shape",e,t,n),i=_("dtype",e,t,n),s=_("value",e,t,n);return[r.fill(a,s,i)]}case"LinSpace":{let a=_("start",e,t,n),i=_("stop",e,t,n),s=_("num",e,t,n);return[r.linspace(a,i,s)]}case"Multinomial":{let a=_("logits",e,t,n),i=_("numSamples",e,t,n),s=_("seed",e,t,n);return[r.multinomial(a,i,s)]}case"OneHot":{let a=_("indices",e,t,n),i=_("depth",e,t,n),s=_("onValue",e,t,n),o=_("offValue",e,t,n),l=_("dtype",e,t,n);return[r.oneHot(a,i,s,o,l)]}case"Ones":return[r.ones(_("shape",e,t,n),_("dtype",e,t,n))];case"OnesLike":return[r.onesLike(_("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(_("shape",e,t,n),_("dtype",e,t,n),_("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(_("shape",e,t,n),_("minval",e,t,n),_("maxval",e,t,n),_("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(_("shape",e,t,n),_("minval",e,t,n),_("maxval",e,t,n),_("seed",e,t,n))];case"Range":{let a=_("start",e,t,n),i=_("stop",e,t,n),s=_("step",e,t,n);return[r.range(a,i,s,_("dtype",e,t,n))]}case"TruncatedNormal":{let a=_("shape",e,t,n),i=_("mean",e,t,n),s=_("stdDev",e,t,n),o=_("seed",e,t,n);return[r.truncatedNormal(a,i,s,_("dtype",e,t,n),o)]}case"Zeros":return[r.zeros(_("shape",e,t,n),_("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(_("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};function RE(e,t,n){let r=_("boxes",e,t,n),a=_("scores",e,t,n),i=_("maxOutputSize",e,t,n),s=_("iouThreshold",e,t,n),o=_("scoreThreshold",e,t,n),l=_("softNmsSigma",e,t,n);return{boxes:r,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:o,softNmsSigma:l}}var slt=async(e,t,n,r,a=Tr)=>{switch(e.op){case"NonMaxSuppressionV5":{let{boxes:i,scores:s,maxOutputSize:o,iouThreshold:l,scoreThreshold:u,softNmsSigma:c}=RE(e,t,n),f=await a.image.nonMaxSuppressionWithScoreAsync(i,s,o,l,u,c);return[f.selectedIndices,f.selectedScores]}case"NonMaxSuppressionV4":{let{boxes:i,scores:s,maxOutputSize:o,iouThreshold:l,scoreThreshold:u}=RE(e,t,n),c=_("padToMaxOutputSize",e,t,n),f=await a.image.nonMaxSuppressionPaddedAsync(i,s,o,l,u,c);return[f.selectedIndices,f.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{let{boxes:i,scores:s,maxOutputSize:o,iouThreshold:l,scoreThreshold:u}=RE(e,t,n);return[await a.image.nonMaxSuppressionAsync(i,s,o,l,u)]}case"Where":{let i=a.cast(_("condition",e,t,n),"bool"),s=[await a.whereAsync(i)];return i.dispose(),s}case"ListDiff":return a.setdiff1dAsync(_("x",e,t,n),_("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}},olt=(e,t,n,r=Tr)=>{switch(e.op){case"LowerBound":{let a=_("sortedSequence",e,t,n),i=_("values",e,t,n);return[r.lowerBound(a,i)]}case"TopKV2":{let a=_("x",e,t,n),i=_("k",e,t,n),s=_("sorted",e,t,n),o=r.topk(a,i,s);return[o.values,o.indices]}case"UpperBound":{let a=_("sortedSequence",e,t,n),i=_("values",e,t,n);return[r.upperBound(a,i)]}case"Unique":{let a=_("x",e,t,n),i=r.unique(a);return[i.values,i.indices]}case"UniqueV2":{let a=_("x",e,t,n),i=_("axis",e,t,n),s=r.unique(a,i);return[s.values,s.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},llt=(e,t,n,r=Tr)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":let a=_("default",e,t,n);return[Lr(e.name,t,n)||a];case"Placeholder":return[Lr(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{let c=_("x",e,t,n);return[nl(c)]}case"IdentityN":return _("x",e,t,n).map(c=>nl(c));case"Snapshot":let i=_("x",e,t,n);return[nl(i)];case"Shape":return[r.tensor1d(_("x",e,t,n).shape,"int32")];case"ShapeN":return _("x",e,t,n).map(c=>r.tensor1d(c.shape));case"Size":return[r.scalar(_("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(_("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":let s=_("x",e,t,n),o=_("data",e,t,n),l=_("message",e,t,n),u=_("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let c=0;c<o.length;c++)console.log(Array.prototype.slice.call(o[c].dataSync()).slice(0,u));return[s];default:throw TypeError(`Node type ${e.op} is not implemented`)}},ult=class{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Ue(0),this.tensorMap=new Map,rr(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Ue(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);let n=await e.data();return this.tensorMap.forEach(r=>r.dispose()),this.tensorMap.clear(),X(()=>{let r=$n(t),a=n.length,i=r.length;A.assert(a===i,()=>`The number of elements doesn't match, keys has ${a} elements, the values has ${i} elements.`);for(let s=0;s<a;s++){let o=n[s],l=r[s];rr(l),this.tensorMap.set(o,l)}return this.handle})}async find(e,t){this.checkKeyAndValueTensor(e,t);let n=await e.data();return X(()=>{let r=[];for(let a=0;a<n.length;a++){let i=n[a],s=this.findWithDefault(i,t);r.push(s)}return Yn(r)})}findWithDefault(e,t){let n=this.tensorMap.get(e);return n??t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}},clt=async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{let a=r.getHashTableHandleByName(e.name);if(a!=null)return[a];{let i=_("keyDType",e,t,n),s=_("valueDType",e,t,n),o=new ult(i,s);return r.addHashTable(e.name,o),[o.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{let a=_("tableHandle",e,t,n,r),i=_("keys",e,t,n),s=_("values",e,t,n);return[await r.getHashTableById(a.id).import(i,s)]}case"LookupTableFind":case"LookupTableFindV2":{let a=_("tableHandle",e,t,n,r),i=_("keys",e,t,n),s=_("defaultValue",e,t,n);return[await r.getHashTableById(a.id).find(i,s)]}case"LookupTableSize":case"LookupTableSizeV2":{let a=_("tableHandle",e,t,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},flt=(e,t,n,r=Tr)=>{switch(e.op){case"ResizeBilinear":{let a=_("images",e,t,n),i=_("size",e,t,n),s=_("alignCorners",e,t,n),o=_("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[i[0],i[1]],s,o)]}case"ResizeNearestNeighbor":{let a=_("images",e,t,n),i=_("size",e,t,n),s=_("alignCorners",e,t,n),o=_("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(a,[i[0],i[1]],s,o)]}case"CropAndResize":{let a=_("image",e,t,n),i=_("boxes",e,t,n),s=_("boxInd",e,t,n),o=_("cropSize",e,t,n),l=_("method",e,t,n),u=_("extrapolationValue",e,t,n);return[r.image.cropAndResize(a,i,s,o,l,u)]}case"ImageProjectiveTransformV3":{let a=_("images",e,t,n),i=_("transforms",e,t,n),s=_("outputShape",e,t,n),o=_("fillValue",e,t,n),l=_("interpolation",e,t,n),u=_("fillMode",e,t,n);return[r.image.transform(a,i,l.toLowerCase(),u.toLowerCase(),o,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},dlt=(e,t,n,r=Tr)=>{switch(e.op){case"Equal":return[r.equal(_("a",e,t,n),_("b",e,t,n))];case"NotEqual":return[r.notEqual(_("a",e,t,n),_("b",e,t,n))];case"Greater":return[r.greater(_("a",e,t,n),_("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(_("a",e,t,n),_("b",e,t,n))];case"Less":return[r.less(_("a",e,t,n),_("b",e,t,n))];case"LessEqual":return[r.lessEqual(_("a",e,t,n),_("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(_("a",e,t,n),_("b",e,t,n))];case"LogicalNot":return[r.logicalNot(_("a",e,t,n))];case"LogicalOr":return[r.logicalOr(_("a",e,t,n),_("b",e,t,n))];case"Select":case"SelectV2":return[r.where(_("condition",e,t,n),_("a",e,t,n),_("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(_("a",e,t,n),_("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},plt=(e,t,n,r=Tr)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(_("a",e,t,n),_("b",e,t,n),_("transposeA",e,t,n),_("transposeB",e,t,n))];case"Einsum":return[r.einsum(_("equation",e,t,n),..._("tensors",e,t,n))];case"Transpose":return[r.transpose(_("x",e,t,n),_("perm",e,t,n))];case"_FusedMatMul":let[a,i]=_("fusedOps",e,t,n),s=a==="biasadd",o=i==="prelu",l=_("numArgs",e,t,n),u=_("leakyreluAlpha",e,t,n);if(s){if(o&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}let[c,f]=_("args",e,t,n);return[r.fused.matMul({a:_("a",e,t,n),b:_("b",e,t,n),transposeA:_("transposeA",e,t,n),transposeB:_("transposeB",e,t,n),bias:c,activation:i,preluActivationWeights:f,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(_("a",e,t,n),_("numLower",e,t,n),_("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},hlt=(e,t,n,r=Tr)=>{switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(_("x",e,t,n),_("axis",e,t,n),_("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(_("x",e,t,n),_("mean",e,t,n),_("variance",e,t,n),_("offset",e,t,n),_("scale",e,t,n),_("epsilon",e,t,n))];case"FusedBatchNormV3":return[r.batchNorm(_("x",e,t,n),_("mean",e,t,n),_("variance",e,t,n),_("offset",e,t,n),_("scale",e,t,n),_("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(_("x",e,t,n),_("radius",e,t,n),_("bias",e,t,n),_("alpha",e,t,n),_("beta",e,t,n))];case"Softmax":return[r.softmax(_("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(_("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},mlt=(e,t,n,r=Tr)=>{switch(e.op){case"RaggedGather":{let{outputNestedSplits:a,outputDenseValues:i}=r.raggedGather(_("paramsNestedSplits",e,t,n),_("paramsDenseValues",e,t,n),_("indices",e,t,n),_("outputRaggedRank",e,t,n));return a.concat(i)}case"RaggedRange":{let{rtNestedSplits:a,rtDenseValues:i}=r.raggedRange(_("starts",e,t,n),_("limits",e,t,n),_("splits",e,t,n));return[a,i]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(_("shape",e,t,n),_("values",e,t,n),_("defaultValue",e,t,n),_("rowPartitionTensors",e,t,n),_("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},glt=(e,t,n,r=Tr)=>{switch(e.op){case"Max":{let o=_("axis",e,t,n),l=_("keepDims",e,t,n);return[r.max(_("x",e,t,n),o,l)]}case"Mean":{let o=_("axis",e,t,n),l=_("keepDims",e,t,n);return[r.mean(_("x",e,t,n),o,l)]}case"Min":{let o=_("axis",e,t,n),l=_("keepDims",e,t,n);return[r.min(_("x",e,t,n),o,l)]}case"Sum":{let o=_("axis",e,t,n),l=_("keepDims",e,t,n);return[r.sum(_("x",e,t,n),o,l)]}case"All":{let o=_("axis",e,t,n),l=_("keepDims",e,t,n);return[r.all(_("x",e,t,n),o,l)]}case"Any":{let o=_("axis",e,t,n),l=_("keepDims",e,t,n);return[r.any(_("x",e,t,n),o,l)]}case"ArgMax":{let o=_("axis",e,t,n);return[r.argMax(_("x",e,t,n),o)]}case"ArgMin":{let o=_("axis",e,t,n);return[r.argMin(_("x",e,t,n),o)]}case"Prod":{let o=_("axis",e,t,n),l=_("keepDims",e,t,n);return[r.prod(_("x",e,t,n),o,l)]}case"Cumprod":{let o=_("axis",e,t,n),l=_("exclusive",e,t,n),u=_("reverse",e,t,n);return[r.cumprod(_("x",e,t,n),o,l,u)]}case"Cumsum":{let o=_("axis",e,t,n),l=_("exclusive",e,t,n),u=_("reverse",e,t,n);return[r.cumsum(_("x",e,t,n),o,l,u)]}case"Bincount":let a=_("x",e,t,n),i=_("weights",e,t,n),s=_("size",e,t,n);return[r.bincount(a,i,s)];case"DenseBincount":{let o=_("x",e,t,n),l=_("weights",e,t,n),u=_("size",e,t,n),c=_("binaryOutput",e,t,n);return[r.denseBincount(o,l,u,c)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},ylt=(e,t,n,r=Tr)=>{switch(e.op){case"ConcatV2":case"Concat":{let a=_("n",e,t,n),i=_("axis",e,t,n),s=_("tensors",e,t,n);return s=s.slice(0,a),[r.concat(s,i)]}case"Gather":{let a=_("x",e,t,n),i=_("indices",e,t,n);return[r.gather(a,r.cast(i,"int32"),0)]}case"GatherV2":{let a=_("axis",e,t,n),i=_("batchDims",e,t,n),s=_("x",e,t,n),o=_("indices",e,t,n);return[r.gather(s,r.cast(o,"int32"),a,i)]}case"Reverse":{let a=_("dims",e,t,n),i=[];for(let o=0;o<a.length;o++)a[o]&&i.push(o);let s=_("x",e,t,n);return[r.reverse(s,i)]}case"ReverseV2":{let a=_("axis",e,t,n),i=_("x",e,t,n);return[r.reverse(i,a)]}case"Slice":{let a=_("begin",e,t,n),i=_("size",e,t,n);return[r.slice(_("x",e,t,n),a,i)]}case"StridedSlice":{let a=_("begin",e,t,n),i=_("end",e,t,n),s=_("strides",e,t,n),o=_("beginMask",e,t,n),l=_("endMask",e,t,n),u=_("ellipsisMask",e,t,n),c=_("newAxisMask",e,t,n),f=_("shrinkAxisMask",e,t,n),d=_("x",e,t,n);return[r.stridedSlice(d,a,i,s,o,l,u,c,f)]}case"Pack":return X(()=>{let a=_("axis",e,t,n),i=_("tensors",e,t,n),s=i[0].shape,o=r.squeeze(i[0]).shape,l=i.map(u=>{let c=A.arraysEqual(u.shape,s);if(!c&&!A.arraysEqual(r.squeeze(u).shape,o))throw new Error("the input tensors shape does not match");return c?u:r.reshape(u,s)});return[r.stack(l,a)]});case"Unpack":{let a=_("axis",e,t,n),i=_("tensor",e,t,n);return r.unstack(i,a)}case"Tile":{let a=_("reps",e,t,n);return[r.tile(_("x",e,t,n),a)]}case"Split":case"SplitV":{let a=_("axis",e,t,n),i=_("numOrSizeSplits",e,t,n),s=_("x",e,t,n);return r.split(s,i,a)}case"ScatterNd":{let a=_("indices",e,t,n),i=_("values",e,t,n),s=_("shape",e,t,n);return[r.scatterND(a,i,s)]}case"GatherNd":{let a=_("x",e,t,n),i=_("indices",e,t,n);return[r.gatherND(a,i)]}case"SparseToDense":{let a=_("sparseIndices",e,t,n),i=_("outputShape",e,t,n),s=_("sparseValues",e,t,n),o=_("defaultValue",e,t,n);return[r.sparseToDense(a,s,i,s.dtype===o.dtype?o:r.cast(o,s.dtype))]}case"TensorScatterUpdate":{let a=_("indices",e,t,n),i=_("values",e,t,n),s=_("tensor",e,t,n);return[r.tensorScatterUpdate(s,a,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},vlt=(e,t,n,r=Tr)=>{switch(e.op){case"SparseFillEmptyRows":{let{outputIndices:a,outputValues:i,emptyRowIndicator:s,reverseIndexMap:o}=r.sparse.sparseFillEmptyRows(_("indices",e,t,n),_("values",e,t,n),_("denseShape",e,t,n),_("defaultValue",e,t,n));return[a,i,s,o]}case"SparseReshape":{let{outputIndices:a,outputShape:i}=r.sparse.sparseReshape(_("inputIndices",e,t,n),_("inputShape",e,t,n),_("newShape",e,t,n));return[a,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(_("data",e,t,n),_("indices",e,t,n),_("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(_("data",e,t,n),_("indices",e,t,n),_("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},blt=(e,t,n,r=Tr)=>{switch(e.op){case"FFT":return[r.fft(_("x",e,t,n))];case"IFFT":return[r.ifft(_("x",e,t,n))];case"RFFT":return[r.rfft(_("x",e,t,n))];case"IRFFT":return[r.irfft(_("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},wlt=(e,t,n,r=Tr)=>{switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(_("input",e,t,n),_("pattern",e,t,n),_("rewrite",e,t,n),_("replaceGlobal",e,t,n))];case"StringNGrams":{let{nGrams:a,nGramsSplits:i}=r.string.stringNGrams(_("data",e,t,n),_("dataSplits",e,t,n),_("separator",e,t,n),_("nGramWidths",e,t,n),_("leftPad",e,t,n),_("rightPad",e,t,n),_("padWidth",e,t,n),_("preserveShortSequences",e,t,n));return[a,i]}case"StringSplit":{let{indices:a,values:i,shape:s}=r.string.stringSplit(_("input",e,t,n),_("delimiter",e,t,n),_("skipEmpty",e,t,n));return[a,i,s]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(_("input",e,t,n),_("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},xlt=(e,t,n,r=Tr)=>{switch(e.op){case"Cast":return[r.cast(_("x",e,t,n),_("dtype",e,t,n))];case"ExpandDims":{let a=_("axis",e,t,n);return[r.expandDims(_("x",e,t,n),a)]}case"Squeeze":{let a=_("axis",e,t,n);return[r.squeeze(_("x",e,t,n),a)]}case"Reshape":return[r.reshape(_("x",e,t,n),_("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(_("x",e,t,n),_("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(_("x",e,t,n),_("padding",e,t,n),_("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(_("x",e,t,n),_("padding",e,t,n),_("constantValue",e,t,n))];case"SpaceToBatchND":{let a=_("blockShape",e,t,n),i=_("paddings",e,t,n);return[r.spaceToBatchND(_("x",e,t,n),a,i)]}case"BatchToSpaceND":{let a=_("blockShape",e,t,n),i=_("crops",e,t,n);return[r.batchToSpaceND(_("x",e,t,n),a,i)]}case"DepthToSpace":{let a=_("blockSize",e,t,n),i=_("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(_("x",e,t,n),a,i)]}case"BroadcastTo":return[r.broadcastTo(_("x",e,t,n),_("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(_("s0",e,t,n),_("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};function U8(e,t,n,r,a=X){let i=((s,o,l)=>{switch(s.category){case"arithmetic":return a(()=>Kot(s,o,l));case"basic_math":return a(()=>Jot(s,o,l));case"control":return rlt(s,o,l);case"convolution":return a(()=>alt(s,o,l));case"creation":return a(()=>ilt(s,o,l));case"dynamic":return slt(s,o,l);case"evaluation":return a(()=>olt(s,o,l));case"image":return a(()=>flt(s,o,l));case"graph":return a(()=>llt(s,o,l));case"logical":return a(()=>dlt(s,o,l));case"matrices":return a(()=>plt(s,o,l));case"normalization":return a(()=>hlt(s,o,l));case"ragged":return a(()=>mlt(s,o,l));case"reduction":return a(()=>glt(s,o,l));case"slice_join":return a(()=>ylt(s,o,l));case"sparse":return a(()=>vlt(s,o,l));case"spectral":return a(()=>blt(s,o,l));case"string":return a(()=>wlt(s,o,l));case"transformation":return a(()=>xlt(s,o,l));case"hash_table":return clt(s,o,l,r);case"custom":let u=wie(s.op);if(u&&u.customExecutor)return u.customExecutor(new Qot(s,o,l));throw TypeError(`Custom op ${s.op} is not registered.`);default:throw TypeError(`Unknown op '${s.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return A.isPromise(i)?i.then(s=>[].concat(s)):[].concat(i)}var W8=class{constructor(e={},t={},n={},r={},a){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){let e=[];for(let t=0;t<this.contexts.length-1;t++){let n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(t=>t.id===0&&t.iterationId===0?"":`${t.frameName}-${t.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;let e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(let t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(let t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}};function V8(e,t,n,r){let a=new Set,i=[],s=null,o=null,l=new Set,u=new Set(Object.keys(e).map(d=>Ba(d)[0]));r=r||[];let c=new Set(r.map(d=>Ba(d.name)[0])),f=[...t];for(;f.length>0;){let d=f.pop();if((ff(d)||Elt(d)||Alt(d))&&s==null&&(s=d,o=s.children.map(p=>p.name).filter(p=>a.has(p))),a.add(d.name),n[d.name]==null&&!u.has(d.name)&&!c.has(d.name)){if(d.inputs.length===0){i.push(d.name);continue}d.inputs.forEach(p=>{l.has(p.name)||(l.add(p.name),f.push(p))})}}return{inputs:e,outputs:t,usedNodes:a,missingInputs:i,dynamicNode:s,syncInputs:o}}function Slt(e,t){let{usedNodes:n,inputs:r}=t,a=Object.keys(r).map(g=>Ba(g)[0]).map(g=>e.nodes[g]),i=e.initNodes||[],s=g=>n.has(typeof g=="string"?g:g.name);function o(g){return[...new Map(g.map(y=>[y.name,y])).values()]}let l=o([...a,...e.weights,...i]).filter(s),u=o([...l,...Object.values(e.nodes)]).filter(s),c=new Map(u.map(g=>[g.name,g])),f={};for(let g of u){f[g.name]=f[g.name]||0;for(let y of g.children)s(y)||(f[y.name]=Number.POSITIVE_INFINITY),f[y.name]=(f[y.name]||0)+1}let d=Object.entries(f).filter(([,g])=>g===0).map(([g])=>g),p=[...d];for(;d.length>0;){let g=d.pop(),y=c.get(g);for(let v of y.children.filter(s))--f[v.name]===0&&(p.push(v.name),d.push(v.name))}let h=p.map(g=>c.get(g)),m=klt(h,l);return Clt(m,l),m}function klt(e,t){let n=new Map(e.map(i=>[i.name,i])),r=t.map(i=>i.name),a=new Set(r);for(;r.length>0;){let i=r.pop(),s=n.get(i);for(let o of s.children)!n.has(o.name)||a.has(o.name)||(a.add(o.name),r.push(o.name))}return e.filter(i=>a.has(i.name))}var d2=class extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}};function Clt(e,t){let n=new Map(e.map((o,l)=>[o.name,l])),r=new Set(t.map(o=>o.name)),a=o=>r.has(typeof o=="string"?o:o.name),i=new Set(e.map(o=>o.name)),s=o=>i.has(typeof o=="string"?o:o.name);for(let o of e){for(let l of o.children.filter(s)){if(!n.has(l.name))throw new d2(`Child ${l.name} of node ${o.name} is unreachable.`);if(n.get(o.name)>n.get(l.name))throw new d2(`Node ${o.name} is scheduled to run after its child ${l.name}.`)}if(!a(o))for(let l of o.inputs){if(!n.has(l.name))throw new d2(`Input ${l.name} of node ${o.name} is unreachable.`);if(n.get(l.name)>n.get(o.name))throw new d2(`Node ${o.name} is scheduled to run before its input ${l.name}.`)}}}function Ilt(e){let t=new Map(e.map((o,l)=>[o.name,l])),n=Number.MAX_SAFE_INTEGER,r=e.map((o,l)=>ff(o)?n:l),a=o=>{let l=r[t.get(o.name)];return l??-1},i=e.map((o,l)=>o.children.map(a).reduce((u,c)=>Math.max(u,c),r[l])),s=new Map;for(let o=0;o<e.length;++o){let l=i[o];if(l===n)continue;let u=e[o],c=e[l];s.has(c.name)||s.set(c.name,[]),s.get(c.name).push(u)}return s}var Nlt=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Mlt=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Tlt=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function ff(e){return Nlt.has(e.op)}function Elt(e){return Mlt.has(e.op)}function Alt(e){return Tlt.has(e.op)}var G8=class Uie{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(t){let n=Object.keys(t).map(r=>t[r].map(a=>a.id));this._weightIds=[].concat(...n),this._weightMap=t}set resourceManager(t){this._resourceManager=t}get inputs(){return this._inputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(t=>t.signatureKey||t.name)}get outputNodes(){return this._outputs.map(t=>{let n=t.signatureKey||t.name;return t.defaultOutput?`${n}:${t.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((t,n)=>(t[n]=this._functions[n].signature,t),{})}constructor(t,n){this.graph=t,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,t.functions!=null&&Object.keys(t.functions).forEach(r=>{this._functionExecutorMap[r]=new Uie(t.functions[r],this)})}getCompilationKey(t,n){let r=t.map(i=>i.name).sort(),a=n.map(i=>i.name).sort();return r.join(this.SEPARATOR)+"--"+a.join(this.SEPARATOR)}compile(t,n){let r=V8(t,n,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:i,syncInputs:s}=r;if(i!=null)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${s}]`);if(a.length>0){let u=n.map(f=>f.name),c=Object.keys(t);throw new Error(`Cannot compute the outputs [${u}] from the provided inputs [${c}]. Missing the following inputs: [${a}]`)}let o=Slt(this.graph,r),l=Ilt(o);return{orderedNodes:o,nodeLiveUntilMap:l}}cloneAndKeepTensor(t){if(t==null)return null;let n=t.clone();return rr(n),n}cloneTensorList(t){return t?t.map(n=>this.cloneAndKeepTensor(n)):null}cloneTensorMap(t){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(t,n){this.disposeIntermediateTensors(),t=this.mapInputs(t);let r=Object.keys(t).sort();this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n);let a=r.map(d=>this.graph.nodes[Ba(d)[0]]),i=n.map(d=>Ba(d)[0]),s=new Set(i),o=i.map(d=>this.graph.nodes[d]);o.length===0&&(o=this._outputs);let l=this.getCompilationKey(a,o),u=this.compiledMap.get(l);u==null&&(u=this.compile(t,o),this.compiledMap.set(l,u));try{this.keepIntermediateTensors=ne().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}let c={},f={};return X(()=>{let d=new W8(this.weightMap,c,f,this.functionExecutorMap,this.parseNodeNameCache),p=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(t).forEach(y=>{let[v,b]=Ba(y,d),x=[];x[b]=t[y],p[v]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[v]=this.cloneTensorList(x))});let h=this.getFrozenTensorIds(p),{orderedNodes:m,nodeLiveUntilMap:g}=u;for(let y of m){if(p[y.name])continue;let v=U8(y,p,d,this._resourceManager);if(A.isPromise(v))throw new Error(`The execution of the op '${y.op}' returned a promise. Please use model.executeAsync() instead.`);p[y.name]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[y.name]=this.cloneTensorList(v)),this.checkTensorForDisposalWithNodeLiveUntilInfo(y,p,d,h,s,g.get(y.name))}return this.parent==null&&d.dispose(h),n.map(y=>Lr(y,p,d))})}getFrozenTensorIds(t){let n=[].concat.apply([],Object.keys(t).map(r=>t[r]).map(r=>r.map(a=>a.id)));return new Set(n)}checkTensorForDisposal(t,n,r,a,i,s,o){if(!(ff(n)||s.has(t))){for(let l of r[t])l!=null&&(o[l.id]=(o[l.id]||0)+n.children.length);for(let l of n.inputs){if(ff(l))continue;let u=R8(l.name,r,a);if(u!=null)for(let c of u){if(!c||c.kept||i.has(c.id))continue;let f=o[c.id];f===1?(c.dispose(),delete o[c.id]):f!=null&&o[c.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(t,n,r,a,i,s){function o(l){return ff(l)||i.has(l.name)}if(!(ff(t)||s==null))for(let l of s){if(o(l))continue;let u=R8(l.name,n,r);for(let c of u)!c||c.kept||a.has(c.id)||c.dispose()}}async executeAsync(t,n){return this._executeAsync(t,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(t=>{for(let n of t)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(t,n,r=!1,a={},i={}){this.disposeIntermediateTensors(),r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=ne().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}let s=new W8(this.weightMap,a,i,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));let o=await this.executeWithControlFlow(t,s,n,r),l=n.map(d=>Lr(d,o,s)),u=l.map(d=>d.id),c=Object.keys(t).map(d=>t[d].id),f=new Set([...u,...c,...this.weightIds]);return Object.values(o).forEach(d=>{d.forEach(p=>{p&&!p.isDisposed&&!f.has(p.id)&&p.dispose()})}),this.parent==null&&s.dispose(f),l}async executeFunctionAsync(t,n,r){let a=t.reduce((i,s,o)=>(i[this.inputs[o].name]=s,i),{});return this._executeAsync(a,this.outputNodes,!0,n,r)}async executeWithControlFlow(t,n,r,a){let i=Object.keys(t),s=i.map(x=>this.graph.nodes[Ba(x)[0]]),o=r.map(x=>Ba(x)[0]),l=new Set(o),u=o.map(x=>this.graph.nodes[x]);u.length===0&&(u=this._outputs);let{usedNodes:c,missingInputs:f,dynamicNode:d,syncInputs:p}=V8(t,u,this.weightMap,this._initNodes),h=[...s,...this.graph.weights,...this._initNodes||[]].map(x=>({node:x,contexts:n.currentContext})),m=Object.assign({},this.weightMap);Object.keys(t).forEach(x=>{let[S,k]=Ba(x),I=[];I[k]=t[x],m[S]=I});let g={},y=this.getFrozenTensorIds(m),v={};for(;h.length>0;){let x=this.processStack(s,h,n,m,v,y,l,g,c);await Promise.all(x)}d==null&&!a&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");let b=u.filter(x=>!ff(x)&&!Lr(x.name,m,n)).map(x=>x.name);if(b.length>0){let x="";throw d!=null&&(x=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${p}]`),new Error(`Cannot compute the outputs [${b}] from the provided inputs [${i}]. Consider providing the following inputs: [${f}]. ${x}`)}return m}processStack(t,n,r,a,i,s,o,l,u){let c=[];for(;n.length>0;){let f=n.pop();r.currentContext=f.contexts;let d="";if(f.node.op==="Enter"&&_("isConstant",f.node,a,r)&&([d]=tl(f.node.name,r)),a[f.node.name]==null){let p=U8(f.node,a,r,this._resourceManager);d||([d]=tl(f.node.name,r));let h=r.currentContext;A.isPromise(p)?c.push(p.then(m=>(a[d]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(m)),r.currentContext=h,this.checkTensorForDisposal(d,f.node,a,r,s,o,l),this.processChildNodes(f.node,n,r,a,i,u),m))):(a[d]=p,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(p)),this.checkTensorForDisposal(d,f.node,a,r,s,o,l),this.processChildNodes(f.node,n,r,a,i,u))}else this.processChildNodes(f.node,n,r,a,i,u)}return c}processChildNodes(t,n,r,a,i,s){t.children.forEach(o=>{let[l]=tl(o.name,r);i[l]||!s.has(o.name)||(o.op==="Merge"?o.inputNames.some(u=>!!Lr(u,a,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:o})):o.inputNames.every(u=>!!Lr(u,a,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:o})))})}dispose(){Object.keys(this.weightMap).forEach(t=>this.weightMap[t].forEach(n=>n.dispose()))}checkInputShapeAndType(t){Object.keys(t).forEach(n=>{let r=t[n],[a]=Ba(n),i=this.graph.nodes[a];if(i.attrParams.shape&&i.attrParams.shape.value){let s=i.attrParams.shape.value,o=s.length===r.shape.length&&r.shape.every((l,u)=>s[u]===-1||s[u]===l);A.assert(o,()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${s}], but was [${r.shape}]`)}i.attrParams.dtype&&i.attrParams.dtype.value&&A.assert(r.dtype===i.attrParams.dtype.value,()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(t){var n,r;let a={};for(let i in t){let s=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[i];s!=null?a[s.name]=t[i]:a[i]=t[i]}return a}checkInputs(t){let n=Object.keys(t).filter(r=>{let[a]=Ba(r);return this.graph.nodes[a]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(t){return t.map(n=>{var r,a;let i=(a=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||a===void 0?void 0:a[n];return i!=null?i.name:n},{})}checkOutputs(t){t.forEach(n=>{let[r]=Ba(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}},Llt=class{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(let e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(let e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}},_lt="?tfjs-format=file",jlt="model.json",WP=class{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,t={},n=jr){this.modelUrl=e,this.loadOptions=t,this.version="n/a",this.io=n,t==null&&(this.loadOptions={}),this.resourceManager=new Llt}findIOHandler(){let e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{let t=this.io.getLoadHandlers(e,this.loadOptions);if(t.length===0)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");let e=this.handler.load();return A.isPromise(e)?e.then(t=>t.getWeightStream==null?this.loadSync(t):this.loadStreaming(t)):this.loadSync(e)}loadSync(e){let t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");let t=await Gte(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;let n=this.artifacts.modelTopology,r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){let a=this.artifacts.userDefinedMetadata;a.signature!=null&&(r=a.signature),a.structuredOutputKeys!=null&&(this.structuredOutputKeys=a.structuredOutputKeys)}if(this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`,this.executor=new G8(P8.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){let a=P8.Instance.transformGraph(e.modelInitializer);this.initializer=new G8(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if(typeof e=="string"){let n=this.io.getSaveHandlers(e);if(n.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(n.length>1)throw new Error(`Found more than one (${n.length}) save handlers for URL '${e}'`);e=n[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){let t=e instanceof nt?[e]:e,n={};return t.forEach((r,a)=>n[this.structuredOutputKeys[a]]=r),n}return e}predict(e,t){let n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){let n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof nt)&&!Array.isArray(e)){let a=(t=this.signature)===null||t===void 0?void 0:t.inputs;if(a!=null)for(let i in a){let s=a[i];s.resourceId!=null&&(e[i]=this.resourceIdToCapturedInput[s.resourceId])}return e}e=Array.isArray(e)?e:[e];let n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((a,i)=>{var s,o,l;let u=(l=(o=(s=this.signature)===null||s===void 0?void 0:s.inputs)===null||o===void 0?void 0:o[i])===null||l===void 0?void 0:l.resourceId;return u!=null?a[i]=this.resourceIdToCapturedInput[u]:a[i]=e[r++],a},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){let t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){let a=n[r],i=t[a];this.resourceIdToCapturedInput[i.resourceId]=e[r]}}}execute(e,t){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);let n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);let n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Xe(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}};async function $lt(e,t={},n=jr){if(e==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");t==null&&(t={}),t.fromTFHub&&typeof e=="string"&&(e=Olt(e));let r=new WP(e,t,n);return await r.load(),r}function Dlt(e){if(e==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let t;if(e instanceof Array){let[r,a]=e;if(!r)throw new Error("modelJSON must be the first element of the array");if(!a||!(a instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in r))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in r))throw new Error("Model JSON is missing 'weightsManifest'");let i=jr.getWeightSpecs(r.weightsManifest),s=jr.getModelArtifactsForJSONSync(r,i,a);t=jr.fromMemorySync(s)}else if("load"in e)t=e;else if("modelTopology"in e&&"weightSpecs"in e&&"weightData"in e)t=jr.fromMemorySync(e);else throw new Error("Unknown model format");let n=new WP(t);return n.load(),n}function Olt(e){return e.endsWith("/")||(e=e+"/"),`${e}${jlt}${_lt}`}var Rlt="4.22.0",Wie={};et(Wie,{CSVDataset:()=>ese,Dataset:()=>h1,FileDataSource:()=>ose,TextLineDataset:()=>Xie,URLDataSource:()=>lse,array:()=>sut,csv:()=>but,func:()=>wut,generator:()=>xut,microphone:()=>kut,version_data:()=>Cut,webcam:()=>Sut,zip:()=>out});var Plt=Lc(vN()),Flt=Lc(vN());function zlt(e,t){return hC(e,t)}function hC(e,t,n=new Map,r=new Set){if(e==null)return null;if(typeof Blob=="function"&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);let a=t(e);if(a.recurse&&a.value!==null)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse)if(Sg(e)){let i=Array.isArray(e)?[]:{};r.add(e);for(let s in e){let o=e[s],l=hC(o,t,n,r);i[s]=l}return r.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}else throw new Error(`Can't recurse into non-iterable type: ${e}`);else return n.set(e,a.value),a.value}function Blt(e,t=Gie){return Vie(e,t)}function Vie(e,t,n=new Set){let r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");let a=t(e);if(a.recurse&&a.value!==null)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse)if(Sg(r)){let i=Array.isArray(r)?[]:{};n.add(r);for(let s in r){let o=e.map(u=>u[s]),l=Vie(o,t,n);i[s]=l}return n.delete(r),i}else throw new Error(`Can't recurse into non-iterable type: ${r}`);else return a.value}function Gie(e){return e===null?null:Sg(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}async function Hie(e,t){let n=new Map;hC(e,t,n);for(let r of Array.from(n.keys())){let a=n.get(r);if(A.isPromise(a)){let i=await a;n.set(r,i)}}return hC(e,t,n)}function Sg(e){let t=!1;if(ne().get("IS_BROWSER"))t=e instanceof TextDecoder;else{let{StringDecoder:n}=fte();t=e instanceof n}return e!=null&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||typeof e=="object"&&!(e instanceof nt)&&!(e instanceof Promise)&&!t)}function Ult(e){return e==null||Wlt(e)||Array.isArray(e)||typeof e=="object"&&e instanceof nt||A.isTypedArray(e)}function Wlt(e){return e===null||typeof e!="object"&&typeof e!="function"}function Vlt(e){return zlt(e,Glt)}function Glt(e){return e instanceof nt?{value:e.clone(),recurse:!1}:Sg(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var qie=class{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,e==null)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return this.length()===0}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(let t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);let e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");let e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");let t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}},Yie=class Qie extends qie{constructor(){super(Qie.INITIAL_CAPACITY)}isFull(){return!1}push(t){super.isFull()&&this.expand(),super.push(t)}unshift(t){super.isFull()&&this.expand(),super.unshift(t)}expand(){let t=this.capacity*2,n=new Array(t),r=this.length();for(let a=0;a<r;a++)n[a]=this.get(this.wrap(this.begin+a));this.data=n,this.capacity=t,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=r}};Yie.INITIAL_CAPACITY=32;function Kie(e){return new Ylt(e)}function VP(e){return new Qlt(e)}function Hlt(e,t){return new Jie(e,t)}function qlt(e,t=$u.FAIL){return new aut(e,t)}var Nr=class{async toArray(){let e=[],t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){let e=this.prefetch(100),t=[],n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new nut(this,e)}filter(e){return new eut(this,e)}map(e){return new tut(this,e)}mapAsync(e){return new H8(this,e)}serialMapAsync(e){return new H8(this,e).serial()}flatmap(e){return new rut(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile(t=>t===!0)}rowMajorBatch(e,t=!0){return new Xlt(this,e,t)}columnMajorBatch(e,t=!0,n=Gie){return this.rowMajorBatch(e,t).map(r=>Blt(r,n))}concatenate(e,t){return new Jie(Kie([this,e]),t)}take(e){return e<0||e==null?this:new Zlt(this,e)}skip(e){return e<0||e==null?this:new Jlt(this,e)}prefetch(e){return new Zie(this,e)}shuffle(e,t){return new iut(this,e,t)}serial(){return new Klt(this)}},Ylt=class extends Nr{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};let e=this.items[this.trav];return this.trav++,{value:Vlt(e),done:!1}}},Qlt=class extends Nr{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}},Klt=class extends Nr{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){return this.upstream.next()}},Jlt=class extends Nr{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){let e=await this.upstream.next();if(e.done)return e;Xe(e.value)}return this.upstream.next()}},Zlt=class extends Nr{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}},Xlt=class extends Nr{constructor(e,t,n=!0){super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){let e=[];for(;e.length<this.batchSize;){let t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}},eut=class extends Nr{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;){let e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;Xe(e.value)}}},tut=class extends Nr{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){let e=await this.upstream.next();if(e.done)return{value:null,done:!0};let t=Os.getTensorsInContainer(e.value),n=this.transform(e.value),r=Os.getTensorsInContainer(n);for(let a of t)Os.isTensorInList(a,r)||a.dispose();return{value:n,done:!1}}},nut=class extends Nr{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}},H8=class extends Nr{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){let e=await this.upstream.next();if(e.done)return{value:null,done:!0};let t=Os.getTensorsInContainer(e.value),n=await this.transform(e.value),r=Os.getTensorsInContainer(n);for(let a of t)Os.isTensorInList(a,r)||a.dispose();return{value:n,done:!1}}},GP=class extends Nr{constructor(){super(),this.outputQueue=new Yie,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.outputQueue.length()===0;)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}},rut=class extends GP{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){let e=await this.upstream.next();if(e.done)return!1;let t=Os.getTensorsInContainer(e.value),n=this.transform(e.value),r=Os.getTensorsInContainer(n);this.outputQueue.pushAll(n);for(let a of t)Os.isTensorInList(a,r)||a.dispose();return!0}},Jie=class extends Nr{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,this.iterator==null){let n=await this.moreIterators.next();if(n.done)return{value:null,done:!0};this.iterator=n.value,this.baseErrorHandler!=null&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}let t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}},$u;(function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"})($u||($u={}));var aut=class extends Nr{constructor(e,t=$u.FAIL){super(),this.iterators=e,this.mismatchMode=t,this.count=0,this.currentPromise=null}summary(){return"{TODO: fill in upstream of zip summaries} -> Zip"}async nextState(e){await e;let t=0,n=0;function r(i){return i instanceof Nr?{value:i.next().then(s=>(t++,s.done&&n++,s.value)),recurse:!1}:{value:null,recurse:!0}}let a=await Hie(this.iterators,r);if(t===n)return{value:null,done:!0};if(n>0)switch(this.mismatchMode){case $u.FAIL:throw new Error(`Zipped streams should have the same length. Mismatched at element ${this.count}.`);case $u.SHORTEST:return{value:null,done:!0};case $u.LONGEST:}return this.count++,{value:a,done:!1}}async next(){return this.currentPromise=this.nextState(this.currentPromise),this.currentPromise}},Zie=class extends Nr{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new qie(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){let e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}},iut=class extends Zie{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=Flt.alea(n||A.now().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){let e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(t.done)this.upstreamExhausted=!0;else return this.refill(),t}return{value:null,done:!0}}},h1=class{constructor(){this.size=null}batch(e,t=!0){let n=this;A.assert(e>0,()=>`batchSize needs to be positive, but it is
      ${e}`);let r;return this.size===1/0||this.size==null?r=this.size:t?r=Math.ceil(this.size/e):r=Math.floor(this.size/e),Fa(async()=>(await n.iterator()).columnMajorBatch(e,t,lut),r)}concatenate(e){let t=this,n;return this.size===1/0||e.size===1/0?n=1/0:this.size!=null&&e.size!=null?n=this.size+e.size:n=null,Fa(async()=>(await t.iterator()).concatenate(await e.iterator()),n)}filter(e){let t=this,n;return this.size===1/0?n=1/0:n=null,Fa(async()=>(await t.iterator()).filter(r=>X(()=>e(r))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){let t=this;return Fa(async()=>(await t.iterator()).map(n=>X(()=>e(n))),this.size)}mapAsync(e){let t=this;return Fa(async()=>(await t.iterator()).mapAsync(e),this.size)}prefetch(e){if(e==null)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");let t=this;return Fa(async()=>(await t.iterator()).prefetch(e),this.size)}repeat(e){let t=this,n;return this.size!=null&&e>0?n=this.size*e:e===0?n=0:this.size!=null&&(e===void 0||e<0)?n=1/0:n=null,Fa(async()=>{let r=VP(async()=>({value:await t.iterator(),done:!1}));return Hlt(r.take(e))},n)}skip(e){let t=this,n;return this.size!=null&&e>=0&&this.size>=e?n=this.size-e:this.size!=null&&(this.size<e||e===void 0||e<0)?n=0:n=null,Fa(async()=>(await t.iterator()).skip(e),n)}shuffle(e,t,n=!0){if(e==null||e<0)throw this.size==null?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);let r=this,a=Plt.alea(t||A.now().toString());return Fa(async()=>{let i=a.int32();return n&&(i+=a.int32()),(await r.iterator()).shuffle(e,i.toString())},this.size)}take(e){let t=this,n;return this.size!=null&&this.size>e?n=e:this.size!=null&&this.size<=e?n=this.size:n=null,Fa(async()=>(await t.iterator()).take(e),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}};h1.MAX_BUFFER_SIZE=1e4;function Fa(e,t=null){return new class extends h1{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function sut(e){return Fa(async()=>Kie(e),e.length)}function out(e){if(!Sg(e))throw new Error("The argument to zip() must be an object or array.");let t;if(Array.isArray(e))for(let n=0;n<e.length;n++)t=t==null?e[n].size:Math.min(t,e[n].size);else if(e instanceof Object)for(let n in e)t=t==null?e[n].size:Math.min(t,e[n].size);return Fa(async()=>{let n=await Hie(e,r=>{if(r instanceof h1)return{value:r.iterator(),recurse:!1};if(Sg(r))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")});return qlt(n,$u.SHORTEST)},t)}function lut(e){if(e===null)return null;let t=e[0];return Ult(t)?{value:uut(e),recurse:!1}:{value:null,recurse:!0}}function uut(e){if(e.length===0)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof nt?Yn(e):ia(e)}var Xie=class extends h1{constructor(e){super(),this.input=e}async iterator(){return(await this.input.iterator()).decodeUTF8().split(`
`).map(e=>(e.endsWith("\r")&&(e=e.slice(0,-1)),e))}},p2='"',ty=Symbol("out"),q8=Symbol("field"),h2=Symbol("quote"),PE=Symbol("quoteafterquote"),Y8=Symbol("quoteinquote"),ese=class extends h1{async columnNames(){return this.columnNamesValidated||await this.setColumnNames(),this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames}async setColumnNames(){let e=await this.maybeReadHeaderLine();if(!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");this.fullColumnNames&&e&&A.assert(e.length===this.fullColumnNames.length,()=>"The length of provided columnNames ("+this.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+")."),this.fullColumnNames||(this.fullColumnNames=e);let t=this.fullColumnNames.reduce((r,a)=>(r[a]=r[a]+1||1,r),{}),n=Object.keys(t).filter(r=>t[r]>1);if(A.assert(n.length===0,()=>"Duplicate column names found: "+n.toString()),this.columnConfigs){for(let r of Object.keys(this.columnConfigs))if(this.fullColumnNames.indexOf(r)===-1)throw new Error('The key "'+r+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").")}this.columnNamesValidated=!0}async maybeReadHeaderLine(){if(this.hasHeader){let e=await(await this.base.iterator()).next();if(e.done)throw new Error("No data was found for CSV parsing.");let t=e.value;return this.parseRow(t,!1)}else return null}constructor(e,t){super(),this.input=e,this.hasHeader=!0,this.fullColumnNames=null,this.columnNamesValidated=!1,this.columnConfigs=null,this.configuredColumnsOnly=!1,this.delimiter=",",this.delimWhitespace=!1,this.base=new Xie(e),t||(t={}),this.hasHeader=t.hasHeader!==!1,this.fullColumnNames=t.columnNames,this.columnConfigs=t.columnConfigs,this.configuredColumnsOnly=t.configuredColumnsOnly,t.delimWhitespace?(A.assert(t.delimiter==null,()=>"Delimiter should not be provided when delimWhitespace is true."),this.delimWhitespace=!0,this.delimiter=" "):this.delimiter=t.delimiter?t.delimiter:","}async iterator(){this.columnNamesValidated||await this.setColumnNames();let e=await this.base.iterator();return this.hasHeader&&(e=e.skip(1)),e.map(t=>this.makeDataElement(t))}makeDataElement(e){let t=this.parseRow(e),n={},r={};for(let a=0;a<this.fullColumnNames.length;a++){let i=this.fullColumnNames[a],s=this.columnConfigs?this.columnConfigs[i]:null;if(!(this.configuredColumnsOnly&&!s)){let o=t[a],l=null;if(o==="")if(s&&s.default!==void 0)l=s.default;else{if(s&&(s.required||s.isLabel))throw new Error(`Required column ${i} is empty in this line: ${e}`);l=void 0}else{let u=Number(o);if(isNaN(u))s&&s.dtype==="bool"?l=this.getBoolean(o):l=o;else if(!s||!s.dtype)l=u;else switch(s.dtype){case"float32":l=u;break;case"int32":l=Math.floor(u);break;case"bool":l=this.getBoolean(o);break;default:l=u}}s&&s.isLabel?r[i]=l:n[i]=l}}return Object.keys(r).length===0?n:{xs:n,ys:r}}getBoolean(e){return e==="1"||e.toLowerCase()==="true"?1:0}parseRow(e,t=!0){let n=[],r=0,a=e.length,i=ty;for(let s=0;s<a;s++)switch(i){case ty:switch(e.charAt(s)){case p2:r=s+1,i=h2;break;case this.delimiter:if(r=s+1,this.delimiter===" "&&this.delimWhitespace)break;n.push(""),i=ty;break;default:i=q8,r=s;break}break;case q8:switch(e.charAt(s)){case this.delimiter:n.push(e.substring(r,s)),i=ty,r=s+1;break}break;case h2:switch(e.charAt(s)){case p2:i=PE;break}break;case PE:switch(e.charAt(s)){case this.delimiter:n.push(e.substring(r,s-1)),i=ty,r=s+1;break;case p2:i=h2;break;default:i=Y8;break}break;case Y8:switch(e.charAt(s)){case p2:i=h2;break}break}if(i===PE?n.push(e.substring(r,a-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error(`Invalid row in csv file. Should have ${this.fullColumnNames.length} elements in a row, but got ${n}`);return n}},cut=class tse extends Nr{constructor(t){super(),this.microphoneConfig=t,this.isClosed=!1,this.fftSize=t.fftSize||1024;let n=Math.log2(this.fftSize);if(this.fftSize<0||n<4||n>14||!Number.isInteger(n))throw new Error(`Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got ${this.fftSize}`);if(this.numFrames=t.numFramesPerSpectrogram||43,this.sampleRateHz=t.sampleRateHz,this.columnTruncateLength=t.columnTruncateLength||this.fftSize,this.audioTrackConstraints=t.audioTrackConstraints,this.smoothingTimeConstant=t.smoothingTimeConstant||0,this.includeSpectrogram=t.includeSpectrogram!==!1,this.includeWaveform=t.includeWaveform===!0,!this.includeSpectrogram&&!this.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.")}summary(){return"microphone"}static async create(t={}){if(!ne().get("IS_BROWSER"))throw new Error("microphone API is only supported in browser environment.");let n=new tse(t);return await n.start(),n}async start(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:this.audioTrackConstraints==null?!0:this.audioTrackConstraints,video:!1})}catch(r){throw new Error(`Error thrown while initializing video stream: ${r.message}`)}if(!this.stream)throw new Error("Could not obtain audio from microphone.");let t=window.AudioContext||window.webkitAudioContext;if(this.audioContext=new t,!this.sampleRateHz)this.sampleRateHz=this.audioContext.sampleRate;else if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error(`Mismatch in sampling rate: Expected: ${this.sampleRateHz}; Actual: ${this.audioContext.sampleRate}`);let n=this.audioContext.createMediaStreamSource(this.stream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.fftSize*2,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize)}async next(){if(this.isClosed)return{value:null,done:!0};let t,n,r=await this.getAudioData();if(this.includeSpectrogram){let a=this.flattenQueue(r.freqDataQueue);t=this.getTensorFromAudioDataArray(a,[this.numFrames,this.columnTruncateLength,1])}if(this.includeWaveform){let a=this.flattenQueue(r.timeDataQueue);n=this.getTensorFromAudioDataArray(a,[this.numFrames*this.fftSize,1])}return{value:{spectrogram:t,waveform:n},done:!1}}async capture(){return(await this.next()).value}async getAudioData(){let t=[],n=[],r=0;return new Promise(a=>{let i=setInterval(()=>{this.includeSpectrogram&&(this.analyser.getFloatFrequencyData(this.freqData),this.freqData[0]===-1/0&&a({freqDataQueue:t,timeDataQueue:n}),t.push(this.freqData.slice(0,this.columnTruncateLength))),this.includeWaveform&&(this.analyser.getFloatTimeDomainData(this.timeData),n.push(this.timeData.slice())),++r===this.numFrames&&(clearInterval(i),a({freqDataQueue:t,timeDataQueue:n}))},this.fftSize/this.sampleRateHz*1e3)})}stop(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),this.stream!=null&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}toArray(){throw new Error("Can not convert infinite audio stream to array.")}getSampleRate(){return this.sampleRateHz}flattenQueue(t){let n=t[0].length,r=new Float32Array(t.length*n);return t.forEach((a,i)=>r.set(a,i*n)),r}getTensorFromAudioDataArray(t,n){let r=new Float32Array(A.sizeFromShape(n));return r.set(t,r.length-t.length),ia(r,n)}},fut=class nse extends Nr{constructor(t,n){if(super(),this.webcamVideoElement=t,this.webcamConfig=n,this.isClosed=!0,this.resize=!1,this.needToResize())if(this.resize=!0,this.cropSize=[this.webcamConfig.resizeHeight,this.webcamConfig.resizeWidth],this.cropBoxInd=Ot([0],"int32"),this.webcamConfig.centerCrop){let r=this.webcamConfig.resizeWidth*1/this.webcamVideoElement.width,a=this.webcamConfig.resizeHeight*1/this.webcamVideoElement.height,i=(1-r)/2,s=(1-a)/2,o=i+r,l=a+s;this.cropBox=Mo([s,i,l,o],[1,4])}else this.cropBox=Mo([0,0,1,1],[1,4])}summary(){return"webcam"}static async create(t,n={}){if(!ne().get("IS_BROWSER"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!t){if(t=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");t.width=n.resizeWidth,t.height=n.resizeHeight}let r=new nse(t,n);return await r.start(),r}async start(){this.webcamConfig.facingMode&&A.assert(this.webcamConfig.facingMode==="user"||this.webcamConfig.facingMode==="environment",()=>`Invalid webcam facing mode: ${this.webcamConfig.facingMode}. Please provide 'user' or 'environment'`);try{this.stream=await navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})}catch(t){throw t.message=`Error thrown while initializing video stream: ${t.message}`,t}if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(t){console.log(t),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,new Promise(t=>{this.webcamVideoElement.onloadedmetadata=()=>{t()}})}async next(){if(this.isClosed)return{value:null,done:!0};let t;try{t=Fw.fromPixels(this.webcamVideoElement)}catch(n){throw new Error(`Error thrown converting video to pixels: ${JSON.stringify(n)}`)}if(this.resize)try{return{value:this.cropAndResizeFrame(t),done:!1}}catch(n){throw new Error(`Error thrown cropping the video: ${n.message}`)}finally{t.dispose()}else return{value:t,done:!1}}needToResize(){return!!(this.webcamConfig.resizeWidth&&this.webcamConfig.resizeHeight&&(this.webcamVideoElement.width!==this.webcamConfig.resizeWidth||this.webcamVideoElement.height!==this.webcamConfig.resizeHeight))}cropAndResizeFrame(t){return X(()=>{let n=wr(ve(t,"float32"),0),r;r=mi.cropAndResize(n,this.cropBox,this.cropBoxInd,this.cropSize,"bilinear");let a=r.shape;return Z(r,a.slice(1))})}async capture(){return(await this.next()).value}stop(){this.stream.getTracks().forEach(t=>t.stop());try{this.webcamVideoElement.srcObject=null}catch(t){console.log(t),this.webcamVideoElement.src=null}this.isClosed=!0}toArray(){throw new Error("Can not convert infinite video stream to array.")}},rse=class{},ase=class extends Nr{split(e){return new dut(this,e)}},dut=class extends ase{constructor(e,t){super(),this.upstream=e,this.impl=new put(e,t)}summary(){return this.impl.summary()}async next(){return this.impl.next()}},put=class extends GP{constructor(e,t){super(),this.upstream=e,this.separator=t,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){let e=await this.upstream.next();if(e.done)return this.carryover===""?!1:(this.outputQueue.push(this.carryover),this.carryover="",!0);let t=e.value.split(this.separator);t[0]=this.carryover+t[0];for(let n of t.slice(0,-1))this.outputQueue.push(n);return this.carryover=t[t.length-1],!0}},hut=class extends Nr{decodeUTF8(){return new mut(this)}},mut=class extends ase{constructor(e){super(),this.upstream=e,this.impl=new gut(e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}},gut=class extends GP{constructor(e){if(super(),this.upstream=e,ne().get("IS_BROWSER"))this.decoder=new TextDecoder("utf-8");else{let{StringDecoder:t}=fte();this.decoder=new t("utf8")}}summary(){return`${this.upstream.summary()} -> Utf8`}async pump(){let e=await this.upstream.next(),t;if(e.done)return!1;t=e.value;let n;return ne().get("IS_BROWSER")?n=this.decoder.decode(t,{stream:!0}):n=this.decoder.write(Buffer.from(t.buffer)),this.outputQueue.push(n),!0}},ise=class extends hut{constructor(e,t={}){super(),this.file=e,this.options=t,A.assert(e instanceof Uint8Array||(ne().get("IS_BROWSER")?e instanceof File||e instanceof Blob:!1),()=>"FileChunkIterator only supports File, Blob and Uint8Array right now."),this.offset=t.offset||0,this.chunkSize=t.chunkSize||1024*1024}summary(){return`FileChunks ${this.file}`}async next(){return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?{value:null,done:!0}:{value:await new Promise((e,t)=>{let n=this.offset+this.chunkSize;if(this.file instanceof Uint8Array)e(new Uint8Array(this.file.slice(this.offset,n)));else{let r=new FileReader;r.onload=i=>{let s=r.result;if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),!(s instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(s)},r.onabort=i=>t(new Error("Aborted")),r.onerror=i=>t(new Error(i.type));let a=this.file.slice(this.offset,n);r.readAsArrayBuffer(a)}this.offset=n}),done:!1}}};async function yut(e,t={},n){let r,a;typeof e=="string"?r=e:(r=e.url,a=vut(e));let i=await(0,A.fetch)(r,a);if(i.ok){let s=new Uint8Array(await i.arrayBuffer());return new ise(s,t)}else throw new Error(i.statusText)}var vut=e=>({method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity});function sse(e){return typeof e=="string"&&e.slice(0,7)==="file://"}var ose=class extends rse{constructor(e,t={}){super(),this.input=e,this.options=t}async iterator(){if(sse(this.input)&&ne().get("IS_NODE")){let e=OD();this.input=e.readFileSync(this.input.slice(7))}return new ise(this.input,this.options)}},lse=class extends rse{constructor(e,t={}){super(),this.url=e,this.fileOptions=t}async iterator(){return sse(this.url)?new ose(this.url,this.fileOptions).iterator():yut(this.url,this.fileOptions)}};function but(e,t={}){return new ese(new lse(e),t)}function wut(e){let t=VP(e);return Fa(async()=>t)}function xut(e){return Fa(async()=>{let t=await e();return VP(()=>t.next())})}async function Sut(e,t){return fut.create(e,t)}async function kut(e){return cut.create(e)}var Cut="4.22.0";function Fe(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&A.assert(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the CPU backend.`)})}var Iut=Uo.whereImpl,HP=class use extends Jb{nextDataId(){return use.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new bN(this,Ui())}write(t,n,r){this.firstUse&&(this.firstUse=!1,ne().get("IS_NODE")&&R.warn(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));let a={id:this.nextDataId()};return this.data.set(a,{values:t,dtype:r,refCount:1}),a}makeTensorInfo(t,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&A.isString(r[0])){let i=r.map(s=>A.encodeString(s));a=this.write(i,t,n)}else a=this.write(r,t,n);return{dataId:a,shape:t,dtype:n}}refCount(t){return this.data.has(t)?this.data.get(t).refCount:0}incRef(t){let n=this.data.get(t);n.refCount++}decRef(t){if(this.data.has(t)){let n=this.data.get(t);n.refCount--}}move(t,n,r,a,i){this.data.set(t,{values:n,dtype:a,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(t){return this.readSync(t)}readSync(t){let{dtype:n,complexTensorInfos:r}=this.data.get(t);if(n==="complex64"){let a=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return R.mergeRealAndImagArrays(a,i)}return A.convertBackendValuesAndArrayBuffer(this.data.get(t).values,n)}bufferSync(t){let n=this.readSync(t.dataId);if(t.dtype==="string")try{let r=n.map(a=>A.decodeString(a));return st(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return st(t.shape,t.dtype,n)}makeOutput(t,n,r){return Ui().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,t),this)}disposeData(t,n=!1){if(this.data.has(t)){if(this.data.get(t).refCount--,!n&&this.data.get(t).refCount>0)return!1;let{complexTensorInfos:r}=this.data.get(t);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(t)}return!0}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}async time(t){let n=A.now();return t(),{kernelMs:A.now()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(t){Fe([t],"where");let n=this.readSync(t.dataId);return Iut(t.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}};HP.nextDataId=0;var qP={};et(qP,{addImpl:()=>dse,bincountImpl:()=>QP,bincountReduceImpl:()=>pse,bitwiseAndImpl:()=>hse,castImpl:()=>fse,ceilImpl:()=>mse,concatImpl:()=>KP,equalImpl:()=>gse,expImpl:()=>vse,expm1Impl:()=>wse,floorDivImpl:()=>Sse,floorImpl:()=>xse,gatherNdImpl:()=>kse,gatherV2Impl:()=>Cse,greaterEqualImpl:()=>Nse,greaterImpl:()=>Ise,lessEqualImpl:()=>Tse,lessImpl:()=>Mse,linSpaceImpl:()=>Ese,logImpl:()=>Ase,maxImpl:()=>Lse,maximumImpl:()=>_se,minimumImpl:()=>jse,multiplyImpl:()=>JP,negImpl:()=>$se,notEqualImpl:()=>Dse,prodImpl:()=>Ose,raggedGatherImpl:()=>Rse,raggedRangeImpl:()=>Pse,raggedTensorToTensorImpl:()=>Fse,rangeImpl:()=>XP,rsqrtImpl:()=>zse,scatterImpl:()=>Sf,sigmoidImpl:()=>Cct,simpleAbsImpl:()=>cse,sliceImpl:()=>gC,sparseFillEmptyRowsImpl:()=>Use,sparseReshapeImpl:()=>Wse,sparseSegmentReductionImpl:()=>e6,sqrtImpl:()=>Mct,squaredDifferenceImpl:()=>Vse,staticRegexReplaceImpl:()=>Gse,stridedSliceImpl:()=>Hse,stringNGramsImpl:()=>t6,stringSplitImpl:()=>n6,stringToHashBucketFastImpl:()=>r6,subImpl:()=>qse,tileImpl:()=>Yse,topKImpl:()=>Kse,transposeImpl:()=>ZP,uniqueImpl:()=>i6});function cse(e){let t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var Nut=e=>{let{x:t}=e.inputs,n=e.backend;Fe(t,"abs");let r=new Float32Array(A.sizeFromShape(t.shape)),a=n.data.get(t.dataId).values;return r=cse(a),n.makeOutput(r,t.shape,t.dtype)},Mut={kernelName:n0,backendName:"cpu",kernelFunc:Nut};function zn(e){return(t,n,r,a,i)=>{let s=R.assertAndGetBroadcastShape(t,n),o=s.length,l=A.computeStrides(s),u=A.sizeFromShape(s),c=A.getTypedArrayFromDType(i,u),f=t.length,d=n.length,p=A.computeStrides(t),h=A.computeStrides(n),m=R.getBroadcastDims(t,s),g=R.getBroadcastDims(n,s);if(m.length+g.length===0)for(let y=0;y<c.length;++y)c[y]=e(r[y%r.length],a[y%a.length]);else for(let y=0;y<c.length;++y){let v=A.indexToLoc(y,o,l),b=v.slice(-f);m.forEach(I=>b[I]=0);let x=A.locToIndex(b,f,p),S=v.slice(-d);g.forEach(I=>S[I]=0);let k=A.locToIndex(S,d,h);c[y]=e(r[x],a[k])}return[c,s]}}function Wa(e){let{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,o=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(o.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",s)},o}var Tut={kernelName:SN,backendName:"cpu",kernelFunc:Wa};function mC(e,t,n="float32"){if(n==="complex64"){let a=mC(e,t,"float32"),i=mC(e,t,"float32");return Wa({inputs:{real:a,imag:i},backend:e})}let r=A.makeZerosTypedArray(A.sizeFromShape(t),n);return e.makeTensorInfo(t,n,r)}function Oo(e){let{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var Eut={kernelName:fp,backendName:"cpu",kernelFunc:Oo};function pd(e){let{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var Aut={kernelName:$N,backendName:"cpu",kernelFunc:pd};function fse(e,t,n,r){if(r==="int32"){let a=Int32Array.from(e);return[t,"int32",a]}if(r==="bool"){let a=A.toTypedArray([0],n),[i,s]=zn((o,l)=>o!==l?1:0)(t,[],e,a,"bool");return[s,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function yc(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:i}=r;if(i==="complex64"){if(a.dtype==="complex64")return Oo({inputs:{x:a},backend:n});let c=mC(n,a.shape,a.dtype),f=yc({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),d=Wa({inputs:{real:f,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),d}if(a.dtype==="complex64"){let c=pd({inputs:{input:a},backend:n}),f=yc({inputs:{x:c},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(c),f}if(!A.hasEncodingLoss(a.dtype,i)){let c=Oo({inputs:{x:a},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:i}}let s=n.data.get(a.dataId).values,[o,l,u]=fse(s,a.shape,a.dtype,i);return n.makeTensorInfo(o,l,u)}var Lut={kernelName:Hd,backendName:"cpu",kernelFunc:yc};function cr(e,t,n,r){return n==null?({inputs:a,backend:i})=>{let{a:s,b:o}=a,l=i;Fe([s,o],e);let u=l.data.get(s.dataId).values,c=l.data.get(o.dataId).values,f=s.dtype==="string"?R.fromUint8ToStringArray(u):u,d=s.dtype==="string"?R.fromUint8ToStringArray(c):c,p=r||s.dtype,[h,m]=t(s.shape,o.shape,f,d,p);return l.makeTensorInfo(m,p,h)}:({inputs:a,backend:i})=>{let{a:s,b:o}=a,l=i;if(s.dtype==="complex64"||o.dtype==="complex64"){let u=yc({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),c=l.data.get(u.dataId),f=c.complexTensorInfos.real,d=c.complexTensorInfos.imag,p=l.data.get(f.dataId).values,h=l.data.get(d.dataId).values,m=yc({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),g=l.data.get(m.dataId),y=g.complexTensorInfos.real,v=g.complexTensorInfos.imag,b=l.data.get(y.dataId).values,x=l.data.get(v.dataId).values,[S,k,I]=n(s.shape,o.shape,p,h,b,x),N=l.makeTensorInfo(I,"float32",S),T=l.makeTensorInfo(I,"float32",k),L=Wa({inputs:{real:N,imag:T},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(N),l.disposeIntermediateTensorInfo(T),L}else{let u=l.data.get(s.dataId).values,c=l.data.get(o.dataId).values,f=r||s.dtype,[d,p]=t(s.shape,o.shape,u,c,f);return l.makeTensorInfo(p,f,d)}}}function YP(e){return(t,n,r,a,i,s)=>{let o=R.assertAndGetBroadcastShape(t,n),l=A.sizeFromShape(o),u=o.length,c=A.computeStrides(o),f=A.getTypedArrayFromDType("float32",l),d=A.getTypedArrayFromDType("float32",l),p=R.getBroadcastDims(t,o),h=R.getBroadcastDims(n,o),m=R.mergeRealAndImagArrays(r,a),g=R.mergeRealAndImagArrays(i,s),y=t.length,v=A.computeStrides(t),b=n.length,x=A.computeStrides(n);if(p.length+h.length===0)for(let S=0;S<f.length;S++){let k=S%m.length,I=S%g.length,N=e(m[k*2],m[k*2+1],g[I*2],g[I*2+1]);f[S]=N.real,d[S]=N.imag}else for(let S=0;S<f.length;S++){let k=A.indexToLoc(S,u,c),I=k.slice(-y);p.forEach(M=>I[M]=0);let N=A.locToIndex(I,y,v),T=k.slice(-b);h.forEach(M=>T[M]=0);let L=A.locToIndex(T,b,x),E=e(m[N*2],m[N*2+1],g[L*2],g[L*2+1]);f[S]=E.real,d[S]=E.imag}return[f,d,o]}}var dse=zn((e,t)=>e+t),_ut=YP((e,t,n,r)=>({real:e+n,imag:t+r})),kg=cr(_c,dse,_ut),jut={kernelName:_c,backendName:"cpu",kernelFunc:kg};function QP(e,t,n,r,a){let i=A.sizeFromShape(r),s=A.makeZerosTypedArray(a,n);for(let o=0;o<e.length;o++){let l=e[o];if(l<0)throw new Error("Input x must be non-negative!");l>=a||(i>0?s[l]+=t[o]:s[l]+=1)}return s}function pse(e,t,n,r=!1){let a=e.shape[0],i=e.shape[1],s=st([a,n],t.dtype);for(let o=0;o<a;o++)for(let l=0;l<i;l++){let u=e.get(o,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?s.set(1,o,u):t.size>0?s.set(s.get(o,u)+t.get(o,l),o,u):s.set(s.get(o,u)+1,o,u))}return s}var hse=zn((e,t)=>e&t),$ut=cr(c0,hse),Dut={kernelName:c0,backendName:"cpu",kernelFunc:$ut};function Wo(e){return(t,n,r)=>{let a=A.getArrayFromDType(n,t.length);for(let i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}function Ut(e,t,n){let r=Wo(t);return Bc(e,r,n)}function Bc(e,t,n){return({inputs:r,attrs:a,backend:i})=>{let{x:s}=r;Fe(s,e);let o=i,l=o.data.get(s.dataId).values,u;if(s.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=R.fromUint8ToStringArray(l)}else u=l;let c=n||s.dtype,f=t(u,c,a);return o.makeTensorInfo(s.shape,c,f)}}var mse=Wo(e=>Math.ceil(e)),Out=Bc(qd,mse),Rut={kernelName:qd,backendName:"cpu",kernelFunc:Out};function KP(e,t,n,r){let a=A.getArrayFromDType(n,A.sizeFromShape(t));if(r&&n!=="string"){let i=0;e.forEach(s=>{let o=A.sizeFromShape(s.shape);a.set(s.vals,i),i+=o})}else{let i=0;e.forEach(s=>{let o=n==="string"?R.fromUint8ToStringArray(s.vals):s.vals,l=0;for(let u=0;u<s.shape[0];++u){let c=u*t[1]+i;for(let f=0;f<s.shape[1];++f)a[c+f]=o[l++]}i+=s.shape[1]})}return a}var gse=zn((e,t)=>e===t?1:0),yse=cr(v0,gse,null,"bool"),Put={kernelName:v0,backendName:"cpu",kernelFunc:yse},vse=Wo(e=>Math.exp(e)),bse=Bc(ip,vse,"float32"),Fut={kernelName:ip,backendName:"cpu",kernelFunc:bse},wse=Wo(e=>Math.expm1(e)),zut=Bc(sp,wse),But={kernelName:sp,backendName:"cpu",kernelFunc:zut},xse=Wo(e=>Math.floor(e)),Uut=Bc(op,xse),Wut={kernelName:op,backendName:"cpu",kernelFunc:Uut},Sse=zn((e,t)=>Math.floor(e/t)),Vut=cr(lp,Sse,null,"int32"),Gut={kernelName:lp,backendName:"cpu",kernelFunc:Vut};function kse(e,t,n,r,a,i,s,o,l){let u=st([r,i],n);for(let c=0;c<r;c++){let f=[],d=0;for(let p=0;p<a;p++){let h=e[c*a+p];d+=h*s[p],f.push(h)}if(d<0||d>=l/i)throw new Error(`Invalid indices: ${f} does not index into ${o}`);for(let p=0;p<i;p++)u.values[c*i+p]=t.get(...t.indexToLoc(d*i+p))}return u}function Cse(e,t,n){let r=st(n,e.dtype);for(let a=0;a<r.size;++a){let i=r.indexToLoc(a).slice(),s=i[0],o=i[2],l=t.locToIndex([s,o]);i[2]=t.values[l];let u=e.locToIndex(i);0<=u&&u<e.values.length&&(r.values[a]=e.values[u])}return r}var Ise=zn((e,t)=>e>t?1:0),Hut=cr(k0,Ise,null,"bool"),qut={kernelName:k0,backendName:"cpu",kernelFunc:Hut},Nse=zn((e,t)=>e>=t?1:0),Yut=cr(cp,Nse,null,"bool"),Qut={kernelName:cp,backendName:"cpu",kernelFunc:Yut},Mse=zn((e,t)=>e<t?1:0),Kut=cr(C0,Mse,null,"bool"),Jut={kernelName:C0,backendName:"cpu",kernelFunc:Kut},Tse=zn((e,t)=>e<=t?1:0),Zut=cr(I0,Tse,null,"bool"),Xut={kernelName:I0,backendName:"cpu",kernelFunc:Zut};function Ese(e,t,n){let r=(t-e)/(n-1),a=A.makeZerosTypedArray(n,"float32");a[0]=e;for(let i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}var Ase=Wo(e=>Math.log(e)),ect=Bc(gp,Ase),tct={kernelName:gp,backendName:"cpu",kernelFunc:ect};function Lse(e,t,n,r){let a=A.getTypedArrayFromDType(r,A.sizeFromShape(n));for(let i=0;i<a.length;++i){let s=i*t,o=e[s];for(let l=0;l<t;++l){let u=e[s+l];(Number.isNaN(u)||u>o)&&(o=u)}a[i]=o}return a}var _se=zn((e,t)=>Math.max(e,t)),nct=cr(wp,_se),rct={kernelName:wp,backendName:"cpu",kernelFunc:nct},jse=zn((e,t)=>Math.min(e,t)),act=cr(Cp,jse),ict={kernelName:Cp,backendName:"cpu",kernelFunc:act},JP=zn((e,t)=>e*t),sct=YP((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})),zM=cr(Mp,JP,sct),oct={kernelName:Mp,backendName:"cpu",kernelFunc:zM};function $se(e,t,n){let r=A.createScalarValue(-1,n);return JP([],t,r,e,n)}function lct(e){let{inputs:t,backend:n}=e,{x:r}=t;Fe(r,"neg");let a=n.data.get(r.dataId).values,[i,s]=$se(a,r.shape,r.dtype);return n.makeTensorInfo(s,r.dtype,i)}var uct={kernelName:j0,backendName:"cpu",kernelFunc:lct},Dse=zn((e,t)=>e!==t?1:0),cct=cr($0,Dse,null,"bool"),fct={kernelName:$0,backendName:"cpu",kernelFunc:cct};function ZP(e,t,n,r,a){let i=t.length,s=A.sizeFromShape(t),o=A.computeStrides(t),l=A.computeStrides(a),u=A.getTypedArrayFromDType(n,A.sizeFromShape(a));for(let c=0;c<s;++c){let f=A.indexToLoc(c,i,o),d=new Array(f.length);for(let h=0;h<d.length;h++)d[h]=f[r[h]];let p=A.locToIndex(d,i,l);u[p]=e[c]}return u}function Ea(e){let{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:i}=n;Fe(a,"transpose");let s=a.shape.length,o=new Array(s);for(let c=0;c<o.length;c++)o[c]=a.shape[i[c]];let l=r.data.get(a.dataId).values,u=ZP(l,a.shape,a.dtype,i,o);return{dataId:r.write(u,o,a.dtype),shape:o,dtype:a.dtype}}var dct={kernelName:hl,backendName:"cpu",kernelFunc:Ea};function Ose(e,t,n,r){let[a,i]=R.computeOutAndReduceShapes(e,r),s=Ci(t,"int32"),o=A.makeZerosTypedArray(A.sizeFromShape(a),s),l=A.sizeFromShape(i);for(let u=0;u<o.length;++u){let c=u*l,f=1;for(let d=0;d<l;++d)f*=n[c+d];o[u]=f}return{outVals:o,outShape:a,outDtype:s}}function pct(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;Fe(a,"prod");let o=a.shape.length,l=A.parseAxisParam(i,a.shape),u=R.getAxesPermutation(l,o),c=l,f=a,d=[];u!=null&&(f=Ea({inputs:{x:a},backend:n,attrs:{perm:u}}),d.push(f),c=R.getInnerMostAxes(c.length,o));let p=n.data.get(f.dataId).values,{outVals:h,outShape:m,outDtype:g}=Ose(f.shape,f.dtype,p,c),y=m;return s&&(y=R.expandShapeToKeepDim(m,l)),d.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.makeTensorInfo(y,g,h)}var hct={kernelName:_p,backendName:"cpu",kernelFunc:pct};function mct(e,t,n){e.forEach((r,a)=>{if(r<0||r>=n){let i=A.indexToLoc(a,t.length,A.computeStrides(t)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function gct(e,t){for(let n=0;n<e.length;++n){let r=e[n],a=n===e.length-1?t:e[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function yct(e,t,n,r){let a=[],i=0,s=t.length-1+n.length,o=new Array(s).fill(null).map(()=>[0]);gct(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];let c=t[u+1];for(let f=1;f<l+1;++f)o[u].push(f*c)}for(let u=0;u<e.length;++u){let c=e[u],f=e[u]+1;for(let d=0;d<n.length;++d){let p=n[d],h=d+t.length-1;if(h>=0){let m=o[h],g=m[m.length-1]-p[c];for(let y=c;y<f;++y)o[h].push(p[y+1]+g)}c=p[c],f=p[f]}f!==c&&(a.push([c,f]),i+=f-c)}return{outSplits:o,valueSlices:a,numValues:i}}function vct(e){let t=[];for(let n=0;n<e.length;++n){let r=e[n].length,a=A.getArrayFromDType("int32",r);t.push(a),e[n].forEach((i,s)=>a[s]=i)}return t}function Q8(e,t){let n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function bct(e,t,n,r,a,i){let s=Q8(t,2)[1],o=Q8(i,2)[1],l=0;for(let u of n)for(let c=u[0];c<u[1];++c){for(let f=0;f<r;++f)a[l*o+f]=e[c*s+f];++l}}function wct(e,t,n,r,a){let i=t.slice();i[0]=a;let s=A.getArrayFromDType(n,A.sizeFromShape(i)),o=e.length,l=o===0?0:o/t[0];return bct(e,t,r,l,s,i),[s,i]}function Rse(e,t,n,r,a,i,s,o){if(e.length===0)throw new Error("paramsNestedSplits must be non empty");if(t[0].length===0)throw new Error("Split tensors must not be scalars");let l=t[0][0]-1;if(mct(i,s,l),r.length===0)throw new Error("params.rank must be nonzero");let u=r[0],{outSplits:c,valueSlices:f,numValues:d}=yct(i,s,e,u),p=vct(c),h=wct(n,r,a,f,d);return[p,h[0],h[1]]}var K8=2147483647;function Pse(e,t,n,r,a,i,s){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");let o=t.length===0,l=a.length===0,u=s.length===0,c=[];o||c.push(t[0]),l||c.push(a[0]),u||c.push(s[0]);for(let g=1;g<c.length;++g)if(c[g]!==c[g-1])throw new Error("starts, limits, and deltas must have the same shape");let f=c.length===0?1:c[0],d=A.getArrayFromDType("int32",f+1);d[0]=0;for(let g=0;g<f;++g){let y=o?e[0]:e[g],v=l?r[0]:r[g],b=u?i[0]:i[g];if(b===0)throw new Error("Requires delta != 0");let x;if(b>0&&v<y||b<0&&v>y)x=0;else if(x=Math.ceil(Math.abs((v-y)/b)),x>K8)throw new Error(`Requires ((limit - start) / delta) <= ${K8}`);d[g+1]=d[g]+x}let p=d[f],h=A.getArrayFromDType(n,p),m=0;for(let g=0;g<f;++g){let y=d[g+1]-d[g],v=o?e[0]:e[g],b=u?i[0]:i[g];for(let x=0;x<y;++x)h[m++]=v,v+=b}return[d,h]}var Fi=R.RowPartitionType,xct=class HL{constructor(t,n,r,a,i,s,o,l,u,c){this.shape=t,this.shapeShape=n,this.values=r,this.valuesShape=a,this.valuesDType=i,this.defaultValue=s,this.defaultValueShape=o,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=R.getRowPartitionTypesHelper(c),this.raggedRank=R.getRaggedRank(this.rowPartitionTypes)}getRowPartitionTypeByDimension(t){return this.rowPartitionTypes[0]===Fi.FIRST_DIM_SIZE?this.rowPartitionTypes[t+1]:this.rowPartitionTypes[t]}getRowPartitionTensor(t){return this.rowPartitionTypes[0]===Fi.FIRST_DIM_SIZE?this.rowPartitionValues[t+1]:this.rowPartitionValues[t]}getMaxWidth(t){let n=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case Fi.VALUE_ROWIDS:return HL.getMaxWidthValueRowID(n);case Fi.ROW_SPLITS:return HL.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${Fi[this.getRowPartitionTypeByDimension(t-1)]}`)}}static getMaxWidthRowSplit(t){let n=t.length;if(n===0||n===1)return 0;let r=0;for(let a=0;a<n-1;++a){let i=t[a+1]-t[a];i>r&&(r=i)}return r}static getMaxWidthValueRowID(t){let n=t.length;if(n===0)return 0;let r=0,a=t[0],i=0;for(let s=1;s<n;++s){let o=t[s];o!==a&&(a=o,i=Math.max(s-r,i),r=s)}return Math.max(n-r,i)}tensorShapeFromTensor(t,n,r=!0){if(n.length===0){if(t[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Z8(t,r)}calculateOutputSize(t){let n=this.valuesShape,r=this.defaultValueShape;R.validateDefaultValueShape(r,n);let a=this.tensorShapeFromTensor(this.shape,this.shapeShape),i=R.combineRaggedTensorToTensorShapes(this.raggedRank,a,n);i[0]<0&&(i[0]=t);for(let s=1;s<=this.raggedRank;++s)i[s]<0&&(i[s]=this.getMaxWidth(s));return i}calculateFirstParentOutputIndex(t,n,r){let a=Math.min(t,r),i=[],s=0;for(let o=0;o<a;++o,s+=n)i.push(s);for(let o=a;o<t;++o)i.push(-1);return A.assert(i.length===t,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(t,n,r,a){let i=t.length,s=[];for(let o=0;o<i-1;++o){let l=t[o+1]-t[o],u=Math.min(a,l),c=n[o];c===-1&&(u=0);for(let f=0;f<u;++f)s.push(c),c+=r;for(let f=0;f<l-u;++f)s.push(-1)}if(i>0&&s.length!==t[i-1])throw new Error("Invalid row split size.");return s}calculateOutputIndexValueRowID(t,n,r,a){let i=t.length,s=[];if(i===0)return[];let o=0,l=t[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let u=n[l];s.push(u);for(let c=1;c<i;++c){let f=t[c];if(f===l)u>=0&&(++o,o<a?u+=r:u=-1);else{if(o=0,l=f,f>=n.length)throw new Error(`Got nextValueRowId=${f} which is not less than ${n.length}`);u=n[f]}s.push(u)}if(s.length!==t.length)throw new Error("Invalid row ids.");return s}calculateOutputIndex(t,n,r,a){let i=this.getRowPartitionTensor(t),s=this.getRowPartitionTypeByDimension(t);switch(s){case Fi.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,a);case Fi.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,a);default:throw new Error(`Unsupported partition type: ${Fi[s]}`)}}getFirstDimensionSize(){let t=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");let n=this.rowPartitionTypes[0];switch(n){case Fi.FIRST_DIM_SIZE:return t[0];case Fi.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Fi.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Fi[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");let t=this.getFirstDimensionSize(),n=this.calculateOutputSize(t),r=new Array(this.raggedRank+1);r[r.length-1]=1;for(let s=r.length-2;s>=0;--s)r[s]=r[s+1]*n[s+1];let a=Z8(n,!1),i=A.getArrayFromDType(this.valuesDType,A.sizeFromShape(a));if(r[0]*n[0]>0){let s=this.calculateFirstParentOutputIndex(t,r[0],n[0]);for(let o=1;o<=this.raggedRank;++o)s=this.calculateOutputIndex(o-1,s,r[o],n[o]);this.setOutput(this.raggedRank,s,i,a)}return[a,i]}setOutput(t,n,r,a){if(r.length===0)return;let i=this.values,s=r,o=a.slice();o=o.slice(t+1);let l=A.sizeFromShape(o),u=n.length,c=this.defaultValue;if(c.length!==l&&c.length!==1){let h=this.defaultValueShape;X(()=>{let m=Z(c,h);c=Rf(m,o).dataSync()})}let f=0,d=0,p=0;for(let h=0;h<=u;++h){let m=h<u?n[h]:-1;if(m===p){++p;continue}if(d<p){let g=i.subarray(f*l),y=s.subarray(d*l),v=(p-d)*l;J8(y,g,v)}if(h>=u){let g=r.length;m=Math.floor(g/l)}if(m>p)if(this.defaultValue.length===1)s.subarray(p*l,m*l).fill(this.defaultValue[0]),p=m;else for(;m>p;){let g=s.slice(p*l);J8(g,c,l),++p}m<0?(f=h+1,d=p):(f=h,d=p,p=d+1)}}};function J8(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function Z8(e,t){let n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function Fse(e,t,n,r,a,i,s,o,l,u){return new xct(e,t,n,r,a,i,s,o,l,u).compute()}function XP(e,t,n,r){let a=e===t,i=e<t&&n<0,s=t<e&&n>1;if(a||i||s)return A.makeZerosTypedArray(0,r);let o=Math.abs(Math.ceil((t-e)/n)),l=A.makeZerosTypedArray(o,r);t<e&&n===1&&(n=-1),l[0]=e;for(let u=1;u<l.length;u++)l[u]=l[u-1]+n;return l}var zse=Wo(e=>1/Math.sqrt(e)),Sct=Bc(zp,zse),kct={kernelName:zp,backendName:"cpu",kernelFunc:Sct};function Sf(e,t,n,r,a,i,s,o,l,u){let c=[r/a,a],f=e.values,d=t.values;if(r===0)return st(n,t.dtype);let p=l instanceof qn?l:st(c,t.dtype);typeof l=="string"||typeof l=="number"?p.values.fill(l):typeof l=="boolean"&&p.values.fill(+l);for(let h=0;h<i;h++){let m=[],g=0;for(let y=0;y<s;y++){let v=f[h*s+y];m.push(v),g+=v*o[y]}if(g<0||g>=r/a)throw new Error(`Invalid indices: ${m} does not index into ${n}`);for(let y=0;y<a;y++)u?p.values[g*a+y]+=d[h*a+y]:p.values[g*a+y]=t.rank===0?d[0]:d[h*a+y]}return p}var Cct=Wo(e=>1/(1+Math.exp(-e))),Bse=Ut(Gp,e=>1/(1+Math.exp(-e))),Ict={kernelName:Gp,backendName:"cpu",kernelFunc:Bse};function gC(e,t,n,r,a){let i=sr.isSliceContinous(r,t,n),s=A.sizeFromShape(n),o=A.computeStrides(r);if(i){let f=sr.computeFlatOffset(t,o);return a==="string"?e.slice(f,f+s):e.subarray(f,f+s)}let l=a==="string"?R.fromUint8ToStringArray(e):e,u=st(r,a,l),c=st(n,a);for(let f=0;f<c.size;++f){let d=c.indexToLoc(f),p=d.map((h,m)=>h+t[m]);c.set(u.get(...p),...d)}return a==="string"?R.fromStringArrayToUint8(c.values):c.values}function hd(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:s}=r;Fe(a,"slice");let[o,l]=sr.parseSliceParams(a,i,s);sr.assertParamsValid(a,o,l);let u=n.data.get(a.dataId).values,c=gC(u,o,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,c)}var Nct={kernelName:q0,backendName:"cpu",kernelFunc:hd};function Use(e,t,n,r,a,i,s){let o=t[0],l=i[0],u=new Array(l),c=new Array(o),f=t[1];if(l===0){if(o!==0)throw new Error(R.getSparseFillEmptyRowsIndicesDenseShapeMismatch(o));let g=A.getArrayFromDType(n,0),y=A.getArrayFromDType(a,0);return[g,[0,f],y,u,c]}let d=!0,p=0,h=new Array(l).fill(0);for(let g=0;g<o;++g){let y=e[g*f];if(y<0)throw new Error(R.getSparseFillEmptyRowsNegativeIndexErrorMessage(g,y));if(y>=l)throw new Error(R.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(g,y,l));++h[y],d=d&&y>=p,p=y}let m=!0;for(let g=0;g<l;++g){let y=h[g]===0;u[g]=y,m=m&&!y,h[g]=Math.max(h[g],1),g>0&&(h[g]+=h[g-1])}if(m&&d){let g=e,y=r;for(let v=0;v<o;++v)c[v]=v;return[g,[o,f],y,u,c]}else{let g=h[l-1],y=A.getArrayFromDType(n,g*f),v=A.getArrayFromDType(a,g),b=new Array(l).fill(0);for(let x=0;x<o;++x){let S=e[x*f],k=b[S],I=(S===0?0:h[S-1])+k;b[S]++;for(let N=0;N<f;++N)y[I*f+N]=e[x*f+N];v[I]=r[x],c[x]=I}for(let x=0;x<l;++x)if(b[x]===0){let S=x===0?0:h[x-1];y[S*f+0]=x;for(let k=1;k<f;++k)y[S*f+k]=0;v[S]=s}return[y,[g,f],v,u,c]}}function Wse(e,t,n,r,a){let i=A.sizeFromShape(r),s=t[0],o=a.length,l=[],u=1,c=-1;for(let m=0;m<o;++m){let g=a[m];if(g===-1){if(c!==-1)throw new Error(R.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(c,m));c=m,l.push(1)}else{if(g<0)throw new Error(R.getSparseReshapeNegativeOutputDimErrorMessage(m,g));u*=g,l.push(g)}}if(c!==-1){if(u<=0)throw new Error(R.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());let m=Math.trunc(i/u);if(u*m!==i)throw new Error(R.getSparseReshapeInputOutputMultipleErrorMessage(r,l));l[c]=m}if(A.sizeFromShape(l)!==i)throw new Error(R.getSparseReshapeInputOutputMismatchErrorMessage(r,l));let f=r.length,d=[];if(f>0){d[f-1]=1;for(let m=f-2;m>=0;--m)d[m]=d[m+1]*r[m+1]}let p=[];if(o>0){p[o-1]=1;for(let m=o-2;m>=0;--m)p[m]=p[m+1]*l[m+1]}let h=A.getArrayFromDType(n,s*o);for(let m=0;m<s;++m){let g=0;for(let y=0;y<f;++y)g+=e[m*f+y]*d[y];for(let y=0;y<o;++y)h[m*o+y]=Math.trunc(g/p[y]),g%=p[y]}return[h,[s,o],l]}function e6(e,t,n,r,a,i=!1,s=0){let o=r.length,l=[t[0],e.length/t[0]],u=l[1],c=o>0?a[o-1]+1:0;if(c<0)throw new Error(R.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let f=t.slice();f[0]=c;let d=f.reduce((v,b)=>v*b,1),p=A.getArrayFromDType(n,d);if(o===0)return c>0&&p.fill(s),[p,f];if(c<=0)throw new Error(R.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let h=0,m=1,g=0,y=a[h];for(;;){let v=0;if(m<o){if(v=a[m],y===v){++m;continue}if(y>=v)throw new Error(R.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(y<0||y>=c)throw new Error(R.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(y,c));y>g&&p.fill(s,g*u,y*u);for(let b=h;b<m;++b){let x=r[b];if(x<0||x>=l[0])throw new Error(R.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(b,r[b],l[0]));for(let S=0;S<u;S++)p[y*u+S]+=e[x*u+S]}if(i)for(let b=0;b<u;b++)p[y*u+b]/=m-h;if(h=m,++m,g=y+1,y=v,m>o)break}return g<c&&p.fill(s,g*u,c*u),[p,f]}var Mct=Wo(e=>Math.sqrt(e)),Tct=Ut(qp,e=>Math.sqrt(e)),Ect={kernelName:qp,backendName:"cpu",kernelFunc:Tct},Vse=zn((e,t)=>{let n=e-t;return n*n}),Act=cr(Kp,Vse),Lct={kernelName:Kp,backendName:"cpu",kernelFunc:Act},Gse=Wo((e,t)=>{let{pattern:n,replaceGlobal:r,rewrite:a}=t;return e.replace(new RegExp(n,r?"g":""),a)}),_ct=Bc(hw,Gse),jct={kernelName:hw,backendName:"cpu",kernelFunc:_ct};function Hse(e,t,n,r){let a=st(e,t.dtype);for(let i=0;i<a.size;i++){let s=a.indexToLoc(i),o=new Array(s.length);for(let l=0;l<o.length;l++)o[l]=s[l]*n[l]+r[l];a.set(t.get(...o),...s)}return a}var $ct=class{constructor(e,t,n,r,a,i){this.separator=A.encodeString(e),this.nGramWidths=t,this.leftPad=A.encodeString(n),this.rightPad=A.encodeString(r),this.padWidth=a,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){let n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,a,i){for(let s=0;s<a;++s){let o=this.getPadWidth(i),l=Math.max(0,o-s),u=Math.max(0,o-(a-(s+1))),c=i-(l+u),f=t+(l>0?0:s-o),d=0;d+=l*this.leftPad.length;for(let y=0;y<c;++y)d+=e[f+y].length;d+=u*this.rightPad.length;let p=l+u+c-1;d+=p*this.separator.length,n[r+s]=new Uint8Array(d);let h=n[r+s],m=0,g=y=>y.forEach(v=>h[m++]=v);for(let y=0;y<l;++y)g(this.leftPad),g(this.separator);for(let y=0;y<c-1;++y)g(e[f+y]),g(this.separator);if(c>0){g(e[f+c-1]);for(let y=0;y<u;++y)g(this.separator),g(this.rightPad)}else{for(let y=0;y<u-1;++y)g(this.rightPad),g(this.separator);g(this.rightPad)}}}compute(e,t){let n=e.length,r=t.length;if(r>0){let o=t[0];if(o!==0)throw new Error(`First split value must be 0, got ${o}`);for(let l=1;l<r;++l){let u=t[l]>=o;if(u=u&&t[l]<=n,!u)throw new Error(`Invalid split value ${t[l]}, must be in [${o}, ${n}]`);o=t[l]}if(o!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${o}`)}let a=r-1,i=A.getArrayFromDType("int32",r);if(n===0||r===0){let o=new Array(n);for(let l=0;l<=a;++l)i[l]=0;return[o,i]}i[0]=0;for(let o=1;o<=a;++o){let l=t[o]-t[o-1],u=0;this.nGramWidths.forEach(c=>{u+=this.getNumNGrams(l,c)}),this.preserveShort&&l>0&&u===0&&(u=1),i[o]=i[o-1]+u}let s=new Array(i[a]);for(let o=0;o<a;++o){let l=t[o],u=i[o];if(this.nGramWidths.forEach(c=>{let f=t[o+1]-t[o],d=this.getNumNGrams(f,c);this.createNGrams(e,l,s,u,d,c),u+=d}),this.preserveShort&&u===i[o]){let c=t[o+1]-t[o];if(c===0)continue;let f=c+2*this.padWidth;this.createNGrams(e,l,s,u,1,f)}}return[s,i]}};function t6(e,t,n,r,a,i,s,o){return new $ct(n,r,a,i,s,o).compute(e,t)}function Dct(e,t,n,r){if(!e.length)return;if(t.length===0){for(let i=0;i<e.length;++i)r.push(e.subarray(i,i+1));return}if(t.length===1){let i=t[0],s=e.indexOf(i);for(;s!==-1;){let o=e.subarray(0,s);(!n||o.length!==0)&&r.push(o),e=e.subarray(s+1),s=e.indexOf(i)}(!n||e.length!==0)&&r.push(e);return}let a=0;for(let i=0;i<e.length+1;i++)if(i===e.length||t.indexOf(e[i])!==-1){let s=e.subarray(a,i);(!n||s.length!==0)&&r.push(s),a=i+1}}function n6(e,t,n){let r=e.length,a=[],i=0,s=0,o=new Array(r);for(let d=0;d<r;++d){let p=a.length;Dct(e[d],t,n,a);let h=a.length-p;o[d]=h,i+=h,s=Math.max(s,h)}let l=A.getArrayFromDType("int32",i*2),u=new Array(i),c=[r,s],f=0;for(let d=0;d<r;++d)for(let p=0;p<o[d];++p)l[f*2]=d,l[f*2+1]=p,u[f]=a[f],++f;return[l,u,c]}function r6(e,t){let n=A.getArrayFromDType("int32",e.length);for(let r=0;r<e.length;++r)n[r]=A.fingerPrint64(e[r]).modulo(t).getLowBitsUnsigned();return n}var qse=zn((e,t)=>e-t),Oct=YP((e,t,n,r)=>({real:e-n,imag:t-r})),a6=cr(Jp,qse,Oct),Rct={kernelName:Jp,backendName:"cpu",kernelFunc:a6};function Yse(e,t){let n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];let r=st(n,e.dtype);for(let a=0;a<r.values.length;++a){let i=r.indexToLoc(a),s=new Array(e.rank);for(let l=0;l<s.length;l++)s[l]=i[l]%e.shape[l];let o=e.locToIndex(s);r.values[a]=e.values[o]}return r}var hy=(e,t)=>{let n=t.value-e.value;return n===0?e.index-t.index:n};function Qse(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){let o=r-n+1,l=t-n+1,u=Math.log(o),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(o-c)/o)*Math.sign(l-o/2),d=Math.max(n,Math.floor(t-l*c/o+f)),p=Math.min(r,Math.floor(t+(o-l)*c/o+f));Qse(e,t,d,p)}let a=e[t],i=n,s=r;for(A.swap(e,n,t),hy(e[r],a)>0&&A.swap(e,n,r);i<s;){for(A.swap(e,i,s),i++,s--;hy(e[i],a)<0;)i=i+1;for(;hy(e[s],a)>0;)s=s-1}hy(e[n],a)===0?A.swap(e,n,s):(s=s+1,A.swap(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}function Kse(e,t,n,r,a){let i=t[t.length-1],[s,o]=[e.length/i,i],l=A.getTypedArrayFromDType(n,s*r),u=A.getTypedArrayFromDType("int32",s*r);for(let f=0;f<s;f++){let d=f*o,p=e.subarray(d,d+o),h=new Array(p.length);p.forEach((v,b)=>h[b]={value:v,index:b}),r<h.length&&(Qse(h,r),h=h.slice(0,r)),a&&h.sort(hy);let m=f*r,g=l.subarray(m,m+r),y=u.subarray(m,m+r);for(let v=0;v<r;v++)g[v]=h[v].value,y[v]=h[v].index}let c=t.slice();return c[c.length-1]=r,[st(c,n,l),st(c,"int32",u)]}function i6(e,t,n,r){let a=A.parseAxisParam(t,n)[0],i=[1,n[0],1];for(let h=0;h<a;h++)i[0]*=n[h];i[1]=n[a];for(let h=a+1;h<n.length;h++)i[2]*=n[h];let s=new Map,o=new Int32Array(n[a]),l=new qn(i,r,e),u=[],c=i[0]===1&&i[2]===1;for(let h=0;h<n[a];h++){let m;if(c)m=e[h].toString();else{let y=[];for(let v=0;v<i[0];v++)for(let b=0;b<i[2];b++)y.push(l.get(v,h,b));m=y.join(",")}let g=s.get(m);if(g!=null)o[h]=g;else{let y=s.size;s.set(m,y),o[h]=y,u.push(h)}}let f=i.slice();f[1]=s.size;let d=new qn(f,r);u.forEach((h,m)=>{for(let g=0;g<i[0];g++)for(let y=0;y<i[2];y++)d.set(l.get(g,h,y),g,m,y)});let p=n.slice();return p[a]=f[1],{outputValues:d.values,outputShape:p,indices:o}}var Pct="4.22.0";RN("cpu",()=>new HP,1);var Jse=Ut(rp,e=>e>=0?e:Math.exp(e)-1),Fct={kernelName:rp,backendName:"cpu",kernelFunc:Jse};function Zse(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r;Fe([a],"leakyRelu");let s=A.sizeFromShape(a.shape),o=n.data.get(a.dataId).values,l=A.getTypedArrayFromDType("float32",s);for(let u=0;u<o.length;u++)l[u]=o[u]<0?i*o[u]:o[u];return n.makeTensorInfo(a.shape,"float32",l)}var zct={kernelName:mp,backendName:"cpu",kernelFunc:Zse},Bct=zn((e,t)=>e<0?t*e:e);function Xse(e){let{inputs:t,backend:n}=e,{x:r,alpha:a}=t;Fe([r,a],"prelu");let i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,[o,l]=Bct(r.shape,a.shape,i,s,"float32");return n.makeTensorInfo(l,"float32",o)}var Uct={kernelName:Lp,backendName:"cpu",kernelFunc:Xse},eoe=Ut($p,e=>Math.max(0,e)),Wct={kernelName:$p,backendName:"cpu",kernelFunc:eoe},toe=Ut(Rp,e=>Math.min(Math.max(0,e),6)),Vct={kernelName:Rp,backendName:"cpu",kernelFunc:toe};function yC(e,t,n,r,a){if(n==="linear")return Oo({inputs:{x:t},backend:e});if(n==="relu")return eoe({inputs:{x:t},backend:e});if(n==="elu")return Jse({inputs:{x:t},backend:e});if(n==="relu6")return toe({inputs:{x:t},backend:e});if(n==="prelu")return Xse({inputs:{x:t,alpha:r},backend:e});if(n==="leakyrelu")return Zse({inputs:{x:t},backend:e,attrs:{alpha:a}});if(n==="sigmoid")return Bse({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function ln(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,s=A.sizeFromShape(a.shape),o=A.inferFromImplicitShape(i,s),l=A.sizeFromShape(o);A.assert(s===l,()=>`The new shape (${o}) has ${l} elements and the old shape (${a.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`),n.incRef(a.dataId);let u=n.data.get(a.dataId);if(u.complexTensorInfos!=null){let c=u.complexTensorInfos.real,f=u.complexTensorInfos.imag;c.shape=o,f.shape=o}return{dataId:a.dataId,shape:o,dtype:a.dtype}}var Gct={kernelName:z0,backendName:"cpu",kernelFunc:ln};function noe(e){let{inputs:t,backend:n,attrs:r}=e,{a,b:i}=t,{transposeA:s,transposeB:o}=r;Fe([a,i],"matMul");let l=a.shape.length,u=i.shape.length,c=s?a.shape[l-2]:a.shape[l-1],f=o?i.shape[u-1]:i.shape[u-2],d=s?a.shape[l-1]:a.shape[l-2],p=o?i.shape[u-2]:i.shape[u-1],h=a.shape.slice(0,-2),m=i.shape.slice(0,-2),g=A.sizeFromShape(h),y=A.sizeFromShape(m),v=a1.assertAndGetBroadcastShape(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,p]);A.assert(c===f,()=>`Error in matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${a.shape} and ${i.shape} and transposeA=${s} and transposeB=${o} must match.`);let b=s?[g,c,d]:[g,d,c],x=o?[y,p,f]:[y,f,p],S=ln({inputs:{x:a},backend:n,attrs:{shape:b}}),k=ln({inputs:{x:i},backend:n,attrs:{shape:x}}),I=s?S.shape[1]:S.shape[2],N=s?S.shape[2]:S.shape[1],T=o?k.shape[1]:k.shape[2],L=Math.max(g,y),E=n.data.get(S.dataId).values,M=n.data.get(k.dataId).values,j=A.computeStrides(S.shape),D=A.computeStrides(k.shape),[F,$,B]=s?[j[0],1,j[1]]:[j[0],j[1],1],[O,P,W]=o?[1,D[1],D[0]]:[D[1],1,D[0]],H=N*T,q=st([L,N,T],S.dtype),J=q.values,re=n.blockSize;for(let ce=0;ce<L;ce++){let ye=ce%g,he=ce%y;for(let me=0;me<N;me+=re){let se=Math.min(me+re,N);for(let ge=0;ge<T;ge+=re){let we=Math.min(ge+re,T);for(let oe=0;oe<I;oe+=re){let Be=Math.min(oe+re,I);for(let Te=me;Te<se;Te++)for(let We=ge;We<we;We++){let Le=0;for(let Ye=oe;Ye<Be;Ye++){let ot=E[ye*F+Te*$+Ye*B],Zt=M[Ye*O+We*P+he*W];Le+=ot*Zt}J[ce*H+(Te*T+We)]+=Le}}}}}return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(v,q.dtype,q.values)}var Hct={kernelName:Gd,backendName:"cpu",kernelFunc:noe};function qct(e){let{inputs:t,backend:n,attrs:r}=e,{a,b:i,bias:s,preluActivationWeights:o}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r,d,p,h,m=[];d=noe({inputs:{a,b:i},attrs:{transposeA:l,transposeB:u},backend:n}),s&&(p=kg({inputs:{a:d,b:s},backend:n}),m.push(d),d=p),c&&(h=yC(n,d,c,o,f),m.push(d),d=h);for(let g of m)n.disposeIntermediateTensorInfo(g);return d}var Yct={kernelName:ed,backendName:"cpu",kernelFunc:qct},Qct=Ut(Od,e=>Math.acos(e)),Kct={kernelName:Od,backendName:"cpu",kernelFunc:Qct},Jct=Ut(Rd,e=>Math.acosh(e)),Zct={kernelName:Rd,backendName:"cpu",kernelFunc:Jct};function Xct(e){let{inputs:t,backend:n}=e,r=t;Fe(t,"addN");let a=r.map(o=>n.data.get(o.dataId).values),i=st(r[0].shape,r[0].dtype),s=i.values;for(let o=0;o<r.length;o++){let l=a[o];for(let u=0;u<s.length;u++)s[u]+=l[u]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}var eft={kernelName:Pd,backendName:"cpu",kernelFunc:Xct};function tft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;Fe(a,"all");let o=A.parseAxisParam(i,a.shape),l=o,u=R.getAxesPermutation(l,a.shape.length),c=a;u!=null&&(c=Ea({inputs:{x:a},backend:n,attrs:{perm:u}}),l=R.getInnerMostAxes(l.length,a.shape.length)),R.assertAxesAreInnerMostDims("all",l,c.shape.length);let[f,d]=R.computeOutAndReduceShapes(c.shape,l),p=A.sizeFromShape(d),h=A.makeZerosTypedArray(A.sizeFromShape(f),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<h.length;++y){let v=y*p,b=m[v];for(let x=0;x<p;++x){let S=m[v+x];b=b&&S}h[y]=b}u!=null&&n.disposeIntermediateTensorInfo(c);let g=n.makeTensorInfo(f,c.dtype,h);if(s){let y=R.expandShapeToKeepDim(f,o),v=ln({inputs:{x:g},backend:n,attrs:{shape:y}});return n.disposeIntermediateTensorInfo(g),v}return g}var nft={kernelName:r0,backendName:"cpu",kernelFunc:tft};function rft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;Fe(a,"any");let o=A.parseAxisParam(i,a.shape),l=o,u=R.getAxesPermutation(l,a.shape.length),c=a;u!=null&&(c=Ea({inputs:{x:a},backend:n,attrs:{perm:u}}),l=R.getInnerMostAxes(l.length,a.shape.length)),R.assertAxesAreInnerMostDims("any",l,c.shape.length);let[f,d]=R.computeOutAndReduceShapes(c.shape,l),p=A.sizeFromShape(d),h=A.makeZerosTypedArray(A.sizeFromShape(f),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<h.length;++y){let v=y*p,b=m[v];for(let x=0;x<p;++x){let S=m[v+x];b=b||S}h[y]=b}u!=null&&n.disposeIntermediateTensorInfo(c);let g=n.makeTensorInfo(f,c.dtype,h);if(s){let y=R.expandShapeToKeepDim(f,o),v=ln({inputs:{x:g},backend:n,attrs:{shape:y}});return n.disposeIntermediateTensorInfo(g),v}return g}var aft={kernelName:a0,backendName:"cpu",kernelFunc:rft};function ift(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;Fe(a,"argMax");let s=A.parseAxisParam(i,a.shape),o=R.getAxesPermutation(s,a.shape.length),l=a,u=[];o!=null&&(l=Ea({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=R.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],R.assertAxesAreInnerMostDims("argMax",s,l.shape.length);let[c,f]=R.computeOutAndReduceShapes(l.shape,s),d=A.sizeFromShape(c),p=A.makeZerosTypedArray(d,"int32"),h=A.sizeFromShape(f),m=n.data.get(l.dataId).values;for(let g=0;g<p.length;++g){let y=g*h,v=m[y],b=0;for(let x=0;x<h;++x){let S=m[y+x];S>v&&(v=S,b=x)}p[g]=b}return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.makeTensorInfo(c,"int32",p)}var sft={kernelName:i0,backendName:"cpu",kernelFunc:ift};function oft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;Fe(a,"argMin");let s=A.parseAxisParam(i,a.shape),o=R.getAxesPermutation(s,a.shape.length),l=a,u=[];o!=null&&(l=Ea({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=R.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],R.assertAxesAreInnerMostDims("argMin",s,l.shape.length);let[c,f]=R.computeOutAndReduceShapes(l.shape,s),d=A.sizeFromShape(c),p=A.makeZerosTypedArray(d,"int32"),h=A.sizeFromShape(f),m=n.data.get(l.dataId).values;for(let g=0;g<p.length;++g){let y=g*h,v=m[y],b=0;for(let x=0;x<h;++x){let S=m[y+x];S<v&&(v=S,b=x)}p[g]=b}return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.makeTensorInfo(c,"int32",p)}var lft={kernelName:s0,backendName:"cpu",kernelFunc:oft},uft=Ut(Fd,e=>Math.asin(e)),cft={kernelName:Fd,backendName:"cpu",kernelFunc:uft},fft=Ut(zd,e=>Math.asinh(e)),dft={kernelName:zd,backendName:"cpu",kernelFunc:fft},pft=Ut(Bd,e=>Math.atan(e)),hft={kernelName:Bd,backendName:"cpu",kernelFunc:pft},mft=zn((e,t)=>Math.atan2(e,t)),gft=cr(Wd,mft),yft={kernelName:Wd,backendName:"cpu",kernelFunc:gft},vft=Ut(Ud,e=>Math.atanh(e)),bft={kernelName:Ud,backendName:"cpu",kernelFunc:vft};function s6(e,t,n,r,a,i){let s=a.strideHeight,o=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,c=a.effectiveFilterHeight,f=a.effectiveFilterWidth,d=a.padInfo.top,p=a.padInfo.left,h=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=st(a.outShape,n),g=m.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],v=a.outShape[2]*a.outShape[3],b=a.outShape[3];for(let x=0;x<a.batchSize;++x){let S=x*y,k=x*r[0];for(let I=0;I<a.inChannels;++I)for(let N=0;N<a.outHeight;++N){let T=N*s-d,L=Math.max(0,T),E=Math.min(a.inHeight,c+T),M=S+N*v;for(let j=0;j<a.outWidth;++j){let D=j*o-p,F=Math.max(0,D),$=Math.min(a.inWidth,f+D),B=h,O=0,P=0;for(let H=L;H<E;H+=l){let q=k+H*r[1];for(let J=F;J<$;J+=u){let re=q+J*r[2],ce=e[re+I];i==="max"&&ce>B?B=ce:i==="avg"&&(O+=ce,P++)}if(isNaN(B))break}let W=M+j*b+I;g[W]=i==="avg"?O/P:B}}}return m}function roe(e,t,n,r,a=!1,i=!1){let s=st(r.outShape,"int32"),o=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=r.padInfo.top,h=r.padInfo.left,m=st(t,n,e);for(let g=0;g<r.batchSize;++g)for(let y=0;y<r.inChannels;++y)for(let v=0;v<r.outHeight;++v){let b=v*o-p,x=b;for(;x<0;)x+=u;let S=Math.min(r.inHeight,f+b);for(let k=0;k<r.outWidth;++k){let I=k*l-h,N=I;for(;N<0;)N+=c;let T=Math.min(r.inWidth,d+I),L=Number.NEGATIVE_INFINITY,E=-1;for(let M=x;M<S;M+=u){let j=M-b;for(let D=N;D<T;D+=c){let F=D-I,$=m.get(g,M,D,y);$>L&&(L=$,a?E=i?((g*r.inHeight+M)*r.inWidth+D)*r.inChannels+y:(M*r.inWidth+D)*r.inChannels+y:E=j*d+F)}}s.set(E,g,v,k,y)}}return s}function aoe(e,t,n,r,a,i){let s=a.strideDepth,o=a.strideHeight,l=a.strideWidth,u=a.dilationDepth,c=a.dilationHeight,f=a.dilationWidth,d=a.effectiveFilterDepth,p=a.effectiveFilterHeight,h=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,v=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=st(a.outShape,n),x=b.values,S=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[2]*a.outShape[3]*a.outShape[4],I=a.outShape[3]*a.outShape[4],N=a.outShape[4];for(let T=0;T<a.batchSize;++T){let L=T*S,E=T*r[0];for(let M=0;M<a.inChannels;++M)for(let j=0;j<a.outDepth;++j){let D=j*s-m,F=D;for(;F<0;)F+=u;let $=Math.min(a.inDepth,d+D),B=L+j*k;for(let O=0;O<a.outHeight;++O){let P=O*o-g,W=P;for(;W<0;)W+=c;let H=Math.min(a.inHeight,p+P),q=B+O*I;for(let J=0;J<a.outWidth;++J){let re=J*l-y,ce=re;for(;ce<0;)ce+=f;let ye=Math.min(a.inWidth,h+re),he=q+J*N,me=v,se=0,ge=0;for(let oe=F;oe<$;oe+=u){let Be=E+oe*r[1];for(let Te=W;Te<H;Te+=c){let We=Be+Te*r[2];for(let Le=ce;Le<ye;Le+=f){let Ye=We+Le*r[3],ot=e[Ye+M];if(i==="max"&&ot>me?me=ot:i==="avg"&&(se+=ot,ge++),isNaN(me))break}if(isNaN(me))break}if(isNaN(me))break}let we=he+M;x[we]=i==="avg"?se/Math.max(ge,1):me}}}}return b}function wft(e,t){let n=st(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,o=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,h=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){let v=y*r-d,b=v;for(;b<0;)b+=s;let x=Math.min(t.inDepth,u+v);for(let S=0;S<t.outHeight;++S){let k=S*a-p,I=k;for(;I<0;)I+=o;let N=Math.min(t.inHeight,c+k);for(let T=0;T<t.outWidth;++T){let L=T*i-h,E=L;for(;E<0;)E+=l;let M=Math.min(t.inWidth,f+L),j=Number.NEGATIVE_INFINITY,D=-1;for(let F=b;F<x;F+=s){let $=F-v;for(let B=I;B<N;B+=o){let O=B-k;for(let P=E;P<M;P+=l){let W=P-L,H=e.get(m,F,B,P,g);H>=j&&(j=H,D=$*c*f+O*c+W)}}}n.set(D,m,y,S,T,g)}}}return n}function xft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t;Fe(a,"avgPool");let{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r,u=1;A.assert(R.eitherStridesOrDilationsAreOne(s,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);let c=R.computePool2DInfo(a.shape,i,s,u,o,l),f;if(c.filterWidth===1&&c.filterHeight===1&&A.arraysEqual(c.inShape,c.outShape))f=Oo({inputs:{x:a},backend:n});else{let d=n.data.get(a.dataId).values,p=A.computeStrides(a.shape),h=s6(d,a.shape,a.dtype,p,c,"avg");f=n.makeTensorInfo(c.outShape,a.dtype,h.values)}return f}var Sft={kernelName:Vd,backendName:"cpu",kernelFunc:xft};function kft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:u}=r;Fe(a,"avgPool3d");let c=R.computePool3DInfo(a.shape,i,s,1,o,l,u),f=n.data.get(a.dataId).values,d=aoe(f,a.shape,a.dtype,A.computeStrides(a.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}var Cft={kernelName:o0,backendName:"cpu",kernelFunc:kft};function Ift(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:u}=r;Fe([a,i],"avgPool3DGrad");let c=R.computePool3DInfo(i.shape,s,o,1,l,u),f=c.strideDepth,d=c.strideHeight,p=c.strideWidth,h=c.filterDepth,m=c.filterHeight,g=c.filterWidth,y=c.dilationDepth,v=c.dilationHeight,b=c.dilationWidth,x=c.effectiveFilterDepth,S=c.effectiveFilterHeight,k=c.effectiveFilterWidth,I=x-1-c.padInfo.front,N=k-1-c.padInfo.left,T=S-1-c.padInfo.top,L=st(i.shape,"float32"),E=1/(h*m*g),M=n.bufferSync(a);for(let j=0;j<c.batchSize;++j)for(let D=0;D<c.inChannels;++D)for(let F=0;F<c.inDepth;++F)for(let $=0;$<c.inHeight;++$)for(let B=0;B<c.inWidth;++B){let O=F-I,P=$-T,W=B-N,H=0;for(let q=0;q<x;q+=y){let J=(O+q)/f;if(!(J<0||J>=c.outDepth||Math.floor(J)!==J))for(let re=0;re<S;re+=v){let ce=(P+re)/d;if(!(ce<0||ce>=c.outHeight||Math.floor(ce)!==ce))for(let ye=0;ye<k;ye+=b){let he=(W+ye)/p;if(he<0||he>=c.outWidth||Math.floor(he)!==he)continue;let me=M.get(j,J,ce,he,D);H+=me}}}L.set(H*E,j,F,$,B,D)}return n.makeTensorInfo(L.shape,L.dtype,L.values)}var Nft={kernelName:ew,backendName:"cpu",kernelFunc:Ift};function Mft(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i;Fe([a,i],"avgPoolGrad");let{filterSize:o,strides:l,pad:u}=r,c=R.computePool2DInfo(s.shape,o,l,1,u),f=c.strideHeight,d=c.strideWidth,p=c.filterHeight,h=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,y=c.effectiveFilterHeight,v=c.effectiveFilterWidth,b=v-1-c.padInfo.left,x=y-1-c.padInfo.top,S=st(s.shape,"float32"),k=1/(p*h),I=n.data.get(a.dataId).values,N=st(a.shape,"float32",I);for(let T=0;T<c.batchSize;++T)for(let L=0;L<c.inChannels;++L)for(let E=0;E<c.inHeight;++E)for(let M=0;M<c.inWidth;++M){let j=E-x,D=M-b,F=0;for(let $=0;$<y;$+=m){let B=(j+$)/f;if(!(B<0||B>=c.outHeight||Math.floor(B)!==B))for(let O=0;O<v;O+=g){let P=(D+O)/d;if(P<0||P>=c.outWidth||Math.floor(P)!==P)continue;let W=N.get(T,B,P,L);F+=W}}S.set(F*k,T,E,M,L)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}var Tft={kernelName:Xb,backendName:"cpu",kernelFunc:Mft};function Eft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,scale:i,offset:s,mean:o,variance:l}=t;A.assert(o.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),A.assert(s==null||o.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),A.assert(i==null||o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Fe([a,o,l,i,s],"batchNorm");let{varianceEpsilon:u}=r;u==null&&(u=.001);let c=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,d=n.data.get(l.dataId).values,p=i?n.data.get(i.dataId).values:new Float32Array([1]),h=s?n.data.get(s.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=h.length,y=p.length,v=d.length,b=f.length,x=0,S=0,k=0,I=0;for(let N=0;N<c.length;++N)m[N]=h[x++]+(c[N]-f[S++])*p[k++]/Math.sqrt(d[I++]+u),x>=g&&(x=0),S>=b&&(S=0),k>=y&&(k=0),I>=v&&(I=0);return n.makeTensorInfo(a.shape,a.dtype,m)}var Aft={kernelName:up,backendName:"cpu",kernelFunc:Eft};function Lft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:s}=r;Fe([a],"batchToSpaceND");let o=i.reduce((y,v)=>y*v),l=R.getReshaped(a.shape,i,o),u=R.getPermuted(l.length,i.length),c=R.getReshapedPermuted(a.shape,i,o),f=R.getSliceBeginCoords(s,i.length),d=R.getSliceSize(c,s,i.length),p=ln({inputs:{x:a},backend:n,attrs:{shape:l}}),h=Ea({inputs:{x:p},backend:n,attrs:{perm:u}}),m=ln({inputs:{x:h},backend:n,attrs:{shape:c}}),g=hd({inputs:{x:m},backend:n,attrs:{begin:f,size:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}var _ft={kernelName:l0,backendName:"cpu",kernelFunc:Lft};function jft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s}=r,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,u=QP(o,l,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,u)}var $ft={kernelName:u0,backendName:"cpu",kernelFunc:jft};function Dft(e){let{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,o=R.assertAndGetBroadcastShape(Array.from(i),Array.from(s));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}var Oft={kernelName:tw,backendName:"cpu",kernelFunc:Dft},Rft=Ut(jc,(e,t)=>{let n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),Pft={kernelName:jc,backendName:"cpu",kernelFunc:Rft},Fft=e=>{let{x:t}=e.inputs,n=e.backend,r=new Float32Array(A.sizeFromShape(t.shape)),a=n.data.get(t.dataId),i=a.complexTensorInfos.real,s=a.complexTensorInfos.imag,o=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values;for(let u=0;u<o.length;u++){let c=o[u],f=l[u];r[u]=Math.hypot(c,f)}return n.makeOutput(r,t.shape,"float32")},zft={kernelName:nw,backendName:"cpu",kernelFunc:Fft};function Cg(e){let{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var Bft={kernelName:AN,backendName:"cpu",kernelFunc:Cg};function Ig(e){let{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=A.parseAxisParam(a,t[0].shape)[0],s=t.map(m=>m.shape);R.assertParamsConsistent(s,i);let o=R.computeOutShape(t.map(m=>m.shape),i);if(A.sizeFromShape(o)===0)return n.makeTensorInfo(o,t[0].dtype,[]);let l=t.filter(m=>A.sizeFromShape(m.shape)>0);if(l.length===1)return Oo({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){let m=l.map(x=>pd({inputs:{input:x},backend:n})),g=l.map(x=>Cg({inputs:{input:x},backend:n})),y=Ig({inputs:m,backend:n,attrs:{axis:i}}),v=Ig({inputs:g,backend:n,attrs:{axis:i}}),b=Wa({inputs:{real:y,imag:v},backend:n});return m.forEach(x=>n.disposeIntermediateTensorInfo(x)),g.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),b}let u=l.map(m=>{let g=[-1,A.sizeFromShape(m.shape.slice(i))];return ln({inputs:{x:m},backend:n,attrs:{shape:g}})}),c=u.map(m=>({vals:n.data.get(m.dataId).values,shape:m.shape}));o=R.computeOutShape(u.map(m=>m.shape),1);let f=u[0].shape[0]===1,d=KP(c,o,t[0].dtype,f),p=R.computeOutShape(l.map(m=>m.shape),i),h=n.makeTensorInfo(p,t[0].dtype,d);return u.forEach(m=>n.disposeIntermediateTensorInfo(m)),h}var Uft={kernelName:f0,backendName:"cpu",kernelFunc:Ig};function ioe(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dataFormat:l,dilations:u,dimRoundingMode:c}=r;Fe([a,i],"conv2d");let f=R.convertConv2DDataFormat(l),d=R.computeConv2DInfo(a.shape,i.shape,s,u,o,c,!1,f),p=d.filterHeight,h=d.filterWidth,m=d.dilationHeight,g=d.dilationWidth,y=d.padInfo.left,v=d.padInfo.top,b=d.dataFormat==="channelsLast",x=new qn(d.outShape,a.dtype),S=A.computeStrides(a.shape),k=A.computeStrides(i.shape),I=S[0],N=b?S[1]:S[2],T=b?S[2]:1,L=b?1:S[1],E=x.strides[0],M=b?x.strides[1]:x.strides[2],j=b?x.strides[2]:1,D=b?1:x.strides[1],F=n.data.get(a.dataId).values,$=n.data.get(i.dataId).values,B=x.values;for(let O=0;O<d.batchSize;++O){let P=O*I,W=O*E;for(let H=0;H<d.outHeight;++H){let q=W+H*M,J=H*d.strideHeight-v;for(let re=0;re<p;++re){let ce=J+re*m;if(ce<0||ce>=d.inHeight)continue;let ye=re*k[0],he=P+ce*N;for(let me=0;me<d.outWidth;++me){let se=q+me*j,ge=me*d.strideWidth-y;for(let we=0;we<h;++we){let oe=ge+we*g;if(oe<0||oe>=d.inWidth)continue;let Be=ye+we*k[1],Te=he+oe*T,We=Be;for(let Le=0;Le<d.inChannels;++Le){let Ye=F[Te+Le*L];for(let ot=0;ot<d.outChannels;++ot)B[se+ot*D]+=Ye*$[We+ot];We+=d.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,B)}var Wft={kernelName:Yd,backendName:"cpu",kernelFunc:ioe};function Vft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;Fe([a,i],"conv2dBackpropFilter");let f=R.convertConv2DDataFormat(l),d=R.computeConv2DInfo(a.shape,c,s,1,o,u,!1,f),{strideHeight:p,strideWidth:h,filterHeight:m,filterWidth:g}=d,y=d.dataFormat==="channelsLast",v=new qn(d.filterShape,"float32"),b=d.padInfo.left,x=d.padInfo.top,S=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,I=new qn(a.shape,a.dtype,S),N=new qn(i.shape,i.dtype,k);for(let T=0;T<m;++T){let L=Math.max(0,Math.ceil((x-T)/p)),E=Math.min(d.outHeight,(d.inHeight+x-T)/p);for(let M=0;M<g;++M){let j=Math.max(0,Math.ceil((b-M)/h)),D=Math.min(d.outWidth,(d.inWidth+b-M)/h);for(let F=0;F<d.inChannels;++F)for(let $=0;$<d.outChannels;++$){let B=0;for(let O=0;O<d.batchSize;++O)for(let P=L;P<E;++P){let W=T+P*p-x;for(let H=j;H<D;++H){let q=M+H*h-b;y?B+=I.get(O,W,q,F)*N.get(O,P,H,$):B+=I.get(O,F,W,q)*N.get(O,$,P,H)}}v.set(B,T,M,F,$)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}var Gft={kernelName:kN,backendName:"cpu",kernelFunc:Vft};function Hft(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:s,strides:o,pad:l,dataFormat:u,dimRoundingMode:c}=r;Fe([a,i],"conv2dBackpropInput");let f=A.computeStrides(i.shape),d=A.computeStrides(a.shape),p=R.convertConv2DDataFormat(u),h=R.computeConv2DInfo(s,i.shape,o,1,l,c,!1,p),m=new qn(h.inShape,"float32"),g=m.values,y=n.data.get(a.dataId).values,v=n.data.get(i.dataId).values,[b,x,S]=f,{batchSize:k,filterHeight:I,filterWidth:N,inChannels:T,inHeight:L,inWidth:E,outChannels:M,outHeight:j,outWidth:D,strideHeight:F,strideWidth:$}=h;p=h.dataFormat;let B=I-1-h.padInfo.top,O=N-1-h.padInfo.left,P=p==="channelsLast",W=m.strides[0],H=P?m.strides[1]:m.strides[2],q=P?m.strides[2]:1,J=P?1:m.strides[1],re=d[0],ce=P?d[1]:d[2],ye=P?d[2]:1,he=P?1:d[1];for(let me=0;me<k;++me)for(let se=0;se<T;++se)for(let ge=0;ge<L;++ge){let we=ge-B,oe=Math.max(0,Math.ceil(we/F)),Be=Math.min(j,(I+we)/F);for(let Te=0;Te<E;++Te){let We=Te-O,Le=Math.max(0,Math.ceil(We/$)),Ye=Math.min(D,(N+We)/$),ot=0;for(let Dt=oe;Dt<Be;++Dt){let Wt=Dt*F-we;for(let Vt=Le;Vt<Ye;++Vt){let rn=Vt*$-We,Rr=re*me+ce*Dt+ye*Vt,fr=b*(I-1-Wt)+x*(N-1-rn)+S*se;for(let Xt=0;Xt<M;++Xt){let pn=y[Rr+he*Xt],ha=v[fr+Xt];ot+=pn*ha}}}let Zt=W*me+H*ge+q*Te+J*se;g[Zt]=ot}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}var qft={kernelName:Qd,backendName:"cpu",kernelFunc:Hft};function Yft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r;Fe([a,i],"conv3d");let u=R.computeConv3DInfo(a.shape,i.shape,s,l,o),{filterDepth:c,filterHeight:f,filterWidth:d,dilationDepth:p,dilationHeight:h,dilationWidth:m,padInfo:g}=u,y=g.front,v=g.left,b=g.top,x=new qn(u.outShape,a.dtype),S=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,I=x.values,N=A.computeStrides(a.shape),T=A.computeStrides(i.shape);for(let L=0;L<u.batchSize;++L){let E=L*N[0],M=L*x.strides[0];for(let j=0;j<u.outDepth;++j){let D=M+j*x.strides[1],F=j*u.strideDepth-y;for(let $=0;$<c;++$){let B=F+$*p;if(B<0||B>=u.inDepth)continue;let O=$*T[0],P=E+B*N[1];for(let W=0;W<u.outHeight;++W){let H=D+W*x.strides[2],q=W*u.strideHeight-b;for(let J=0;J<f;++J){let re=q+J*h;if(re<0||re>=u.inHeight)continue;let ce=O+J*T[1],ye=P+re*N[2];for(let he=0;he<u.outWidth;++he){let me=H+he*u.outChannels,se=he*u.strideWidth-v;for(let ge=0;ge<d;++ge){let we=se+ge*m;if(we<0||we>=u.inWidth)continue;let oe=ce+ge*T[2],Be=ye+we*u.inChannels,Te=oe;for(let We=0;We<u.inChannels;++We){let Le=S[Be+We];for(let Ye=0;Ye<u.outChannels;++Ye)I[me+Ye]+=Le*k[Te+Ye];Te+=u.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}var Qft={kernelName:Kd,backendName:"cpu",kernelFunc:Yft};function Kft(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,filterShape:l}=r;Fe([a,i],"conv3dBackpropFilterV2");let u=A.computeStrides(a.shape),c=A.computeStrides(i.shape),f=R.computeConv3DInfo(a.shape,l,s,1,o),d=f.strideDepth,p=f.strideHeight,h=f.strideWidth,m=f.filterDepth,g=f.filterHeight,y=f.filterWidth,v=new qn(f.filterShape,"float32"),b=v.values,[x,S,k,I]=v.strides,N=n.data.get(i.dataId).values,[T,L,E,M]=c,j=n.data.get(a.dataId).values,[D,F,$,B]=u,O=f.padInfo.front,P=f.padInfo.left,W=f.padInfo.top;for(let H=0;H<m;++H){let q=Math.max(0,Math.ceil((O-H)/d)),J=Math.min(f.outDepth,(f.inDepth+O-H)/d),re=H*x;for(let ce=0;ce<g;++ce){let ye=Math.max(0,Math.ceil((W-ce)/p)),he=Math.min(f.outHeight,(f.inHeight+W-ce)/p),me=ce*S+re;for(let se=0;se<y;++se){let ge=Math.max(0,Math.ceil((P-se)/h)),we=Math.min(f.outWidth,(f.inWidth+P-se)/h),oe=se*k+me;for(let Be=0;Be<f.inChannels;++Be){let Te=Be*I+oe;for(let We=0;We<f.outChannels;++We){let Le=0;for(let Ye=0;Ye<f.batchSize;++Ye){let ot=Ye*D,Zt=Ye*T;for(let Dt=q;Dt<J;++Dt){let Wt=(H+Dt*d-O)*F+ot,Vt=Dt*L+Zt;for(let rn=ye;rn<he;++rn){let Rr=(ce+rn*p-W)*$+Wt,fr=rn*E+Vt;for(let Xt=ge;Xt<we;++Xt){let pn=(se+Xt*h-P)*B+Rr,ha=Xt*M+fr;Le+=j[pn+Be]*N[ha+We]}}}}b[Te+We]=Le}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}var Jft={kernelName:d0,backendName:"cpu",kernelFunc:Kft};function Zft(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:s,strides:o,inputShape:l}=r;Fe([a],"conv3dBackpropInputV2");let u=A.computeStrides(a.shape),c=A.computeStrides(i.shape),f=R.computeConv3DInfo(l,i.shape,o,1,s),d=new qn(f.inShape,"float32"),p=d.values,[h,m,g,y]=d.strides,v=n.data.get(a.dataId).values,[b,x,S,k]=u,I=n.data.get(i.dataId).values,[N,T,L,E]=c,{batchSize:M,filterDepth:j,filterHeight:D,filterWidth:F,inChannels:$,inDepth:B,inHeight:O,inWidth:P,outChannels:W,outDepth:H,outHeight:q,outWidth:J,strideDepth:re,strideHeight:ce,strideWidth:ye}=f,he=j-1-f.padInfo.front,me=D-1-f.padInfo.top,se=F-1-f.padInfo.left;for(let ge=0;ge<M;++ge)for(let we=0;we<$;++we)for(let oe=0;oe<B;++oe){let Be=oe-he,Te=Math.max(0,Math.ceil(Be/re)),We=Math.min(H,(j+Be)/re);for(let Le=0;Le<O;++Le){let Ye=Le-me,ot=Math.max(0,Math.ceil(Ye/ce)),Zt=Math.min(q,(D+Ye)/ce);for(let Dt=0;Dt<P;++Dt){let Wt=Dt-se,Vt=Math.max(0,Math.ceil(Wt/ye)),rn=Math.min(J,(F+Wt)/ye),Rr=0;for(let fr=Te;fr<We;++fr){let Xt=fr*re-Be;for(let pn=ot;pn<Zt;++pn){let ha=pn*ce-Ye;for(let Js=Vt;Js<rn;++Js){let Zs=Js*ye-Wt,ps=b*ge+x*fr+S*pn+k*Js,Gl=N*(j-1-Xt)+T*(D-1-ha)+L*(F-1-Zs)+E*we;for(let $a=0;$a<W;++$a){let ma=v[ps+$a],Bn=I[Gl+$a];Rr+=ma*Bn}}}}p[h*ge+m*oe+g*Le+y*Dt+we]=Rr}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}var Xft={kernelName:p0,backendName:"cpu",kernelFunc:Zft},edt=Ut(Jd,e=>Math.cos(e)),tdt={kernelName:Jd,backendName:"cpu",kernelFunc:edt},ndt=Ut(Zd,e=>Math.cosh(e)),rdt={kernelName:Zd,backendName:"cpu",kernelFunc:ndt};function adt(e){let{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:s}=t,{cropSize:o,method:l,extrapolationValue:u}=r,[c,f,d,p]=a.shape,h=i.shape[0],[m,g]=o,y=st([h,m,g,p],"float32"),v=n.data.get(i.dataId).values,b=n.data.get(s.dataId).values,x=n.data.get(a.dataId).values,S=A.computeStrides(a.shape),k=A.computeStrides(y.shape);for(let I=0;I<h;I++){let N=I*4,T=v[N],L=v[N+1],E=v[N+2],M=v[N+3],j=b[I];if(j>=c)continue;let D=m>1?(E-T)*(f-1)/(m-1):0,F=g>1?(M-L)*(d-1)/(g-1):0;for(let $=0;$<m;$++){let B=m>1?T*(f-1)+$*D:.5*(T+E)*(f-1);if(B<0||B>f-1){for(let O=0;O<g;O++)for(let P=0;P<p;P++){let W=P+O*k[2]+$*k[1]+I*k[0];y.values[W]=u}continue}if(l==="bilinear"){let O=Math.floor(B),P=Math.ceil(B),W=B-O;for(let H=0;H<g;H++){let q=g>1?L*(d-1)+H*F:.5*(L+M)*(d-1);if(q<0||q>d-1){for(let ye=0;ye<p;ye++){let he=ye+H*k[2]+$*k[1]+I*k[0];y.values[he]=u}continue}let J=Math.floor(q),re=Math.ceil(q),ce=q-J;for(let ye=0;ye<p;ye++){let he=ye+J*S[2]+O*S[1]+j*S[0],me=x[he];he=ye+re*S[2]+O*S[1]+j*S[0];let se=x[he];he=ye+J*S[2]+P*S[1]+j*S[0];let ge=x[he];he=ye+re*S[2]+P*S[1]+j*S[0];let we=x[he],oe=me+(se-me)*ce,Be=ge+(we-ge)*ce;he=ye+H*k[2]+$*k[1]+I*k[0],y.values[he]=oe+(Be-oe)*W}}}else for(let O=0;O<g;++O){let P=g>1?L*(d-1)+O*F:.5*(L+M)*(d-1);if(P<0||P>d-1){for(let q=0;q<p;q++){let J=q+O*k[2]+$*k[1]+I*k[0];y.values[J]=u}continue}let W=Math.round(P),H=Math.round(B);for(let q=0;q<p;q++){let J=q+W*S[2]+H*S[1]+j*S[0],re=q+O*k[2]+$*k[1]+I*k[0];y.values[re]=x[J]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}var idt={kernelName:m0,backendName:"cpu",kernelFunc:adt};function sdt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;Fe(a,"cumprod");let l=R.getAxesPermutation([i],a.shape.length),u=a;l!=null&&(u=Ea({inputs:{x:a},backend:n,attrs:{perm:l}}));let c=R.getInnerMostAxes(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);let f=Ci(u.dtype,"int32"),d=A.makeOnesTypedArray(A.sizeFromShape(u.shape),f),p=n.data.get(u.dataId).values,h=u.shape[u.shape.length-1],m=o?(y,v)=>y+h-v-1:(y,v)=>y+v;for(let y=0;y<p.length;y+=h)for(let v=0;v<h;v++){let b=m(y,v);if(v===0)d[b]=s?1:p[b];else{let x=m(y,v-1);d[b]=s?p[x]*d[x]:p[b]*d[x]}}let g=n.makeTensorInfo(u.shape,f,d);if(l!=null){let y=R.getUndoAxesPermutation(l),v=Ea({inputs:{x:g},backend:n,attrs:{perm:y}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),v}return g}var odt={kernelName:h0,backendName:"cpu",kernelFunc:sdt};function ldt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;Fe(a,"cumsum");let l=R.getAxesPermutation([i],a.shape.length),u=a;l!=null&&(u=Ea({inputs:{x:a},backend:n,attrs:{perm:l}}));let c=R.getInnerMostAxes(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);let f=Ci(u.dtype,"int32"),d=A.makeZerosTypedArray(A.sizeFromShape(u.shape),f),p=n.data.get(u.dataId).values,h=u.shape[u.shape.length-1],m=o?(y,v)=>y+h-v-1:(y,v)=>y+v;for(let y=0;y<p.length;y+=h)for(let v=0;v<h;v++){let b=m(y,v);if(v===0)d[b]=s?0:p[b];else{let x=m(y,v-1);d[b]=s?p[x]+d[x]:p[b]+d[x]}}let g=n.makeTensorInfo(u.shape,f,d);if(l!=null){let y=R.getUndoAxesPermutation(l),v=Ea({inputs:{x:g},backend:n,attrs:{perm:y}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),v}return g}var udt={kernelName:Xd,backendName:"cpu",kernelFunc:ldt};function cdt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s,binaryOutput:o}=r;if(a.shape.length===1){let l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=QP(l,u,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,c)}else if(a.shape.length===2){let l=n.bufferSync(a),u=n.bufferSync(i),c=pse(l,u,s,o);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}var fdt={kernelName:rw,backendName:"cpu",kernelFunc:cdt};function ddt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:s}=r;A.assert(s==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${s}`);let o=a.shape[0],l=a.shape[1],u=a.shape[2],c=a.shape[3],f=l*i,d=u*i,p=c/(i*i),h=n.data.get(a.dataId).values,m=new Float32Array(o*f*d*p),g=0;for(let y=0;y<o;++y)for(let v=0;v<f;++v){let b=Math.floor(v/i),x=v%i;for(let S=0;S<d;++S){let k=Math.floor(S/i),I=S%i,N=(x*i+I)*p;for(let T=0;T<p;++T){let L=T+N+c*(k+u*(b+l*y));m[g++]=h[L]}}}return n.makeTensorInfo([o,f,d,p],a.dtype,m)}var pdt={kernelName:g0,backendName:"cpu",kernelFunc:ddt};function soe(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l,dimRoundingMode:u}=r;Fe([a,i],"depthwiseConv2DNative");let c=A.computeStrides(a.shape),f=A.computeStrides(i.shape),d=l;d==null&&(d=[1,1]),A.assert(R.eitherStridesOrDilationsAreOne(s,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${d}'`);let p=R.computeConv2DInfo(a.shape,i.shape,s,d,o,u,!0),{filterHeight:h,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:v}=p,b=v.left,x=v.top,S=p.outChannels/p.inChannels,k=new qn(p.outShape,a.dtype),I=n.data.get(a.dataId).values,N=n.data.get(i.dataId).values,T=k.values;for(let L=0;L<p.batchSize;++L){let E=L*c[0],M=L*k.strides[0];for(let j=0;j<p.outHeight;++j){let D=M+j*k.strides[1],F=j*p.strideHeight-x;for(let $=0;$<h;++$){let B=F+$*g;if(B<0||B>=p.inHeight)continue;let O=$*f[0],P=E+B*c[1];for(let W=0;W<p.outWidth;++W){let H=D+W*k.strides[2],q=W*p.strideWidth-b;for(let J=0;J<m;++J){let re=q+J*y;if(re<0||re>=p.inWidth)continue;let ce=O+J*f[1],ye=P+re*p.inChannels,he=H,me=ce;for(let se=0;se<p.inChannels;++se){let ge=I[ye+se];for(let we=0;we<S;++we)T[he+we]+=ge*N[me+we];he+=S,me+=S}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}var hdt={kernelName:ep,backendName:"cpu",kernelFunc:soe};function mdt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:u,filterShape:c}=r;Fe([a,i],"depthwiseConv2dNativeBackpropFilter");let f=R.computeConv2DInfo(a.shape,c,s,o,l,u,!0),{strideHeight:d,strideWidth:p,filterHeight:h,filterWidth:m}=f,g=new qn(f.filterShape,"float32"),y=f.padInfo.left,v=f.padInfo.top,b=f.outChannels/f.inChannels,x=n.data.get(a.dataId).values,S=new qn(a.shape,a.dtype,x),k=n.data.get(i.dataId).values,I=new qn(i.shape,i.dtype,k);for(let N=0;N<h;++N){let T=Math.max(0,Math.ceil((v-N)/d)),L=Math.min(f.outHeight,(f.inHeight+v-N)/d);for(let E=0;E<m;++E){let M=Math.max(0,Math.ceil((y-E)/p)),j=Math.min(f.outWidth,(f.inWidth+y-E)/p);for(let D=0;D<f.outChannels;++D){let F=Math.trunc(D/b),$=D%b,B=0;for(let O=0;O<f.batchSize;++O)for(let P=T;P<L;++P){let W=N+P*d-v;for(let H=M;H<j;++H){let q=E+H*p-y;B+=S.get(O,W,q,F)*I.get(O,P,H,D)}}g.set(B,N,E,F,$)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}var gdt={kernelName:CN,backendName:"cpu",kernelFunc:mdt};function ydt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:u,inputShape:c}=r;Fe([a,i],"depthwiseConv2DNativeBackpropInput");let f=A.computeStrides(a.shape),d=A.computeStrides(i.shape),p=R.computeConv2DInfo(c,i.shape,s,o,l,u,!0),h=new qn(p.inShape,"float32"),m=h.values,[g,y,v]=h.strides,b=n.data.get(a.dataId).values,[x,S,k]=f,I=n.data.get(i.dataId).values,[N,T,L]=d,{batchSize:E,filterHeight:M,filterWidth:j,inChannels:D,inHeight:F,inWidth:$,outChannels:B,outHeight:O,outWidth:P,strideHeight:W,strideWidth:H}=p,q=M-1-p.padInfo.top,J=j-1-p.padInfo.left,re=B/D;for(let ce=0;ce<E;++ce)for(let ye=0;ye<D;++ye)for(let he=0;he<F;++he){let me=he-q,se=Math.max(0,Math.ceil(me/W)),ge=Math.min(O,(M+me)/W);for(let we=0;we<$;++we){let oe=we-J,Be=Math.max(0,Math.ceil(oe/H)),Te=Math.min(P,(j+oe)/H),We=0;for(let Le=se;Le<ge;++Le){let Ye=Le*W-me;for(let ot=Be;ot<Te;++ot){let Zt=ot*H-oe,Dt=x*ce+S*Le+k*ot,Wt=N*(M-1-Ye)+T*(j-1-Zt)+L*ye;for(let Vt=0;Vt<re;++Vt){let rn=ye*re+Vt,Rr=b[Dt+rn],fr=I[Wt+Vt];We+=Rr*fr}}}m[g*ce+y*he+v*we+ye]=We}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}var vdt={kernelName:IN,backendName:"cpu",kernelFunc:ydt};function bdt(e){let{inputs:t,backend:n}=e,{x:r}=t,a=A.sizeFromShape(r.shape),i=n.data.get(r.dataId).values,s=st([a,a],r.dtype),o=s.values;for(let u=0;u<i.length;u++)o[u*a+u]=i[u];let l=[...r.shape,...r.shape];return n.makeTensorInfo(l,s.dtype,s.values)}var wdt={kernelName:aw,backendName:"cpu",kernelFunc:bdt},xdt={kernelName:tp,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{let{x:r,filter:a}=e,{strides:i,pad:s,dilations:o}=n,l=t,u=l.data.get(r.dataId).values,c=r.shape.length,f=l.data.get(a.dataId).values,d=a.shape.length,{batchSize:p,inHeight:h,inWidth:m,inChannels:g,outHeight:y,outWidth:v,padInfo:b,strideHeight:x,strideWidth:S,filterHeight:k,filterWidth:I,dilationHeight:N,dilationWidth:T,outShape:L}=R.computeDilation2DInfo(r.shape,a.shape,i,s,"NHWC",o),E=A.sizeFromShape(L),M=L.length,j=A.getArrayFromDType(r.dtype,E);for(let D=0;D<p;++D)for(let F=0;F<y;++F){let $=F*x-b.top;for(let B=0;B<v;++B){let O=B*S-b.left;for(let P=0;P<g;++P){let W=Number.MIN_SAFE_INTEGER;for(let q=0;q<k;++q){let J=$+q*N;if(J>=0&&J<h)for(let re=0;re<I;++re){let ce=O+re*T;if(ce>=0&&ce<m){let ye=A.locToIndex([D,J,ce,P],c,A.computeStrides(r.shape)),he=A.locToIndex([q,re,P],d,A.computeStrides(a.shape)),me=u[ye]+f[he];me>W&&(W=me)}}}let H=A.locToIndex([D,F,B,P],M,A.computeStrides(L));j[H]=W}}}return{dataId:l.write(A.toTypedArray(j,r.dtype),L,r.dtype),shape:L,dtype:r.dtype}}},Sdt={kernelName:fg,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{let{x:r,filter:a,dy:i}=e,{strides:s,pad:o,dilations:l}=n,u=t,c=A.toNestedArray(r.shape,u.data.get(r.dataId).values),f=A.toNestedArray(a.shape,u.data.get(a.dataId).values),{batchSize:d,inHeight:p,inWidth:h,inChannels:m,outHeight:g,outWidth:y,padInfo:v,strideHeight:b,strideWidth:x,filterHeight:S,filterWidth:k,dilationHeight:I,dilationWidth:N,outShape:T}=R.computeDilation2DInfo(r.shape,a.shape,s,o,"NHWC",l);A.assert(i.rank===T.length,()=>`Error in ${fg}, dy must have the same rank as output ${T.length}, but got ${i.rank}`);let L=A.toNestedArray(T,u.data.get(i.dataId).values),E=A.makeZerosNestedTypedArray(a.shape,a.dtype);for(let M=0;M<d;++M)for(let j=0;j<g;++j){let D=j*b-v.top;for(let F=0;F<y;++F){let $=F*x-v.left;for(let B=0;B<m;++B){let O=Number.MIN_SAFE_INTEGER,P=0,W=0;for(let H=0;H<S;++H){let q=D+H*I;if(q>=0&&q<p)for(let J=0;J<k;++J){let re=$+J*N;if(re>=0&&re<h){let ce=c[M][q][re][B]+f[H][J][B];ce>O&&(O=ce,P=H,W=J)}}}E[P][W][B]+=L[M][j][F][B]}}}return{dataId:u.write(A.toTypedArray(E,r.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},kdt={kernelName:cg,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{let{x:r,filter:a,dy:i}=e,{strides:s,pad:o,dilations:l}=n,u=t,c=A.toNestedArray(r.shape,u.data.get(r.dataId).values),f=A.toNestedArray(a.shape,u.data.get(a.dataId).values),{batchSize:d,inHeight:p,inWidth:h,inChannels:m,outHeight:g,outWidth:y,padInfo:v,strideHeight:b,strideWidth:x,filterHeight:S,filterWidth:k,dilationHeight:I,dilationWidth:N,outShape:T}=R.computeDilation2DInfo(r.shape,a.shape,s,o,"NHWC",l);A.assert(i.rank===T.length,()=>`Error in ${cg}, dy must have the same rank as output ${T.length}, but got ${i.rank}`);let L=A.toNestedArray(T,u.data.get(i.dataId).values),E=A.makeZerosNestedTypedArray(r.shape,r.dtype);for(let M=0;M<d;++M)for(let j=0;j<g;++j){let D=j*b-v.top;for(let F=0;F<y;++F){let $=F*x-v.left;for(let B=0;B<m;++B){let O=Number.MIN_SAFE_INTEGER,P=D<0?0:D,W=$<0?0:$;for(let H=0;H<S;++H){let q=D+H*I;if(q>=0&&q<p)for(let J=0;J<k;++J){let re=$+J*N;if(re>=0&&re<h){let ce=c[M][q][re][B]+f[H][J][B];ce>O&&(O=ce,P=q,W=re)}}}E[M][P][W][B]+=L[M][j][F][B]}}}return{dataId:u.write(A.toTypedArray(E,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function Cdt(e){let{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{canvas:i,options:s}=r,{contextOptions:o,imageOptions:l}=s||{},u=(l==null?void 0:l.alpha)||1,c=(o==null?void 0:o.contextType)||"2d";if(c!=="2d")throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);let f=i.getContext(c,(o==null?void 0:o.contextAttributes)||{});if(f==null)throw new Error(`Could not get the context with ${c} type.`);let[d,p]=a.shape.slice(0,2),h=a.shape.length===2?1:a.shape[2],m=n.data.get(a.dataId).values,g=a.dtype==="float32"?255:1,y=new Uint8ClampedArray(p*d*4);for(let b=0;b<d*p;++b){let x=[0,0,0,255*u];for(let k=0;k<h;k++){let I=m[b*h+k];if(a.dtype==="float32"){if(I<0||I>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${I}.`)}else if(a.dtype==="int32"&&(I<0||I>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${I}.`);h===1?(x[0]=I*g,x[1]=I*g,x[2]=I*g):x[k]=I*g}let S=b*4;y[S+0]=Math.round(x[0]),y[S+1]=Math.round(x[1]),y[S+2]=Math.round(x[2]),y[S+3]=Math.round(x[3])}i.width=p,i.height=d;let v=new ImageData(y,p,d);return f.putImageData(v,0,0),a}var Idt={kernelName:NN,backendName:"cpu",kernelFunc:Cdt};function Yw(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;Fe(a,"sum");let o;a.dtype==="bool"?o=yc({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):o=Oo({inputs:{x:a},backend:n});let l=o.shape.length,u=A.parseAxisParam(i,o.shape),c=R.getAxesPermutation(u,l),f=u,d=o;c!=null&&(d=Ea({inputs:{x:o},backend:n,attrs:{perm:c}}),f=R.getInnerMostAxes(f.length,l)),R.assertAxesAreInnerMostDims("sum",f,d.shape.length);let[p,h]=R.computeOutAndReduceShapes(d.shape,f),m=R.upcastType(d.dtype,"int32"),g=mC(n,p,m),y=A.sizeFromShape(h),v=n.data.get(g.dataId).values,b=n.data.get(d.dataId).values;for(let x=0;x<v.length;++x){let S=x*y,k=0;for(let I=0;I<y;++I)k+=b[S+I];v[x]=k}if(s){let x=R.expandShapeToKeepDim(g.shape,u),S=g;g=ln({inputs:{x:g},backend:n,attrs:{shape:x}}),n.disposeIntermediateTensorInfo(S)}return n.disposeIntermediateTensorInfo(o),c!=null&&n.disposeIntermediateTensorInfo(d),g}var Ndt={kernelName:Yp,backendName:"cpu",kernelFunc:Yw};function Mdt(e){let{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:s,summedDims:o,idDims:l}=R.decodeEinsumEquation(a,i.length);R.checkEinsumDimSizes(s.length,l,i);let{path:u,steps:c}=R.getEinsumComputePath(o,l),f=c.length,d=null,p=s.length,h=[];for(let m=0;m<f;++m){for(let g of c[m]){let{permutationIndices:y,expandDims:v}=R.getEinsumPermutation(p,l[g]),b;R.isIdentityPermutation(y)?b=i[g]:(b=Ea({inputs:{x:i[g]},backend:n,attrs:{perm:y}}),h.push(b));let x=b.shape.slice();for(let S=0;S<v.length;++S)x.splice(v[S],0,1);A.arraysEqual(b.shape,x)||(b=ln({inputs:{x:b},backend:n,attrs:{shape:x}}),h.push(b)),d===null?d=b:(d=zM({inputs:{a:b,b:d},backend:n}),h.push(d))}m<f-1&&(u[m]>=0&&(d=Yw({inputs:{x:d},backend:n,attrs:{axis:u[m]-(s.length-p),keepDims:!1}}),h.push(d)),p--)}for(let m of h)m!==d&&n.disposeIntermediateTensorInfo(m);return d}var Tdt={kernelName:MN,backendName:"cpu",kernelFunc:Mdt};function Edt(e){let{inputs:t,backend:n}=e,{dy:r,y:a}=t;Fe([r,a],"eluGrad");let i=new Float32Array(A.sizeFromShape(a.shape)),s=n.data.get(a.dataId).values,o=n.data.get(r.dataId).values;for(let l=0;l<s.length;++l){let u=s[l];u>=0?i[l]=o[l]:i[l]=o[l]*(u+1)}return n.makeTensorInfo(a.shape,"float32",i)}var Adt={kernelName:y0,backendName:"cpu",kernelFunc:Edt},Ldt=R.ERF_P,_dt=R.ERF_A1,jdt=R.ERF_A2,$dt=R.ERF_A3,Ddt=R.ERF_A4,Odt=R.ERF_A5,Rdt=Ut(ap,e=>{let t=Math.sign(e),n=Math.abs(e),r=1/(1+Ldt*n);return t*(1-((((Odt*r+Ddt)*r+$dt)*r+jdt)*r+_dt)*r*Math.exp(-n*n))}),Pdt={kernelName:ap,backendName:"cpu",kernelFunc:Rdt};function vC(e){let{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:i}=r,s=a.shape.length,o=a.shape.slice(),l=i;return i<0&&(A.assert(-(s+1)<=i,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+i+1),o.splice(l,0,1),ln({inputs:{x:a},backend:n,attrs:{shape:o}})}var Fdt={kernelName:b0,backendName:"cpu",kernelFunc:vC},zdt=zn((e,t)=>e/t),o6=cr(np,zdt),qL={kernelName:np,backendName:"cpu",kernelFunc:o6};function ooe(e,t,n){let r=e.shape,a=r[0],i=r[1],s=n.data.get(e.dataId),o=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,u=[a,i],c=A.sizeFromShape(u),f=A.getTypedArrayFromDType("float32",c),d=A.getTypedArrayFromDType("float32",c);for(let g=0;g<a;g++){let y=hd({inputs:{x:o},backend:n,attrs:{begin:[g,0],size:[1,i]}}),v=hd({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,i]}}),b=Wa({inputs:{real:y,imag:v},backend:n}),{real:x,imag:S}=Bdt(b,t,n),k=R.mergeRealAndImagArrays(x,S);for(let I=0;I<i;I++){let N=R.getComplexWithIndex(k,I);f[g*i+I]=N.real,d[g*i+I]=N.imag}n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b)}let p=n.makeTensorInfo(u,"float32",f),h=n.makeTensorInfo(u,"float32",d),m=Wa({inputs:{real:p,imag:h},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),m}function Bdt(e,t,n){let r=A.sizeFromShape(e.shape),a=n.data.get(e.dataId),i=n.data.get(a.complexTensorInfos.real.dataId).values,s=n.data.get(a.complexTensorInfos.imag.dataId).values;if(Udt(r)){let o=YL(i,s,r,t,n),l=[e.shape[0],e.shape[1]];if(t){let u=n.makeTensorInfo(l,"float32",o.real),c=n.makeTensorInfo(l,"float32",o.imag),f=n.makeTensorInfo([],"float32",A.createScalarValue(r,"float32")),d=Oo({inputs:{x:f},backend:n}),p=qL.kernelFunc({inputs:{a:u,b:f},backend:n}),h=qL.kernelFunc({inputs:{a:c,b:d},backend:n}),m=n.data.get(p.dataId).values,g=n.data.get(h.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),{real:m,imag:g}}return o}else{let o=R.mergeRealAndImagArrays(i,s),l=Wdt(o,r,t);return R.splitRealAndImagArrays(l)}}function Udt(e){return(e&e-1)===0}function YL(e,t,n,r,a){if(n===1)return{real:e,imag:t};let i=R.mergeRealAndImagArrays(e,t),s=n/2,o=R.complexWithEvenIndex(i),l=o.real,u=o.imag,c=[l.length],f=a.makeTensorInfo(c,"float32",l),d=a.makeTensorInfo(c,"float32",u),p=Wa({inputs:{real:f,imag:d},backend:a}),h=R.complexWithOddIndex(i),m=h.real,g=h.imag,y=[m.length],v=a.makeTensorInfo(y,"float32",m),b=a.makeTensorInfo(y,"float32",g),x=Wa({inputs:{real:v,imag:b},backend:a}),S=YL(l,u,s,r,a),k=S.real,I=S.imag,N=[k.length],T=a.makeTensorInfo(N,"float32",k),L=a.makeTensorInfo(N,"float32",I),E=Wa({inputs:{real:T,imag:L},backend:a}),M=YL(m,g,s,r,a),j=M.real,D=M.imag,F=[j.length],$=a.makeTensorInfo(F,"float32",j),B=a.makeTensorInfo(F,"float32",D),O=Wa({inputs:{real:$,imag:B},backend:a}),P=R.exponents(n,r),W=[P.real.length],H=a.makeTensorInfo(W,"float32",P.real),q=a.makeTensorInfo(W,"float32",P.imag),J=Wa({inputs:{real:H,imag:q},backend:a}),re=zM({inputs:{a:J,b:O},backend:a}),ce=kg({inputs:{a:E,b:re},backend:a}),ye=a6({inputs:{a:E,b:re},backend:a}),he=pd({inputs:{input:ce},backend:a}),me=pd({inputs:{input:ye},backend:a}),se=Cg({inputs:{input:ce},backend:a}),ge=Cg({inputs:{input:ye},backend:a}),we=Ig({inputs:[he,me],backend:a,attrs:{axis:0}}),oe=Ig({inputs:[se,ge],backend:a,attrs:{axis:0}}),Be=a.data.get(we.dataId).values,Te=a.data.get(oe.dataId).values;return a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo($),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(J),a.disposeIntermediateTensorInfo(re),a.disposeIntermediateTensorInfo(ce),a.disposeIntermediateTensorInfo(ye),a.disposeIntermediateTensorInfo(he),a.disposeIntermediateTensorInfo(se),a.disposeIntermediateTensorInfo(me),a.disposeIntermediateTensorInfo(ge),a.disposeIntermediateTensorInfo(we),a.disposeIntermediateTensorInfo(oe),{real:Be,imag:Te}}function Wdt(e,t,n){let r=new Float32Array(t*2);for(let a=0;a<t;a++){let i=0,s=0;for(let o=0;o<t;o++){let l=R.exponent(a*o,t,n),u=R.getComplexWithIndex(e,o);i+=u.real*l.real-u.imag*l.imag,s+=u.real*l.imag+u.imag*l.real}n&&(i/=t,s/=t),R.assignToTypedArray(r,i,s,a)}return r}function Vdt(e){let{inputs:t,backend:n}=e,{input:r}=t,a=A.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],s=a/i,o=ln({inputs:{x:r},backend:n,attrs:{shape:[s,i]}}),l=ooe(o,!1,n),u=ln({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),u}var Gdt={kernelName:TN,backendName:"cpu",kernelFunc:Vdt};function l6(e){let{backend:t,attrs:n}=e,{shape:r,value:a,dtype:i}=n,s=i||A.inferDtype(a),o=A.getArrayFromDType(s,A.sizeFromShape(r));return qdt(o,a),t.makeTensorInfo(r,s,o)}var Hdt={kernelName:iw,backendName:"cpu",kernelFunc:l6};function qdt(e,t,n){e.fill(t)}var Ydt={kernelName:w0,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{image:r}=e,a=n,i=A.getTypedArrayFromDType(r.dtype,A.sizeFromShape(r.shape)),[s,o,l,u]=r.shape,c=a.data.get(r.dataId).values;for(let f=0;f<s;f++){let d=f*l*o*u;for(let p=0;p<o;p++){let h=p*(l*u);for(let m=0;m<l;m++){let g=m*u;for(let y=0;y<u;y++){let v=Math.round(l-m-1),b=d+h+g+y,x=c[b];if(v>=0&&v<l){let S=v*u,k=d+h+S+y;x=c[k]}i[b]=x}}}}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function Qdt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=r,m=ioe({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(s){let g=m;if(c==="NCHW"&&s.shape.length===1&&s.shape[0]!==1){let y=ln({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=kg({inputs:{a:m,b:y},backend:n}),n.disposeIntermediateTensorInfo(y)}else m=kg({inputs:{a:m,b:s},backend:n});n.disposeIntermediateTensorInfo(g)}if(p){let g=m;if(c==="NCHW"&&p==="prelu"&&o.shape.length===1&&o.shape[0]!==1){let y=ln({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=yC(n,m,p,y,h),n.disposeIntermediateTensorInfo(y)}else m=yC(n,m,p,o,h);n.disposeIntermediateTensorInfo(g)}return m}var Kdt={kernelName:td,backendName:"cpu",kernelFunc:Qdt};function Jdt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=r,m=soe({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(s){let g=m;m=kg({inputs:{a:m,b:s},backend:n}),n.disposeIntermediateTensorInfo(g)}if(p){let g=m;m=yC(n,m,p,o,h),n.disposeIntermediateTensorInfo(g)}return m}var Zdt={kernelName:nd,backendName:"cpu",kernelFunc:Jdt};function Xdt(e){let{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=A.sizeFromShape(r.shape),s=a.shape,o=s[s.length-1],[l,u,c,f]=R.prepareAndValidate(r,a);if(u===0)return n.makeTensorInfo(l,r.dtype,[]);let d=n.data.get(a.dataId).values,p=n.bufferSync(r),h=kse(d,p,r.dtype,u,o,c,f,r.shape,i);return n.makeTensorInfo(l,r.dtype,h.values)}var ept={kernelName:S0,backendName:"cpu",kernelFunc:Xdt};function tpt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:s,batchDims:o}=r;Fe([a,i],"gatherV2");let l=A.parseAxisParam(s,a.shape)[0],u=n.data.get(i.dataId).values,c=a.shape[l];for(let x=0;x<u.length;++x){let S=u[x];A.assert(S<=c-1&&S>=0,()=>`GatherV2: the index value ${S} is not in [0, ${c-1}]`)}let f=o;o==null&&(f=0);let d=A.sizeFromShape(i.shape),p=R.segment_util.collectGatherOpShapeInfo(a,i,l,f),h=ln({inputs:{x:a},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=ln({inputs:{x:i},backend:n,attrs:{shape:[p.batchSize,d/p.batchSize]}}),g=[p.batchSize,p.outerSize,d/p.batchSize,p.sliceSize],y=n.bufferSync(m),v=n.bufferSync(h),b=Cse(v,y,g);return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,b.dtype,b.values)}var npt={kernelName:x0,backendName:"cpu",kernelFunc:tpt};function rpt(e){let{inputs:t,backend:n}=e,{input:r}=t,a=A.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],s=a/i,o=ln({inputs:{x:r},backend:n,attrs:{shape:[s,i]}}),l=ooe(o,!0,n),u=ln({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),u}var apt={kernelName:EN,backendName:"cpu",kernelFunc:rpt},ipt=Ut(dp,e=>Number.isFinite(e)?1:0,"bool"),spt={kernelName:dp,backendName:"cpu",kernelFunc:ipt},opt=Ut(pp,e=>Math.abs(e)===1/0?1:0,"bool"),lpt={kernelName:pp,backendName:"cpu",kernelFunc:opt},upt=Ut(hp,e=>Number.isNaN(e)?1:0,"bool"),cpt={kernelName:hp,backendName:"cpu",kernelFunc:upt};function fpt(e){let{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,s=Ese(r,a,i);return t.makeTensorInfo([s.length],"float32",s)}var dpt={kernelName:N0,backendName:"cpu",kernelFunc:fpt},ppt=Ut(yp,e=>Math.log1p(e)),hpt={kernelName:yp,backendName:"cpu",kernelFunc:ppt},mpt=zn((e,t)=>e&&t),gpt=cr(M0,mpt,null,"bool"),ypt={kernelName:M0,backendName:"cpu",kernelFunc:gpt},vpt=Ut(T0,e=>e?0:1,"bool"),bpt={kernelName:T0,backendName:"cpu",kernelFunc:vpt},wpt=zn((e,t)=>e||t),xpt=cr(E0,wpt,null,"bool"),Spt={kernelName:E0,backendName:"cpu",kernelFunc:xpt};function kpt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:s,alpha:o,beta:l}=r;Fe(a,"LRN");let u=a.shape[3],c=u-1,f=n.data.get(a.dataId).values,d=A.sizeFromShape(a.shape),p=new Float32Array(d);function h(m){let g=m%u,y=m-g+Math.max(0,g-i),v=m-g+Math.min(g+i,c),b=0;for(;y<=v;y++){let x=f[y];b+=x*x}return b}for(let m=0;m<d;m++){let g=h(m),y=f[m]*Math.pow(s+o*g,-l);p[m]=y}return n.makeTensorInfo(a.shape,a.dtype,p)}var Cpt={kernelName:vp,backendName:"cpu",kernelFunc:kpt};function Ipt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:s}=t,{depthRadius:o,bias:l,alpha:u,beta:c}=r;Fe(s,"LRNGrad");let f=A.sizeFromShape(s.shape),d=s.shape[3],p=n.data.get(s.dataId).values,h=n.data.get(a.dataId).values,m=n.data.get(i.dataId).values,g=new Float32Array(f),y=f;for(let v=0;v<y;v++){let b=v%d,x=v-b+Math.max(0,b-o),S=v-b+Math.min(d,b+o+1),k=0;for(let I=x;I<S;I++)k+=Math.pow(h[I],2);k=u*k+l;for(let I=x;I<S;I++){let N=-2*u*c*h[I]*m[v]/k;v===I&&(N+=Math.pow(k,-c)),N*=p[v],g[I]+=N}}return n.makeTensorInfo(s.shape,a.dtype,g)}var Npt={kernelName:A0,backendName:"cpu",kernelFunc:Ipt};function loe(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:s}=r,o=n,l=a.shape,u=l.length,c=A.parseAxisParam(i,l),f=c,d=R.getAxesPermutation(f,u),p=o.data.get(a.dataId).values;if(d!=null){let x=new Array(u);for(let S=0;S<x.length;S++)x[S]=l[d[S]];p=ZP(p,l,a.dtype,d,x),f=R.getInnerMostAxes(f.length,u),l=x}Fe(a,"max"),R.assertAxesAreInnerMostDims("max",f,u);let[h,m]=R.computeOutAndReduceShapes(l,f),g=A.sizeFromShape(m),y=Lse(p,g,h,a.dtype),v=o.write(y,h,a.dtype),b=h;return s&&(b=R.expandShapeToKeepDim(h,c)),{dataId:v,shape:b,dtype:a.dtype}}var Mpt={kernelName:bp,backendName:"cpu",kernelFunc:loe};function Tpt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t;Fe(a,"maxPool");let{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r,u=1;A.assert(R.eitherStridesOrDilationsAreOne(s,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);let c=R.computePool2DInfo(a.shape,i,s,u,o,l),f;if(c.filterWidth===1&&c.filterHeight===1&&A.arraysEqual(c.inShape,c.outShape))f=Oo({inputs:{x:a},backend:n});else{let d=n.data.get(a.dataId).values,p=A.computeStrides(a.shape),h=s6(d,a.shape,a.dtype,p,c,"max");f=n.makeTensorInfo(c.outShape,a.dtype,h.values)}return f}var Ept={kernelName:xp,backendName:"cpu",kernelFunc:Tpt};function Apt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:u}=r;Fe(a,"maxPool3d");let c=R.computePool3DInfo(a.shape,i,s,1,o,l,u),f=n.data.get(a.dataId).values,d=aoe(f,a.shape,a.dtype,A.computeStrides(a.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}var Lpt={kernelName:L0,backendName:"cpu",kernelFunc:Apt};function _pt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:u}=r;Fe([a,i],"maxPool3DGrad");let c=R.computePool3DInfo(i.shape,s,o,1,l,u),f=n.bufferSync(i),d=wft(f,c),p=c.strideDepth,h=c.strideHeight,m=c.strideWidth,g=c.dilationDepth,y=c.dilationHeight,v=c.dilationWidth,b=c.effectiveFilterDepth,x=c.effectiveFilterHeight,S=c.effectiveFilterWidth,k=b-1-c.padInfo.front,I=S-1-c.padInfo.left,N=x-1-c.padInfo.top,T=st(i.shape,"float32"),L=n.bufferSync(a);for(let E=0;E<c.batchSize;++E)for(let M=0;M<c.inChannels;++M)for(let j=0;j<c.inDepth;++j)for(let D=0;D<c.inHeight;++D)for(let F=0;F<c.inWidth;++F){let $=j-k,B=D-N,O=F-I,P=0;for(let W=0;W<b;W+=g){let H=($+W)/p;if(!(H<0||H>=c.outDepth||Math.floor(H)!==H))for(let q=0;q<x;q+=y){let J=(B+q)/h;if(!(J<0||J>=c.outHeight||Math.floor(J)!==J))for(let re=0;re<S;re+=v){let ce=(O+re)/m;if(ce<0||ce>=c.outWidth||Math.floor(ce)!==ce)continue;let ye=b*x*S-1-d.get(E,H,J,ce,M),he=W*x*S+q*S+re,me=ye===he?1:0;if(me===0)continue;let se=L.get(E,H,J,ce,M);P+=se*me}}}T.set(P,E,j,D,F,M)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}var jpt={kernelName:ow,backendName:"cpu",kernelFunc:_pt};function $pt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:s}=t,o=i;Fe([i,s],"maxPoolGrad");let{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=R.computePool2DInfo(o.shape,l,u,1,c,f),p=n.data.get(o.dataId).values,h=st(d.outShape,o.dtype,roe(p,o.shape,o.dtype,d).values),m=d.strideHeight,g=d.strideWidth,y=d.dilationHeight,v=d.dilationWidth,b=d.effectiveFilterHeight,x=d.effectiveFilterWidth,S=x-1-d.padInfo.left,k=b-1-d.padInfo.top,I=st(o.shape,"float32"),N=n.data.get(a.dataId).values,T=st(a.shape,"float32",N);for(let L=0;L<d.batchSize;++L)for(let E=0;E<d.inChannels;++E)for(let M=0;M<d.inHeight;++M)for(let j=0;j<d.inWidth;++j){let D=M-k,F=j-S,$=0;for(let B=0;B<b;B+=y){let O=(D+B)/m;if(!(O<0||O>=d.outHeight||Math.floor(O)!==O))for(let P=0;P<x;P+=v){let W=(F+P)/g;if(W<0||W>=d.outWidth||Math.floor(W)!==W)continue;let H=b*x-1-h.get(L,O,W,E),q=B*x+P,J=H===q?1:0;if(J===0)continue;let re=T.get(L,O,W,E);$+=re*J}}I.set($,L,M,j,E)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}var Dpt={kernelName:sw,backendName:"cpu",kernelFunc:$pt};function Opt(e,t,n,r,a){let i=A.computeStrides(t),s=s6(e,t,n,i,a,"max"),o=roe(e,t,n,a,!0,r);return[s.values,o.values]}var Rpt={kernelName:lw,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{x:r}=e,{filterSize:a,strides:i,pad:s,includeBatchInIndex:o}=t,l=n;Fe(r,"MaxPoolWithArgmax");let u=l.data.get(r.dataId).values,c=R.computePool2DInfo(r.shape,a,i,[1,1],s),[f,d]=Opt(u,r.shape,r.dtype,o,c),p=l.write(f,c.outShape,r.dtype),h=l.write(d,c.outShape,r.dtype);return[{dataId:p,shape:c.outShape,dtype:r.dtype},{dataId:h,shape:c.outShape,dtype:"int32"}]}};function Ppt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=A.parseAxisParam(i,a.shape),l=R.computeOutAndReduceShapes(a.shape,o)[1],u=A.sizeFromShape(l),c=[],f=n.makeTensorInfo([],"float32",new Float32Array([u]));c.push(f);let d=yc({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});c.push(d);let p=o6({inputs:{a:d,b:f},backend:n});c.push(p);let h=Yw({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:s}});return c.forEach(m=>n.disposeIntermediateTensorInfo(m)),h}var Fpt={kernelName:Sp,backendName:"cpu",kernelFunc:Ppt};function zpt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;Fe(a,"min");let o=A.parseAxisParam(i,a.shape),l=o,u=R.getAxesPermutation(l,a.shape.length),c=a;u!=null&&(c=Ea({inputs:{x:a},backend:n,attrs:{perm:u}}),l=R.getInnerMostAxes(l.length,a.shape.length)),R.assertAxesAreInnerMostDims("min",l,c.shape.length);let[f,d]=R.computeOutAndReduceShapes(c.shape,l),p=A.sizeFromShape(d),h=A.makeZerosTypedArray(A.sizeFromShape(f),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<h.length;++y){let v=y*p,b=m[v];for(let x=0;x<p;++x){let S=m[v+x];(Number.isNaN(S)||S<b)&&(b=S)}h[y]=b}u!=null&&n.disposeIntermediateTensorInfo(c);let g=n.makeTensorInfo(f,c.dtype,h);if(s){let y=R.expandShapeToKeepDim(f,o),v=ln({inputs:{x:g},backend:n,attrs:{shape:y}});return n.disposeIntermediateTensorInfo(g),v}return g}var Bpt={kernelName:kp,backendName:"cpu",kernelFunc:zpt};function Upt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,mode:s}=r;Fe(a,"mirrorPad");let o=i.map((v,b)=>v[0]+a.shape[b]+v[1]),l=i.map(v=>v[0]),u=i.map((v,b)=>v[0]+a.shape[b]),c=s==="reflect"?0:1,f=n.data.get(a.dataId).values,d=a.shape.length,p=A.computeStrides(a.shape),h=A.sizeFromShape(o),m=o.length,g=A.computeStrides(o),y=A.getTypedArrayFromDType(a.dtype,h);for(let v=0;v<h;v++){let b=A.indexToLoc(v,m,g);for(let S=0;S<m;S++)b[S]<l[S]?b[S]=l[S]*2-b[S]-c:b[S]>=u[S]&&(b[S]=(u[S]-1)*2-b[S]+c);b=b.map((S,k)=>S-l[k]);let x=A.locToIndex(b,d,p);y[v]=f[x]}return{dataId:n.write(y,o,a.dtype),shape:o,dtype:a.dtype}}var Wpt={kernelName:Ip,backendName:"cpu",kernelFunc:Upt},Vpt=zn((e,t)=>{let n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}),Gpt=cr(Np,Vpt),Hpt={kernelName:Np,backendName:"cpu",kernelFunc:Gpt},qpt=Lc(vN());function uoe(e){let{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,s=a.shape.length,o=i;if(o===-1&&(o=s-1),o!==s-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${s} and dim was ${o}`);let l=A.parseAxisParam([o],a.shape),u=loe({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=R.expandShapeToKeepDim(u.shape,l),f=ln({inputs:{x:u},backend:n,attrs:{shape:c}}),d=a6({inputs:{a,b:f},backend:n}),p=bse({inputs:{x:d},backend:n}),h=Yw({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),m=ln({inputs:{x:h},backend:n,attrs:{shape:c}}),g=o6({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}var Ypt={kernelName:Qp,backendName:"cpu",kernelFunc:uoe};function Qpt(e){let{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:s,normalized:o}=r;Fe(a,"multinomial");let l=o?a:uoe({inputs:{logits:a},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],f=n.data.get(l.dataId).values,d=[u,i],p=A.makeZerosTypedArray(A.sizeFromShape(d),"int32");for(let h=0;h<u;++h){let m=h*c,g=new Float32Array(c-1);g[0]=f[m];for(let b=1;b<g.length;++b)g[b]=g[b-1]+f[m+b];let y=qpt.alea(s.toString()),v=h*i;for(let b=0;b<i;++b){let x=y();p[v+b]=g.length;for(let S=0;S<g.length;S++)if(x<g[S]){p[v+b]=S;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",p)}var Kpt={kernelName:_0,backendName:"cpu",kernelFunc:Qpt},Jpt=Uo.nonMaxSuppressionV3Impl;function Zpt(e){let{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=r;Fe(a,"NonMaxSuppression");let u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,{selectedIndices:f}=Jpt(u,c,s,o,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}var Xpt={kernelName:D0,backendName:"cpu",kernelFunc:Zpt},eht=Uo.nonMaxSuppressionV4Impl;function tht(e){let{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=r;Fe(a,"NonMaxSuppressionPadded");let c=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,{selectedIndices:d,validOutputs:p}=eht(c,f,s,o,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}var nht={kernelName:O0,backendName:"cpu",kernelFunc:tht},rht=Uo.nonMaxSuppressionV5Impl;function aht(e){let{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=r;Fe(a,"NonMaxSuppressionWithScore");let c=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,d=s,p=o,h=l,m=u,{selectedIndices:g,selectedScores:y}=rht(c,f,d,p,h,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}var iht={kernelName:R0,backendName:"cpu",kernelFunc:aht};function sht(e){let{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:s,onValue:o,offValue:l}=r;Fe(a,"oneHot");let u=A.sizeFromShape(a.shape),c=new Float32Array(u*s);c.fill(l);let f=n.data.get(a.dataId).values;for(let d=0;d<u;++d)f[d]>=0&&f[d]<s&&(c[d*s+f[d]]=o);return n.makeTensorInfo([...a.shape,s],i,c)}var oht={kernelName:Tp,backendName:"cpu",kernelFunc:sht};function bC(e){let{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){let a=pd({inputs:{input:r},backend:n}),i=bC({inputs:{x:a},backend:n}),s=Cg({inputs:{input:r},backend:n}),o=bC({inputs:{x:s},backend:n}),l=Wa({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}else return l6({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var lht={kernelName:n1,backendName:"cpu",kernelFunc:bC};function coe(e){let{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){let a=pd({inputs:{input:r},backend:n}),i=coe({inputs:{x:a},backend:n}),s=Cg({inputs:{input:r},backend:n}),o=bC({inputs:{x:s},backend:n}),l=Wa({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}else return l6({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}var uht={kernelName:P0,backendName:"cpu",kernelFunc:coe};function foe(e){let{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(t.length===1)return vC({inputs:{input:t[0]},backend:n,attrs:{dim:a}});let i=t[0].shape,s=t[0].dtype;t.forEach(c=>{A.assertShapesMatch(i,c.shape,"All tensors passed to stack must have matching shapes"),A.assert(s===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});let o=[],l=t.map(c=>{let f=vC({inputs:{input:c},backend:n,attrs:{dim:a}});return o.push(f),f}),u=Ig({inputs:l,backend:n,attrs:{axis:a}});return o.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}var cht={kernelName:F0,backendName:"cpu",kernelFunc:foe};function fht(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:s}=r;Fe(a,"pad");let o=i.map((y,v)=>y[0]+a.shape[v]+y[1]),l=i.map(y=>y[0]),u=n.data.get(a.dataId).values,c=A.sizeFromShape(a.shape),f=a.shape.length,d=A.computeStrides(a.shape),p=A.sizeFromShape(o),h=o.length,m=A.computeStrides(o),g=A.getTypedArrayFromDType(a.dtype,p);s!==0&&g.fill(s);for(let y=0;y<c;y++){let v=A.indexToLoc(y,f,d).map((x,S)=>x+l[S]),b=A.locToIndex(v,h,m);g[b]=u[y]}return{dataId:n.write(g,o,a.dtype),shape:o,dtype:a.dtype}}var doe={kernelName:Ep,backendName:"cpu",kernelFunc:fht},dht=zn((e,t)=>Math.pow(e,t)),pht=cr(Ap,dht),hht={kernelName:Ap,backendName:"cpu",kernelFunc:pht};function mht(e){let{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:s}=t,o=a.map(g=>n.data.get(g.dataId).values),l=a.map(g=>g.shape),u=n.data.get(i.dataId).values,c=n.data.get(s.dataId).values,[f,d,p]=Rse(o,l,u,i.shape,i.dtype,c,s.shape),h=f.map(g=>n.makeTensorInfo([g.length],"int32",g)),m=n.makeTensorInfo(p,i.dtype,d);return h.concat([m])}var ght={kernelName:LN,backendName:"cpu",kernelFunc:mht};function yht(e){let{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=Pse(s,r.shape,r.dtype,o,a.shape,l,i.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}var vht={kernelName:_N,backendName:"cpu",kernelFunc:yht};function bht(e){let{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:s,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,f=n.data.get(s.dataId).values,d=o.map(g=>n.data.get(g.dataId).values),p=o.map(g=>g.shape),[h,m]=Fse(u,a.shape,c,i.shape,i.dtype,f,s.shape,d,p,l);return n.makeTensorInfo(h,i.dtype,m)}var wht={kernelName:jN,backendName:"cpu",kernelFunc:bht};function xht(e){let{backend:t,attrs:n}=e,{start:r,stop:a,dtype:i,step:s}=n,o=XP(r,a,s,i);return t.makeTensorInfo([o.length],i,o)}var Sht={kernelName:uw,backendName:"cpu",kernelFunc:xht},kht=Ut(jp,e=>1/e),Cht={kernelName:jp,backendName:"cpu",kernelFunc:kht};function Iht(e){let{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r;Fe(a,"resizeBilinear");let l=A.computeStrides(a.shape),[u,c]=o,[f,d,p,h]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(A.sizeFromShape([f,u,c,h])),y=[i&&u>1?d-1:d,i&&c>1?p-1:p],v=[i&&u>1?u-1:u,i&&c>1?c-1:c],b=0,x=y[0]/v[0],S=y[1]/v[1];for(let k=0;k<f;k++)for(let I=0;I<u;I++){let N;s?N=x*(I+.5)-.5:N=x*I;let T=Math.max(0,Math.floor(N)),L=N-T,E=Math.min(d-1,Math.ceil(N)),M=k*l[0]+T*l[1],j=k*l[0]+E*l[1];for(let D=0;D<c;D++){let F;s?F=S*(D+.5)-.5:F=S*D;let $=Math.max(0,Math.floor(F)),B=F-$,O=Math.min(p-1,Math.ceil(F)),P=M+$*l[2],W=j+$*l[2],H=M+O*l[2],q=j+O*l[2];for(let J=0;J<h;J++){let re=m[P+J],ce=m[W+J],ye=m[H+J],he=m[q+J],me=re+(ye-re)*B,se=ce+(he-ce)*B,ge=me+(se-me)*L;g[b++]=ge}}}return n.makeTensorInfo([f,u,c,h],"float32",g)}var Nht={kernelName:Op,backendName:"cpu",kernelFunc:Iht};function Mht(e){let{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r;Fe([i,a],"resizeBilinearGrad");let o=A.computeStrides(a.shape),[l,u,c,f]=a.shape,[,d,p]=i.shape,h=new Float32Array(l*u*c*f),m=[s&&d>1?u-1:u,s&&p>1?c-1:c],g=[s&&d>1?d-1:d,s&&p>1?p-1:p],y=m[0]/g[0],v=m[1]/g[1],b=n.data.get(i.dataId).values,x=0;for(let S=0;S<l;S++){let k=S*o[0];for(let I=0;I<d;I++){let N=I*y,T=Math.floor(N),L=Math.min(Math.ceil(N),u-1),E=k+T*o[1],M=k+L*o[1],j=N-T,D=1-j;for(let F=0;F<p;F++){let $=F*v,B=Math.floor($),O=Math.min(Math.ceil($),c-1),P=$-B,W=1-P,H=E+B*o[2],q=E+O*o[2],J=M+B*o[2],re=M+O*o[2],ce=D*W,ye=D*P,he=j*W,me=j*P;for(let se=0;se<f;se++){let ge=b[x++];h[H+se]+=ge*ce,h[q+se]+=ge*ye,h[J+se]+=ge*he,h[re+se]+=ge*me}}}}return n.makeTensorInfo([l,c,u,f],"float32",h)}var Tht={kernelName:U0,backendName:"cpu",kernelFunc:Mht};function Eht(e){let{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r;Fe(a,"resizeNearestNeighbor");let l=A.computeStrides(a.shape),[u,c]=o,[f,d,p,h]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(f*u*c*h),y=[i&&u>1?d-1:d,i&&c>1?p-1:p],v=[i&&u>1?u-1:u,i&&c>1?c-1:c],b=y[0]/v[0],x=y[1]/v[1],S=0;for(let k=0;k<f;k++){let I=k*l[0];for(let N=0;N<u;N++){let T=s?b*(N+.5):b*N,L=Math.min(d-1,i?Math.round(T):Math.floor(T));s&&(L=Math.max(0,L));let E=I+L*l[1];for(let M=0;M<c;M++){let j=s?x*(M+.5):x*M,D=Math.min(p-1,i?Math.round(j):Math.floor(j));s&&(D=Math.max(0,D));let F=E+D*l[2];for(let $=0;$<h;$++){let B=m[F+$];g[S++]=B}}}}return n.makeTensorInfo([f,u,c,h],a.dtype,g)}var Aht={kernelName:Dp,backendName:"cpu",kernelFunc:Eht};function Lht(e){let{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r;Fe([i,a],"resizeNearestNeighborGrad");let o=A.computeStrides(a.shape),l=A.computeStrides(i.shape),[u,c,f,d]=a.shape,[,p,h]=i.shape,m=new Float32Array(u*c*f*d),g=n.data.get(i.dataId).values,y=[s&&p>1?c-1:c,s&&h>1?f-1:f],v=[s&&p>1?p-1:p,s&&h>1?h-1:h],b=y[0]/v[0],x=y[1]/v[1],S=1/b,k=1/x,I=Math.ceil(S)*2+2,N=Math.ceil(k)*2+2;for(let T=0;T<u;T++){let L=T*o[0];for(let E=0;E<c;E++){let M=L+E*o[1],j=Math.floor(E*S),D=Math.floor(j-I/2);for(let F=0;F<f;F++){let $=M+F*o[2],B=Math.floor(F*k),O=Math.floor(B-N/2);for(let P=0;P<d;P++){let W=0;for(let H=0;H<I;H++){let q=H+D;if(q<0||q>=p)continue;let J=L+q*l[1],re=q*b,ce=Math.min(c-1,s?Math.round(re):Math.floor(re));if(E===ce)for(let ye=0;ye<N;ye++){let he=ye+O;if(he<0||he>=h)continue;let me=J+he*l[2],se=he*x,ge=Math.min(f-1,s?Math.round(se):Math.floor(se));F===ge&&(W+=g[me+P])}}m[$+P]=W}}}}return n.makeTensorInfo(a.shape,a.dtype,m)}var _ht={kernelName:B0,backendName:"cpu",kernelFunc:Lht};function jht(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r;Fe(a,"reverse");let s=a.shape.length,o=A.parseAxisParam(i,a.shape);if(s===0)return Oo({inputs:{x:a},backend:n});let l=new qn(a.shape,a.dtype),u=n.bufferSync(a);for(let c=0;c<l.size;c++){let f=l.indexToLoc(c),d=f.slice();o.forEach(p=>d[p]=a.shape[p]-1-d[p]),l.set(u.get(...d),...f)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}var $ht={kernelName:Pp,backendName:"cpu",kernelFunc:jht},Dht={kernelName:r1,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{image:r}=e,{radians:a,fillValue:i,center:s}=t,o=n,l=A.getTypedArrayFromDType(r.dtype,A.sizeFromShape(r.shape)),[u,c,f,d]=r.shape,[p,h]=R.getImageCenter(s,c,f),m=255,g=Math.sin(a),y=Math.cos(a),v=o.data.get(r.dataId).values;for(let b=0;b<u;b++){let x=b*f*c*d;for(let S=0;S<c;S++){let k=S*(f*d);for(let I=0;I<f;I++){let N=I*d;for(let T=0;T<d;T++){let L=[u,S,I,T],E=L[2],M=L[1],j=(E-p)*y-(M-h)*g,D=(E-p)*g+(M-h)*y;j=Math.round(j+p),D=Math.round(D+h);let F=i;if(typeof i!="number"&&(T===3?F=m:F=i[T]),j>=0&&j<f&&D>=0&&D<c){let B=D*(f*d),O=j*d,P=x+B+O+T;F=v[P]}let $=x+k+N+T;l[$]=F}}}}return{dataId:o.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Oht=Ut(Fp,e=>{let t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1}),Rht={kernelName:Fp,backendName:"cpu",kernelFunc:Oht};function Pht(e){let{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:s}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=R.calculateShapes(i,a,s),d=!0,p=n.bufferSync(a),h=n.bufferSync(i),m=Sf(p,h,s,f,u,l,o,c,0,d);return n.makeTensorInfo(s,m.dtype,m.values)}var Fht={kernelName:W0,backendName:"cpu",kernelFunc:Pht};function zht(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<t?n=a+1:r=a;return r}function Bht(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<=t?n=a+1:r=a;return r}function Uht(e,t,n,r,a,i){let s=A.getArrayFromDType("int32",n*a);for(let o=0;o<n;++o){let l=e.slice(o*r,(o+1)*r),u=o*a;for(let c=0;c<a;++c)s[u+c]=i==="left"?zht(l,t[c+u]):Bht(l,t[c+u])}return s}function Wht(e){let{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:s}=r,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,u=Uht(o,l,a.shape[0],a.shape[1],i.shape[1],s);return n.makeTensorInfo(i.shape,"int32",u)}var Vht={kernelName:G0,backendName:"cpu",kernelFunc:Wht};function Ght(e){let{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t;Fe([r,a,i],"select");let s=r.shape.length,o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=Ci(a.dtype,i.dtype),f=A.makeZerosTypedArray(A.sizeFromShape(a.shape),c),d=0,p=s===0||s>1||a.shape.length===1?1:A.sizeFromShape(a.shape.slice(1));for(let h=0;h<o.length;h++)for(let m=0;m<p;m++)o[h]===1?f[d++]=l[h]:f[d++]=u[h];return n.makeTensorInfo(a.shape,c,f)}var Hht={kernelName:H0,backendName:"cpu",kernelFunc:Ght},qht=R.SELU_SCALEALPHA,Yht=R.SELU_SCALE,Qht=Ut(Bp,e=>e>=0?Yht*e:qht*(Math.exp(e)-1)),Kht={kernelName:Bp,backendName:"cpu",kernelFunc:Qht},Jht=Ut(Vp,e=>e<0?-1:e>0?1:0),Zht={kernelName:Vp,backendName:"cpu",kernelFunc:Jht},Xht=Ut(Up,e=>Math.sin(e)),emt={kernelName:Up,backendName:"cpu",kernelFunc:Xht},tmt=Ut(Wp,e=>Math.sinh(e)),nmt={kernelName:Wp,backendName:"cpu",kernelFunc:tmt},rmt=11920928955078125e-23,X8=Math.log(rmt)+2,amt=Ut(Hp,e=>{let t=e>-X8,n=e<X8,r=Math.exp(e),a;return n?a=r:t?a=e:a=Math.log(1+r),a}),imt={kernelName:Hp,backendName:"cpu",kernelFunc:amt};function smt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:s}=r;Fe([a],"spaceToBatchND");let o=A.sizeFromShape(i),l=[[0,0]];l.push(...s);for(let g=1+i.length;g<a.shape.length;++g)l.push([0,0]);let u=doe.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=R.getReshaped(u.shape,i,o,!1),f=R.getPermuted(c.length,i.length,!1),d=R.getReshapedPermuted(u.shape,i,o,!1),p=ln({inputs:{x:u},backend:n,attrs:{shape:c}}),h=Ea({inputs:{x:p},backend:n,attrs:{perm:f}}),m=ln({inputs:{x:h},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),m}var omt={kernelName:Y0,backendName:"cpu",kernelFunc:smt};function lmt(e){let{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:s}=t;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${a.shape}`);if(s.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${s.shape}`);let o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(s.dataId).values[0],[f,d,p,h,m]=Use(o,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],a.dtype,p),n.makeTensorInfo([h.length],"bool",new Uint8Array(h.map(g=>Number(g)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}var umt={kernelName:cw,backendName:"cpu",kernelFunc:lmt};function cmt(e){let{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);let s=Array.from(n.data.get(a.dataId).values),o=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[u,c,f]=Wse(o,r.shape,r.dtype,s,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}var fmt={kernelName:K0,backendName:"cpu",kernelFunc:cmt};function dmt(e){let{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");let s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=e6(s,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(c,r.dtype,u)}var pmt={kernelName:fw,backendName:"cpu",kernelFunc:dmt};function hmt(e){let{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");let s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=e6(s,r.shape,r.dtype,o,l);return n.makeTensorInfo(c,r.dtype,u)}var mmt={kernelName:dw,backendName:"cpu",kernelFunc:hmt};function gmt(e){let{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:s}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=R.calculateShapes(i,a,o),p=!1,h=n.bufferSync(a),m;switch(i.dtype){case"bool":{let g=n.bufferSync(i),y=!!n.data.get(s.dataId).values[0];m=Sf(h,g,o,d,c,u,l,f,y,p);break}case"float32":{let g=n.bufferSync(i),y=n.data.get(s.dataId).values[0];m=Sf(h,g,o,d,c,u,l,f,y,p);break}case"int32":{let g=n.bufferSync(i),y=n.data.get(s.dataId).values[0];m=Sf(h,g,o,d,c,u,l,f,y,p);break}case"string":{let g=n.bufferSync(i),y=A.decodeString(n.data.get(s.dataId).values[0]);m=Sf(h,g,o,d,c,u,l,f,y,p);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(o,m.dtype,m.values)}var ymt={kernelName:J0,backendName:"cpu",kernelFunc:gmt};function vmt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:s}=r,o=A.parseAxisParam(s,a.shape)[0],l=R.prepareSplitSize(a,i,o),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map(f=>{let d=[...c];d[o]=f;let p=hd({inputs:{x:a},backend:n,attrs:{begin:u,size:d}});return u[o]+=f,p})}var bmt={kernelName:Q0,backendName:"cpu",kernelFunc:vmt},wmt={kernelName:pw,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{let{x:n}=e,r=t;Fe(n,"square");let a=r.data.get(n.dataId).values,i=new Float32Array(a.length);for(let s=0;s<a.length;++s){let o=a[s];i[s]=o*o}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},xmt=Ut(Dc,(e,t)=>{let n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),Smt={kernelName:Dc,backendName:"cpu",kernelFunc:xmt};function kmt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:s,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r;Fe(a,"stridedSlice");let{finalShapeSparse:p,finalShape:h,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=sr.sliceInfo(a.shape,i,s,o,l,u,c,f,d),S;if(m)S=ln({inputs:{x:a},backend:n,attrs:{shape:h}});else if(g||y){A.assert(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);let k=sr.computeOutShape(v,b,x),I=hd({inputs:{x:a},backend:n,attrs:{begin:v,size:k}});S=ln({inputs:{x:I},backend:n,attrs:{shape:h}}),n.disposeIntermediateTensorInfo(I)}else{let k=n.bufferSync(a),I=Hse(p,k,x,v);S=n.makeTensorInfo(h,I.dtype,I.values)}return S}var Cmt={kernelName:Z0,backendName:"cpu",kernelFunc:kmt};function Imt(e){let{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.data.get(c.dataId).values,p=n.data.get(f.dataId).values,[h,m]=t6(d,p,a,i,s,o,l,u);return[n.makeTensorInfo([h.length],"string",h),n.makeTensorInfo(f.shape,"int32",m)]}var Nmt={kernelName:mw,backendName:"cpu",kernelFunc:Imt};function Mmt(e){let{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:s}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(s.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);let o=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values[0],[u,c,f]=n6(o,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}var Tmt={kernelName:gw,backendName:"cpu",kernelFunc:Mmt};function Emt(e){let{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");let s=n.data.get(i.dataId).values,o=r6(s,a);return n.makeTensorInfo(i.shape,"int32",o)}var Amt={kernelName:yw,backendName:"cpu",kernelFunc:Emt},Lmt=Ut(Zp,e=>Math.tan(e)),_mt={kernelName:Zp,backendName:"cpu",kernelFunc:Lmt},jmt=Ut(Xp,e=>Math.tanh(e)),$mt={kernelName:Xp,backendName:"cpu",kernelFunc:jmt};function Dmt(e){let{inputs:t,backend:n}=e,{tensor:r,indices:a,updates:i}=t,{sliceRank:s,numUpdates:o,sliceSize:l,strides:u,outputSize:c}=R.calculateShapes(i,a,r.shape),f=!1,d=n.bufferSync(a),p=n.bufferSync(i),h=n.bufferSync(r),m=Sf(d,p,r.shape,c,l,o,s,u,h,f);return n.makeTensorInfo(r.shape,m.dtype,m.values)}var Omt={kernelName:V0,backendName:"cpu",kernelFunc:Dmt};function Rmt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;Fe(a,"tile");let s=Yse(n.bufferSync(a),i);return n.makeTensorInfo(s.shape,s.dtype,s.values)}var Pmt={kernelName:$c,backendName:"cpu",kernelFunc:Rmt};function Fmt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:s}=r;Fe(a,"topk");let o=n.data.get(a.dataId).values,[l,u]=Kse(o,a.shape,a.dtype,i,s);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}var zmt={kernelName:X0,backendName:"cpu",kernelFunc:Fmt};function Bmt(e){let{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:i}=t,{interpolation:s,fillMode:o,fillValue:l,outputShape:u}=n,[c,f,d,p]=a.shape,[h,m]=u??[f,d],g=[c,h,m,p],y=A.computeStrides(a.shape),v=y[0],b=y[1],x=y[2],S=A.computeStrides(g),k=S[0],I=S[1],N=S[2],T=A.getTypedArrayFromDType(a.dtype,A.sizeFromShape(g));T.fill(l);let L=r.data.get(a.dataId).values,E=r.data.get(i.dataId).values;for(let M=0;M<c;++M){let j=i.shape[0]===1?E:E.subarray(M*8,M*8+8);for(let D=0;D<h;++D)for(let F=0;F<m;++F)for(let $=0;$<p;++$){let B,O=j[6]*F+j[7]*D+1;if(O===0)continue;let P=(j[0]*F+j[1]*D+j[2])/O,W=(j[3]*F+j[4]*D+j[5])/O,H=eV(P,d,o),q=eV(W,f,o);switch(s){case"nearest":B=qmt(L,f,d,v,b,x,M,q,H,$,l);break;case"bilinear":B=Ymt(L,f,d,v,b,x,M,q,H,$,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${s}`)}let J=M*k+D*I+F*N+$;T[J]=B}return r.makeTensorInfo(g,a.dtype,T)}return{dataId:r.write(T,g,a.dtype),shape:a.shape,dtype:a.dtype}}var Umt={kernelName:e1,backendName:"cpu",kernelFunc:Bmt};function eV(e,t,n){switch(n){case"reflect":return Wmt(e,t);case"wrap":return Vmt(e,t);case"nearest":return Hmt(e,t);case"constant":default:return Gmt(e)}}function Wmt(e,t){let n=e;if(n<0)if(t<=1)n=0;else{let r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{let r=2*t;n-=r*Math.trunc(n/r),n>=t&&(n=r-n-1)}return A.clamp(0,n,t-1)}function Vmt(e,t){let n=e;if(n<0)if(t<=1)n=0;else{let r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{let r=t-1;n-=t*Math.trunc(n/r)}return A.clamp(0,n,t-1)}function Gmt(e,t){return e}function Hmt(e,t){return A.clamp(0,e,t-1)}function my(e,t,n,r,a,i,s,o,l,u,c){let f=s*r+o*a+l*i+u;return 0<=o&&o<t&&0<=l&&l<n?e[f]:c}function qmt(e,t,n,r,a,i,s,o,l,u,c){let f=Math.round(o),d=Math.round(l);return my(e,t,n,r,a,i,s,f,d,u,c)}function Ymt(e,t,n,r,a,i,s,o,l,u,c){let f=Math.floor(o),d=Math.floor(l),p=f+1,h=d+1,m=(h-l)*my(e,t,n,r,a,i,s,f,d,u,c)+(l-d)*my(e,t,n,r,a,i,s,f,h,u,c),g=(h-l)*my(e,t,n,r,a,i,s,p,d,u,c)+(l-d)*my(e,t,n,r,a,i,s,p,h,u,c);return(p-o)*m+(o-f)*g}function Qmt(e){let{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;Fe(i,"unique");let s=r.data.get(i.dataId).values,{outputValues:o,outputShape:l,indices:u}=i6(s,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}var Kmt={kernelName:vw,backendName:"cpu",kernelFunc:Qmt};function Jmt(e){let{inputs:t,backend:n,attrs:r}=e,{value:a}=t,{axis:i}=r;i<0&&(i+=a.shape.length);let s=a.shape.length,o=a.shape[i],l=new Array(s-1),u=0;for(let p=0;p<s;p++)p!==i&&(l[u++]=a.shape[p]);let c=new Array(s).fill(0),f=a.shape.slice();f[i]=1;let d=new Array(o);for(let p=0;p<d.length;p++){c[i]=p;let h=hd({inputs:{x:a},backend:n,attrs:{begin:c,size:f}});d[p]=ln({inputs:{x:h},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(h)}return d}var Zmt={kernelName:t1,backendName:"cpu",kernelFunc:Jmt};function Xmt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:s}=r;Fe(a,"unsortedSegmentSum");let o=a.shape.length,l=i.shape.length,u=[],c=[],f=o-l,d=i;for(let h=0;h<f;++h){let m=vC({inputs:{input:d},backend:n,attrs:{dim:h+1}});d=m,c.push(m)}for(let h=0;h<s;++h){let m=A.createScalarValue(h,"int32"),g=n.makeTensorInfo([],"int32",m),y=yse({inputs:{a:g,b:d},backend:n}),v=yc({inputs:{x:y},backend:n,attrs:{dtype:"float32"}}),b=zM({inputs:{a:v,b:a},backend:n}),x=Yw({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});u.push(x),c.push(g),c.push(y),c.push(v),c.push(b),c.push(x)}let p=foe({inputs:u,backend:n,attrs:{axis:0}});return c.forEach(h=>n.disposeIntermediateTensorInfo(h)),p}var egt={kernelName:bw,backendName:"cpu",kernelFunc:Xmt},tgt=[Yct,Mut,Kct,Zct,jut,eft,nft,aft,sft,lft,cft,dft,hft,yft,bft,Sft,Cft,Nft,Tft,Hct,Aft,_ft,$ft,Dut,Oft,Lut,Rut,Pft,Tut,zft,Uft,Wft,Gft,qft,Qft,Jft,Xft,tdt,rdt,idt,odt,udt,fdt,pdt,hdt,gdt,vdt,wdt,xdt,Sdt,kdt,Idt,Tdt,Fct,Adt,Put,Pdt,Fut,Fdt,But,Gdt,Hdt,Ydt,Wut,Gut,Kdt,Zdt,ept,npt,qut,Qut,Eut,apt,Bft,spt,lpt,cpt,zct,Jut,Xut,dpt,tct,hpt,ypt,bpt,Spt,Cpt,Npt,Mpt,rct,Ept,Lpt,jpt,Dpt,Rpt,Fpt,Bpt,ict,Wpt,Hpt,Kpt,oct,uct,Xpt,nht,iht,fct,oht,uht,cht,doe,hht,Uct,hct,ght,vht,wht,Sht,Aut,qL,Cht,Wct,Vct,Gct,Nht,Tht,Aht,_ht,$ht,Dht,Rht,kct,Fht,Vht,Hht,Kht,Ict,Zht,emt,nmt,Nct,Ypt,imt,omt,umt,fmt,pmt,mmt,ymt,bmt,Ect,wmt,Lct,jct,Smt,Cmt,Nmt,Tmt,Amt,Rct,Ndt,_mt,$mt,Omt,Pmt,zmt,Umt,dct,Kmt,Zmt,egt,lht];for(let e of tgt)ww(e);var poe={};et(poe,{assertNotComplex:()=>g1,bindCanvasToFramebuffer:()=>dgt,bindColorTextureToFramebuffer:()=>X2,bindTextureToProgramUniformSampler:()=>Eoe,bindTextureUnit:()=>Noe,bindVertexBufferToProgramAttribute:()=>QL,callAndCheck:()=>Ie,canBeRepresented:()=>moe,createFragmentShader:()=>voe,createFramebuffer:()=>Ioe,createProgram:()=>boe,createStaticIndexBuffer:()=>Soe,createStaticVertexBuffer:()=>xoe,createTexture:()=>koe,createVertexShader:()=>yoe,getBatchDim:()=>md,getExtensionOrThrow:()=>gy,getFramebufferErrorMessage:()=>Aoe,getMaxTexturesInShader:()=>$oe,getNumChannels:()=>cgt,getProgramUniformLocation:()=>Toe,getProgramUniformLocationOrThrow:()=>Moe,getRowsCols:()=>gd,getShapeAs3D:()=>vy,getTextureShapeFromLogicalShape:()=>_oe,getWebGLDisjointQueryTimerVersion:()=>Doe,getWebGLErrorMessage:()=>goe,getWebGLMaxTextureSize:()=>joe,hasExtension:()=>yi,isCapableOfRenderingToFloatTexture:()=>Ooe,isDownloadFloatTextureEnabled:()=>Roe,isReshapeFree:()=>yb,isWebGLFenceEnabled:()=>Poe,isWebGLVersionEnabled:()=>JL,linkProgram:()=>woe,logShaderSourceAndInfoLog:()=>c6,resetMaxTextureSize:()=>pgt,resetMaxTexturesInShader:()=>hgt,unbindColorTextureFromFramebuffer:()=>KL,unbindTextureUnit:()=>fgt,validateFramebuffer:()=>yy,validateProgram:()=>Z2,validateTextureSize:()=>Coe});var df={},m2={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function hoe(e,t){df[e]=t}function Gs(e,t){if(!(e in df)||t!=null){let r=rgt(e,t);if(r!==null)df[e]=r;else return console.log("Could not get context for WebGL version",e),null}let n=df[e];return n==null||n.isContextLost()?(delete df[e],Gs(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),df[e])}function ngt(e){if(!ne().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&e===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function rgt(e,t){if(e!==1&&e!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");let n=t??ngt(e);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete df[e]},!1),ne().getBool("SOFTWARE_WEBGL_ENABLED")&&(m2.failIfMajorPerformanceCaveat=!1),e===1?n.getContext("webgl",m2)||n.getContext("experimental-webgl",m2):n.getContext("webgl2",m2)}var gb;(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(gb||(gb={}));var gi;(function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"})(gi||(gi={}));var _r;(function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(_r||(_r={}));function Qw(e,t){return[t,e]}function agt(e,t){return e*t}function g2(e){let t=A.sizeFromShape(e),n=Math.ceil(t/4);return A.sizeToSquarishShape(n)}function m1(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function igt(e,t){let[n,r]=m1(e,t);return n*r*4}function u6(e,t){let n=e,r,a,i,s,o,l,u,c,f,d;return ne().getNumber("WEBGL_VERSION")===2?(r=n.R32F,a=n.R16F,i=n.RGBA16F,s=n.RGBA32F,o=n.RED,u=4,c=1,f=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=e.RGBA,a=e.RGBA,i=e.RGBA,s=n.RGBA,o=e.RGBA,u=4,c=4,f=t!=null?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:s,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:f,textureTypeFloat:d}}function Ie(e,t){let n=t();return ne().getBool("DEBUG")&&sgt(e),n}function sgt(e){let t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+goe(e,t))}var ogt=596e-10,lgt=65504;function moe(e){return!!(ne().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||ogt<Math.abs(e)&&Math.abs(e)<lgt)}function goe(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function gy(e,t){return Vl(e,()=>e.getExtension(t),'Extension "'+t+'" not supported on this browser.')}function yoe(e,t){let n=Vl(e,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Ie(e,()=>e.shaderSource(n,t)),Ie(e,()=>e.compileShader(n)),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function voe(e,t){let n=Vl(e,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Ie(e,()=>e.shaderSource(n,t)),Ie(e,()=>e.compileShader(n)),ne().get("ENGINE_COMPILE_ONLY"))return n;if(e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw c6(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var ugt=/ERROR: [0-9]+:([0-9]+):/g;function c6(e,t){let n=ugt.exec(t);if(n==null){console.log(`Couldn't parse line number in error: ${t}`),console.log(e);return}let r=+n[1],a=e.split(`
`),i=a.length.toString().length+2,s=a.map((f,d)=>A.rightPad((d+1).toString(),i)+f),o=0;for(let f=0;f<s.length;f++)o=Math.max(s[f].length,o);let l=s.slice(0,r-1),u=s.slice(r-1,r),c=s.slice(r);console.log(l.join(`
`)),console.log(t.split(`
`)[0]),console.log(`%c ${A.rightPad(u[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function boe(e){return Vl(e,()=>e.createProgram(),"Unable to create WebGLProgram.")}function woe(e,t){if(Ie(e,()=>e.linkProgram(t)),!ne().get("ENGINE_COMPILE_ONLY")&&e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function Z2(e,t){if(Ie(e,()=>e.validateProgram(t)),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function xoe(e,t){let n=Vl(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Ie(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),Ie(e,()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function Soe(e,t){let n=Vl(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Ie(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)),Ie(e,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function cgt(){return ne().getNumber("WEBGL_VERSION")===2?1:4}function koe(e){return Vl(e,()=>e.createTexture(),"Unable to create WebGLTexture.")}function Coe(e,t){let n=ne().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){let r=`[${e}x${t}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){let r=`[${e}x${t}]`,a=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+a+".")}}function Ioe(e){return Vl(e,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function QL(e,t,n,r,a,i,s){let o=e.getAttribLocation(t,n);return o===-1?!1:(Ie(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),Ie(e,()=>e.vertexAttribPointer(o,a,e.FLOAT,!1,i,s)),Ie(e,()=>e.enableVertexAttribArray(o)),!0)}function Noe(e,t,n){Loe(e,n),Ie(e,()=>e.activeTexture(e.TEXTURE0+n)),Ie(e,()=>e.bindTexture(e.TEXTURE_2D,t))}function fgt(e,t){Loe(e,t),Ie(e,()=>e.activeTexture(e.TEXTURE0+t)),Ie(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function Moe(e,t,n){return Vl(e,()=>e.getUniformLocation(t,n),'uniform "'+n+'" not present in program.')}function Toe(e,t,n){return e.getUniformLocation(t,n)}function Eoe(e,t,n,r){Ie(e,()=>Noe(e,t,r)),Ie(e,()=>e.uniform1i(n,r))}function dgt(e){Ie(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),Ie(e,()=>e.viewport(0,0,e.canvas.width,e.canvas.height)),Ie(e,()=>e.scissor(0,0,e.canvas.width,e.canvas.height))}function X2(e,t,n){Ie(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,n)),Ie(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0))}function KL(e,t){Ie(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,t)),Ie(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function yy(e){let t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Aoe(e,t))}function Aoe(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function Vl(e,t,n){let r=Ie(e,()=>t());if(r==null)throw new Error(n);return r}function Loe(e,t){let n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){let a=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${a}.`)}}function md(e,t=2){return A.sizeFromShape(e.slice(0,e.length-t))}function gd(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function vy(e){let t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[md(e),...gd(e)]),t}function _oe(e,t=!1){let n=ne().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=ne().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&ne().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n=n*2,r=r*2,e=e.map((o,l)=>l>=e.length-2?A.nearestLargerEven(e[l]):e[l]),e.length===1&&(e=[2,e[0]])),e.length!==2&&(e=A.squeezeShape(e).newShape);let a=A.sizeFromShape(e),i=null;e.length<=1&&a<=n?i=[1,a]:e.length===2&&e[0]<=n&&e[1]<=n?i=e:e.length===3&&e[0]*e[1]<=n&&e[2]<=n?i=[e[0]*e[1],e[2]]:e.length===3&&e[0]<=n&&e[1]*e[2]<=n?i=[e[0],e[1]*e[2]]:e.length===4&&e[0]*e[1]*e[2]<=n&&e[3]<=n?i=[e[0]*e[1]*e[2],e[3]]:e.length===4&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(i=[e[0],e[1]*e[2]*e[3]]);let s=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(i==null||s)if(t){let o=md(e),l=2,u=2;e.length&&([l,u]=gd(e)),a=o*(l/2)*(u/2),i=A.sizeToSquarishShape(a).map(c=>c*2)}else i=A.sizeToSquarishShape(a);return i}function y2(e){return e%2===0}function yb(e,t){if(e=e.slice(-2),t=t.slice(-2),A.arraysEqual(e,t)||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){let n=e[e.length-1],r=t[t.length-1];if(n===r||y2(n)&&y2(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&y2(e[0])&&y2(t[0])}var eS,tS;function joe(e){if(eS==null){let t=Gs(e);eS=t.getParameter(t.MAX_TEXTURE_SIZE)}return eS}function pgt(){eS=null}function hgt(){tS=null}function $oe(e){if(tS==null){let t=Gs(e);tS=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,tS)}function Doe(e){if(e===0)return 0;let t,n=Gs(e);return yi(n,"EXT_disjoint_timer_query_webgl2")&&e===2?t=2:yi(n,"EXT_disjoint_timer_query")?t=1:t=0,t}function yi(e,t){return e.getExtension(t)!=null}function JL(e){try{if(Gs(e)!=null)return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function Ooe(e){if(e===0)return!1;let t=Gs(e);if(e===1){if(!yi(t,"OES_texture_float"))return!1}else if(!yi(t,"EXT_color_buffer_float"))return!1;return ZL(t)}function Roe(e){if(e===0)return!1;let t=Gs(e);if(e===1){if(!yi(t,"OES_texture_float")||!yi(t,"WEBGL_color_buffer_float"))return!1}else{if(yi(t,"EXT_color_buffer_float"))return ZL(t);let n="EXT_color_buffer_half_float";if(yi(t,n)){let r=t.getExtension(n);return mgt(t,r)}return!1}return ZL(t)}function ZL(e){let t=u6(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);let r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);let a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function mgt(e,t){let n=u6(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);let a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);let i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),i}function Poe(e){return e!==2?!1:Gs(e).fenceSync!=null}function g1(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&A.assert(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the WebGL backend.`)})}var ze=ne();ze.registerFlag("HAS_WEBGL",()=>ze.getNumber("WEBGL_VERSION")>0);ze.registerFlag("WEBGL_VERSION",()=>JL(2)?2:JL(1)?1:0);ze.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);ze.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>ze.get("WEBGL_VERSION")===2);ze.registerFlag("WEBGL_CPU_FORWARD",()=>!0);ze.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);ze.registerFlag("WEBGL_PACK",()=>ze.getBool("HAS_WEBGL"));ze.registerFlag("WEBGL_PACK_NORMALIZATION",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_PACK_CLIP",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_PACK_REDUCE",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_LAZILY_UNPACK",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_CONV_IM2COL",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>ze.getBool("WEBGL_PACK"));ze.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>joe(ze.getNumber("WEBGL_VERSION")));ze.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>$oe(ze.getNumber("WEBGL_VERSION")));ze.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{let e=ze.getNumber("WEBGL_VERSION");return e===0?0:Doe(e)});ze.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>ze.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!kw.isMobile());ze.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>Ooe(ze.getNumber("WEBGL_VERSION")));ze.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>ze.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:ze.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));ze.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>Roe(ze.getNumber("WEBGL_VERSION")));ze.registerFlag("WEBGL_FENCE_API_ENABLED",()=>Poe(ze.getNumber("WEBGL_VERSION")));ze.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>ze.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);ze.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)});ze.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>kw.isMobile()?1:-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)});ze.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);ze.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);ze.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);ze.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);ze.registerFlag("WEBGL_EXP_CONV",()=>!1);ze.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>ze.getBool("IS_TEST"));ze.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);ze.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);ze.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);ze.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);function pa(){let e,t,n,r,a,i,s,o,l,u;return ne().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",s="out vec4 outputColor;",o=ne().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",s="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:s,defineSpecialNaN:o,defineSpecialInf:l,defineRound:u}}function oh(e,t,n="index"){let r=A.computeStrides(t);return r.map((a,i)=>{let s=`int ${e[i]} = ${n} / ${a}`,o=i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${a}`:`index -= ${e[i]} * ${a}`;return`${s}; ${o};`}).join("")}function BM(e,t,n="index"){let r=A.computeStrides(t);return r.map((a,i)=>{let s=`int ${e[i]} = ${n} / outShapeStrides[${i}]`,o=i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * outShapeStrides[${i}]`:`index -= ${e[i]} * outShapeStrides[${i}]`;return`${s}; ${o};`}).join("")}function ggt(e,t){let n=e.length,r=e.map(i=>`${t}[${i}]`),a=new Array(n-1);a[n-2]=r[n-1];for(let i=n-3;i>=0;--i)a[i]=`(${a[i+1]} * ${r[i+1]})`;return a}function ygt(e,t,n="index"){let r=e.map((i,s)=>s),a=ggt(r,t);return a.map((i,s)=>{let o=`int ${e[s]} = ${n} / ${a[s]}`,l=s===a.length-1?`int ${e[s+1]} = ${n} - ${e[s]} * ${a[s]}`:`index -= ${e[s]} * ${a[s]}`;return`${o}; ${l};`}).join("")}function f6(e){let t=A.computeStrides(e).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;
  }
`}function d6(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}var Foe=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`,{getBroadcastDims:zoe}=R;function vgt(e,t,n){let r=[];if(e.forEach(d=>{let p=A.sizeFromShape(d.shapeInfo.logicalShape);if(d.shapeInfo.isUniform?r.push(`uniform float ${d.name}${p>1?`[${p}]`:""};`):(r.push(`uniform sampler2D ${d.name};`),r.push(`uniform int offset${d.name};`)),n.enableShapeUniforms){let{uniformShape:h}=p6(n.packedInputs,d.shapeInfo.logicalShape,d.shapeInfo.texShape);switch(h.length){case 1:r.push(`uniform int ${d.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${d.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${d.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${d.name}Shape;`);break}r.push(`uniform ivec2 ${d.name}TexShape;`)}}),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(d=>{r.push(`uniform ${d.type} ${d.name}${d.arrayIndex?`[${d.arrayIndex}]`:""};`)});let a=r.join(`
`),i=e.map(d=>bgt(d,t,n.packedInputs,n.enableShapeUniforms)).join(`
`),s=t.texShape,o=pa(),l=Sgt(o),u,c,f=Igt(o);return t.isPacked?(u=wgt(t.logicalShape,s,n.enableShapeUniforms),c=Cgt(o)):(u=xgt(t.logicalShape,s,n.enableShapeUniforms),c=kgt(o)),n.packedInputs&&(f+=Egt),[f,l,c,a,u,i,n.userCode].join(`
`)}function y1(e,t=!1){let n=e.shapeInfo.logicalShape;switch(n.length){case 0:return Bgt(e,t);case 1:return Wgt(e,t);case 2:return Ggt(e,t);case 3:return qgt(e,t);case 4:return Qgt(e,t);case 5:return Kgt(e);case 6:return Jgt(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function Boe(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return zgt(e);case 1:return Ugt(e,t);case 2:return Vgt(e,t);case 3:return Hgt(e,t);default:return Ygt(e,t)}}function bgt(e,t,n=!1,r){let a="";n?a+=Boe(e,r):a+=y1(e,r);let i=e.shapeInfo.logicalShape,s=t.logicalShape;return i.length<=s.length&&(n?a+=Zgt(e,t):a+=Xgt(e,t)),a}function wgt(e,t,n){switch(e.length){case 0:return Uoe();case 1:return Agt(e,t,n);case 2:return Pgt(e,t,n);case 3:return _gt(e,t,n);default:return $gt(e,t,n)}}function xgt(e,t,n){switch(e.length){case 0:return Uoe();case 1:return Lgt(e,t,n);case 2:return Fgt(e,t,n);case 3:return jgt(e,t,n);case 4:return Dgt(e,t,n);case 5:return Ogt(e,t);case 6:return Rgt(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}function Sgt(e){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${e.texture2D}(textureSampler, uv).r;
    }
  `}function kgt(e){return`
    void setOutput(float val) {
      ${e.output} = vec4(val, 0, 0, 0);
    }
  `}function Cgt(e){return`
    void setOutput(vec4 val) {
      ${e.output} = val;
    }
  `}function Igt(e){return`${e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFs} vec2 resultUV;
    ${e.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${e.defineSpecialNaN}
    ${e.defineSpecialInf}
    ${e.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${Ngt}
    ${Mgt}
    ${Tgt}
  `}var Ngt=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Mgt=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Tgt=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Egt=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Uoe(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function Agt(e,t,n){let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function Lgt(e,t,n){return t[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${t[1]}.0);
      }
    `:t[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${t[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      return resTexRC.x * ${t[1]} + resTexRC.y;
    }
  `}function _gt(e,t,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec3(b, r, c);
    }
  `}function jgt(e,t,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${BM(["r","c","d"],e)}
    return ivec3(r, c, d);
  }
`;let r=oh(["r","c","d"],e);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function $gt(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2),s=i,o="",l="b, r, c";for(let u=2;u<e.length-1;u++)s*=e[e.length-u-1],o=`
      int b${u} = index / ${s};
      index -= b${u} * ${s};
    `+o,l=`b${u}, `+l;return`
    ivec${e.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${o}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec${e.length}(${l});
    }
  `}function Dgt(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${BM(["r","c","d","d2"],e)}
      return ivec4(r, c, d, d2);
    }
  `;let r=oh(["r","c","d","d2"],e);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function Ogt(e,t){let n=oh(["r","c","d","d2","d3"],e);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},
                             ${t[1]}));

      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function Rgt(e,t){let n=oh(["r","c","d","d2","d3","d4"],e);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function Pgt(e,t,n){let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(A.arraysEqual(e,t))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;let a=Math.ceil(e[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec2(r, c);
    }
  `}function Fgt(e,t,n){return A.arraysEqual(e,t)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));
      }
    `:e[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:e[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      int r = index / ${e[1]};
      int c = index - r * ${e[1]};
      return ivec2(r, c);
    }
  `}function lh(e){return`offset${e}`}function zgt(e){let t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=pa();return`
    vec4 ${n}() {
      return ${r.texture2D}(${t}, halfCR);
    }
  `}function Bgt(e,t){let n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;let[a,i]=e.shapeInfo.texShape;if(a===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;let s=lh(n);if(t)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${s});
      return sampleTexture(${n}, uv);
    }
  `;let[o,l]=e.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${o}, ${l}, ${s});
      return sampleTexture(${n}, uv);
    }
  `}function Ugt(e,t){let n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=pa();if(t)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;let s=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${s[0]}, ${s[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function Wgt(e,t){let n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${v1(e)}
      }
    `;let a=e.shapeInfo.texShape,i=a[0],s=a[1];if(s===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;let o=lh(n);return s===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${s}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:t?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${s}, index + ${o});
      return sampleTexture(${n}, uv);
    }
  `}function Vgt(e,t){let n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,s=i[0],o=i[1],l=pa();if(i!=null&&A.arraysEqual(n,i))return t?`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${s}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(t)return`
    vec4 ${a}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;let u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(n[1]/2);return`
    vec4 ${a}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function Ggt(e,t){let n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(i!=null&&A.arraysEqual(n,i)){if(t)return`
      float ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;let d=i[0],p=i[1];return`
    float ${a}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${p}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `}let{newShape:s,keptDims:o}=A.squeezeShape(n),l=s;if(l.length<n.length){let d=b1(e,l),p=["row","col"];return`
      ${y1(d,t)}
      float ${a}(int row, int col) {
        return ${a}(${w1(p,o)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${a}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${v1(e)}
      }
    `;let u=i[0],c=i[1],f=lh(r);return c===1?t?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?t?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:t?`
      float ${a}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${f};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${a}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${f};
    vec2 uv = uvFromFlat(${u}, ${c}, index);
    return sampleTexture(${r}, uv);
  }
`}function Hgt(e,t){let n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,s=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){let d=n.slice(1),p=[1,2],h=b1(e,d),m=["b","row","col"];return`
        ${Boe(h,t)}
        vec4 ${a}(int b, int row, int col) {
          return ${a}(${w1(m,p)});
        }
      `}let o=pa();if(t)return`
    vec4 ${a}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `;let l=s[0],u=s[1],c=Math.ceil(n[2]/2),f=c*Math.ceil(n[1]/2);return`
    vec4 ${a}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${f}, ${c}, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `}function qgt(e,t){let n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],s=n[2],{newShape:o,keptDims:l}=A.squeezeShape(n),u=o;if(u.length<n.length){let m=b1(e,u),g=["row","col","depth"];return`
        ${y1(m,t)}
        float ${a}(int row, int col, int depth) {
          return ${a}(${w1(g,l)});
        }
      `}if(e.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${s}, 1)));
        ${v1(e)}
      }
    `;let c=e.shapeInfo.texShape,f=c[0],d=c[1],p=e.shapeInfo.flatOffset;if(d===i&&p==null)return t?`
      float ${a}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${a}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${s}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${d}.0, ${f}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(d===s&&p==null)return t?`
      float ${a}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `;let h=lh(r);return t?`
    float ${a}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${h};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${a}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${s} + depth + ${h};
        vec2 uv = uvFromFlat(${f}, ${d}, index);
        return sampleTexture(${r}, uv);
      }
  `}function Ygt(e,t){let n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=pa();if(t)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${a.texture2D}(${n}, uv);
    }
  `;let i=e.shapeInfo.logicalShape,s=i.length,o=e.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=l[0],c=l[1],f=Math.ceil(i[s-1]/2),d=f*Math.ceil(i[s-2]/2),p="int b, int row, int col",h=`b * ${d} + (row / 2) * ${f} + (col / 2)`;for(let m=2;m<s-1;m++)p=`int b${m}, `+p,d*=i[s-m-1],h=`b${m} * ${d} + `+h;return`
    vec4 ${r}(${p}) {
      int index = ${h};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});
      return ${a.texture2D}(${n}, uv);
    }
  `}function Qgt(e,t){let n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],s=n[2]*i,o=n[1]*s,{newShape:l,keptDims:u}=A.squeezeShape(n);if(l.length<n.length){let v=b1(e,l),b=["row","col","depth","depth2"];return`
      ${y1(v,t)}
      float ${a}(int row, int col, int depth, int depth2) {
        return ${a}(${w1(b,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${o}, ${s}, ${i}, 1)));
        ${v1(e)}
      }
    `;let c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],p=f[1],h=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(p===o&&c==null)return t?`
      float ${a}(int row, int col, int depth, int depth2) {
        ${h}
        ${m}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${s}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(p===i&&c==null)return t?`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;let y=lh(r);return t?`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${h}
      ${m}
      ${g}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${y});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${s} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${d}, ${p}, index + ${y});
      return sampleTexture(${r}, uv);
    }
  `}function Kgt(e){let t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,s=t[2]*i,o=t[1]*s,{newShape:l,keptDims:u}=A.squeezeShape(t);if(l.length<t.length){let m=b1(e,l),g=["row","col","depth","depth2","depth3"];return`
      ${y1(m)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${w1(g,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${o}, ${s}, ${i}, ${a})) +
          depth3;
        ${v1(e)}
      }
    `;let c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],p=f[1];if(p===o&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${s}, ${i}, ${a}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===a&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]},
               ${t[2]*t[3]}, ${t[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;let h=lh(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${s} + depth * ${i} +
          depth2 * ${a} + depth3 + ${h};
      vec2 uv = uvFromFlat(${d}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Jgt(e){let t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:i}=A.squeezeShape(t);if(a.length<t.length){let g=b1(e,a),y=["row","col","depth","depth2","depth3","depth4"];return`
      ${y1(g)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${w1(y,i)});
      }
    `}let s=t[5],o=t[4]*s,l=t[3]*o,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${u}, ${l}, ${o})) +
          dot(
            vec2(depth3, depth4),
            vec2(${s}, 1)));
        ${v1(e)}
      }
    `;let f=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1];if(h===c&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${o}, ${s})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===s&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]*t[4]},
               ${t[2]*t[3]*t[4]},
               ${t[3]*t[4]},
               ${t[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;let m=lh(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${u} + depth * ${l} +
          depth2 * ${o} + depth3 * ${s} + depth4 + ${m};
      vec2 uv = uvFromFlat(${p}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function v1(e){let t=e.name,n=A.sizeFromShape(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${t}[i];
      }
    }
  `}function Zgt(e,t){let n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,o=zoe(e.shapeInfo.logicalShape,t.logicalShape),l=Kt(s),u=s-i,c,f=["x","y","z","w","u","v"];i===0?c="":s<2&&o.length>=1?c="coords = 0;":c=o.map(g=>`coords.${f[g+u]} = 0;`).join(`
`);let d="";s<2&&i>0?d="coords":d=e.shapeInfo.logicalShape.map((g,y)=>`coords.${f[y+u]}`).join(", ");let p="return outputValue;",h=A.sizeFromShape(e.shapeInfo.logicalShape)===1,m=A.sizeFromShape(t.logicalShape)===1;if(i===1&&!h&&!m)p=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(h&&!m)s===1?p=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:p=`
        return vec4(outputValue.x);
      `;else if(o.length){let g=i-2,y=i-1;o.indexOf(g)>-1&&o.indexOf(y)>-1?p="return vec4(outputValue.x);":o.indexOf(g)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(y)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${a}() {
      ${l} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${r}(${d});
      ${p}
    }
  `}function Xgt(e,t){let n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,s=e.shapeInfo.texShape,o=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&o===l&&e.shapeInfo.flatOffset==null&&A.arraysEqual(s,i))return`
      float ${a}() {
        return sampleTexture(${n}, resultUV);
      }
    `;let u=Kt(l),c=zoe(e.shapeInfo.logicalShape,t.logicalShape),f=l-o,d,p=["x","y","z","w","u","v"];o===0?d="":l<2&&c.length>=1?d="coords = 0;":d=c.map(m=>`coords.${p[m+f]} = 0;`).join(`
`);let h="";return l<2&&o>0?h="coords":h=e.shapeInfo.logicalShape.map((m,g)=>`coords.${p[g+f]}`).join(", "),`
    float ${a}() {
      ${u} coords = getOutputCoords();
      ${d}
      return get${r}(${h});
    }
  `}function Kt(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function p6(e,t,n){let{newShape:r,keptDims:a}=A.squeezeShape(t),i=t.length,s=e&&i===3&&t[0]===1,o=s?t.slice(1):r,l=!e&&i>1&&!A.arraysEqual(t,n)&&r.length<i||s;return{useSqueezeShape:l,uniformShape:l?o:t,keptDims:a}}function b1(e,t){let n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function w1(e,t){return t.map(n=>e[n]).join(", ")}function e0t(e,t,n,r){let a=n.map((c,f)=>{let d={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(d.flatOffset=c.texData.slice.flatOffset),{name:t.variableNames[f],shapeInfo:d}}),i=a.map(c=>c.shapeInfo),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=vgt(a,s,t),l=voe(e.gl,o),u=e.createProgram(l);return ne().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:s,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:s},Woe(e,t,u)))}function Woe(e,t,n){let r=[],a=[],i,s,o,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),ne().getNumber("WEBGL_VERSION")===1&&(l=e.getUniformLocation(n,"INFINITY",!1));let c=!1;for(let f of t.variableNames){let d={name:f,uniform:e.getUniformLocation(n,f,c),offset:e.getUniformLocation(n,`offset${f}`,c)};t.enableShapeUniforms&&(d.shape=e.getUniformLocation(n,`${f}Shape`,c),d.texShape=e.getUniformLocation(n,`${f}TexShape`,c)),r.push(d)}if(t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",c),o=e.getUniformLocation(n,"outShapeStrides",c),s=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(let f of t.customUniforms)a.push(e.getUniformLocation(n,f.name,c));return{variablesLocations:r,customUniformLocations:a,infLoc:l,nanLoc:u,outShapeLocation:i,outShapeStridesLocation:o,outTexShapeLocation:s}}function tV(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((n,r)=>{let a=n.logicalShape,i=t[r],s=i.shape;if(!A.arraysEqual(a,s))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${a} and ${s} must match`);if(n.isUniform&&i.isUniform)return;let o=n.texShape,l=i.isUniform?null:i.texData.texShape;if(!A.arraysEqual(o,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${l} must match`)})}function t0t(e,t,n,r,a){t.program.enableShapeUniforms||(tV(t.inShapeInfos,n),tV([t.outShapeInfo],[r]));let i=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,s[0],s[1]):e.setOutputMatrixTexture(i.texture,s[0],s[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),ne().getNumber("WEBGL_VERSION")===1&&t.infLoc!==null&&e.gl.uniform1f(t.infLoc,1/0),t.nanLoc!==null&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){let u=n[l],{uniform:c,offset:f,shape:d,texShape:p}=t.variablesLocations[l];if(d){let{uniformShape:h}=p6(t.program.packedInputs,u.shape,u.texData.texShape);switch(h.length){case 1:e.gl.uniform1iv(d,new Int32Array(h));break;case 2:e.gl.uniform2iv(d,new Int32Array(h));break;case 3:e.gl.uniform3iv(d,new Int32Array(h));break;case 4:e.gl.uniform4iv(d,new Int32Array(h));break}}if(p&&e.gl.uniform2i(p,u.texData.texShape[0],u.texData.texShape[1]),c!=null){if(u.isUniform){if(A.sizeFromShape(u.shape)<2)e.gl.uniform1f(c,u.uniformValues[0]);else{let h=u.uniformValues;h instanceof Float32Array||(h=new Float32Array(h)),e.gl.uniform1fv(c,h)}continue}u.texData.slice!=null&&f!=null&&e.gl.uniform1i(f,u.texData.slice.flatOffset),e.setInputMatrixTexture(u.texData.texture.texture,c,l)}}let o=t.outShapeLocation;if(o)switch(r.shape.length){case 1:e.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(o,new Int32Array(r.shape));break}if(t.outShapeStridesLocation){let l=A.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(l));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(l));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(l));break}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a)for(let l=0;l<t.program.customUniforms.length;++l){let u=t.program.customUniforms[l],c=t.customUniformLocations[l],f=a[l];if(u.type==="float")e.gl.uniform1fv(c,f);else if(u.type==="vec2")e.gl.uniform2fv(c,f);else if(u.type==="vec3")e.gl.uniform3fv(c,f);else if(u.type==="vec4")e.gl.uniform4fv(c,f);else if(u.type==="int")e.gl.uniform1iv(c,f);else if(u.type==="ivec2")e.gl.uniform2iv(c,f);else if(u.type==="ivec3")e.gl.uniform3iv(c,f);else if(u.type==="ivec4")e.gl.uniform4iv(c,f);else throw Error(`uniform type ${u.type} is not supported yet.`)}e.executeProgram()}function n0t(e,t,n){let r="";t.concat(n).forEach(s=>{let o=s.texData!=null&&s.texData.slice!=null&&s.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!s.isUniform){let l=s.texData.texShape,{useSqueezeShape:u,uniformShape:c,keptDims:f}=p6(e.packedInputs,s.shape,l),d="",p="",h="";if(c.length===1&&e.packedInputs){let S=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];d=`${S[0]>1}_${S[1]>1}`}else if(c.length===2&&!e.packedInputs)p=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!e.packedInputs){let S=A.computeStrides(c);h=`${S[0]===l[1]}_${S[S.length-1]===l[1]}`}let m=s.shape.length,g=c.length===2&&A.arraysEqual(s.shape,l),y=A.sizeFromShape(s.shape)===1,v=R.getBroadcastDims(s.shape,n.shape),b=!e.packedInputs&&m===n.shape.length&&A.arraysEqual(l,n.texData.texShape),x=e.packedInputs||c.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${m}_${b}_${u?f:""}_${c.length}_${y}_${v}_${g}_${d}_${p}_${h}_${x}_${o}`}else{let l=s.isUniform?"uniform":s.texData.texShape;r+=`${s.shape}_${l}_${o}`}});let a=e.userCode,i=e.constructor.name;return i+="_"+r+"_"+a+`${ne().getNumber("WEBGL_VERSION")}`,i}function qr(e){return ne().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var r0t=class{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=gb.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let t=pa();this.outputShape=e,this.enableShapeUniforms=qr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?BM(["r","c","d"],e):oh(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${t.output} = result;
      }
    `}},a0t=class{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=gb.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let t=pa();this.outputShape=e,this.enableShapeUniforms=qr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?BM(["r","c","d"],e):oh(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${t.output} = result;
      }
    `}},i0t=class{constructor(e){this.variableNames=["A"],this.outTexUsage=gi.DOWNLOAD;let t=pa();this.outputShape=e,this.userCode=`
      ${Foe}

      void main() {
        float x = getAAtOutCoords();
        ${t.output} = encode_float(x);
      }
    `}},s0t=class{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=gi.DOWNLOAD;let t=pa();this.outputShape=e,this.userCode=`
      ${Foe}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${t.output} = encode_float(x);
      }
    `}},o0t={R:0,G:1,B:2,A:3},nV=class{constructor(e,t=!1,n="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];let r=pa();this.outputShape=e,this.enableShapeUniforms=qr(this.outputShape.length);let a="result";t&&(a="floor(result * 255. + 0.5)");let i="";for(let s=0;s<n.length;s++){let o=n[s];i+=`
          if(offset == ${s}) {
            result = values[${o0t[o]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?d6():f6(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${n.length});

        flatIndex = idiv(flatIndex, ${n.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${r.texture2D}(A, uv);
          ${i}
        }
        ${r.output} = vec4(${a}, 0., 0., 0.);
      }
    `}},l0t=class{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];let n=pa();this.outputShape=e,this.enableShapeUniforms=qr(this.outputShape.length);let r="",a="result";t&&(a="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let s=0;s<=1;s++){let o=i*2+s;r+=`
          localCoords = coords;
          if(localCoords[2] + ${s} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${s};
          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${i};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${n.texture2D}(A, uv);

            if (offset == 0) {
              result[${o}] = values[0];
            } else if (offset == 1) {
              result[${o}] = values[1];
            } else if (offset == 2) {
              result[${o}] = values[2];
            } else {
              result[${o}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?d6():f6(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${r}

          ${n.output} = ${a};
        }
    `}},Voe={};et(Voe,{bindVertexProgramAttributeStreams:()=>Xoe,createBufferFromOutputTexture:()=>nle,createFloat16MatrixTexture:()=>Qoe,createFloat16PackedMatrixTexture:()=>Zoe,createFloat32MatrixTexture:()=>Yoe,createIndexBuffer:()=>qoe,createPackedMatrixTexture:()=>Joe,createUnsignedBytesMatrixTexture:()=>Koe,createVertexBuffer:()=>Hoe,createVertexShader:()=>Goe,downloadByteEncodedFloatMatrixFromOutputTexture:()=>ale,downloadFloat32MatrixFromBuffer:()=>rle,downloadMatrixFromPackedOutputTexture:()=>sle,downloadPackedMatrixFromBuffer:()=>ile,getInternalFormatForFloat16MatrixTexture:()=>m6,getInternalFormatForFloat16PackedMatrixTexture:()=>v6,getInternalFormatForFloat32MatrixTexture:()=>h6,getInternalFormatForPackedMatrixTexture:()=>y6,getInternalFormatForUnsignedBytesMatrixTexture:()=>g6,uploadDenseMatrixToTexture:()=>ele,uploadPixelDataToTexture:()=>tle});function Goe(e){let t=pa(),n=`${t.version}
    precision highp float;
    ${t.attribute} vec3 clipSpacePos;
    ${t.attribute} vec2 uv;
    ${t.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return yoe(e,n)}function Hoe(e){let t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return xoe(e,t)}function qoe(e){let t=new Uint16Array([0,1,2,2,1,3]);return Soe(e,t)}function Kw(e,t,n,r,a,i){Coe(t,n);let s=koe(e),o=e.TEXTURE_2D;return Ie(e,()=>e.bindTexture(o,s)),Ie(e,()=>e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),Ie(e,()=>e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),Ie(e,()=>e.texParameteri(o,e.TEXTURE_MIN_FILTER,e.NEAREST)),Ie(e,()=>e.texParameteri(o,e.TEXTURE_MAG_FILTER,e.NEAREST)),ne().getNumber("WEBGL_VERSION")===1?Ie(e,()=>e.texImage2D(o,0,r,t,n,0,a,i,null)):Ie(e,()=>e.texStorage2D(o,1,r,t,n)),Ie(e,()=>e.bindTexture(e.TEXTURE_2D,null)),{texture:s,texShape:[n,t]}}function h6(e){return e.internalFormatFloat}function Yoe(e,t,n,r){let[a,i]=Qw(t,n);return Kw(e,a,i,h6(r),r.textureFormatFloat,e.FLOAT)}function m6(e){return e.internalFormatHalfFloat}function Qoe(e,t,n,r){let[a,i]=Qw(t,n);return Kw(e,a,i,m6(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function g6(e){return e.downloadTextureFormat}function Koe(e,t,n,r){let[a,i]=Qw(t,n);return Kw(e,a,i,g6(r),e.RGBA,e.UNSIGNED_BYTE)}function y6(e){return e.internalFormatPackedFloat}function Joe(e,t,n,r){let[a,i]=m1(t,n);return Kw(e,a,i,y6(r),e.RGBA,e.FLOAT)}function v6(e){return e.internalFormatPackedHalfFloat}function Zoe(e,t,n,r){let[a,i]=m1(t,n);return Kw(e,a,i,v6(r),e.RGBA,r.textureTypeHalfFloat)}function Xoe(e,t,n){return Ie(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),QL(e,t,"clipSpacePos",n,3,20,0)&&QL(e,t,"uv",n,2,20,12)}function ele(e,t,n,r,a,i){Ie(e,()=>e.bindTexture(e.TEXTURE_2D,t));let s,o,l;a instanceof Uint8Array?(s=new Uint8Array(n*r*4),o=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(n*r*4),o=e.FLOAT,l=i.internalFormatPackedFloat),s.set(a),ne().getNumber("WEBGL_VERSION")===2?Ie(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,o,s)):Ie(e,()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,o,s)),Ie(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function tle(e,t,n){Ie(e,()=>e.bindTexture(e.TEXTURE_2D,t)),n.data instanceof Uint8Array?ne().getNumber("WEBGL_VERSION")===2?Ie(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)):Ie(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)):ne().getNumber("WEBGL_VERSION")===2?Ie(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)):Ie(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),Ie(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function nle(e,t,n,r){let a=e.createBuffer();Ie(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,a));let i=4*4*t*n;return Ie(e,()=>e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)),Ie(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)),Ie(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),a}function rle(e,t,n){let r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function ale(e,t,n,r){let[a,i]=Qw(t,n),s=4,o=new Uint8Array(agt(t*n,s));return Ie(e,()=>e.readPixels(0,0,a,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,o)),new Float32Array(o.buffer)}function ile(e,t,n,r,a,i,s,o){let l=e,u=new Float32Array(igt(i,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function sle(e,t,n){let r=new Float32Array(t*n*4);return Ie(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)),r}var nS=class{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];let t=ne().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,hoe(t,e)):this.gl=Gs(t),e=this.gl,ne().getNumber("WEBGL_VERSION")===2){let a=e;this.createVertexArray=()=>Ie(a,()=>a.createVertexArray()),this.bindVertexArray=i=>Ie(a,()=>a.bindVertexArray(i)),this.deleteVertexArray=i=>Ie(a,()=>a.deleteVertexArray(i)),this.getVertexArray=()=>Ie(a,()=>a.getParameter(a.VERTEX_ARRAY_BINDING))}else if(e!=null){let a=e.getExtension("OES_vertex_array_object");if(a==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Ie(e,()=>a.createVertexArrayOES()),this.bindVertexArray=i=>Ie(e,()=>a.bindVertexArrayOES(i)),this.deleteVertexArray=i=>Ie(e,()=>a.deleteVertexArrayOES(i)),this.getVertexArray=()=>Ie(e,()=>e.getParameter(a.VERTEX_ARRAY_BINDING_OES))}let n="WEBGL_color_buffer_float",r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),ne().getNumber("WEBGL_VERSION")===1){let a="OES_texture_float",i="OES_texture_half_float";if(this.textureFloatExtension=gy(this.gl,a),yi(this.gl,i))this.textureHalfFloatExtension=gy(this.gl,i);else if(ne().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),yi(this.gl,r))this.colorBufferHalfFloatExtension=gy(this.gl,r);else if(ne().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",yi(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else if(yi(this.gl,r))this.colorBufferHalfFloatExtension=this.gl.getExtension(r);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=Hoe(this.gl),this.indexBuffer=qoe(this.gl),this.framebuffer=Ioe(this.gl),this.textureConfig=u6(this.gl,this.textureHalfFloatExtension)}get debug(){return ne().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");let e=this.gl;Ie(e,()=>e.finish()),Ie(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),Ie(e,()=>e.deleteFramebuffer(this.framebuffer)),Ie(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),Ie(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),Ie(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),Yoe(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),Qoe(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),Koe(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),tle(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),ele(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),Zoe(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),Joe(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(KL(this.gl,this.framebuffer),this.outputTexture=null),Ie(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,()=>ale(this.gl,t,n,this.textureConfig))}downloadPackedMatrixFromBuffer(e,t,n,r,a,i){return ile(this.gl,e,t,n,r,a,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return rle(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);let r=nle(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){let e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(ne().getBool("WEBGL_FENCE_API_ENABLED")){let r=e,a=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{let i=r.clientWaitSync(a,0,0);return i===r.ALREADY_SIGNALED||i===r.CONDITION_SATISFIED},t=a}else ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,()=>sle(this.gl,t,n))}createProgram(e){this.throwIfDisposed();let t=this.gl;this.vertexShader==null&&(this.vertexShader=Goe(t));let n=boe(t);Ie(t,()=>t.attachShader(n,this.vertexShader)),Ie(t,()=>t.attachShader(n,e)),woe(t,n);let r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&Z2(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);let t=this.gl;Ie(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),Xoe(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(Ie(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&Z2(this.gl,this.program),Ie(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?Moe(this.gl,e,t):Toe(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),Ie(this.gl,()=>this.gl.getAttribLocation(e,t))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Eoe(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();let[r,a]=m1(t,n);this.setOutputMatrixTextureDriver(e,r,a)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&Z2(this.gl,this.program),yy(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();let e=this.gl;if(this.debug){let t=this.getVertexArray();console.assert(t===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Ie(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Ie(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=gy(this.gl,ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){let n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.createQuery();return n.beginQuery(r.TIME_ELAPSED_EXT,a),a}let e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){let t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT);return}let e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await A.repeatedTry(()=>this.disposed||this.isQueryAvailable(e,ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(t===0)return null;if(t===2){let n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}else{let n=this.getQueryTimerExtensionWebGL1();return n.getQueryObjectEXT(e,n.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(t===0)return!0;if(t===2){let n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}else{let n=this.getQueryTimerExtensionWebGL1(),r=n.getQueryObjectEXT(e,n.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){let e=u0t(this.itemsToPoll.map(t=>t.isDoneFn));for(let t=0;t<=e;++t){let{resolveFn:n}=this.itemsToPoll[t];n()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in ne().platform&&(n=ne().platform.setTimeoutCustom.bind(ne().platform)),A.repeatedTry(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),X2(this.gl,e,this.framebuffer),this.debug&&yy(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(X2(this.gl,this.outputTexture,this.framebuffer),this.debug&&yy(this.gl)):KL(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);let n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();let r=this.gl;X2(r,e,this.framebuffer),this.debug&&yy(r),this.outputTexture=e,Ie(r,()=>r.viewport(0,0,t,n)),Ie(r,()=>r.scissor(0,0,t,n))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),Ie(this.gl,()=>this.gl.scissor(e,t,n,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}};function u0t(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}var{addImpl:c0t,bincountImpl:ole,bincountReduceImpl:f0t,bitwiseAndImpl:d0t,castImpl:p0t,ceilImpl:h0t,concatImpl:m0t,equalImpl:g0t,expImpl:y0t,expm1Impl:v0t,floorImpl:b0t,gatherNdImpl:w0t,gatherV2Impl:x0t,greaterImpl:S0t,greaterEqualImpl:k0t,lessImpl:C0t,lessEqualImpl:I0t,linSpaceImpl:N0t,logImpl:M0t,maxImpl:T0t,maximumImpl:E0t,minimumImpl:A0t,multiplyImpl:L0t,negImpl:_0t,notEqualImpl:j0t,prodImpl:$0t,raggedGatherImpl:D0t,raggedRangeImpl:O0t,raggedTensorToTensorImpl:R0t,rangeImpl:P0t,rsqrtImpl:F0t,scatterImpl:z0t,sigmoidImpl:B0t,simpleAbsImpl:lle,sliceImpl:U0t,sparseFillEmptyRowsImpl:W0t,sparseReshapeImpl:V0t,sparseSegmentReductionImpl:ule,sqrtImpl:G0t,staticRegexReplaceImpl:H0t,stridedSliceImpl:q0t,stringNGramsImpl:Y0t,stringSplitImpl:Q0t,stringToHashBucketFastImpl:K0t,subImpl:J0t,tileImpl:Z0t,topKImpl:X0t,transposeImpl:b6,uniqueImpl:e1t}=qP;function cle(e,t){return["x","y","z","w","u","v"].slice(0,t).map(n=>`${e}.${n}`)}function aa(e,t){return t===1?[e]:cle(e,t)}function t1t(e,t){if(e===1)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}var n1t=class{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=qr(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{let t=aa("rc",this.rank),n=Kt(this.rank),r=this.getOutOfBoundsCondition(t),a=this.getSetup(t),i=this.getOutput(t);this.userCode=`
        void main() {
          ${n} rc = getOutputCoords();

          if(${r}) {
            setOutput(vec4(0));
          } else {
            ${a}

            setOutput(vec4(${i}));
          }
        }
      `}}getSourceCoordsArr(e){let t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let a=`${n===0?"r":"rp1"}, ${r===0?"c":"cp1"}`;for(let i=2;i<this.rank;i++)a=`${e[e.length-1-i]},`+a;t.push(a)}return t}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(this.rank===1)return"";let t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${t[0]};
      int c = ${t[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${n};
      bool rEdge = rp1 >= ${r};
    `}getOutput(e){let t=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${t[0]}),
            cEdge ? 0. : getA(${t[1]}),
            rEdge ? 0. : getA(${t[2]}),
            rEdge || cEdge ? 0. : getA(${t[3]})`}},fle=class{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=qr(this.outputShape.length);let n="";for(let r=0;r<4;r++){let a="thisRC = rc;";r%2===1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),n+=`
        ${a}
        ${r>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${r}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${r>0?"}":""}
      `}this.userCode=`
      ${r1t(t,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?d6():f6(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${n}

        setOutput(result);
      }
    `}};function r1t(e,t){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${t?ygt(["r","c","d"],"inputShape"):oh(["r","c","d"],e)}
      return ivec3(r, c, d);
    }
  `}var a1t=class{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){let r=aV(t,n),a=iV(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);let i=rV(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();let o=this.freeTextures[a].pop();return this.usedTextures[a].push(o),o}let s;return r===_r.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===_r.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===_r.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===_r.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===_r.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(s),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),s}releaseTexture(e,t,n,r){if(this.freeTextures==null)return;let a=aV(n,r),i=iV(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]);let s=rV(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),o=ne().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");o!==-1&&this._numBytesAllocated>o?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;let l=this.usedTextures[i],u=l&&l.indexOf(e);if(u==null||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[u]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;let e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);let t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(let e in this.freeTextures)this.freeTextures[e].forEach(t=>{this.gpgpu.deleteMatrixTexture(t.texture)});for(let e in this.usedTextures)this.usedTextures[e].forEach(t=>{this.gpgpu.deleteMatrixTexture(t.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}};function i1t(e,t){let n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F||t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}function rV(e,t,n,r,a){let i=s1t(t,r),s;if(a){let[l,u]=m1(e[0],e[1]);s=l*u}else{let[l,u]=Qw(e[0],e[1]);s=l*u}let o=i1t(n,i);return s*o}function s1t(e,t){switch(e){case _r.PACKED_2X2_FLOAT32:return y6(t);case _r.PACKED_2X2_FLOAT16:return v6(t);case _r.UNPACKED_FLOAT32:return h6(t);case _r.UNPACKED_FLOAT16:return m6(t);case _r.PACKED_4X1_UNSIGNED_BYTE:return g6(t);default:throw new Error(`Unknown physical texture type ${e}`)}}function o1t(e){return ne().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?_r.PACKED_2X2_FLOAT32:_r.UNPACKED_FLOAT32:e?_r.PACKED_2X2_FLOAT16:_r.UNPACKED_FLOAT16}function aV(e,t){if(e===gi.UPLOAD)return _r.PACKED_2X2_FLOAT32;if(e===gi.RENDER||e==null)return o1t(t);if(e===gi.DOWNLOAD||e===gi.PIXELS)return _r.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function iV(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}var vo=class{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=qr(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${t}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}},ds="if (isnan(x)) return x;",l1t="return x;",sV="return abs(x);",u1t="return (x >= 0.0) ? x : (exp(x) - 1.0);",c1t=ds+`
  return (x < 0.0) ? 0.0 : x;
`,f1t=ds+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,cu="return x;",d1t="return 1.0 / (1.0 + exp(-1.0 * x));",p1t="return x;",h1t=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,m1t=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,g1t=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,y1t="return 1.0 / (1.0 + exp(-1.0 * x));",Du=class{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=qr(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${t}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}},v1t=class{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=qr(this.outputShape.length);let t=e.length,n=aa("rc",t),r=Kt(t),a=t1t(t,n),i=n.slice(-2),s=t<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`
      void main() {
        ${r} rc = getOutputCoords();
        vec4 packedInput = getA(${a});

        setOutput(getChannel(packedInput, ${s}));
      }
    `}},b1t=Uo.whereImpl,w1t=1e-7,x1t=1e-4,FE={};function S1t(e){return e in FE||(FE[e]={}),FE[e]}var k1t=ne().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),C1t=600;function I1t(){return ne().global.screen==null?1024:ne().global.screen.height*ne().global.screen.width*window.devicePixelRatio*C1t/1024/1024}var w6=class dle extends Jb{nextDataId(){return dle.nextDataId++}constructor(t){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!ne().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(t!=null){if(t instanceof nS)n=t;else{let r=Gs(ne().getNumber("WEBGL_VERSION"),t);n=new nS(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{let r=Gs(ne().getNumber("WEBGL_VERSION"));n=new nS(r),this.binaryCache=S1t(ne().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new a1t(this.gpgpu),this.numMBBeforeWarning=I1t(),this.texData=new bN(this,Ui())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(t,n,r,a,i,s){let o=this.makeTensorInfo(n,r),l=this.texData.get(o.dataId);l.isPacked=!1,l.texture={texture:t,texShape:[a,i]},l.texShape=[a,i];let u=vy(n),c=new nV(u,!1,s),f=this.runWebGLProgram(c,[o],r,[[a,i]]);return f.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(o),f.dataId}write(t,n,r){if((ne().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||ne().getBool("DEBUG"))&&this.checkNumericalProblems(t),r==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");let a={id:this.nextDataId()};return this.texData.set(a,{shape:n,dtype:r,values:t,usage:gi.UPLOAD,refCount:1}),a}refCount(t){return this.texData.has(t)?this.texData.get(t).refCount:0}incRef(t){let n=this.texData.get(t);n.refCount++}decRef(t){if(this.texData.has(t)){let n=this.texData.get(t);n.refCount--}}move(t,n,r,a,i){if(ne().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:r,dtype:a,values:n,usage:gi.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}readSync(t){let n=this.texData.get(t),{values:r,dtype:a,complexTensorInfos:i,slice:s,shape:o,isPacked:l}=n;if(s!=null){let d;l?d=new Du(o,cu):d=new vo(o,cu);let p=this.runWebGLProgram(d,[{dataId:t,shape:o,dtype:a}],a),h=this.readSync(p.dataId);return this.disposeIntermediateTensorInfo(p),h}if(r!=null)return this.convertAndCacheOnCPU(t);if(a==="string")return r;let u=this.activeTimers!=null,c;u&&(c=A.now());let f;if(a==="complex64"){let d=this.readSync(i.real.dataId),p=this.readSync(i.imag.dataId);f=R.mergeRealAndImagArrays(d,p)}else f=this.getValuesFromTexture(t);return u&&(this.downloadWaitMs+=A.now()-c),this.convertAndCacheOnCPU(t,f)}async read(t){if(this.pendingRead.has(t)){let h=this.pendingRead.get(t);return new Promise(m=>h.push(m))}let n=this.texData.get(t),{values:r,shape:a,slice:i,dtype:s,complexTensorInfos:o,isPacked:l}=n;if(i!=null){let h;l?h=new Du(a,cu):h=new vo(a,cu);let m=this.runWebGLProgram(h,[{dataId:t,shape:a,dtype:s}],s),g=this.read(m.dataId);return this.disposeIntermediateTensorInfo(m),g}if(r!=null)return this.convertAndCacheOnCPU(t);if(ne().getBool("DEBUG")&&!ne().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&ne().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,c;if(s!=="complex64"&&ne().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(t);let h=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(h.texture.texture,...g2(a))}this.pendingRead.set(t,[]),s!=="complex64"&&await this.gpgpu.createAndWaitForFence();let f;if(s==="complex64"){let h=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]),m=h[0],g=h[1];f=R.mergeRealAndImagArrays(m,g)}else if(u==null)f=this.getValuesFromTexture(t);else{let h=A.sizeFromShape(a);f=this.gpgpu.downloadFloat32MatrixFromBuffer(u,h)}if(c!=null&&this.disposeIntermediateTensorInfo(c),u!=null){let h=this.gpgpu.gl;Ie(h,()=>h.deleteBuffer(u))}let d=this.convertAndCacheOnCPU(t,f),p=this.pendingRead.get(t);return this.pendingRead.delete(t),p.forEach(h=>h(d)),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&Ui().removeDataId(t,this),this.pendingDeletes--),d}readToGPU(t,n={}){let r=this.texData.get(t),{values:a,shape:i,slice:s,dtype:o,isPacked:l,texture:u}=r;if(o==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(s!=null){let p;l?p=new Du(i,cu):p=new vo(i,cu);let h=this.runWebGLProgram(p,[{dataId:t,shape:i,dtype:o}],o),m=this.readToGPU(h,n);return this.disposeIntermediateTensorInfo(h),m}if(u==null)throw a!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");let c=this.decode(t,n.customTexShape),f=Ui().makeTensorFromTensorInfo(c),d=this.texData.get(c.dataId);return Object.assign({tensorRef:f},d.texture)}bufferSync(t){let n=this.readSync(t.dataId);if(t.dtype==="string")try{let r=n.map(a=>A.decodeString(a));return st(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return st(t.shape,t.dtype,n)}checkNumericalProblems(t){if(t!=null)for(let n=0;n<t.length;n++){let r=t[n];if(!moe(r))throw ne().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(t){let{shape:n,dtype:r,isPacked:a}=this.texData.get(t),i=A.sizeFromShape(n);if(ne().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){let d=this.decode(t),p=this.texData.get(d.dataId),h=this.gpgpu.downloadMatrixFromPackedTexture(p.texture.texture,...g2(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(d),h}let s=ne().getBool("WEBGL_PACK")&&a===!0,o=s?vy(n):n,l=s?new s0t(o):new i0t(o),u=this.runWebGLProgram(l,[{shape:o,dtype:r,dataId:t}],"float32"),c=this.texData.get(u.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(u),f}timerAvailable(){return ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(t){let n=this.activeTimers,r=[],a=!1;this.programTimersStack==null?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,t();let i=A.flatten(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),s=A.flatten(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,a&&(this.programTimersStack=null);let o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){let l=await Promise.all(i);o.kernelMs=A.sum(l),o.getExtraProfileInfo=()=>l.map((u,c)=>({name:s[c],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:A.now(),endMs:null}}endTimer(t){return ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=A.now(),t)}async getQueryTime(t){if(ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(t);let n=t;return n.endMs-n.startMs}disposeData(t,n=!1){if(this.pendingDisposal.has(t))return!1;if(!this.texData.has(t))return!0;if(n?this.texData.get(t).refCount=0:this.texData.get(t).refCount--,!n&&this.texData.get(t).refCount>0)return!1;if(this.pendingRead.has(t))return this.pendingDisposal.add(t),this.pendingDeletes++,!1;this.releaseGPUData(t);let{complexTensorInfos:r}=this.texData.get(t);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(t),!0}releaseGPUData(t){let{texture:n,dtype:r,texShape:a,usage:i,isPacked:s,slice:o}=this.texData.get(t),l=o&&o.origDataId||t,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,s)));let c=this.texData.get(t);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(t){return this.uploadToGPU(t),this.texData.get(t).texture.texture}getDataInfo(t){return this.texData.get(t)}shouldExecuteOnCPU(t,n=k1t){return ne().getBool("WEBGL_CPU_FORWARD")&&t.every(r=>this.texData.get(r.dataId).texture==null&&A.sizeFromShape(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(t){R.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");let n=t.dataSync();return b1t(t.shape,n)}packedUnaryOp(t,n,r){let a=new Du(t.shape,n),i=this.compileAndRun(a,[t],r);return Ui().makeTensorFromTensorInfo(i)}abs(t){if(this.shouldExecuteOnCPU([t])&&t.dtype!=="complex64"){let a=lle(this.texData.get(t.dataId).values);return this.makeOutput(t.shape,t.dtype,a)}if(ne().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,sV,t.dtype);let n=new vo(t.shape,sV),r=this.compileAndRun(n,[t]);return Ui().makeTensorFromTensorInfo(r)}makeTensorInfo(t,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&A.isString(r[0])){let i=r.map(s=>A.encodeString(s));a=this.write(i,t,n)}else a=this.write(r,t,n);return this.texData.get(a).usage=null,{dataId:a,shape:t,dtype:n}}makeOutput(t,n,r){return Ui().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,r),this)}unpackTensor(t){let n=new v1t(t.shape);return this.runWebGLProgram(n,[t],t.dtype)}packTensor(t){let n=new n1t(t.shape);return this.runWebGLProgram(n,[t],t.dtype,null,!0)}packedReshape(t,n){let r=[md(t.shape),...gd(t.shape)],a={dtype:t.dtype,shape:r,dataId:t.dataId},i=[md(n),...gd(n)],s=new fle(i,r),o=!0,l=[r],u=this.runWebGLProgram(s,[a],t.dtype,l,o);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(t,n){let r=this.texData.get(t),{isPacked:a,shape:i,dtype:s}=r;if(n!=null){let d=A.sizeFromShape(i),p=n[0]*n[1]*4;A.assert(d<=p,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}let o=vy(i),l;a?l=new a0t(o):l=new r0t(o);let u=!0,c=[n??g2(o)],f=this.runWebGLProgram(l,[{shape:o,dtype:s,dataId:t}],s,c,u,n);return{dtype:s,shape:i,dataId:f.dataId}}runWebGLProgram(t,n,r,a,i=!1,s){let o=this.makeTensorInfo(t.outputShape,r),l=this.texData.get(o.dataId);if(t.packedOutput&&(l.isPacked=!0),t.outPackingScheme===gb.DENSE){let y=s??g2(t.outputShape);l.texShape=y.map(v=>v*2)}if(t.outTexUsage!=null&&(l.usage=t.outTexUsage),A.sizeFromShape(o.shape)===0)return l.values=A.getTypedArrayFromDType(o.dtype,0),o;let u=[],c=n.map(y=>{if(y.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let v=this.texData.get(y.dataId);if(v.texture==null){if(!t.packedInputs&&A.sizeFromShape(y.shape)<=ne().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:y.shape,texData:null,isUniform:!0,uniformValues:v.values};t.packedInputs&&(v.isPacked=!0,v.shape=y.shape)}if(this.uploadToGPU(y.dataId),!!v.isPacked!=!!t.packedInputs)y=v.isPacked?this.unpackTensor(y):this.packTensor(y),u.push(y),v=this.texData.get(y.dataId);else if(v.isPacked&&!yb(v.shape,y.shape)){let b=y,x=y.shape;y.shape=v.shape,y=this.packedReshape(y,x),u.push(y),v=this.texData.get(y.dataId),b.shape=x}return{shape:y.shape,texData:v,isUniform:!1}});this.uploadToGPU(o.dataId);let f={shape:o.shape,texData:l,isUniform:!1},d=n0t(t,c,f),p=this.getAndSaveBinary(d,()=>e0t(this.gpgpu,t,c,f)),h=this.activeTimers!=null,m;h&&(m=this.startTimer()),ne().get("ENGINE_COMPILE_ONLY")||t0t(this.gpgpu,p,c,f,a),u.forEach(y=>this.disposeIntermediateTensorInfo(y)),h&&(m=this.endTimer(m),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(m)}));let g=ne().getNumber("WEBGL_FLUSH_THRESHOLD");if(g>0){let y=A.now();y-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=y)}if(!ne().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){let y=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),y}return o}compileAndRun(t,n,r,a,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(t,n,r,a,i)}getAndSaveBinary(t,n){return t in this.binaryCache||(this.binaryCache[t]=n()),this.binaryCache[t]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(ne().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(t=>{this.gpgpu.deleteProgram(this.binaryCache[t].webGLProgram),delete this.binaryCache[t]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=X(()=>{if(!ne().get("WEBGL_RENDER_FLOAT32_ENABLED")){let t=ne().getBool("DEBUG");ne().set("DEBUG",!1);let n=this.abs(Ue(1e-8)).dataSync()[0];if(ne().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?w1t:x1t}uploadToGPU(t){let n=this.texData.get(t),{shape:r,dtype:a,values:i,texture:s,usage:o,isPacked:l}=n;if(s!=null)return;let u=this.activeTimers!=null,c;u&&(c=A.now());let f=n.texShape;if(f==null&&(f=_oe(r,l),n.texShape=f),i!=null){let d=vy(r),p,h=f[1],m=f[0],g=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!g)&&([h,m]=m1(f[0],f[1])),l?p=new l0t(d,g):p=new nV(d,g);let y=g?[m,h]:f,v=this.makeTensorInfo(y,a),b=this.texData.get(v.dataId);g?b.usage=gi.PIXELS:b.usage=gi.UPLOAD,b.texShape=y,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),h,m,i);let x=[[m,h]],S=this.runWebGLProgram(p,[v],a,x,!0),k=this.texData.get(S.dataId);n.texShape=k.texShape,n.isPacked=k.isPacked,n.usage=k.usage,ne().get("ENGINE_COMPILE_ONLY")?this.disposeData(S.dataId):(n.texture=k.texture,n.values=null,this.texData.delete(S.dataId)),this.disposeIntermediateTensorInfo(v),u&&(this.uploadWaitMs+=A.now()-c)}else{let d=this.acquireTexture(f,o,a,l);n.texture=d}}convertAndCacheOnCPU(t,n){let r=this.texData.get(t),{dtype:a}=r;return n!=null&&(r.values=N1t(n,a)),r.values}acquireTexture(t,n,r,a){if(this.numBytesInGPU+=this.computeBytes(t,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){let i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(t,n,a)}computeBytes(t,n){return t[0]*t[1]*A.bytesPerElement(n)}checkCompileCompletion(){for(let[,t]of Object.entries(this.binaryCache))this.checkCompletion_(t)}async checkCompileCompletionAsync(){let t=[];if(this.gpgpu.parallelCompilationExtension){for(let[,n]of Object.entries(this.binaryCache))t.push(this.checkCompletionAsync_(n));return Promise.all(t)}else{for(let[,n]of Object.entries(this.binaryCache)){let r=new Promise(a=>{try{this.checkCompletion_(n),a(!0)}catch(i){throw i}});t.push(r)}return Promise.all(t)}}async checkCompletionAsync_(t){return this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(t):(await uR(),this.checkCompletionAsync_(t))}checkCompletion_(t){if(this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(t.webGLProgram)),this.gpgpu.gl.getShaderParameter(t.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(c6(t.source,this.gpgpu.gl.getShaderInfoLog(t.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(let t of Object.values(this.binaryCache)){this.gpgpu.buildVao(t.webGLProgram);let{variablesLocations:n,customUniformLocations:r,infLoc:a,nanLoc:i,outShapeLocation:s,outShapeStridesLocation:o,outTexShapeLocation:l}=Woe(this.gpgpu,t.program,t.webGLProgram);t.variablesLocations=n,t.customUniformLocations=r,t.infLoc=a,t.nanLoc=i,t.outShapeLocation=s,t.outShapeStridesLocation=o,t.outTexShapeLocation=l}}createTensorFromGPUData(t,n,r){t.channels=t.channels||"RGBA";let{texture:a,height:i,width:s,channels:o}=t,l=Ui().backend;if(!l.gpgpu.gl.isTexture(a))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");let u=l.writeTexture(a,n,r,i,s,o);return Ui().makeTensorFromDataId(u,n,r,l)}};w6.nextDataId=0;function N1t(e,t){if(t==="float32"||t==="complex64")return e;if(t==="int32"||t==="bool"){let n=t==="int32"?new Int32Array(e.length):new Uint8Array(e.length);for(let r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}else throw new Error(`Unknown dtype ${t}`)}var M1t="4.22.0";function ple(){ne().set("WEBGL_FORCE_F16_TEXTURES",!0)}kw.isBrowser()&&RN("webgl",()=>new w6,2);var T1t={forceHalfFloat:ple},x6=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`,yd=class{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=R.assertAndGetBroadcastShape(t,n),this.enableShapeUniforms=qr(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}},uh=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`,x1=class{constructor(e,t,n,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=R.assertAndGetBroadcastShape(t,n);let a=this.outputShape.length;this.enableShapeUniforms=qr(a);let i="";if(r)if(a===0||A.sizeFromShape(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          ${Kt(a)} coords = getOutputCoords();
        `,a===1)this.enableShapeUniforms?i+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:i+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{let s=aa("coords",a);this.enableShapeUniforms?i+=`
            bool nextRowOutOfBounds =
              (${s[a-2]} + 1) >= outShape[${a} - 2];
            bool nextColOutOfBounds =
              (${s[a-1]} + 1) >= outShape[${a} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:i+=`
            bool nextRowOutOfBounds =
              (${s[a-2]} + 1) >= ${this.outputShape[a-2]};
            bool nextColOutOfBounds =
              (${s[a-1]} + 1) >= ${this.outputShape[a-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${i}

        setOutput(result);
      }
    `}};function ti(e){let{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var E1t={kernelName:fp,backendName:"webgl",kernelFunc:ti};function Uc(e){let{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.makeTensorInfo(r.shape,"complex64"),s=n.texData.get(i.dataId),o=ti({inputs:{x:r},backend:n}),l=ti({inputs:{x:a},backend:n});return s.complexTensorInfos={real:o,imag:l},i}var A1t={kernelName:SN,backendName:"webgl",kernelFunc:Uc},hle="return (a < 0.) ? b * a : a;",mle=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function L1t(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r,s=n.makeTensorInfo([],"float32",A.createScalarValue(i,"float32")),o=ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new x1(mle,a.shape,s.shape):new yd(hle,a.shape,s.shape),l=n.runWebGLProgram(o,[a,s],"float32");return n.disposeIntermediateTensorInfo(s),l}var _1t={kernelName:mp,backendName:"webgl",kernelFunc:L1t},gle="return (a < 0.) ? b * a : a;",yle=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function j1t(e){let{inputs:t,backend:n}=e,{x:r,alpha:a}=t,i=ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new x1(yle,r.shape,a.shape):new yd(gle,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}var $1t={kernelName:Lp,backendName:"webgl",kernelFunc:j1t},S1="if (isnan(x)) return x;";function Tt({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:a,backend:i})=>{let{x:s}=a,o=i,l=r||s.dtype;if(o.shouldExecuteOnCPU([s])&&n!=null){let f=o.texData.get(s.dataId),d=n(f.values,l);return o.makeTensorInfo(s.shape,l,d)}let u=ne().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&t!=null,c;return u?c=new Du(s.shape,t):c=new vo(s.shape,e),o.runWebGLProgram(c,[s],l)}}function Or({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:a,dtype:i}){return({inputs:s,backend:o})=>{let{a:l,b:u}=s,c=o;if(r&&l.dtype==="complex64"){let h=c.texData.get(l.dataId),m=c.texData.get(u.dataId),[g,y]=[[h.complexTensorInfos.real,m.complexTensorInfos.real],[h.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(b=>{let[x,S]=b,k={dataId:x.dataId,dtype:x.dtype,shape:l.shape},I={dataId:S.dataId,dtype:S.dtype,shape:u.shape},N=new yd(e,l.shape,u.shape);return c.runWebGLProgram(N,[k,I],Ci(x.dtype,S.dtype))}),v=Uc({inputs:{real:g,imag:y},backend:c});return c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(y),v}let f=i||Ci(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||c.shouldExecuteOnCPU([l,u]))&&a!=null){let h=c.texData.get(l.dataId).values,m=c.texData.get(u.dataId).values,g=l.dtype==="string"?R.fromUint8ToStringArray(h):h,y=l.dtype==="string"?R.fromUint8ToStringArray(m):m,[v,b]=a(l.shape,u.shape,g,y,f),x=c.makeTensorInfo(b,f),S=c.texData.get(x.dataId);return S.values=v,x}let d=ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&t!=null,p;return d?p=new x1(t,l.shape,u.shape,n):p=new yd(e,l.shape,u.shape),c.runWebGLProgram(p,[l,u],f)}}function vb(e,t=!1){if(e==="linear")return t?p1t:l1t;if(e==="relu")return t?m1t:c1t;if(e==="elu")return t?h1t:u1t;if(e==="relu6")return t?g1t:f1t;if(e==="prelu")return t?yle:gle;if(e==="leakyrelu")return t?mle:hle;if(e==="sigmoid")return t?y1t:d1t;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}var vle=class{constructor(e,t,n,r=!1,a=!1,i=!1,s=null,o=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=qr(this.outputShape.length);let u=r?e[1]:e[2],c=Math.ceil(u/2),f=r?"i * 2, rc.y":"rc.y, i * 2",d=a?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],m="",g="";s&&(o?m=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:l?m=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:m=`vec4 activation(vec4 x) {
          ${s}
        }`,g="result = activation(result);");let y=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let v="rc.x",b="rc.x";e[0]<t[0]?v=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(b=`imod(rc.x, ${t[0]})`),this.userCode=`
      ${m}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${c}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${v};
        int batchB = ${b};
        for (int i = 0; i < ${c}; i++) {
          vec4 a = getMatrixA(batchA, ${f});
          vec4 b = getMatrixB(batchB, ${d});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${h[0]});
          result += (${p[1]} * ${h[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${y}

        ${g}

        setOutput(result);
      }
    `}},oV={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},lV=class{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=R.assertAndGetBroadcastShape(t,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}},uV="return a * b;";function S6(e){let{inputs:t,backend:n}=e,{a:r,b:a}=t,i=R.upcastType(r.dtype,a.dtype);if(r.dtype==="complex64"){let o=n.texData.get(r.dataId),l=n.texData.get(a.dataId),u=new lV(oV.REAL,r.shape,a.shape),c=new lV(oV.IMAG,r.shape,a.shape),f=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:r.shape},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:a.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:a.shape}],d=n.runWebGLProgram(u,f,"float32"),p=n.runWebGLProgram(c,f,"float32"),h=Uc({inputs:{real:d,imag:p},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),h}if(n.shouldExecuteOnCPU([r,a])){let o=n.texData.get(r.dataId),l=n.texData.get(a.dataId),[u,c]=L0t(r.shape,a.shape,o.values,l.values,i),f=n.makeTensorInfo(c,i),d=n.texData.get(f.dataId);return d.values=u,f}let s;return ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")?s=new x1(uV,r.shape,a.shape):s=new yd(uV,r.shape,a.shape),n.runWebGLProgram(s,[r,a],i)}var D1t={kernelName:Mp,backendName:"webgl",kernelFunc:S6};function O1t(e,t,n){let r=[md(e.shape),...gd(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[md(t),...gd(t)],s=new fle(i,r),o=!0,l=[r],u=n.runWebGLProgram(s,[a],e.dtype,l,o);return{dataId:u.dataId,shape:t,dtype:u.dtype}}function Ce(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,s=n,o=A.sizeFromShape(a.shape),l=A.inferFromImplicitShape(i,o),u=A.sizeFromShape(l);A.assert(o===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${a.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`);let c=s.texData.get(a.dataId);return c.isPacked&&!yb(a.shape,l)&&!(c.texture!==null&&yb(c.shape,l))?O1t(a,l,s):(s.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype})}var R1t={kernelName:z0,backendName:"webgl",kernelFunc:Ce},cV=class{constructor(e,t){this.variableNames=["x"];let{windowSize:n,batchSize:r,inSize:a,outSize:i}=e;this.outputShape=[r,i];let s=Math.floor(n/4)*4,o=n%4,l="sumValue += dot(values, ones);";if(t!=null){let c=1/t;l=`sumValue += dot(values * ${A.isInt(c)?c.toPrecision(2):c}, ones);`}let u="";a%n>0&&(u=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${u}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${n};

        float sumValue = 0.0;

        for (int i = 0; i < ${s}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${l}
        }

        int inIdx = inOffset + ${s};
        if (${o===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${l}
        } else if (${o===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${l}
        } else if (${o===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${l}
        }
        setOutput(sumValue);
      }
    `}},P1t=class{constructor(e,t){this.variableNames=["x"];let{windowSize:n,batchSize:r,inSize:a,outSize:i}=e;this.outputShape=[r,i];let s="0.0",o="";t==="prod"?s="1.0":t==="min"?(s="1.0 / 1e-20",o="min"):t==="max"&&(s="-1.0 / 1e-20",o="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;t==="sum"?l="sumValue":t==="prod"?l="prodValue":t==="all"?l="allValue":t==="any"&&(l="anyValue");let u=Math.floor(n/4)*4,c=n%4,f=`
      if (${t==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${t==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${o}(values, minMaxValue);
        if (${t==="min"} || ${t==="max"}) {
          minMaxValue = ${o}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,d="vec4";t==="all"?(s="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,d="bvec4"):t==="any"&&(s="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,d="bvec4");let p="";a%n>0&&(p=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${s};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${n};

        vec4 minMaxValue = vec4(${s});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          ${d} values = ${d}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${f}
        }

        int inIdx = inOffset + ${u};
        if (${c===1}) {
          ${d} values = ${d}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${c===2}) {
          ${d} values = ${d}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${c===3}) {
          ${d} values = ${d}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${f}
        }
        setOutput(${l});
      }
    `}};function F1t(e){let t=[];for(;t.length===0||t[t.length-1].outSize!==1;){let n=t.length?t[t.length-1].outSize:e[1],r=R.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}function ch(e,t,n,r){let a=F1t(e.shape),i=e;for(let s=0;s<a.length;s++){let{inSize:o,windowSize:l,outSize:u}=a[s],c,f;n==="mean"?c=s===0?new cV({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u},o):new cV({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u}):c=new P1t({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u},n),f=i,i=r.runWebGLProgram(c,[i],t),f.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(f)}return i}var z1t=class{constructor(e,t){this.variableNames=["A"];let n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[t[i]];this.outputShape=n,this.rank=n.length;let r=Kt(this.rank),a=B1t(t);this.userCode=`
    void main() {
      ${r} resRC = getOutputCoords();
      setOutput(getA(${a}));
    }
    `}};function B1t(e){let t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);let n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}var U1t=class{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;let n=new Array(e.length);for(let u=0;u<n.length;u++)n[u]=e[t[u]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);let r=Kt(this.rank),a=cle("rc",this.rank),i=new Array(this.rank);for(let u=0;u<t.length;u++)i[t[u]]=a[u];let s=`vec2(${i.slice(-2).join()})`,o=`++${a[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${i.join()}), ${s})`;this.userCode=`
    void main() {
      ${r} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${l};
      if(${o}) {
        result[1] = ${l};
      }
      --${a[this.rank-1]};
      if(++${a[this.rank-2]} < ${n[this.rank-2]}) {
        result[2] = ${l};
        if(${o}) {
          result[3] = ${l};
        }
      }
      setOutput(result);
    }
    `}};function UM(e,t,n){let r=ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new U1t(e.shape,t):new z1t(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function W1t(e,t,n,r){let a=t,i=e.shape.length,s=A.parseAxisParam(a,e.shape),o=s,l=R.getAxesPermutation(o,i),u=l!=null,c=e;u&&(c=UM(e,l,r),o=R.getInnerMostAxes(o.length,i)),R.assertAxesAreInnerMostDims("sum",o,i);let[f,d]=R.computeOutAndReduceShapes(c.shape,o),p=f;n&&(p=R.expandShapeToKeepDim(f,s));let h=A.sizeFromShape(d),m=A.sizeFromShape(e.shape)/h,g=Ce({inputs:{x:c},attrs:{shape:[m,h]},backend:r}),y=ON(e.dtype),v=ch(g,y,"sum",r),b=Ce({inputs:{x:v},attrs:{shape:p},backend:r});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(v),u&&r.disposeIntermediateTensorInfo(c),b}function WM(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;return W1t(a,i,s,n)}var V1t={kernelName:Yp,backendName:"webgl",kernelFunc:WM};function la(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{perm:i}=r,s=n,o=a.shape.length,l=new Array(o);for(let c=0;c<l.length;c++)l[c]=a.shape[i[c]];let u;if(s.shouldExecuteOnCPU([a])){let c=s.texData.get(a.dataId).values,f=b6(c,a.shape,a.dtype,i,l);u=s.makeTensorInfo(l,a.dtype);let d=s.texData.get(u.dataId);d.values=f}else u=UM(a,i,s);return u}var G1t={kernelName:hl,backendName:"webgl",kernelFunc:la},ble=1e3;function wC({a:e,b:t,transposeA:n,transposeB:r,backend:a,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:l=null}){let u=e.shape.length,c=t.shape.length,f=n?e.shape[u-2]:e.shape[u-1],d=r?t.shape[c-1]:t.shape[c-2],p=n?e.shape[u-1]:e.shape[u-2],h=r?t.shape[c-2]:t.shape[c-1],m=e.shape.slice(0,-2),g=t.shape.slice(0,-2),y=A.sizeFromShape(m),v=A.sizeFromShape(g),b=a1.assertAndGetBroadcastShape(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([p,h]);A.assert(f===d,()=>`Error in matMul: inner shapes (${f}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`);let x=n?[y,f,p]:[y,p,f],S=r?[v,h,d]:[v,d,h],k=Ce({inputs:{x:e},backend:a,attrs:{shape:x}}),I=Ce({inputs:{x:t},backend:a,attrs:{shape:S}}),N=[k,I],T=Math.max(y,v),L=n?k.shape[1]:k.shape[2],E=i!=null,M=s!=null,j=l==="leakyrelu",D=l!=null?vb(l,!0):null,F=E||M||j||D!=null,$;if((p===1||h===1)&&L>ble&&F===!1){let O=k,P=I;n&&(O=la({inputs:{x:k},backend:a,attrs:{perm:[0,2,1]}}),N.push(O)),r&&(P=la({inputs:{x:I},backend:a,attrs:{perm:[0,2,1]}}),N.push(P));let W=h!==1,H=h===1,q=O;W&&(q=Ce({inputs:{x:O},backend:a,attrs:{shape:[T,L,1]}}),N.push(q));let J=h===1?2:1,re=P;H&&(re=Ce({inputs:{x:P},backend:a,attrs:{shape:[T,1,L]}}),N.push(re));let ce=S6({inputs:{a:q,b:re},backend:a});$=WM({inputs:{x:ce},backend:a,attrs:{axis:J,keepDims:!0}}),N.push(ce)}else{let O=Ci(e.dtype,t.dtype),P=new vle(x,S,[T,p,h],n,r,E,D,M,j),W=[k,I];if(i!=null&&W.push(i),M&&W.push(s),j){let H=a.makeTensorInfo([],"float32",A.createScalarValue(o,"float32"));W.push(H),N.push(H)}$=a.runWebGLProgram(P,W,O)}let B=Ce({inputs:{x:$},backend:a,attrs:{shape:b}});N.push($);for(let O of N)a.disposeIntermediateTensorInfo(O);return B}function H1t(e){let{inputs:t,backend:n,attrs:r}=e,{a,b:i,bias:s,preluActivationWeights:o}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;return wC({a,b:i,transposeA:l,transposeB:u,backend:n,bias:s,preluActivationWeights:o,leakyreluAlpha:f,activation:c})}var q1t={kernelName:ed,backendName:"webgl",kernelFunc:H1t},fV="return abs(x);";function Y1t(e){let{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){let i=n.texData.get(r.dataId),s=lle(i.values);return n.makeTensorInfo(r.shape,r.dtype,s)}let a;return ne().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new Du(r.shape,fV):a=new vo(r.shape,fV),n.runWebGLProgram(a,[r],r.dtype)}var Q1t={kernelName:n0,backendName:"webgl",kernelFunc:Y1t},K1t=ds+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,J1t=Tt({opSnippet:K1t}),Z1t={kernelName:Od,backendName:"webgl",kernelFunc:J1t},X1t=ds+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,eyt=Tt({opSnippet:X1t}),tyt={kernelName:Rd,backendName:"webgl",kernelFunc:eyt},dV="return a + b;",nyt=Or({opSnippet:dV,packedOpSnippet:dV,supportsComplex:!0,cpuKernelImpl:c0t}),ryt={kernelName:_c,backendName:"webgl",kernelFunc:nyt},ayt=class{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((a,i)=>`T${i}`);let n=[];this.variableNames.forEach(a=>{n.push(`float v${a} = get${a}AtOutCoords();`)});let r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`
      void main() {
        ${n.join(`
        `)}

        float result = ${r};
        setOutput(result);
      }
    `}},iyt=class{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((a,i)=>`T${i}`);let n=[];this.variableNames.forEach(a=>{n.push(`vec4 v${a} = get${a}AtOutCoords();`)});let r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`
      void main() {
        ${n.join(`
        `)}

        vec4 result = ${r};
        setOutput(result);
      }
    `}};function rS(e){let{inputs:t,backend:n}=e,r=t;if(r.length===1)return ti({inputs:{x:r[0]},backend:n});if(r.length>ne().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){let o=Math.floor(r.length/2),l=rS({inputs:r.slice(0,o),backend:n}),u=rS({inputs:r.slice(o),backend:n});return rS({inputs:[l,u],backend:n})}let a=r.map(o=>o.dtype).reduce((o,l)=>Ci(o,l)),i=r.map(o=>o.shape),s=ne().getBool("WEBGL_PACK")?new iyt(r[0].shape,i):new ayt(r[0].shape,i);return n.runWebGLProgram(s,r,a)}var syt={kernelName:Pd,backendName:"webgl",kernelFunc:rS};function oyt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=A.parseAxisParam(i,a.shape),u=l,c=R.getAxesPermutation(u,o),f=a;c!=null&&(f=la({inputs:{x:a},backend:n,attrs:{perm:c}}),u=R.getInnerMostAxes(u.length,o)),R.assertAxesAreInnerMostDims("all",u,o);let[d,p]=R.computeOutAndReduceShapes(f.shape,u),h=A.sizeFromShape(p),m=Ce({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}}),g=ch(m,m.dtype,"all",n),y;if(s){let v=R.expandShapeToKeepDim(d,l);y=Ce({inputs:{x:g},backend:n,attrs:{shape:v}})}else y=Ce({inputs:{x:g},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(f),y}var lyt={kernelName:r0,backendName:"webgl",kernelFunc:oyt};function uyt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=A.parseAxisParam(i,a.shape),u=l,c=R.getAxesPermutation(u,o),f=a;c!=null&&(f=la({inputs:{x:a},backend:n,attrs:{perm:c}}),u=R.getInnerMostAxes(u.length,o)),R.assertAxesAreInnerMostDims("any",u,o);let[d,p]=R.computeOutAndReduceShapes(f.shape,u),h=A.sizeFromShape(p),m=Ce({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}}),g=ch(m,m.dtype,"any",n),y;if(s){let v=R.expandShapeToKeepDim(d,l);y=Ce({inputs:{x:g},backend:n,attrs:{shape:v}})}else y=Ce({inputs:{x:g},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(f),y}var cyt={kernelName:a0,backendName:"webgl",kernelFunc:uyt},fyt=class{constructor(e,t,n){this.variableNames=["A"];let{windowSize:r,batchSize:a,outSize:i}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,i];let s=t==="max"?">":"<",o=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${r}; i++) {
          int inIdx = ${o};
          float candidate = getA(batch, inIdx);
          if (candidate ${s} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}},dyt=class{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,A.assert(e.length>2,()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`);let a=e[e.length-1],i=Math.ceil(a/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");let s=this.outputShape,o=s.length,l=Kt(o),u=aa("coords",o),c,f;if(i===1){f=o+1;let I=Kt(f);c=`
        ${I} sourceLocR = ${I}(${u.join()}, 0);
        ++${u[o-1]};
        ${I} sourceLocG = ${I}(${u.join()}, 0);
        ++${u[o-2]};
        ${I} sourceLocA = ${I}(${u.join()}, 0);
        --${u[o-1]};
        ${I} sourceLocB = ${I}(${u.join()}, 0);
        --${u[o-2]};`}else f=o,c=`
        ${l} sourceLocR = coords;
        ++${u[o-1]};
        ${l} sourceLocG = coords;
        ++${u[o-2]};
        ${l} sourceLocA = coords;
        --${u[o-1]};
        ${l} sourceLocB = coords;
        --${u[o-2]};`;let d=["x","y","z","w","u","v"].slice(0,f),p="."+d[f-1],h=d.map(I=>"int "+I),m=aa("sourceLocR",f-1).concat("inIdx.r"),g=aa("sourceLocG",f-1).concat("inIdx.g"),y=aa("sourceLocB",f-1).concat("inIdx.b"),v=aa("sourceLocA",f-1).concat("inIdx.a"),b=n==="max"?"greaterThan":"lessThan",x=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),
                             getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${v.join()})));`,S=`vec4(
            getAChannel(${m.join()}),
            hasNextCol ? getAChannel(${g.join()}) : 0.,
            hasNextRow ? getAChannel(${y.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${v.join()}) : 0.)`,k=r?"":`
      float getBestIndicesAChannel(${h.join()}) {
        return getChannel(getBestIndicesA(${d.join()}),
                                          vec2(${d.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${h.join()}) {
        return getChannel(getA(${d.join()}),
                               vec2(${d.slice(-2).join()}));
      }
      ${k}
      void main() {
        ${l} coords = getOutputCoords();
        bool hasNextCol = ${u[o-1]} < ${s[o-1]-1};
        bool hasNextRow = ${u[o-2]} < ${s[o-2]-1};
        ${c}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${t};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${S};

        for (int i = 0; i < ${t}; i++) {
          inIdx = srcIdx;
          ${x}
          vec4 candidate = ${S};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${b}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}};function wle(e,t,n,r=null){let a=t.shape[0],i=t.shape[1];r!=null&&(a=r.shape[0],i=r.shape[1]);let s=R.computeOptimalWindowSize(i),o={windowSize:s,inSize:i,batchSize:a,outSize:Math.ceil(i/s)},l=new fyt(o,n,r==null),u=[t];r!=null&&u.push(r);let c=e.runWebGLProgram(l,u,"int32");if(c.shape[1]===1)return c;let f=wle(e,t,n,c);return e.disposeIntermediateTensorInfo(c),f}function xle(e,t,n,r=null){let a=r!=null?r.shape:t.shape,i=a[a.length-1],s=R.computeOptimalWindowSize(i),o=new dyt(a,s,n,r==null),l=r==null?[t]:[t,r],u=e.runWebGLProgram(o,l,"int32");if(u.shape.length===t.shape.length){let c=xle(e,t,n,u);return e.disposeIntermediateTensorInfo(u),c}return u}function Sle(e,t,n,r){let a=[n];if(R.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!ne().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){let i=[],s=e.texData.get(t.dataId),o=s!==null&&s.isPacked,l=t;o&&(l=e.unpackTensor(t),i.push(l));let[u,c]=R.computeOutAndReduceShapes(l.shape,a),f=A.sizeFromShape(c),d=Ce({inputs:{x:l},backend:e,attrs:{shape:[-1,f]}});i.push(d);let p=wle(e,d,r);i.push(p);let h=Ce({inputs:{x:p},backend:e,attrs:{shape:u}});return i.forEach(m=>e.disposeIntermediateTensorInfo(m)),h}return xle(e,t,r)}function pyt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r,s=A.parseAxisParam(i,a.shape),o=R.getAxesPermutation(s,a.shape.length),l=a,u=[];o!=null&&(l=la({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=R.getInnerMostAxes(s.length,l.shape.length)),R.assertAxesAreInnerMostDims("argMax",[s[0]],l.shape.length);let c=Sle(n,l,s[0],"max");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}var hyt={kernelName:i0,backendName:"webgl",kernelFunc:pyt};function myt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r,s=A.parseAxisParam(i,a.shape),o=R.getAxesPermutation(s,a.shape.length),l=a,u=[];o!=null&&(l=la({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=R.getInnerMostAxes(s.length,l.shape.length)),R.assertAxesAreInnerMostDims("argMin",[s[0]],l.shape.length);let c=Sle(n,l,s[0],"min");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}var gyt={kernelName:s0,backendName:"webgl",kernelFunc:myt},yyt=ds+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,vyt=Tt({opSnippet:yyt}),byt={kernelName:Fd,backendName:"webgl",kernelFunc:vyt},wyt=ds+"return log(x + sqrt(x * x + 1.0));",xyt=Tt({opSnippet:wyt}),Syt={kernelName:zd,backendName:"webgl",kernelFunc:xyt},kyt=ds+`
  return atan(x);
`,Cyt=Tt({opSnippet:kyt}),Iyt={kernelName:Bd,backendName:"webgl",kernelFunc:Cyt},Nyt=x6+`
  return atan(a, b);
`,Myt=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+uh+`
  return result;
`,Tyt=Or({opSnippet:Nyt,packedOpSnippet:Myt}),Eyt={kernelName:Wd,backendName:"webgl",kernelFunc:Tyt},Ayt=ds+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Lyt=Tt({opSnippet:Ayt}),_yt={kernelName:Ud,backendName:"webgl",kernelFunc:Lyt},bb=class{constructor(e,t,n,r=!1,a=!1){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");let i=e.filterWidth,s=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,f=e.effectiveFilterWidth,d=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;let h=t==="avg",m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`,y="0.0";if(h||(y="-1.0 / 1e-20"),n){let I=">=";this.userCode=`
        const ivec2 strides = ivec2(${s}, ${o});
        const ivec2 pads = ivec2(${d}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${c};
              wR += ${l}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${f};
                wC += ${u}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${I} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${r?a?m:g:`wR * ${f} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let v="max",b=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;t==="avg"&&(b="avgValue / max(count, 1.0)");let x=Math.floor(i/4)*4,S=i%4,k=`
      if (${h}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${v}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${s}, ${o});
      const ivec2 pads = ivec2(${d}, ${p});
      const float initializationValue = ${y};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${y});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${c};
            wR += ${l}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${x}; wC += 4) {
            int xC = xCCorner + wC * ${u};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              getValue(batch, xR, xC + 3 * ${u}, d)
            );

            ${k}
          }

          int xC = xCCorner + ${x};
          if (${S===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${k}
          } else if (${S===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              initializationValue,
              initializationValue
            );

            ${k}
          } else if (${S===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              initializationValue
            );

            ${k}
          }
        }
        setOutput(${b});
      }
    `}},k6=class{constructor(e,t,n,r=!1,a=!1){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");let i=e.filterWidth,s=e.strideDepth,o=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,f=e.dilationWidth,d=e.effectiveFilterDepth,p=e.effectiveFilterHeight,h=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;let v=t==="avg",b="0.0";if(v||(b="-1.0 / 1e-20"),n){let T=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${s}, ${o}, ${l});
        const ivec3 pads = ivec3(${m}, ${g}, ${y});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${d};
              wD += ${u}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${c}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${h};
                  wC += ${f}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${T} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${r?a?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${h} +
                      wR * ${h} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let x="max",S=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;t==="avg"&&(S="avgValue / max(count, 1.0)");let k=Math.floor(i/4)*4,I=i%4,N=`
      if (${v}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${x}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${s}, ${o}, ${l});
      const ivec3 pads = ivec3(${m}, ${g}, ${y});
      const float initializationValue = ${b};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${b});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${u}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${c}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${k}; wC += 4) {
              int xC = xCCorner + wC * ${f};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                getValue(batch, xD, xR, xC + 3 * ${f}, ch)
              );

              ${N}
            }

            int xC = xCCorner + ${k};
            if (${I===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${N}
            } else if (${I===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                initializationValue,
                initializationValue
              );

              ${N}
            } else if (${I===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                initializationValue
              );

              ${N}
            }
          }
        }
        setOutput(${S});
      }
    `}};function jyt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t;g1(a,"avgPool");let{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r,u=1;A.assert(R.eitherStridesOrDilationsAreOne(s,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);let c=R.computePool2DInfo(a.shape,i,s,u,o,l);if(c.filterWidth===1&&c.filterHeight===1&&A.arraysEqual(c.inShape,c.outShape))return ti({inputs:{x:a},backend:n});let f=new bb(c,"avg",!1);return n.runWebGLProgram(f,[a],"float32")}var $yt={kernelName:Vd,backendName:"webgl",kernelFunc:jyt};function Dyt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:u}=r,c=[1,1,1],f=R.computePool3DInfo(a.shape,i,s,c,o,l,u),d=new k6(f,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}var Oyt={kernelName:o0,backendName:"webgl",kernelFunc:Dyt},Ryt=class{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;let t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=o-1-e.padInfo.top,c=l-1-e.padInfo.left,f=1/(t*n);this.userCode=`
      const ivec2 pads = ivec2(${u}, ${c});
      const float avgMultiplier = float(${f});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${o};
            wR += ${i}) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${l};
            wC+= ${s}) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}},Pyt=class{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;let t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=c-1-e.padInfo.front,h=f-1-e.padInfo.top,m=d-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${h}, ${m});
      const float avgMultiplier = float(${g});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${c};
            wD += ${o}) {
          float dyD = float(dyDCorner + wD) / ${a}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${f};
              wR += ${l}) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${d};
                wC += ${u}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function Fyt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=R.computePool3DInfo(s.shape,o,l,f,u,c),p=new Pyt(d);return n.runWebGLProgram(p,[a],s.dtype)}var zyt={kernelName:ew,backendName:"webgl",kernelFunc:Fyt};function Byt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i;g1([a,i],"avgPoolGrad");let{filterSize:o,strides:l,pad:u}=r,c=R.computePool2DInfo(s.shape,o,l,1,u),f=new Ryt(c);return n.runWebGLProgram(f,[a],s.dtype)}var Uyt={kernelName:Xb,backendName:"webgl",kernelFunc:Byt};function Wyt(e){let{inputs:t,backend:n,attrs:r}=e,{a,b:i}=t,{transposeA:s,transposeB:o}=r;return wC({a,b:i,transposeA:s,transposeB:o,backend:n})}var Vyt={kernelName:Gd,backendName:"webgl",kernelFunc:Wyt},Gyt=class{constructor(e,t,n,r,a,i){this.outputShape=[],this.variableNames=["x","mean","variance"],R.assertAndGetBroadcastShape(e,t),R.assertAndGetBroadcastShape(e,n);let s="0.0";r!=null&&(R.assertAndGetBroadcastShape(e,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let o="1.0";a!=null&&(R.assertAndGetBroadcastShape(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${s};
        float scale = ${o};
        float inv = scale * inversesqrt(variance + float(${i}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}},Hyt=class{constructor(e,t,n,r,a,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],R.assertAndGetBroadcastShape(e,t),R.assertAndGetBroadcastShape(e,n);let s="vec4(0.0)";r!=null&&(R.assertAndGetBroadcastShape(e,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let o="vec4(1.0)";a!=null&&(R.assertAndGetBroadcastShape(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${s};
        vec4 scale = ${o};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${i}));

        setOutput((x - mean) * inv + offset);
      }
    `}},qyt=({inputs:e,backend:t,attrs:n})=>{let{x:r,mean:a,variance:i,offset:s,scale:o}=e;A.assert(a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),A.assert(s==null||a.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),A.assert(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);let u=[r,a,i],c=null;s!=null&&(c=s.shape,u.push(s));let f=null;o!=null&&(f=o.shape,u.push(o));let d=ne().getBool("WEBGL_PACK_NORMALIZATION")?new Hyt(r.shape,a.shape,i.shape,c,f,l):new Gyt(r.shape,a.shape,i.shape,c,f,l);return t.runWebGLProgram(d,u,u[0].dtype)},Yyt={kernelName:up,backendName:"webgl",kernelFunc:qyt},Qyt=class{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;let t=Kt(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let n=Kyt(this.rank),r,a=e.map((i,s)=>`sourceLoc.${XL[s]} = start[${s}] + coords.${XL[s]};`);r=`
        ${t} sourceLoc;
        ${t} coords = getOutputCoords();
        ${a.join(`
`)}
      `,this.userCode=`
      void main() {
        ${r}
        setOutput(getSource(${n}));
      }
    `}},XL=["x","y","z","w","u","v"];function Kyt(e){if(e===1)return"sourceLoc";if(e<=6)return XL.slice(0,e).map(t=>"sourceLoc."+t).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}var Jyt=class{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let t=Kt(this.rank),n=aa("coords",this.rank),r=aa("sourceLoc",this.rank),a=this.rank===1?"sourceLoc":`vec2(${r.slice(-2).join()})`,i=`getChannel(getSource(${r.join()}), ${a})`,s=`
      result.x = ${i};
      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {
        ++${r[this.rank-1]};
        result.y = ${i};
        --${r[this.rank-1]};
      }
    `,o=this.rank===1?"":`
      --${n[this.rank-1]};
      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {
        ++${r[this.rank-2]};
        result.z = ${i};
        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {
          ++${r[this.rank-1]};
          result.w = ${i};
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            ${t}(${e.map((u,c)=>`start[${c}]`).join()});`:e.map((u,c)=>`${r[c]} = ${n[c]} + start[${c}];`).join(`
`);this.userCode=`
      void main() {
        ${t} coords = getOutputCoords();
        ${t} sourceLoc;
        ${l}
        vec4 result = vec4(0.);
        ${s}
        ${o}
        setOutput(result);
      }
    `}};function Zyt(e,t,n,r){let a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),s=r.texData.get(i.dataId);Object.assign(s,a),s.refCount=1,s.shape=n,s.dtype=e.dtype;let o=sr.computeFlatOffset(t,A.computeStrides(e.shape));a.slice&&(o+=a.slice.flatOffset),s.slice={flatOffset:o,origDataId:a.slice&&a.slice.origDataId||e.dataId};let l=r.dataRefCount.get(s.slice.origDataId)||1;return r.dataRefCount.set(s.slice.origDataId,l+1),i}function k1(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:s}=r,[o,l]=sr.parseSliceParams(a,i,s);if(sr.assertParamsValid(a,o,l),A.sizeFromShape(l)===0)return n.makeTensorInfo(l,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||a.dtype==="string"){let f=n.texData.get(a.dataId),d=U0t(f.values,o,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,d)}let{isPacked:u}=n.texData.get(a.dataId),c=sr.isSliceContinous(a.shape,o,l);if(u||!c){let f=ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Jyt(l):new Qyt(l),d=[o];return n.runWebGLProgram(f,[a],a.dtype,d)}return n.uploadToGPU(a.dataId),Zyt(a,o,l,n)}var Xyt={kernelName:q0,backendName:"webgl",kernelFunc:k1},evt=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:s}=r;A.assert(a.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");let o=i.reduce((v,b)=>v*b),l=R.getReshaped(a.shape,i,o),u=R.getPermuted(l.length,i.length),c=R.getReshapedPermuted(a.shape,i,o),f=R.getSliceBeginCoords(s,i.length),d=R.getSliceSize(c,s,i.length),p=[],h=Ce({inputs:{x:a},backend:n,attrs:{shape:l}}),m=la({inputs:{x:h},backend:n,attrs:{perm:u}}),g=Ce({inputs:{x:m},backend:n,attrs:{shape:c}}),y=k1({inputs:{x:g},backend:n,attrs:{begin:f,size:d}});return p.push(h),p.push(m),p.push(g),p.forEach(v=>n.disposeIntermediateTensorInfo(v)),y},tvt={kernelName:l0,backendName:"webgl",kernelFunc:evt};function nvt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s}=r,o=n.readSync(a.dataId),l=n.readSync(i.dataId),u=ole(o,l,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,u)}var rvt={kernelName:u0,backendName:"webgl",kernelFunc:nvt},avt=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,ivt=`
  return float(int(a.r) & int(b.r));
`;function svt(e){let{inputs:t,backend:n}=e,{a:r,b:a}=t,i=ne().getBool("WEBGL_PACK_BINARY_OPERATIONS"),s=ne().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,a])||s===1){let l=n.texData.get(r.dataId).values,u=n.texData.get(a.dataId).values,[c,f]=d0t(r.shape,a.shape,l,u,r.dtype),d=n.makeTensorInfo(f,r.dtype),p=n.texData.get(d.dataId);return p.values=c,d}let o;return i?o=new x1(avt,r.shape,a.shape,!1):o=new yd(ivt,r.shape,a.shape),n.runWebGLProgram(o,[r,a],r.dtype)}var ovt={kernelName:c0,backendName:"webgl",kernelFunc:svt};function lvt(e){let{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.readSync(r.dataId),s=n.readSync(a.dataId),o=R.assertAndGetBroadcastShape(Array.from(i),Array.from(s));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}var uvt={kernelName:tw,backendName:"webgl",kernelFunc:lvt},cvt="return float(a != b);",kle=Or({opSnippet:cvt,cpuKernelImpl:j0t,dtype:"bool"}),fvt={kernelName:$0,backendName:"webgl",kernelFunc:kle};function Jw(e){let{inputs:t,backend:n}=e,{input:r}=t,a=n.texData.get(r.dataId);return ti({inputs:{x:a.complexTensorInfos.real},backend:n})}var dvt={kernelName:$N,backendName:"webgl",kernelFunc:Jw},pvt="return float(int(x));";function hvt(e,t){let n=new vo(e.shape,pvt),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}function e_(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:i}=r;if(i==="complex64"){if(a.dtype==="complex64")return ti({inputs:{x:a},backend:n});let s=In(a.shape),o=e_({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),l=Uc({inputs:{real:o,imag:s},backend:n});return s.dispose(),n.disposeIntermediateTensorInfo(o),l}if(a.dtype==="complex64"){let s=Jw({inputs:{input:a},backend:n}),o=e_({inputs:{x:s},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(s),o}if(!A.hasEncodingLoss(a.dtype,i)){let s=ti({inputs:{x:a},backend:n});return{dataId:s.dataId,shape:s.shape,dtype:i}}if(n.shouldExecuteOnCPU([a])){let s=n.texData.get(a.dataId).values,[o,l,u]=p0t(s,a.shape,a.dtype,i);return n.makeTensorInfo(o,l,u)}if(i==="int32")return hvt(a,n);if(i==="bool"){let s=n.makeTensorInfo([],"bool",A.getTypedArrayFromDType("bool",1)),o=kle({inputs:{a,b:s},backend:n});return n.disposeIntermediateTensorInfo(s),o}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${i}`)}var mvt={kernelName:Hd,backendName:"webgl",kernelFunc:e_},pV="return ceil(x);",gvt=Tt({opSnippet:pV,packedOpSnippet:pV,cpuKernelImpl:h0t}),yvt={kernelName:qd,backendName:"webgl",kernelFunc:gvt},vvt=class{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}},bvt=class{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}};function wvt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:i,clipValueMax:s}=r,o;ne().getBool("WEBGL_PACK_CLIP")?o=new bvt(a.shape):o=new vvt(a.shape);let l=[[i],[s]];return n.runWebGLProgram(o,[a],a.dtype,l)}var xvt={kernelName:jc,backendName:"webgl",kernelFunc:wvt},Svt=class{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}};function hV(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}function kvt(e){let{inputs:t,backend:n}=e,{x:r}=t,a=n.texData.get(r.dataId),i=new Svt(r.shape),s=[hV(r,a.complexTensorInfos.real),hV(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,s,s[0].dtype)}var Cvt={kernelName:nw,backendName:"webgl",kernelFunc:kvt},Ivt=class{constructor(e){this.outputShape=[],this.outputShape=R.computeOutShape(e,1),this.variableNames=e.map((i,s)=>`T${s}`);let t=new Array(e.length-1);t[0]=e[0][1];for(let i=1;i<t.length;i++)t[i]=t[i-1]+e[i][1];let n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<t.length;i++){let s=t[i-1];n.push(`else if (yC < ${t[i]}) setOutput(getT${i}(yR, yC-${s}));`)}let r=t.length,a=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${a}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${n.join(`
        `)}
      }
    `}},Nvt=class{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=R.computeOutShape(e,t);let n=this.outputShape,r=n.length,a=Kt(r),i=aa("coords",r),s=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((h,m)=>`T${m}`);let o=new Array(e.length-1);o[0]=e[0][t];for(let h=1;h<o.length;h++)o[h]=o[h-1]+e[h][t];let l=s[t],u=s.slice(-2),c=s.join(),f=`if (${l} < ${o[0]}) {
        return getChannel(
            getT0(${c}), vec2(${u.join()}));
        }`;for(let h=1;h<o.length;h++){let m=o[h-1];f+=`
        if (${l} < ${o[h]}  && ${l} >= ${o[h-1]}) {
          return getChannel(
            getT${h}(${v2(s,l,m)}),
            vec2(${v2(u,l,m)}));
        }`}let d=o.length,p=o[o.length-1];f+=`
        return getChannel(
          getT${d}(${v2(s,l,p)}),
          vec2(${v2(u,l,p)}));`,this.userCode=`
      float getValue(${s.map(h=>"int "+h)}) {
        ${f}
      }

      void main() {
        ${a} coords = getOutputCoords();
        vec4 result = vec4(getValue(${i}), 0., 0., 0.);

        ${i[r-1]} = ${i[r-1]} + 1;
        if (${i[r-1]} < ${n[r-1]}) {
          result.g = getValue(${i});
        }

        ${i[r-2]} = ${i[r-2]} + 1;
        if (${i[r-2]} < ${n[r-2]}) {
          result.a = getValue(${i});
        }

        ${i[r-1]} = ${i[r-1]} - 1;
        if (${i[r-2]} < ${n[r-2]} &&
            ${i[r-1]} < ${n[r-1]}) {
          result.b = getValue(${i});
        }
        setOutput(result);
      }
    `}};function v2(e,t,n){let r=e.indexOf(t);return e.map((a,i)=>i===r?`${a} - ${n}`:a).join()}function VM(e){let{inputs:t,backend:n}=e,{input:r}=t,a=n.texData.get(r.dataId);return ti({inputs:{x:a.complexTensorInfos.imag},backend:n})}var Mvt={kernelName:AN,backendName:"webgl",kernelFunc:VM};function by(e,t,n){let r=e[0].dtype;if(r==="complex64"){let p=e.map(v=>Jw({inputs:{input:v},backend:n})),h=e.map(v=>VM({inputs:{input:v},backend:n})),m=by(p,t,n),g=by(h,t,n),y=Uc({inputs:{real:m,imag:g},backend:n});return p.forEach(v=>n.disposeIntermediateTensorInfo(v)),h.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),y}let a=n.shouldExecuteOnCPU(e);if(r==="string"&&(a=!0),a){let p=e.map(x=>{let S=[-1,A.sizeFromShape(x.shape.slice(t))];return Ce({inputs:{x},backend:n,attrs:{shape:S}})}),h=p.map(x=>({vals:n.readSync(x.dataId),shape:x.shape})),m=R.computeOutShape(p.map(x=>x.shape),1),g=p[0].shape[0]===1,y=m0t(h,m,r,g),v=R.computeOutShape(e.map(x=>x.shape),t),b=n.makeTensorInfo(v,r,y);return p.forEach(x=>n.disposeIntermediateTensorInfo(x)),b}let i=e.filter(p=>A.sizeFromShape(p.shape)>0),s=ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(i.length===1){let p=s?new vo(e[0].shape,cu):new Du(e[0].shape,cu);return n.runWebGLProgram(p,e,r)}let o=ne().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>o){let p=[];for(let m=0;m<i.length;m+=o){let g=i.slice(m,m+o);p.push(by(g,t,n))}let h=by(p,t,n);for(let m of p)n.disposeIntermediateTensorInfo(m);return h}if(s){let p=new Nvt(i.map(h=>h.shape),t);return n.runWebGLProgram(p,i,r)}let{tensors2D:l,outShape:u}=Tvt(i,t,n),c=new Ivt(l.map(p=>p.shape)),f=n.runWebGLProgram(c,l,r);l.forEach(p=>n.disposeIntermediateTensorInfo(p));let d=Ce({inputs:{x:f},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(f),d}function Tvt(e,t,n){let r=R.computeOutShape(e.map(a=>a.shape),t);return{tensors2D:e.map(a=>Ce({inputs:{x:a},attrs:{shape:[-1,A.sizeFromShape(a.shape.slice(t))]},backend:n})),outShape:r}}function Cle(e){let{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=A.parseAxisParam(a,t[0].shape)[0],s=t.map(u=>u.shape);R.assertParamsConsistent(s,i);let o=R.computeOutShape(t.map(u=>u.shape),i);if(A.sizeFromShape(o)===0)return n.makeTensorInfo(o,t[0].dtype,[]);let l=t.filter(u=>A.sizeFromShape(u.shape)>0);return l.length===1?ti({inputs:{x:l[0]},backend:n}):by(l,i,n)}var Evt={kernelName:f0,backendName:"webgl",kernelFunc:Cle},Ile=class{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;let i=e.padInfo.top,s=e.padInfo.left,o=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,f=e.filterHeight,d=e.filterWidth,p=Math.floor(e.inChannels/4)*4,h=e.inChannels%4,m=e.dataFormat==="channelsLast",g=m?1:2,y=m?2:3,v=m?3:1,b="",x="";n&&(r?b=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${n}
        }`:a?b=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${n}
        }`:b=`
          float activation(float x) {
            ${n}
          }
        `,x="result = activation(result);");let S=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${b}

      const ivec2 strides = ivec2(${o}, ${l});
      const ivec2 pads = ivec2(${i}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${v}];

        ivec2 xRCCorner =
            ivec2(coords[${g}], coords[${y}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${f}; wR++) {
          int xR = xRCorner + wR * ${u};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${d}; wC++) {
            int xC = xCCorner + wC * ${c};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${m}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${h===1}) {

              if (${m}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${h===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${m}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${h===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${m}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${S}
        ${x}
        setOutput(result);
      }
    `}},Avt=class{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;let t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,f=e.filterHeight,d=e.filterWidth,p=Math.floor(e.inChannels/4)*4,h=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${a}, ${i}, ${s});
      const ivec3 pads = ivec3(${t}, ${n}, ${r});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${c}; wF++) {
          int xF = xFCorner + wF * ${o};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${f}; wR++) {
            int xR = xRCorner + wR * ${l};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d}; wC++) {
              int xC = xCCorner + wC * ${u};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${h===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${h===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${h===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}},Nle=class{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=qr(this.outputShape.length);let i=e.padInfo.left,s=e.strideWidth,o=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,c=u,f=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let m=0;m<u;m++)f+=`
           vec4 xTexelC${m*2};
           int xTexelC${m*2}Ready;
           vec4 xTexelC${m*2+1};
           int xTexelC${m*2+1}Ready;
           vec4 xC${m};`;f+=`
     for (int r = 0; r < ${l}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let m=0;m<u;m++)f+=`
           xTexelC${m*2} = vec4(0.0);
           xTexelC${m*2}Ready = 0;
           xTexelC${m*2+1} = vec4(0.0);
           xTexelC${m*2+1}Ready = 0;
           xC${m} = vec4(0.0);`;f+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let m=0;m<(c+1)/2;m++){let g=m*2;if(f+=`
           xC = xCCorner + ${g*o};
           `,s===1){if(g<u&&(i%2===1?(f+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }
               `,o===1&&g>0?f+=`
                 xC${g} = vec4(xTexelC${g-2}.zw, xTexelC${g}.xy);
                 `:f+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${g} = vec4(previous.zw, xTexelC${g}.xy);
                   } else {
                     xC${g} = vec4(0.0, 0.0, xTexelC${g}.xy);
                   }
                   `):f+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xC${g} = xTexelC${g};
                 `,g+1<u)){let y=i%2===0?A.nearestLargerEven(o):o;o%2===0&&i%2===1||o%2!==0&&i%2!==1?(f+=`
                   xCOffset = xC + imod(pads[1], 2) + ${y};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                     xTexelC${g+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${g+1}.zw = vec2(0.0);
                     }
                     xTexelC${g+1}Ready = 1;
                   }
                   `,o>1?f+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${g+1} = vec4(previous.zw, xTexelC${g+1}.xy);
                     } else {
                      xC${g+1} = vec4(0.0, 0.0, xTexelC${g+1}.xy);
                     }
                     `:f+=`
                     xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.xy);
                     `):y===1?f+=`
                     xC${g+1} = xTexelC${g};
                     `:f+=`
                     xCOffset = xC + ${y};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                       xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${g+1}.zw = vec2(0.0);
                       }
                       xTexelC${g+1}Ready = 1;
                     }

                     xC${g+1} = xTexelC${g+1};
                     `}}else g<u&&(i%2===1?(f+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.0);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
               `,g+1<u&&(f+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${g+1} = vec4(xTexelC${g+1}.xy, final.xy);
                 `)):(f+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(
                   xTexelC${g}.xy, xTexelC${g+1}.xy);
               `,g+1<u&&(f+=`
                   xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
                 `)));g<u&&(f+=`
             wTexel = getW(r, ${g}, d1, d2);
             dotProd += xC${g}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${g}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,g+1<u&&(f+=`
               wTexel = getW(r, ${g+1}, d1, d2);
               dotProd += xC${g+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${g+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}f+=`
     }
   `,f+=`
     }
   `,f+=`
     }
   `;let d="",p="";n&&(r?d=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${n}
         }`:a?d=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${n}
         }`:d=`vec4 activation(vec4 x) {
           ${n}
         }`,p="result = activation(result);");let h=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${d}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${f}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${h}
         ${p}
         setOutput(result);
       }
     `}},Lvt=class{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=qr(this.outputShape.length);let{dataFormat:n}=t,r=pa(),a=n==="channelsLast",i=a?1:2,s=a?2:3,o=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`,l="";for(let u=0;u<=1;u++)for(let c=0;c<=1;c++)l+=`
          blockIndex = rc.z + ${c};
          pos = rc.y + ${u};

          ${o}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${i}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${s}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${a}) {
                  innerDims = vec2(d1, ch);
                  result[${u*2+c}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${u*2+c}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${l}

        ${r.output} = result;
      }
    `}};function xC(e,t){let n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&n===1&&e[0]>1?[e[0],1]:null}function Mle({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:o=null}){let l=e.shape,u=r.texData.get(e.dataId),c=n.inChannels,f=l[0]*l[1]*l[2],d=n.outChannels,p=n.dataFormat==="channelsLast",h=!1,m=!1,g,y=[];if(i!=null){let v=xC(i.shape,p);v!=null&&(i=Ce({inputs:{x:i},backend:r,attrs:{shape:v}}),y.push(i))}if(a!=null){let v=xC(a.shape,p);v!=null&&(a=Ce({inputs:{x:a},backend:r,attrs:{shape:v}}),y.push(a))}if(!((f===1||d===1)&&c>ble)&&u.isPacked&&p&&u.texture!=null&&l[2]%2!==0&&A.arraysEqual(u.shape.slice(-3),l.slice(-3))){let v=l[0]*l[1]*(l[2]+1),b={dataId:e.dataId,shape:[1,v,n.inChannels],dtype:e.dtype},x=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,A.assert(yb(u.shape,b.shape),()=>`packed reshape ${u.shape} to ${b.shape} isn't free`);let S=Ce({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});y.push(S);let k=wC({a:b,b:S,backend:r,transposeA:h,transposeB:m,bias:a,activation:o,preluActivationWeights:i,leakyreluAlpha:s}),I=r.texData.get(k.dataId);A.assert(I.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=x,I.shape=n.outShape,g=ti({inputs:{x:k},backend:r}),g.shape=n.outShape,y.push(k)}else{let v=n.outHeight*n.outWidth,b=Ce({inputs:{x:e},backend:r,attrs:{shape:p?[n.batchSize,v,n.inChannels]:[n.batchSize,n.inChannels,v]}}),x=Ce({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),S=wC({a:p?b:x,b:p?x:b,transposeA:!p,transposeB:m,backend:r,bias:a,activation:o,preluActivationWeights:i,leakyreluAlpha:s});g=Ce({inputs:{x:S},backend:r,attrs:{shape:n.outShape}}),y.push(b),y.push(x),y.push(S)}for(let v of y)r.disposeIntermediateTensorInfo(v);return g}function Tle({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:o=null}){let{filterWidth:l,filterHeight:u,inChannels:c,outWidth:f,outHeight:d,dataFormat:p}=n,h=p==="channelsLast",m=l*u*c,g=d*f,y=[n.batchSize,m,g],v=!0,b=!1,x=[];if(i!=null){let O=xC(i.shape,h);O!=null&&(i=Ce({inputs:{x:i},backend:r,attrs:{shape:O}}),x.push(i))}if(a!=null){let O=xC(a.shape,h);O!=null&&(a=Ce({inputs:{x:a},backend:r,attrs:{shape:O}}),x.push(a))}let S=Ce({inputs:{x:t},backend:r,attrs:{shape:[1,m,A.sizeFromShape(t.shape)/m]}});x.push(S);let k=new Lvt(y,n),I=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],N=r.runWebGLProgram(k,[e],"float32",I),T=Ce({inputs:{x:N},backend:r,attrs:{shape:y}});x.push(N),x.push(T);let L=a!=null,E=i!=null,M=o==="leakyrelu",j=o?vb(o,!0):null,D=new vle(h?T.shape:S.shape,h?S.shape:T.shape,h?[n.batchSize,g,n.outChannels]:[n.batchSize,n.outChannels,g],v,b,L,j,E,M),F=h?[T,S]:[S,T];if(a&&F.push(a),E&&F.push(i),M){let O=r.makeTensorInfo([],"float32",A.createScalarValue(s,"float32"));F.push(O),x.push(O)}let $=r.runWebGLProgram(D,F,"float32"),B=Ce({inputs:{x:$},backend:r,attrs:{shape:n.outShape}});x.push($);for(let O of x)r.disposeIntermediateTensorInfo(O);return B}function _vt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dataFormat:l,dilations:u,dimRoundingMode:c}=r,f=R.convertConv2DDataFormat(l),d=R.computeConv2DInfo(a.shape,i.shape,s,u,o,c,!1,f),p;if(d.filterHeight===1&&d.filterWidth===1&&d.dilationHeight===1&&d.dilationWidth===1&&d.strideHeight===1&&d.strideWidth===1&&(d.padInfo.type==="SAME"||d.padInfo.type==="VALID"))p=Mle({x:a,filter:i,convInfo:d,backend:n});else if(d.strideWidth<=2&&f==="channelsLast"&&ne().getBool("WEBGL_EXP_CONV")){let m=new Nle(d),g=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];p=n.runWebGLProgram(m,[a,i],"float32",g)}else if(ne().getBool("WEBGL_CONV_IM2COL"))p=Tle({x:a,filter:i,convInfo:d,backend:n});else{let m=new Ile(d);p=n.runWebGLProgram(m,[a,i],"float32")}let h=Ce({inputs:{x:p},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(p),h}var jvt={kernelName:Yd,backendName:"webgl",kernelFunc:_vt},$vt=class{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${n} - ${a};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${i?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}},Dvt=class{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dataFormat==="channelsLast",s=t-1-e.padInfo.top,o=n-1-e.padInfo.left,l=i?1:2,u=i?2:3,c=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${c}];

        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${n}; wC++) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${n} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${i}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}},Ovt=class{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,i=e.padInfo.top,s=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${t} - ${a};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${n} - ${i};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${r} - ${s};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}},Rvt=class{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${o}, ${l}, ${u});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${t}; wF++) {
          float dyF = float(dyFCorner + wF) / ${a}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${t} - 1 - wF;

          for (int wR = 0; wR < ${n}; wR++) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${n} - 1 - wR;

            for (int wC = 0; wC < ${r}; wC++) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${r} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function Pvt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,f=R.convertConv2DDataFormat(l),d=R.computeConv2DInfo(a.shape,c,s,1,o,u,!1,f),p=new $vt(d);return n.runWebGLProgram(p,[a,i],"float32")}var Fvt={kernelName:kN,backendName:"webgl",kernelFunc:Pvt},zvt=class{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=qr(this.outputShape.length);let t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,a=n-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${r}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${n}; wC++) {
            int wCPerm = ${n} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}};function Bvt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:s,strides:o,pad:l,dataFormat:u,dimRoundingMode:c}=r,f=R.convertConv2DDataFormat(u),d=R.computeConv2DInfo(s,i.shape,o,1,l,c,!1,f);if(ne().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&f==="channelsLast"){let p=[[d.strideHeight,d.strideWidth]],h=new zvt(d);return n.runWebGLProgram(h,[a,i],"float32",p)}else{let p=new Dvt(d);return n.runWebGLProgram(p,[a,i],"float32")}}var Uvt={kernelName:Qd,backendName:"webgl",kernelFunc:Bvt};function Wvt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r,u=R.computeConv3DInfo(a.shape,i.shape,s,l,o),c=new Avt(u);return n.runWebGLProgram(c,[a,i],"float32")}var Vvt={kernelName:Kd,backendName:"webgl",kernelFunc:Wvt};function Gvt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,filterShape:l}=r,u=R.computeConv3DInfo(a.shape,l,s,1,o),c=new Ovt(u);return n.runWebGLProgram(c,[a,i],"float32")}var Hvt={kernelName:d0,backendName:"webgl",kernelFunc:Gvt};function qvt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:s,strides:o,inputShape:l}=r,u=R.computeConv3DInfo(l,i.shape,o,1,s),c=new Rvt(u);return n.runWebGLProgram(c,[a,i],"float32")}var Yvt={kernelName:p0,backendName:"webgl",kernelFunc:qvt},Qvt=S1+`
  return cos(x);
`,Kvt=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${uh}
  return result;
`,Jvt=Tt({opSnippet:Qvt,packedOpSnippet:Kvt}),Zvt={kernelName:Jd,backendName:"webgl",kernelFunc:Jvt},Xvt=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,ebt=Tt({opSnippet:Xvt}),tbt={kernelName:Zd,backendName:"webgl",kernelFunc:ebt},nbt=class{constructor(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];let[i,s,o,l]=e,[u]=t,[c,f]=n;this.outputShape=[u,c,f,l];let d=r==="bilinear"?1:0,[p,h]=[`${s-1}.0`,`${o-1}.0`],[m,g,y]=c>1?[`${(s-1)/(c-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[v,b,x]=f>1?[`${(o-1)/(f-1)}`,"(x2-x1) * width_ratio",`x1*${h} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${h}`];this.userCode=`
      const float height_ratio = float(${m});
      const float width_ratio = float(${v});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${i}) {
          return;
        }

        float height_scale = ${g};
        float width_scale = ${b};

        float in_y = ${y};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${a}));
          return;
        }
        float in_x = ${x};
        if( in_x < 0.0 || in_x > ${h} ) {
          setOutput(float(${a}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${d} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}},rbt=e=>{let{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:s}=t,{cropSize:o,method:l,extrapolationValue:u}=r,c=new nbt(a.shape,i.shape,o,l,u);return n.runWebGLProgram(c,[a,i,s],"float32")},abt={kernelName:m0,backendName:"webgl",kernelFunc:rbt},wb;(function(e){e.Prod="*",e.Sum="+"})(wb||(wb={}));var mV=class{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];let a=this.outputShape.length,i=this.op===wb.Prod?"1.0":"0.0",s=n?i:`getX(${gV(a,"coords",this.op)})`,o=this.outputShape[this.outputShape.length-1],l="",u="";n?(l=r?`end != ${o-1}`:"end != 0",u=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${o}`:"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Kt(a)} coords = getOutputCoords();
        int end = ${yV(a,"coords",this.op)};
        float val = ${s};
        int pow2 = int(pow(2.0, index));
        if (${l}) {
          int idx = ${u};
          ${yV(a,"coords",this.op)} = idx;
          val ${this.op}= getX(${gV(a,"coords",this.op)});
        }
        setOutput(val);
      }
    `}};function gV(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.x, ${t}.y`;if(e===3)return`${t}.x, ${t}.y, ${t}.z`;if(e===4)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function yV(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.y`;if(e===3)return`${t}.z`;if(e===4)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function Ele(e,t,n,r,a,i){let s=t.shape.length,o=R.getAxesPermutation([r],s),l=t;o!=null&&(l=la({inputs:{x:t},backend:n,attrs:{perm:o}}));let u=R.getInnerMostAxes(1,s)[0];if(u!==s-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);let c=l.shape[u],f=ti({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(c))-1;d++){let p=new mV(e,l.shape,!1,i),h=[[d]],m=f;f=n.runWebGLProgram(p,[f],f.dtype,h),n.disposeIntermediateTensorInfo(m)}if(a){let d=new mV(e,l.shape,a,i),p=f;f=n.runWebGLProgram(d,[f],f.dtype),n.disposeIntermediateTensorInfo(p)}if(o!=null){let d=R.getUndoAxesPermutation(o),p=la({inputs:{x:f},backend:n,attrs:{perm:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),p}return f}function ibt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;return Ele(wb.Prod,a,n,i,s,o)}var sbt={kernelName:h0,backendName:"webgl",kernelFunc:ibt};function obt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;return Ele(wb.Sum,a,n,i,s,o)}var lbt={kernelName:Xd,backendName:"webgl",kernelFunc:obt};function ubt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s,binaryOutput:o}=r;if(a.shape.length===1){let l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=ole(l,u,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,c)}else if(a.shape.length===2){let l=n.bufferSync(a),u=n.bufferSync(i),c=f0t(l,u,s,o);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}var cbt={kernelName:rw,backendName:"webgl",kernelFunc:ubt},fbt=class{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${t};
      int offset_h = imod(h, ${t});
      int in_w = w / ${t};
      int offset_w = imod(w, ${t});
      int offset_d = (offset_h * ${t} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}};function dbt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:s}=r,o=a.shape[0],l=s==="NHWC"?a.shape[1]:a.shape[2],u=s==="NHWC"?a.shape[2]:a.shape[3],c=s==="NHWC"?a.shape[3]:a.shape[1],f=l*i,d=u*i,p=c/(i*i),h=s==="NHWC"?[o,f,d,p]:[o,p,f,d],m=new fbt(h,i,s);return n.runWebGLProgram(m,[a],a.dtype)}var pbt={kernelName:g0,backendName:"webgl",kernelFunc:dbt},Ale=class{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=qr(this.outputShape.length);let i=e.filterHeight,s=e.filterWidth,o=e.outChannels/e.inChannels,l="",u="";n&&(r?l=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${n}
        }`:a?l=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${n}
        }`:l=`
          float activation(float x) {
            ${n}
          }
        `,u="result = activation(result);");let c=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${l}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${i}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${s}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${c}
        ${u}
        setOutput(result);
      }
    `}},Lle=class{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=qr(this.outputShape.length);let i=e.outChannels/e.inChannels,s=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,f=c,d=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let g=0;g<c;g++)d+=`
          vec4 xTexelC${g*2};
          int xTexelC${g*2}Ready;
          vec4 xTexelC${g*2+1};
          int xTexelC${g*2+1}Ready;
          vec4 xC${g};`;d+=`
    for (int r = 0; r < ${u}; r++) {
      `;for(let g=0;g<c;g++)d+=`
          xTexelC${g*2} = vec4(0.0);
          xTexelC${g*2}Ready = 0;
          xTexelC${g*2+1} = vec4(0.0);
          xTexelC${g*2+1}Ready = 0;
          xC${g} = vec4(0.0);`;d+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let g=0;g<(f+1)/2;g++){let y=g*2;if(d+=`
          xC = xCCorner + ${y*l};
          `,o===1){if(y<c&&(s%2===1?(d+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }
              `,l===1&&y>0?d+=`
                xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);
                `:d+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${y} = vec4(previous.zw, xTexelC${y}.xy);
                  } else {
                    xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);
                  }
                  `):d+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xC${y} = xTexelC${y};
                `,y+1<c)){let v=s%2===0?A.nearestLargerEven(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(d+=`
                  xCOffset = xC + imod(pads[1], 2) + ${v};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                    xTexelC${y+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${y+1}.zw = vec2(0.0);
                    }
                    xTexelC${y+1}Ready = 1;
                  }
                  `,l>1?d+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);
                    } else {
                     xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);
                    }
                    `:d+=`
                    xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);
                    `):v===1?d+=`
                    xC${y+1} = xTexelC${y};
                    `:d+=`
                    xCOffset = xC + ${v};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                      xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${y+1}.zw = vec2(0.0);
                      }
                      xTexelC${y+1}Ready = 1;
                    }

                    xC${y+1} = xTexelC${y+1};
                    `}}else y<c&&(s%2===1?(d+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.0);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
              `,y+1<c&&(d+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);
                `)):(d+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(
                  xTexelC${y}.xy, xTexelC${y+1}.xy);
              `,y+1<c&&(d+=`
                  xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
                `)));y<c&&(d+=`
            wTexel = getW(r, ${y}, d1, q);
            dotProd += xC${y} * vec4(wTexel.xz, wTexel.xz);
          `,y+1<c&&(d+=`
              wTexel = getW(r, ${y+1}, d1, q);
              dotProd += xC${y+1} * vec4(wTexel.xz, wTexel.xz);
            `))}d+=`
    }
  `,d+=`
      }
    `;let p="",h="";n&&(r?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${n}
        }`:a?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${n}
        }`:p=`vec4 activation(vec4 x) {
          ${n}
        }`,h="result = activation(result);");let m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${i};
        int q = d2 - d1 * ${i};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${d}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${m}
        ${h}
        setOutput(result);
      }
    `}};function hbt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l,dimRoundingMode:u}=r,c=l;c==null&&(c=[1,1]),A.assert(R.eitherStridesOrDilationsAreOne(s,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${c}'`);let f=R.computeConv2DInfo(a.shape,i.shape,s,c,o,u,!0),d;ne().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?d=new Lle(f):d=new Ale(f);let p=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(d,[a,i],"float32",p)}var mbt={kernelName:ep,backendName:"webgl",kernelFunc:hbt},gbt=class{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${i} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${n} - ${a};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}},ybt=class{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${n}; wC++) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${n} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${o}; dm++) {
              int d2 = d1 * ${o} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function vbt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:u,filterShape:c}=r,f=R.computeConv2DInfo(a.shape,c,s,o,l,u,!0),d=new gbt(f);return n.runWebGLProgram(d,[a,i],"float32")}var bbt={kernelName:CN,backendName:"webgl",kernelFunc:vbt};function wbt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:u,inputShape:c}=r,f=R.computeConv2DInfo(c,i.shape,s,o,l,u,!0),d=new ybt(f);return n.runWebGLProgram(d,[a,i],"float32")}var xbt={kernelName:IN,backendName:"webgl",kernelFunc:wbt},Sbt=class{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}};function kbt(e){let{inputs:t,backend:n}=e,{x:r}=t,a=[...r.shape,...r.shape],i=A.sizeFromShape(r.shape),s=Ce({inputs:{x:r},backend:n,attrs:{shape:[i]}}),o=new Sbt(i),l=n.runWebGLProgram(o,[s],s.dtype),u=Ce({inputs:{x:l},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),u}var Cbt={kernelName:aw,backendName:"webgl",kernelFunc:kbt},Ibt=class{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;let{inHeight:t,inWidth:n,padInfo:r,strideHeight:a,strideWidth:i,filterHeight:s,filterWidth:o,dilationHeight:l,dilationWidth:u}=e,{top:c,left:f}=r;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${i});
      const ivec2 pads = ivec2(${c}, ${f});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${s}; h++) {
          int hIn = hBeg + h * ${l};

          if (hIn >= 0 && hIn < ${t}) {
            for (int w = 0; w < ${o}; w++) {
              int wIn = wBeg + w * ${u};

              if (wIn >= 0 && wIn < ${n}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}};function Nbt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r,u=R.computeDilation2DInfo(a.shape,i.shape,s,o,"NHWC",l),c,f=new Ibt(u);c=n.runWebGLProgram(f,[a,i],"float32");let d=Ce({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),d}var Mbt={kernelName:tp,backendName:"webgl",kernelFunc:Nbt};function Tbt(e){let{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:s,summedDims:o,idDims:l}=R.decodeEinsumEquation(a,i.length);R.checkEinsumDimSizes(s.length,l,i);let{path:u,steps:c}=R.getEinsumComputePath(o,l),f=c.length,d=null,p=s.length,h=[];for(let m=0;m<f;++m){for(let g of c[m]){let{permutationIndices:y,expandDims:v}=R.getEinsumPermutation(p,l[g]),b;R.isIdentityPermutation(y)?b=i[g]:(b=la({inputs:{x:i[g]},backend:n,attrs:{perm:y}}),h.push(b));let x=b.shape.slice();for(let S=0;S<v.length;++S)x.splice(v[S],0,1);A.arraysEqual(b.shape,x)||(b=Ce({inputs:{x:b},backend:n,attrs:{shape:x}}),h.push(b)),d===null?d=b:(d=S6({inputs:{a:b,b:d},backend:n}),h.push(d))}m<f-1&&(u[m]>=0&&(d=WM({inputs:{x:d},backend:n,attrs:{axis:u[m]-(s.length-p),keepDims:!1}}),h.push(d)),p--)}for(let m of h)m!==d&&n.disposeIntermediateTensorInfo(m);return d}var Ebt={kernelName:MN,backendName:"webgl",kernelFunc:Tbt},Abt="return (x >= 0.0) ? x : (exp(x) - 1.0);",Lbt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,_bt=Tt({opSnippet:Abt,packedOpSnippet:Lbt}),jbt={kernelName:rp,backendName:"webgl",kernelFunc:_bt},$bt="return (b >= 0.0) ? a : a * (b + 1.0);",Dbt=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,Obt=e=>{let{inputs:t,backend:n}=e,{dy:r,y:a}=t,i=ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new x1(Dbt,r.shape,a.shape):new yd($bt,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)},Rbt={kernelName:y0,backendName:"webgl",kernelFunc:Obt},Pbt=`
  return vec4(equal(a, b));
`,Fbt="return float(a == b);",zbt=Or({opSnippet:Fbt,packedOpSnippet:Pbt,dtype:"bool",cpuKernelImpl:g0t}),Bbt={kernelName:v0,backendName:"webgl",kernelFunc:zbt},Ubt=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${R.ERF_P};
  float a1 = ${R.ERF_A1};
  float a2 = ${R.ERF_A2};
  float a3 = ${R.ERF_A3};
  float a4 = ${R.ERF_A4};
  float a5 = ${R.ERF_A5};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,Wbt=Tt({opSnippet:Ubt}),Vbt={kernelName:ap,backendName:"webgl",kernelFunc:Wbt},Gbt=S1+`
  return exp(x);
`,Hbt=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,_le=Tt({opSnippet:Gbt,packedOpSnippet:Hbt,cpuKernelImpl:y0t,dtype:"float32"}),qbt={kernelName:ip,backendName:"webgl",kernelFunc:_le};function t_(e){let{inputs:t,attrs:n,backend:r}=e,{dim:a}=n,{input:i}=t,s=i.shape.length,o=i.shape.slice(),l=a;return a<0&&(A.assert(-(s+1)<=a,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+a+1),o.splice(l,0,1),Ce({inputs:{x:i},backend:r,attrs:{shape:o}})}var Ybt={kernelName:b0,backendName:"webgl",kernelFunc:t_},vV="return exp(x) - 1.0;",Qbt=Tt({opSnippet:vV,packedOpSnippet:vV,cpuKernelImpl:v0t}),Kbt={kernelName:sp,backendName:"webgl",kernelFunc:Qbt},bV=class{constructor(e,t,n){this.variableNames=["real","imag"];let r=t[1];this.outputShape=t;let a=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=n?`${r}.0`:"1.0",s;if(e==="real")s="return real * expR - imag * expI;";else if(e==="imag")s="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${a};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${s}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${r});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${r}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${i};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}};function jle(e,t,n){let r=n.texData.get(e.dataId),a=A.sizeFromShape(e.shape),i=e.shape[e.shape.length-1],s=a/i,o=Ce({inputs:{x:e},backend:n,attrs:{shape:[s,i]}}),l=o.shape,u=new bV("real",l,t),c=new bV("imag",l,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],d=n.runWebGLProgram(u,f,"float32"),p=n.runWebGLProgram(c,f,"float32"),h=Uc({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);let m=Ce({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(h),m}function Jbt(e){let{inputs:t,backend:n}=e,{input:r}=t;return jle(r,!1,n)}var Zbt={kernelName:TN,backendName:"webgl",kernelFunc:Jbt},Xbt=class{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}};function Zw(e){let{backend:t,attrs:n}=e,{shape:r,value:a}=n,{dtype:i}=n;if(i=i||A.inferDtype(a),i==="string"){let s=A.getArrayFromDType(i,A.sizeFromShape(r));return s.fill(a),t.makeTensorInfo(r,i,s)}else{let s=new Xbt(r,a),o=[[a]];return t.runWebGLProgram(s,[],i,o)}}var ewt={kernelName:iw,backendName:"webgl",kernelFunc:Zw},twt=class{constructor(e){this.variableNames=["Image"],this.outputShape=[];let t=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${t} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${t}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}},nwt={kernelName:w0,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{let{image:n}=e,r=t,a=new twt(n.shape);return r.runWebGLProgram(a,[n],n.dtype)}},wV="return floor(x);",rwt=Tt({opSnippet:wV,packedOpSnippet:wV,cpuKernelImpl:b0t}),awt={kernelName:op,backendName:"webgl",kernelFunc:rwt},iwt=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,swt=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,owt=Or({opSnippet:iwt,packedOpSnippet:swt,dtype:"int32"}),lwt={kernelName:lp,backendName:"webgl",kernelFunc:owt},uwt=class{constructor(e){this.variableNames=["A"];let t=pa(),[n,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);

        vec4 values = ${t.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}},cwt=class{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;let t=pa(),[n,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${r}.0, ${n}.0);
            vec4 values = ${t.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${t.output} = result;
      }
    `}},fwt={kernelName:Xk,backendName:"webgl",kernelFunc:dwt},kh,zE=ne().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function dwt(e){let{inputs:t,backend:n,attrs:r}=e,{pixels:a}=t,{numChannels:i}=r,s=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,o=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,[l,u]=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=[u,l],f=[u,l,i];if(o||s){let m=ne().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(kh==null||m!==zE)&&(zE=m,kh=document.createElement("canvas").getContext("2d",{willReadFrequently:zE})),kh.canvas.width=l,kh.canvas.height=u,kh.drawImage(a,0,0,l,u),a=kh.canvas}let d=n.makeTensorInfo(c,"int32");n.texData.get(d.dataId).usage=gi.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),a);let p=ne().getBool("WEBGL_PACK")?new cwt(f):new uwt(f),h=n.runWebGLProgram(p,[d],"int32");return n.disposeData(d.dataId),h}function pwt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=r,m=R.convertConv2DDataFormat(c),g=R.computeConv2DInfo(a.shape,i.shape,l,f,u,d,!1,m),y,v=[],b=s!=null,x=o!=null,S=p==="leakyrelu",k=()=>{let N=[a,i],T=(L,E)=>{if(E==="NCHW"&&L.shape.length===1&&L.shape[0]!==1){let M=Ce({inputs:{x:L},backend:n,attrs:{shape:[L.shape[0],1,1]}});return v.push(M),M}return L};if(b&&N.push(T(s,c)),x&&N.push(T(o,c)),S){let L=n.makeTensorInfo([],"float32",A.createScalarValue(h,"float32"));N.push(L),v.push(L)}return N};if(g.filterHeight===1&&g.filterWidth===1&&g.dilationHeight===1&&g.dilationWidth===1&&g.strideHeight===1&&g.strideWidth===1&&(g.padInfo.type==="SAME"||g.padInfo.type==="VALID"))y=Mle({x:a,filter:i,convInfo:g,backend:n,bias:s,activation:p,preluActivationWeights:o,leakyreluAlpha:h});else if(g.strideWidth<=2&&m==="channelsLast"&&ne().getBool("WEBGL_EXP_CONV")){let N=p?vb(p,!0):null,T=new Nle(g,b,N,x,S),L=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],E=k();y=n.runWebGLProgram(T,E,"float32",L)}else if(ne().getBool("WEBGL_CONV_IM2COL"))y=Tle({x:a,filter:i,convInfo:g,backend:n,bias:s,activation:p,preluActivationWeights:o,leakyreluAlpha:h});else{let N=p?vb(p,!1):null,T=new Ile(g,b,N,x,S),L=k();y=n.runWebGLProgram(T,L,"float32")}let I=Ce({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return v.push(y),v.forEach(N=>n.disposeIntermediateTensorInfo(N)),I}var hwt={kernelName:td,backendName:"webgl",kernelFunc:pwt};function mwt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:f,activation:d,leakyreluAlpha:p}=r,h=[],m=c;m==null&&(m=[1,1]),A.assert(R.eitherStridesOrDilationsAreOne(l,m),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`);let g=R.computeConv2DInfo(a.shape,i.shape,l,m,u,f,!0),y=ne().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,v=d?vb(d,y):null,b=[a,i],x=s!=null,S=o!=null,k=d==="leakyrelu";if(x&&b.push(s),S&&b.push(o),k){let L=n.makeTensorInfo([],"float32",A.createScalarValue(p,"float32"));b.push(L),h.push(L)}let I;y?I=new Lle(g,x,v,S,k):I=new Ale(g,x,v,S,k);let N=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],T=n.runWebGLProgram(I,b,"float32",N);return h.forEach(L=>n.disposeIntermediateTensorInfo(L)),T}var gwt={kernelName:nd,backendName:"webgl",kernelFunc:mwt},ywt=class{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;let a=Kt(n.length),i=`
    int index;`;for(let s=0;s<this.sliceDim;s++)i+=`
          index = round(getIndices(coords[0], ${s}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[s]};
          flattenIndex += index * ${this.strides[s]};`;this.userCode=`
         void main() {
          ${a} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${i}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}};function vwt(e){let{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=a.shape,s=i[i.length-1],o=A.sizeFromShape(r.shape),[l,u,c,f]=R.prepareAndValidate(r,a),d=Ce({inputs:{x:a},backend:n,attrs:{shape:[u,s]}}),p=Ce({inputs:{x:r},backend:n,attrs:{shape:[A.sizeFromShape(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,a])||r.dtype==="string"){let y=n.readSync(a.dataId),v=n.bufferSync(r),b=w0t(y,v,r.dtype,u,s,c,f,r.shape,o);return n.makeTensorInfo(l,r.dtype,b.values)}let h=new ywt(s,f,[u,c],r.shape),m=n.runWebGLProgram(h,[p,d],p.dtype),g=Ce({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}var bwt={kernelName:S0,backendName:"webgl",kernelFunc:vwt},wwt=class{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;let n=Kt(this.rank),r=xwt(e);this.userCode=`
      void main() {
        ${n} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${r}));
      }
    `}};function xwt(e,t){let n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let a=0;a<e.length;a++)a===2?r.push("index"):r.push(`${n[a]}`);return r.join()}function $le(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:s,batchDims:o}=r,l=A.parseAxisParam(s,a.shape)[0];if(ne().get("DEBUG")){let v=n.readSync(i.dataId),b=a.shape[l];for(let x=0;x<v.length;++x){let S=v[x];A.assert(S<=b-1&&S>=0,()=>`GatherV2: the index value ${S} is not in [0, ${b-1}]`)}}let u=R.segment_util.collectGatherOpShapeInfo(a,i,l,o),c=A.sizeFromShape(i.shape),f=[],d=Ce({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),p=Ce({inputs:{x:i},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});f.push(d),f.push(p);let h=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([a,i])||a.dtype==="string"){let v=n.bufferSync(p),b=n.bufferSync(d),x=x0t(b,v,h);return f.forEach(S=>n.disposeIntermediateTensorInfo(S)),n.makeTensorInfo(u.outputShape,x.dtype,x.values)}let m=new wwt(d.shape,h),g=n.runWebGLProgram(m,[d,p],d.dtype);f.push(g);let y=Ce({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return f.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}var Swt={kernelName:x0,backendName:"webgl",kernelFunc:$le},kwt="return float(a > b);",Cwt=`
  return vec4(greaterThan(a, b));
`,Iwt=Or({opSnippet:kwt,packedOpSnippet:Cwt,cpuKernelImpl:S0t,dtype:"bool"}),Nwt={kernelName:k0,backendName:"webgl",kernelFunc:Iwt},Mwt="return float(a >= b);",Twt=`
  return vec4(greaterThanEqual(a, b));
`,Ewt=Or({opSnippet:Mwt,packedOpSnippet:Twt,dtype:"bool",cpuKernelImpl:k0t}),Awt={kernelName:cp,backendName:"webgl",kernelFunc:Ewt};function Lwt(e){let{inputs:t,backend:n}=e,{input:r}=t;return jle(r,!0,n)}var _wt={kernelName:EN,backendName:"webgl",kernelFunc:Lwt},jwt="return float(!isnan(x) && !isinf(x));",$wt=Tt({opSnippet:jwt,dtype:"bool"}),Dwt={kernelName:dp,backendName:"webgl",kernelFunc:$wt},Owt="return float(isinf(x));",Rwt=Tt({opSnippet:Owt,dtype:"bool"}),Pwt={kernelName:pp,backendName:"webgl",kernelFunc:Rwt},Fwt="return float(isnan(x));",zwt=Tt({opSnippet:Fwt,dtype:"bool"}),Bwt={kernelName:hp,backendName:"webgl",kernelFunc:zwt},Uwt="return float(a < b);",Wwt=`
  return vec4(lessThan(a, b));
`,Vwt=Or({opSnippet:Uwt,packedOpSnippet:Wwt,cpuKernelImpl:C0t,dtype:"bool"}),Gwt={kernelName:C0,backendName:"webgl",kernelFunc:Vwt},Hwt="return float(a <= b);",qwt=`
  return vec4(lessThanEqual(a, b));
`,Ywt=Or({opSnippet:Hwt,packedOpSnippet:qwt,cpuKernelImpl:I0t,dtype:"bool"}),Qwt={kernelName:I0,backendName:"webgl",kernelFunc:Ywt};function Kwt(e){let{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,s=N0t(r,a,i);return t.makeTensorInfo([s.length],"float32",s)}var Jwt={kernelName:N0,backendName:"webgl",kernelFunc:Kwt},Zwt=S1+`
  return x < 0.0 ? 0./0. : log(x);
`,Xwt=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,ext=Tt({opSnippet:Zwt,packedOpSnippet:Xwt,cpuKernelImpl:M0t}),txt={kernelName:gp,backendName:"webgl",kernelFunc:ext},nxt=S1+`
  return log(1.0 + x);
`,rxt=Tt({opSnippet:nxt}),axt={kernelName:yp,backendName:"webgl",kernelFunc:rxt},ixt="return float(a >= 1.0 && b >= 1.0);",sxt=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,oxt=Or({opSnippet:ixt,packedOpSnippet:sxt,dtype:"bool"}),lxt={kernelName:M0,backendName:"webgl",kernelFunc:oxt},uxt="return float(!(x >= 1.0));",cxt=Tt({opSnippet:uxt}),fxt={kernelName:T0,backendName:"webgl",kernelFunc:cxt},dxt="return float(a >= 1.0 || b >= 1.0);",pxt=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,hxt=Or({opSnippet:dxt,packedOpSnippet:pxt,dtype:"bool"}),mxt={kernelName:E0,backendName:"webgl",kernelFunc:hxt},gxt=class{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];let i=t,s=e[3]-1;this.outputShape=e;let o,l=`float(${n}) + float(${r}) * sum`;a===.5?o=`inversesqrt(${l})`:a===1?o=`1.0/(${l})`:o=`exp(log(${l}) * float(-${a}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${i}; j <= ${i}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${s}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${o};
        setOutput(val);
      }
    `}},yxt=class{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;let i=t,s=e[3]-1;this.outputShape=e;let o,l=`float(${n}) + float(${r}) * sum`;a===.5?o=`inversesqrt(${l})`:a===1?o=`1.0/(${l})`:o=`exp(log(${l}) * float(-${a}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${i};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${i}; j <= ${i}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${o};
        setOutput(result);
      }
    `}},vxt=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:s,alpha:o,beta:l}=r,u=ne().getBool("WEBGL_PACK_NORMALIZATION")?new yxt(a.shape,i,s,o,l):new gxt(a.shape,i,s,o,l);return n.runWebGLProgram(u,[a],a.dtype)},bxt={kernelName:vp,backendName:"webgl",kernelFunc:vxt},wxt=class{constructor(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${t})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${t} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${r}) * norm + float(${n});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${r})
                * float(${a})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${a});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}},xxt=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:s}=t,{depthRadius:o,bias:l,alpha:u,beta:c}=r,f=new wxt(a.shape,o,l,u,c);return n.runWebGLProgram(f,[a,i,s],a.dtype)},Sxt={kernelName:A0,backendName:"webgl",kernelFunc:xxt};function kxt(e,t,n,r){let a=A.sizeFromShape(t),i=A.sizeFromShape(e.shape)/a,s=Ce({inputs:{x:e},attrs:{shape:[i,a]},backend:r}),o=ch(s,e.dtype,"max",r),l=Ce({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(o),l}function Dle(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:s}=r,o=a.shape.length,l=A.parseAxisParam(i,a.shape),u=l,c=R.getAxesPermutation(u,o),f=c!=null,d=n.shouldExecuteOnCPU([a]),p=a;if(f){if(d){let v=n.texData.get(p.dataId).values,b=new Array(o);for(let k=0;k<b.length;k++)b[k]=a.shape[c[k]];let x=b6(v,a.shape,a.dtype,c,b);p=n.makeTensorInfo(b,a.dtype);let S=n.texData.get(p.dataId);S.values=x}else p=UM(a,c,n);u=R.getInnerMostAxes(u.length,o)}R.assertAxesAreInnerMostDims("max",u,o);let[h,m]=R.computeOutAndReduceShapes(p.shape,u),g=h;s&&(g=R.expandShapeToKeepDim(h,l));let y;if(d){let v=n.texData.get(p.dataId).values,b=T0t(v,A.sizeFromShape(m),g,a.dtype);y=n.makeTensorInfo(g,a.dtype);let x=n.texData.get(y.dataId);x.values=b}else y=kxt(p,m,g,n);return f&&n.disposeIntermediateTensorInfo(p),y}var Cxt={kernelName:bp,backendName:"webgl",kernelFunc:Dle},Ixt=x6+`
  return max(a, b);
`,Nxt=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+uh+`
  return result;
`,Mxt=Or({opSnippet:Ixt,packedOpSnippet:Nxt,cpuKernelImpl:E0t}),Txt={kernelName:wp,backendName:"webgl",kernelFunc:Mxt};function Ext(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t;g1(a,"maxPool");let{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r,u=1;A.assert(R.eitherStridesOrDilationsAreOne(s,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);let c=R.computePool2DInfo(a.shape,i,s,u,o,l);if(c.filterWidth===1&&c.filterHeight===1&&A.arraysEqual(c.inShape,c.outShape))return ti({inputs:{x:a},backend:n});let f=new bb(c,"max",!1);return n.runWebGLProgram(f,[a],a.dtype)}var Axt={kernelName:xp,backendName:"webgl",kernelFunc:Ext};function Lxt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dataFormat:l,dimRoundingMode:u}=r,c=[1,1,1],f=R.computePool3DInfo(a.shape,i,s,c,o,u,l),d=new k6(f,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}var _xt={kernelName:L0,backendName:"webgl",kernelFunc:Lxt},jxt=class{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;let t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,i=e.effectiveFilterWidth,s=a-1-e.padInfo.top,o=i-1-e.padInfo.left,l=a*i-1;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${a};
          wR += ${r}) {
          float dyR = float(dyRCorner + wR) / ${t}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${i}; wC++) {
            float dyC = float(dyCCorner + wC) / ${n}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${i} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}},$xt=class{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;let t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=o-1-e.padInfo.front,f=l-1-e.padInfo.top,d=u-1-e.padInfo.left,p=o*l*u-1;this.userCode=`
      const ivec3 pads = ivec3(${c}, ${f}, ${d});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${o};
           wD += ${a}) {
          float dyD = float(dyDCorner + wD) / ${t}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${l};
              wR += ${i}) {
            float dyR = float(dyRCorner + wR) / ${n}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${u};
                wC += ${s}) {
              float dyC = float(dyCCorner + wC) / ${r}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${l} * ${u} +
                  wR * ${u} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function Dxt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=R.computePool3DInfo(s.shape,o,l,f,u,c),p=new k6(d,"max",!0),h=n.runWebGLProgram(p,[s],s.dtype),m=new $xt(d),g=n.runWebGLProgram(m,[a,h],s.dtype);return n.disposeIntermediateTensorInfo(h),g}var Oxt={kernelName:ow,backendName:"webgl",kernelFunc:Dxt};function Rxt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:s}=t,o=i;g1([i,s],"maxPoolGrad");let{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=R.computePool2DInfo(o.shape,l,u,1,c,f),p=!0,h=new bb(d,"max",p),m=n.runWebGLProgram(h,[o],o.dtype),g=new jxt(d),y=n.runWebGLProgram(g,[a,m],o.dtype);return n.disposeIntermediateTensorInfo(m),y}var Pxt={kernelName:sw,backendName:"webgl",kernelFunc:Rxt};function Fxt(e,t,n,r){let a=new bb(n,"max",!1),i=r.runWebGLProgram(a,[e],"float32");a=new bb(n,"max",!0,!0,t);let s=r.runWebGLProgram(a,[e],"float32");return[i,s]}var zxt={kernelName:lw,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{x:r}=e,{filterSize:a,strides:i,pad:s,includeBatchInIndex:o}=t,l=n;A.assert(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);let u=[1,1];A.assert(R.eitherStridesOrDilationsAreOne(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);let c=R.computePool2DInfo(r.shape,a,i,u,s),[f,d]=Fxt(r,o,c,l);return[f,d]}};function Bxt(e,t,n,r){let a=A.sizeFromShape(t),i=A.sizeFromShape(e.shape)/a,s=Ce({inputs:{x:e},attrs:{shape:[i,a]},backend:r}),o=ch(s,"float32","mean",r),l=Ce({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(o),l}var Uxt={kernelName:Sp,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{x:r}=e,{keepDims:a,axis:i}=t,s=n,o=r.shape.length,l=A.parseAxisParam(i,r.shape),u=l,c=R.getAxesPermutation(u,o),f=c!=null,d=s.shouldExecuteOnCPU([r]),p=[],h=r;if(f){if(d){let b=s.texData.get(h.dataId).values,x=new Array(o);for(let I=0;I<x.length;I++)x[I]=r.shape[c[I]];let S=b6(b,r.shape,r.dtype,c,x);h=s.makeTensorInfo(x,r.dtype);let k=s.texData.get(h.dataId);k.values=S}else h=UM(r,c,s);p.push(h),u=R.getInnerMostAxes(u.length,o)}R.assertAxesAreInnerMostDims("sum",u,o);let[m,g]=R.computeOutAndReduceShapes(h.shape,u),y=m;a&&(y=R.expandShapeToKeepDim(m,l));let v=Bxt(h,g,y,s);for(let b of p)s.disposeIntermediateTensorInfo(b);return v}};function Wxt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=A.parseAxisParam(i,a.shape),u=l,c=R.getAxesPermutation(u,o),f=a;c!=null&&(f=la({inputs:{x:a},backend:n,attrs:{perm:c}}),u=R.getInnerMostAxes(u.length,a.shape.length)),R.assertAxesAreInnerMostDims("min",u,o);let[d,p]=R.computeOutAndReduceShapes(f.shape,u),h=A.sizeFromShape(p),m=Ce({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}}),g=ch(m,m.dtype,"min",n),y;if(s){let v=R.expandShapeToKeepDim(d,l);y=Ce({inputs:{x:g},backend:n,attrs:{shape:v}})}else y=Ce({inputs:{x:g},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(f),y}var Vxt={kernelName:kp,backendName:"webgl",kernelFunc:Wxt},Gxt=x6+`
  return min(a, b);
`,Hxt=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+uh+`
  return result;
`,qxt=Or({opSnippet:Gxt,packedOpSnippet:Hxt,cpuKernelImpl:A0t}),Yxt={kernelName:Cp,backendName:"webgl",kernelFunc:qxt},Qxt=class{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map((u,c)=>u[0]+e[c]+u[1]);let r=e.length,a=Kt(r),i=t.map(u=>u[0]).join(","),s=t.map((u,c)=>u[0]+e[c]).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l=n==="reflect"?0:1;if(r===1){this.userCode=`
        int start = ${i};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${l};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${l};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${a} start = ${a}(${i});
      ${a} end = ${a}(${s});

      void main() {
        ${a} outC = getOutputCoords();
        for (int i = 0; i < ${r}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${l};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};
          }
        }
        ${a} coords = outC - start;
        setOutput(getX(${o}));
      }
    `}},Kxt=class{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((p,h)=>p[0]+e[h]+p[1]);let r=e.length,a=Kt(r),i=t.map(p=>p[0]).join(","),s=t.map((p,h)=>p[0]+e[h]).join(","),o=aa("rc",r),l=aa("source",r),u=`${o[r-1]} < ${this.outputShape[r-1]}`,c=r===1?"source":`vec2(${l.slice(-2).join()})`,f=n==="reflect"?0:1,d="";if(r===1){let p=`
        ${a} source = rc;
        if (source < start) {
          source = start * 2 - source - ${f};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${f};
        }
        source -= start;
      `;d=`
        ${a} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${l.join()}), ${c});
        ${o[r-1]} += 1;
        if(${u}) {
          ${p}
          result[1] = getChannel(getX(${l.join()}), ${c});
        }
      `}else{let p=`
        ${a} source = rc;
        ${a} lt = ${a}(lessThan(source, start));
        ${a} gte = ${a}(greaterThanEqual(source, end));
        ${a} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${f}) +
                gte * ((end - 1) * 2 - source + ${f});
        source -= start;
      `;d=`
        ${a} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${l.join()}), ${c});
        ${o[r-1]} += 1;
        if(${u}) {
          ${p}
          result[1] = getChannel(getX(${l.join()}), ${c});
        }
        rc = outputLoc;
        ${o[r-2]} += 1;
        if(${o[r-2]} < ${this.outputShape[r-2]}) {
          ${p}
          result[2] = getChannel(getX(${l.join()}), ${c});
          ${o[r-1]} += 1;
          if(${u}) {
            ${p}
            result[3] = getChannel(getX(${l.join()}), ${c});
          }
        }
      `}this.userCode=`
      const ${a} start = ${a}(${i});
      const ${a} end = ${a}(${s});

      void main() {
        ${a} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${d}
        setOutput(result);
      }
    `}},Jxt=({inputs:e,backend:t,attrs:n})=>{let{x:r}=e,{paddings:a,mode:i}=n,s=ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Kxt(r.shape,a,i):new Qxt(r.shape,a,i);return t.runWebGLProgram(s,[r],r.dtype)},Zxt={kernelName:Ip,backendName:"webgl",kernelFunc:Jxt},Xxt=`if (b == 0.0) return NAN;
  return mod(a, b);`,e2t=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+uh+`
  return result;
`,t2t=Or({opSnippet:Xxt,packedOpSnippet:e2t}),n2t={kernelName:Np,backendName:"webgl",kernelFunc:t2t},r2t=class{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${t-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${t-1}));
      }
    `}},a2t=`
if (a == b) {
  return 1.0;
};
return a / b;`,i2t=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,Ole=Or({opSnippet:a2t,packedOpSnippet:i2t,checkOutOfBounds:!0}),s2t={kernelName:np,backendName:"webgl",kernelFunc:Ole},xV="return a - b;",Rle=Or({opSnippet:xV,packedOpSnippet:xV,supportsComplex:!0,cpuKernelImpl:J0t}),o2t={kernelName:Jp,backendName:"webgl",kernelFunc:Rle};function Ple(e){let{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,s=A.parseAxisParam([i],a.shape),o=Dle({inputs:{x:a},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),l=R.expandShapeToKeepDim(o.shape,s),u=Ce({inputs:{x:o},backend:n,attrs:{shape:l}}),c=Rle({inputs:{a,b:u},backend:n}),f=_le({inputs:{x:c},backend:n}),d=WM({inputs:{x:f},backend:n,attrs:{axis:s,keepDims:!1}}),p=Ce({inputs:{x:d},backend:n,attrs:{shape:l}}),h=Ole({inputs:{a:f,b:p},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),h}var l2t={kernelName:Qp,backendName:"webgl",kernelFunc:Ple};function u2t(e){let{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:s,normalized:o}=r,l=o?a:Ple({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),u=l.shape[0],c=l.shape[1],f=new r2t(u,c,i),d=[[s]],p=n.runWebGLProgram(f,[l],"int32",d);return o||n.disposeIntermediateTensorInfo(l),p}var c2t={kernelName:_0,backendName:"webgl",kernelFunc:u2t},f2t=ds+`
  return -x;
`,d2t=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function p2t(e){let{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){let i=n.texData.get(r.dataId),[s,o]=_0t(i.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,s)}let a;return ne().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new Du(r.shape,d2t):a=new vo(r.shape,f2t),n.runWebGLProgram(a,[r],r.dtype)}var h2t={kernelName:j0,backendName:"webgl",kernelFunc:p2t},m2t=Uo.nonMaxSuppressionV3Impl;function g2t(e){R.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),{selectedIndices:f}=m2t(u,c,s,o,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}var y2t={kernelName:D0,backendName:"webgl",kernelFunc:g2t},v2t=Uo.nonMaxSuppressionV4Impl;function b2t(e){R.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(a.dataId),f=n.readSync(i.dataId),{selectedIndices:d,validOutputs:p}=v2t(c,f,s,o,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}var w2t={kernelName:O0,backendName:"webgl",kernelFunc:b2t},x2t=Uo.nonMaxSuppressionV5Impl;function S2t(e){R.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(a.dataId),f=n.readSync(i.dataId),d=s,p=o,h=l,m=u,{selectedIndices:g,selectedScores:y}=x2t(c,f,d,p,h,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}var k2t={kernelName:R0,backendName:"webgl",kernelFunc:S2t},C2t=class{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${r}), float(${n}),
                      float(index == coords.y)));
      }
    `}},I2t=e=>{let{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:s,onValue:o,offValue:l}=r,u=A.sizeFromShape(a.shape),c=new C2t(u,s,o,l),f=Ce({inputs:{x:a},backend:n,attrs:{shape:[u]}}),d=n.runWebGLProgram(c,[f],i);n.disposeIntermediateTensorInfo(f);let p=[...a.shape,s],h=Ce({inputs:{x:d},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(d),h},N2t={kernelName:Tp,backendName:"webgl",kernelFunc:I2t};function SC(e){let{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="complex64"){let a=Jw({inputs:{input:r},backend:n}),i=SC({inputs:{x:a},backend:n}),s=VM({inputs:{input:r},backend:n}),o=SC({inputs:{x:s},backend:n}),l=Uc({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}else return Zw({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}var M2t={kernelName:n1,backendName:"webgl",kernelFunc:SC};function Fle(e){let{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){let a=Jw({inputs:{input:r},backend:n}),i=Fle({inputs:{x:a},backend:n}),s=VM({inputs:{input:r},backend:n}),o=SC({inputs:{x:s},backend:n}),l=Uc({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}else return Zw({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}var T2t={kernelName:P0,backendName:"webgl",kernelFunc:Fle};function E2t(e){let{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(t.length===1)return t_({inputs:{input:t[0]},backend:n,attrs:{dim:a}});let i=t[0].shape,s=t[0].dtype;t.forEach(c=>{A.assertShapesMatch(i,c.shape,"All tensors passed to stack must have matching shapes"),A.assert(s===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});let o=[],l=t.map(c=>{let f=t_({inputs:{input:c},backend:n,attrs:{dim:a}});return o.push(f),f}),u=Cle({inputs:l,backend:n,attrs:{axis:a}});return o.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}var A2t={kernelName:F0,backendName:"webgl",kernelFunc:E2t},L2t=class{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((l,u)=>l[0]+e[u]+l[1]);let r=e.length,a=Kt(r),i=t.map(l=>l[0]).join(","),s=t.map((l,u)=>l[0]+e[u]).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);if(r===1){this.userCode=`
        int start = ${i};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${a} start = ${a}(${i});
      ${a} end = ${a}(${s});

      void main() {
        ${a} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${a} coords = outC - start;
          setOutput(getX(${o}));
        }
      }
    `}},_2t=class{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((h,m)=>h[0]+e[m]+h[1]);let r=e.length,a=Kt(r),i=t.map(h=>h[0]).join(","),s=t.map((h,m)=>h[0]+e[m]).join(","),o=aa("rc",r),l=aa("source",r),u=`${o[r-1]} < ${this.outputShape[r-1]}`,c=r===1?"source":`vec2(${l.slice(-2).join()})`,f=[`${a} rc = outputLoc;`,`${o[r-1]} += 1;
       if(${u}) {
      `,r===1?"":`}
       rc = outputLoc;
       ${o[r-2]} += 1;
       if(${o[r-2]} < ${this.outputShape[r-2]}) {`,r===1?"":`  ${o[r-1]} += 1;
         if(${u}) {`],d=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",p="";for(let h=0,m=r===1?2:4;h<m;h++)p+=`
        ${f[h]}
        if (${d}) {
          result[${h}] = float(value);
        } else {
          ${a} source = rc - start;
          result[${h}] = getChannel(getX(${l.join()}), ${c});
        }
      `;p+=r===1?"} ":"}}",this.userCode=`
      const ${a} start = ${a}(${i});
      const ${a} end = ${a}(${s});

      void main() {
        ${a} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}},zle=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:s}=r;if(A.sizeFromShape(a.shape)===0){let u=i.map((c,f)=>c[0]+a.shape[f]+c[1]);return Zw({backend:n,attrs:{shape:u,value:s,dtype:a.dtype}})}let o=ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _2t(a.shape,i,s):new L2t(a.shape,i,s),l=[[s]];return n.runWebGLProgram(o,[a],a.dtype,l)},j2t={kernelName:Ep,backendName:"webgl",kernelFunc:zle},$2t=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,D2t=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+uh+`
  return result;
`,O2t=Or({opSnippet:$2t,packedOpSnippet:D2t}),R2t={kernelName:Ap,backendName:"webgl",kernelFunc:O2t};function P2t(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=[],u=A.parseAxisParam(i,a.shape),c=u,f=R.getAxesPermutation(c,o),d=a;f!=null&&(d=la({inputs:{x:a},backend:n,attrs:{perm:f}}),c=R.getInnerMostAxes(c.length,o),l.push(d)),R.assertAxesAreInnerMostDims("prod",c,o);let p;if(n.shouldExecuteOnCPU([d])){let h=n.texData.get(d.dataId).values,{outVals:m,outShape:g,outDtype:y}=$0t(d.shape,d.dtype,h,c);p=n.makeTensorInfo(g,y,m)}else{let[h,m]=R.computeOutAndReduceShapes(d.shape,c),g=A.sizeFromShape(m),y=Ce({inputs:{x:d},backend:n,attrs:{shape:[-1,g]}}),v=ON(a.dtype),b=ch(y,v,"prod",n);p=Ce({inputs:{x:b},backend:n,attrs:{shape:h}}),l.push(y),l.push(b)}if(s){l.push(p);let h=R.expandShapeToKeepDim(p.shape,u);p=Ce({inputs:{x:p},backend:n,attrs:{shape:h}})}return l.forEach(h=>n.disposeIntermediateTensorInfo(h)),p}var F2t={kernelName:_p,backendName:"webgl",kernelFunc:P2t};function z2t(e){let{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:s}=t,{outputRaggedRank:o}=r,l=a.map(y=>n.readSync(y.dataId)),u=a.map(y=>y.shape),c=n.readSync(i.dataId),f=n.readSync(s.dataId),[d,p,h]=D0t(l,u,c,i.shape,i.dtype,f,s.shape,o),m=d.map(y=>n.makeTensorInfo([y.length],"int32",y)),g=n.makeTensorInfo(h,i.dtype,p);return m.concat([g])}var B2t={kernelName:LN,backendName:"webgl",kernelFunc:z2t};function U2t(e){let{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=O0t(s,r.shape,r.dtype,o,a.shape,l,i.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}var W2t={kernelName:_N,backendName:"webgl",kernelFunc:U2t};function V2t(e){let{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:s,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),f=n.readSync(s.dataId),d=o.map(g=>n.readSync(g.dataId)),p=o.map(g=>g.shape),[h,m]=R0t(u,a.shape,c,i.shape,i.dtype,f,s.shape,d,p,l);return n.makeTensorInfo(h,i.dtype,m)}var G2t={kernelName:jN,backendName:"webgl",kernelFunc:V2t},Ble=e=>{let{backend:t,attrs:n}=e,{start:r,stop:a,step:i,dtype:s}=n,o=P0t(r,a,i,s);return t.makeTensorInfo([o.length],s,o)},H2t={kernelName:uw,backendName:"webgl",kernelFunc:Ble},q2t="return 1.0 / x;",Y2t=Tt({opSnippet:q2t}),Q2t={kernelName:jp,backendName:"webgl",kernelFunc:Y2t},K2t=ds+`
  return (x < 0.0) ? 0.0 : x;
`,J2t=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Z2t=Tt({opSnippet:K2t,packedOpSnippet:J2t}),X2t={kernelName:$p,backendName:"webgl",kernelFunc:Z2t},eSt=ds+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,tSt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,nSt=Tt({opSnippet:eSt,packedOpSnippet:tSt}),rSt={kernelName:Rp,backendName:"webgl",kernelFunc:nSt},aSt=class{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];let[i,s,o,l]=e;this.outputShape=[i,t,n,l];let u=[r&&t>1?s-1:s,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],f;a?f="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/c[0]},
          ${u[1]/c[1]});
      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}},iSt=class{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[i,s,o,l]=e;this.outputShape=[i,t,n,l];let u=[r&&t>1?s-1:s,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],f;a?f="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/c[0]},
          ${u[1]/c[1]},
          ${u[1]/c[1]});
      const vec3 inputShapeRC = vec3(${s}.0, ${o}.0,
                                     ${o}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${n-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}};function sSt(e){let{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,u]=o,c=ne().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new iSt(a.shape,l,u,i,s):new aSt(a.shape,l,u,i,s);return n.runWebGLProgram(c,[a],"float32")}var oSt={kernelName:Op,backendName:"webgl",kernelFunc:sSt},lSt=class{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;let[,r,a]=t,[,i,s]=e,o=[n&&i>1?r-1:r,n&&s>1?a-1:a],l=[n&&i>1?i-1:i,n&&s>1?s-1:s],u=o[0]/l[0],c=o[1]/l[1],f=1/u,d=1/c,p=Math.ceil(f)*2+2,h=Math.ceil(d)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${c});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${d});

        const int winHeight = int(${p});
        const int winWidth = int(${h});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${a-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}};function uSt(e){let{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r,o=new lSt(i.shape,a.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}var cSt={kernelName:U0,backendName:"webgl",kernelFunc:uSt},fSt=class{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];let[i,s,o,l]=e;this.outputShape=[i,t,n,l];let u=[r&&t>1?s-1:s,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=r?"0.5":"0.0",d;a?d="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":d="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/c[0]},
          ${u[1]/c[1]});
      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${d};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}},dSt=class{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[i,s,o,l]=e;this.outputShape=[i,t,n,l];let u=[r&&t>1?s-1:s,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=r?"0.5":"0.0",d;a?d="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":d="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/c[0]},
          ${u[1]/c[1]},
          ${u[1]/c[1]});
      const vec3 inputShapeRC = vec3(${s}.0, ${o}.0,
                                     ${o}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${d};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${n-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}};function pSt(e){let{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,u]=o,c=ne().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new dSt(a.shape,l,u,i,s):new fSt(a.shape,l,u,i,s);return n.runWebGLProgram(c,[a],a.dtype)}var hSt={kernelName:Dp,backendName:"webgl",kernelFunc:pSt},mSt=class{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;let[,r,a]=t,[,i,s]=e,o=[n&&i>1?r-1:r,n&&s>1?a-1:a],l=[n&&i>1?i-1:i,n&&s>1?s-1:s],u=o[0]/l[0],c=o[1]/l[1],f=1/u,d=1/c,p=Math.ceil(f)*2+2,h=Math.ceil(d)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${c});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${d});

        const int winHeight = int(${p});
        const int winWidth = int(${h});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float sourceFracRow =
              float(${o[0]}) *
                (float(dyR) / float(${l[0]}));

            float sourceFracCol =
                float(${o[1]}) *
                  (float(dyC) / float(${l[1]}));

            int sourceNearestRow = int(min(
                float(int(${r}) - 1),
                ${n} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${a}) - 1),
                ${n} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}};function gSt(e){let{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r,o=new mSt(i.shape,a.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}var ySt={kernelName:B0,backendName:"webgl",kernelFunc:gSt},vSt=class{constructor(e,t){this.variableNames=["x"];let n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,n===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}let r=s=>t.indexOf(s)!==-1&&e[s]!==1?`${e[s]} - coords[${s}] - 1`:`coords[${s}]`,a=e.map((s,o)=>r(o)).join(","),i=Kt(n);this.userCode=`
      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}},bSt=class{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;let n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;let r=aa("rc",n),a=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,i=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,s=Kt(n);n===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${a}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${s} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${o(r.slice())};
          if(${a}){
            result.g = ${l(r.slice())};
          }
          if(${i}) {
            result.b = ${u(r.slice())};
            if(${a}) {
              result.a = ${c(r.slice())};
            }
          }
          setOutput(result);
        }
    `;function o(p){return f(p)}function l(p){return p[n-1]="("+p[n-1]+" + 1)",f(p)}function u(p){return p[n-2]="("+p[n-2]+" + 1)",f(p)}function c(p){return p[n-1]="("+p[n-1]+" + 1)",p[n-2]="("+p[n-2]+" + 1)",f(p)}function f(p){let h=e.map((y,v)=>d(v,p)),m=h.join(","),g=h.slice(-2).join(",");return`getChannel(getX(${m}), vec2(${g}))`}function d(p,h){return t.indexOf(p)!==-1&&e[p]!==1?`${e[p]} - ${h[p]} - 1`:`${h[p]}`}}};function wSt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r,s=a.shape.length,o=A.parseAxisParam(i,a.shape);if(s===0)return ti({inputs:{x:a},backend:n});let l=ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bSt(a.shape,o):new vSt(a.shape,o);return n.runWebGLProgram(l,[a],a.dtype)}var xSt={kernelName:Pp,backendName:"webgl",kernelFunc:wSt},SSt=class{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];let n=e[1],r=e[2];this.outputShape=e;let a="";typeof t=="number"?a=`float outputValue = ${t.toFixed(2)};`:a=`
        vec3 fill = vec3(${t.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${a}
          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}},kSt={kernelName:r1,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{image:r}=e,{radians:a,fillValue:i,center:s}=t,o=n,l=new SSt(r.shape,i),[u,c]=R.getImageCenter(s,r.shape[1],r.shape[2]),f=[[u,c,Math.sin(a),Math.cos(a)]];return o.runWebGLProgram(l,[r],r.dtype,f)}},CSt=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,ISt=Tt({opSnippet:CSt}),NSt={kernelName:Fp,backendName:"webgl",kernelFunc:ISt},MSt="return inversesqrt(x);",TSt=Tt({opSnippet:MSt,cpuKernelImpl:F0t}),ESt={kernelName:zp,backendName:"webgl",kernelFunc:TSt},C6=class{constructor(e,t,n,r,a,i,s=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;let l=Kt(a.length),u=Kt(i.length),c="";n===1?c="i":n===2&&(c="i, j");let f=`getIndices(${c})`,d="";r===1?d="i":r===2&&(d="i, coords[1]");let p=`getUpdates(${d})`,h="";o&&(h="coords[0], coords[1]");let m=`getDefaultValue(${h})`,g=t>1?"strides[j]":"strides";this.userCode=`
        ${l} strides = ${l}(${a});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${t}; j++) {
              int index = round(${f});
              flattenedIndex += index * ${g};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(${m}, sum, float(found)));
        }
      `}},ASt=class{constructor(e,t,n,r,a,i,s=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;let l=Kt(a.length),u=Kt(i.length),c="";n===1?c="i":n===2&&(c="i, j");let f=`getIndices(${c})`,d="";r===1?d="i":r===2&&(d="i, coords[1]");let p=`getUpdates(${d})`,h="";o&&(h="coords[0], coords[1]");let m=`getDefaultValue(${h})`,g=t>1?"strides[j]":"strides",y=t>1?"strides[j + 1]":"strides";this.userCode=`
        ${l} strides = ${l}(${a});

        void main() {
          ${u} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${t}; j+=2) {
              ivec4 index = round(${f});
              flattenedIndex += index.xz * ${g};
              if (j + 1 < ${t}) {
                flattenedIndex += index.yw * ${y};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${p};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${m}, sum, found));
        }
      `}};function LSt(e){let{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:s}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=R.calculateShapes(i,a,s),d=[f/u,u];if(f===0)return n.makeTensorInfo(s,a.dtype);let p=Ce({inputs:{x:a},backend:n,attrs:{shape:[l,o]}}),h=Ce({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0])),g;ne().getBool("WEBGL_PACK")?g=new ASt(l,o,p.shape.length,h.shape.length,c,d):g=new C6(l,o,p.shape.length,h.shape.length,c,d);let y=n.runWebGLProgram(g,[h,p,m],h.dtype),v=Ce({inputs:{x:y},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),v}var _St={kernelName:W0,backendName:"webgl",kernelFunc:LSt},jSt=class{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];let a="while (left < right) {",i=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,s=ne().getNumber("WEBGL_VERSION")===2?a:i,o=r==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${s}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${o} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}};function $St(e){let{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:s}=r,o=new jSt(a.shape[0],a.shape[1],i.shape[1],s),l=[[a.shape[1]]];return n.runWebGLProgram(o,[a,i],"int32",l)}var DSt={kernelName:G0,backendName:"webgl",kernelFunc:$St},OSt=class{constructor(e,t,n){this.variableNames=["c","a","b"],this.outputShape=t;let r,a;if(n>4)throw Error(`Where for rank ${n} is not yet supported`);if(n===1)a="resRC",r="resRC";else{let s=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],l=[];for(let u=0;u<t.length;u++)l.push(`${s[u]}`),u<e&&o.push(`${s[u]}`);r=o.join(),a=l.join()}let i=Kt(n);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        float cVal = getC(${r});
        if (cVal >= 1.0) {
          setOutput(getA(${a}));
        } else {
          setOutput(getB(${a}));
        }
      }
    `}};function RSt(e){let{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t,s=new OSt(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(s,[r,a,i],Ci(a.dtype,i.dtype))}var PSt={kernelName:H0,backendName:"webgl",kernelFunc:RSt},FSt=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${R.SELU_SCALEALPHA};
  float scale = ${R.SELU_SCALE};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,zSt=Tt({opSnippet:FSt}),BSt={kernelName:Bp,backendName:"webgl",kernelFunc:zSt},USt=S1+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,WSt=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,VSt=Tt({opSnippet:USt,packedOpSnippet:WSt,cpuKernelImpl:B0t}),GSt={kernelName:Gp,backendName:"webgl",kernelFunc:VSt},HSt=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,qSt=Tt({opSnippet:HSt}),YSt={kernelName:Vp,backendName:"webgl",kernelFunc:qSt},QSt=S1+`
  return sin(x);
`,KSt=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${uh}
  return result;
`,JSt=Tt({opSnippet:QSt,packedOpSnippet:KSt}),ZSt={kernelName:Up,backendName:"webgl",kernelFunc:JSt},XSt=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,ekt=Tt({opSnippet:XSt}),tkt={kernelName:Wp,backendName:"webgl",kernelFunc:ekt},nkt=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,rkt=Tt({opSnippet:nkt}),akt={kernelName:Hp,backendName:"webgl",kernelFunc:rkt},ikt=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:s}=r;A.assert(a.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");let o=i.reduce((y,v)=>y*v),l=[[0,0]];l.push(...s);for(let y=1+i.length;y<a.shape.length;++y)l.push([0,0]);let u=[],c=zle({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),f=R.getReshaped(c.shape,i,o,!1),d=R.getPermuted(f.length,i.length,!1),p=R.getReshapedPermuted(c.shape,i,o,!1),h=Ce({inputs:{x:c},backend:n,attrs:{shape:f}}),m=la({inputs:{x:h},backend:n,attrs:{perm:d}}),g=Ce({inputs:{x:m},backend:n,attrs:{shape:p}});return u.push(c),u.push(h),u.push(m),u.forEach(y=>n.disposeIntermediateTensorInfo(y)),g},skt={kernelName:Y0,backendName:"webgl",kernelFunc:ikt};function okt(e){let{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:s}=t;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${a.shape}`);if(s.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${s.shape}`);let o=n.readSync(r.dataId),l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=n.readSync(s.dataId)[0],[f,d,p,h,m]=W0t(o,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],a.dtype,p),n.makeTensorInfo([h.length],"bool",new Uint8Array(h.map(g=>Number(g)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}var lkt={kernelName:cw,backendName:"webgl",kernelFunc:okt};function ukt(e){let{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${a.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);let s=Array.from(n.readSync(a.dataId)),o=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[u,c,f]=V0t(o,r.shape,r.dtype,s,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}var ckt={kernelName:K0,backendName:"webgl",kernelFunc:ukt};function fkt(e){let{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);let s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=ule(s,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(c,r.dtype,u)}var dkt={kernelName:fw,backendName:"webgl",kernelFunc:fkt};function pkt(e){let{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);let s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=ule(s,r.shape,r.dtype,o,l);return n.makeTensorInfo(c,r.dtype,u)}var hkt={kernelName:dw,backendName:"webgl",kernelFunc:pkt};function mkt(e){let{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:s}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=R.calculateShapes(i,a,o),p=!1;if(i.dtype==="string"){let y=n.bufferSync(a),v=n.bufferSync(i),b=A.decodeString(n.readSync(s.dataId)[0]),x=z0t(y,v,o,d,c,u,l,f,b,p);return n.makeTensorInfo(o,x.dtype,x.values)}let h=new C6(u,l,a.shape.length,i.shape.length,f,[d,1],p),m=n.runWebGLProgram(h,[i,a,s],i.dtype),g=Ce({inputs:{x:m},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),g}var gkt={kernelName:J0,backendName:"webgl",kernelFunc:mkt};function ykt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:s}=r,o=A.parseAxisParam(s,a.shape)[0],l=R.prepareSplitSize(a,i,o),u=a.shape.length,c=new Array(u).fill(0),f=a.shape.slice();return l.map(d=>{let p=[...f];p[o]=d;let h=k1({inputs:{x:a},backend:n,attrs:{begin:c,size:p}});return c[o]+=d,h})}var vkt={kernelName:Q0,backendName:"webgl",kernelFunc:ykt},SV="return sqrt(x);",bkt=Tt({opSnippet:SV,packedOpSnippet:SV,cpuKernelImpl:G0t}),wkt={kernelName:qp,backendName:"webgl",kernelFunc:bkt},xkt="return x * x;",Skt=Tt({opSnippet:xkt}),kkt={kernelName:pw,backendName:"webgl",kernelFunc:Skt},kV="return (a - b) * (a - b);",Ckt=Or({opSnippet:kV,packedOpSnippet:kV}),Ikt={kernelName:Kp,backendName:"webgl",kernelFunc:Ckt};function Nkt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t;if(a.dtype!=="string")throw new Error("Input must be of datatype string");let i=n.readSync(a.dataId),s=R.fromUint8ToStringArray(i),o=H0t(s,"string",r);return n.makeTensorInfo(a.shape,"string",o)}var Mkt={kernelName:hw,backendName:"webgl",kernelFunc:Nkt};function Tkt({inputs:e,attrs:t,backend:n}){let{x:r}=e,a=ds+`
    return x > 0.0 ? 1.0 : float(${t.alpha});
  `,i=new vo(r.shape,a);return n.runWebGLProgram(i,[r],r.dtype)}var Ekt={kernelName:Dc,backendName:"webgl",kernelFunc:Tkt},Akt=class{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;let r=n.length,a=Kt(n.length),i=Kt(n.length),s="";if(r===1)s="coords * strides + begin";else{let o=0;s=n.map((l,u)=>(o++,n.length===1?`coords * strides[${u}] + begin[${u}]`:`coords[${o-1}] * strides[${u}] + begin[${u}]`)).join(",")}this.userCode=`
      ${a} begin = ${a}(${e});
      ${a} strides = ${a}(${t});

      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${s}));
      }
    `}};function Lkt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:s,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r,{finalShapeSparse:p,finalShape:h,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=sr.sliceInfo(a.shape,i,s,o,l,u,c,f,d),S;if(m)S=Ce({inputs:{x:a},backend:n,attrs:{shape:h}});else if(g||y){A.assert(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);let I=sr.computeOutShape(v,b,x),N=k1({inputs:{x:a},backend:n,attrs:{begin:v,size:I}});S=Ce({inputs:{x:N},backend:n,attrs:{shape:h}}),n.disposeIntermediateTensorInfo(N)}else if(n.shouldExecuteOnCPU([a])){let I=n.readSync(a.dataId),N=st(a.shape,a.dtype,I),T=q0t(p,N,x,v);S=n.makeTensorInfo(h,a.dtype,T.values)}else{let I=new Akt(v,x,p);S=n.runWebGLProgram(I,[a],a.dtype)}let k=Ce({inputs:{x:S},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(S),k}var _kt={kernelName:Z0,backendName:"webgl",kernelFunc:Lkt};function jkt(e){let{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.readSync(c.dataId),p=n.readSync(f.dataId),[h,m]=Y0t(d,p,a,i,s,o,l,u);return[n.makeTensorInfo([h.length],"string",h),n.makeTensorInfo(f.shape,"int32",m)]}var $kt={kernelName:mw,backendName:"webgl",kernelFunc:jkt};function Dkt(e){let{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:s}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(s.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);let o=n.readSync(i.dataId),l=n.readSync(s.dataId)[0],[u,c,f]=Q0t(o,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}var Okt={kernelName:gw,backendName:"webgl",kernelFunc:Dkt};function Rkt(e){let{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");let s=n.readSync(i.dataId),o=K0t(s,a);return n.makeTensorInfo(i.shape,"int32",o)}var Pkt={kernelName:yw,backendName:"webgl",kernelFunc:Rkt},Fkt="return tan(x);",zkt=Tt({opSnippet:Fkt}),Bkt={kernelName:Zp,backendName:"webgl",kernelFunc:zkt},Ukt=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,Wkt=Tt({opSnippet:Ukt}),Vkt={kernelName:Xp,backendName:"webgl",kernelFunc:Wkt};function Gkt(e){let{inputs:t,backend:n,attrs:r}=e,{tensor:a,indices:i,updates:s}=t,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=R.calculateShapes(s,i,a.shape),d=[f/u,u];if(f===0)return n.makeTensorInfo(a.shape,i.dtype);let p=Ce({inputs:{x:i},backend:n,attrs:{shape:[l,o]}}),h=Ce({inputs:{x:s},backend:n,attrs:{shape:[l,u]}}),m=Ce({inputs:{x:a},backend:n,attrs:{shape:d}}),g=new C6(l,o,p.shape.length,h.shape.length,c,d,!1,!0),y=n.runWebGLProgram(g,[h,p,m],m.dtype),v=Ce({inputs:{x:y},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),v}var Hkt={kernelName:V0,backendName:"webgl",kernelFunc:Gkt},qkt=class{constructor(e,t){this.variableNames=["A"];let n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[i]*t[i];this.outputShape=n,this.rank=n.length;let r=Kt(this.rank),a=Ykt(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        setOutput(getA(${a}));
      }
    `}};function Ykt(e){let t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(t===1)return`imod(resRC, ${e[0]})`;let n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let a=0;a<e.length;a++)r.push(`imod(${n[a]}, ${e[a]})`);return r.join()}function Ule(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;if(a.dtype==="string"||a.shape.length>5){let o=n.readSync(a.dataId),l=a.dtype==="string"?o.map(f=>A.decodeString(f)):o,u=st(a.shape,a.dtype,l),c=Z0t(u,i);return n.makeTensorInfo(c.shape,c.dtype,c.values)}let s=new qkt(a.shape,i);return n.runWebGLProgram(s,[a],a.dtype)}var Qkt={kernelName:$c,backendName:"webgl",kernelFunc:Ule},Kkt=class{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}},Jkt=class{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}};function Jc(e,t){t!==null&&e.disposeIntermediateTensorInfo(t)}function CV(e){let t=1;for(;t<e;)t*=2;return t}function Zkt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:s}=r,o=ne().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=ne().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=a.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([a])||c<o||i>l){let T=n.readSync(a.dataId),[L,E]=X0t(T,u,a.dtype,i,s);return[n.makeTensorInfo(L.shape,L.dtype,L.values),n.makeTensorInfo(E.shape,E.dtype,E.values)]}if(i===0)return u[u.length-1]=0,[n.makeTensorInfo(u,a.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(c===1)return[a,Zw({attrs:{shape:u,dtype:"int32",value:0},backend:n})];let f=n.texData.get(a.dataId),d=f!==null&&f.isPacked,p=d?n.unpackTensor(a):a,h=A.sizeFromShape(u)/c,m=Ce({inputs:{x:p},attrs:{shape:[h,c]},backend:n});d&&Jc(n,p);let g=CV(i),y=CV(c),v=null,b=()=>v===null?[m,m]:[m,v],x=(T,L,E)=>{let M=b(),j=new Kkt(E),D=[[c],[v===null?1:0],[Number.NEGATIVE_INFINITY],[T],[L]],F=v;v=n.runWebGLProgram(j,M,"int32",D),Jc(n,F)};for(let T=1;T<g;T*=2){let L=T*2;for(let E=T;E>=1;E/=2)x(L,E,[h,y])}for(let T=y;T>g;T/=2){let L=b(),E=new Jkt([h,T/2]),M=[[c],[v===null?1:0],[g]],j=v;v=n.runWebGLProgram(E,L,"int32",M),Jc(n,j);let D=g/2,F=D*2;for(let $=D;$>=1;$/=2)x(F,$,v.shape)}let S=v;v=k1({inputs:{x:v},backend:n,attrs:{begin:0,size:[h,i]}}),Jc(n,S);let k=$le({inputs:{x:m,indices:v},backend:n,attrs:{axis:1,batchDims:1}});Jc(n,m);let I=u.slice(0,-1);I.push(i),S=v,v=Ce({inputs:{x:v},attrs:{shape:I},backend:n}),Jc(n,S);let N=k;return k=Ce({inputs:{x:k},attrs:{shape:I},backend:n}),Jc(n,N),[k,v]}var Xkt={kernelName:X0,backendName:"webgl",kernelFunc:Zkt},eCt=class{constructor(e,t,n,r,a,i){this.variableNames=["Image","Transforms"],this.outputShape=i;let s=n==="nearest"?1:2,o;switch(r){case"constant":o=1;break;case"reflect":o=2;break;case"wrap":o=3;break;case"nearest":o=4;break;default:o=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${o} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${o} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${o} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${a});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${a});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${t}));
                float mapY = mapCoord(inY, float(${e}));

                if (${s} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}};function tCt(e){let{inputs:t,backend:n,attrs:r}=e,{image:a,transforms:i}=t,{interpolation:s,fillMode:o,fillValue:l,outputShape:u}=r,[c,f,d,p]=a.shape,[h,m]=u??[f,d],g=[c,h,m,p],y=new eCt(f,d,s,o,l,g);return n.runWebGLProgram(y,[a,i],"float32")}var nCt={kernelName:e1,backendName:"webgl",kernelFunc:tCt};function rCt(e){let{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;g1(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");let s=r.readSync(i.dataId),{outputValues:o,outputShape:l,indices:u}=e1t(s,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}var aCt={kernelName:vw,backendName:"webgl",kernelFunc:rCt};function iCt(e){let{inputs:t,backend:n,attrs:r}=e,{value:a}=t,{axis:i}=r;i<0&&(i+=a.shape.length);let s=a,o=s.shape.length,l=a.shape[i],u=new Array(o-1),c=0;for(let m=0;m<o;m++)m!==i&&(u[c++]=s.shape[m]);let f=[],d=new Array(o).fill(0),p=s.shape.slice();p[i]=1;let h=new Array(l);for(let m=0;m<h.length;m++){d[i]=m;let g=k1({inputs:{x:s},backend:n,attrs:{begin:d,size:p}}),y=Ce({inputs:{x:g},backend:n,attrs:{shape:u}});h[m]=y,f.push(g)}return f.forEach(m=>n.disposeIntermediateTensorInfo(m)),h}var sCt={kernelName:t1,backendName:"webgl",kernelFunc:iCt},oCt=class{constructor(e,t){this.variableNames=["x","segmentIds"];let n=e.windowSize,r=e.batchSize,a=e.inSize,i=e.numSegments,s=i*Math.ceil(a/n);this.outputShape=[r,s];let o="0.0",l="sumValue",u=Math.floor(n/4)*4,c=n%4,f=`
        sumValue += dot(values, segFilter);
    `,d="";a%n>0&&(d=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return initializationValue;
        }
      `);let p="";a%n>0&&(p=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${o};

      float getValue(int batch, int inIdx) {
        ${d}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${i})) * float(${n}));
        int currentSeg = int(mod(float(outIdx), float(${i})));

        float sumValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${f}
        }

        int inIdx = inOffset + ${u};
        if (${c===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${f}
        } else if (${c===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${f}
        } else if (${c===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${f}
        }
        setOutput(${l});
      }
    `}};function lCt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:s}=r,o=a.shape.length,l=[],u=0,c=R.getAxesPermutation([u],o),f=a;c!=null&&(f=la({inputs:{x:a},backend:n,attrs:{perm:c}}),l.push(f),u=R.getInnerMostAxes(1,o)[0]);let d=R.segment_util.computeOutShape(f.shape,u,s),p=A.sizeFromShape([f.shape[u]]),h=Ce({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}});l.push(h);let m=ON(a.dtype),g=(x,S,k,I,N)=>{let T=x.shape[0],L=x.shape[1],E=R.segment_util.segOpComputeOptimalWindowSize(L,N),M={windowSize:E,inSize:L,batchSize:T,numSegments:N},j=new oCt(M,S),D=n.compileAndRun(j,[x,k],I);if(l.push(D),D.shape[1]===N)return D;let F=Ble({backend:n,attrs:{start:0,stop:N,step:1,dtype:"float32"}}),$=Ule({inputs:{x:F},backend:n,attrs:{reps:[L/E]}});return l.push(F),l.push($),g(D,S,$,I,N)},y=g(h,"unsortedSegmentSum",i,m,s),v=Ce({inputs:{x:y},backend:n,attrs:{shape:d}}),b=v;if(c!=null){l.push(v);let x=R.getUndoAxesPermutation(c);b=la({inputs:{x:b},backend:n,attrs:{perm:x}})}return l.forEach(x=>n.disposeIntermediateTensorInfo(x)),b}var uCt={kernelName:bw,backendName:"webgl",kernelFunc:lCt},cCt=[q1t,Q1t,Z1t,tyt,ryt,syt,lyt,cyt,hyt,gyt,byt,Syt,Iyt,Eyt,_yt,$yt,Oyt,zyt,Uyt,Vyt,Yyt,tvt,rvt,ovt,uvt,mvt,yvt,xvt,A1t,Cvt,Evt,jvt,Fvt,Uvt,Vvt,Hvt,Yvt,Zvt,tbt,abt,sbt,lbt,cbt,pbt,mbt,bbt,xbt,Cbt,Mbt,Ebt,jbt,Rbt,Bbt,Vbt,qbt,Ybt,Kbt,Zbt,ewt,nwt,awt,lwt,fwt,hwt,gwt,bwt,Swt,Nwt,Awt,E1t,_wt,Mvt,Dwt,Pwt,Bwt,_1t,Gwt,Qwt,Jwt,txt,axt,lxt,fxt,mxt,bxt,Sxt,Cxt,Txt,Axt,_xt,Oxt,Pxt,zxt,Uxt,Vxt,Yxt,Zxt,n2t,c2t,D1t,h2t,y2t,w2t,k2t,fvt,N2t,T2t,A2t,j2t,R2t,$1t,F2t,B2t,W2t,G2t,H2t,dvt,s2t,Q2t,X2t,rSt,R1t,oSt,cSt,hSt,ySt,xSt,kSt,NSt,ESt,_St,DSt,PSt,BSt,GSt,YSt,ZSt,tkt,Xyt,l2t,akt,skt,lkt,ckt,dkt,hkt,gkt,vkt,wkt,kkt,Ikt,Mkt,Ekt,_kt,$kt,Okt,Pkt,o2t,V1t,Bkt,Vkt,Hkt,Qkt,Xkt,nCt,G1t,aCt,sCt,uCt,M2t];for(let e of cCt)ww(e);var Lt;(function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"})(Lt||(Lt={}));var xb;(function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"})(xb||(xb={}));var Wle;function fCt(e){Wle=e.wasm.cwrap(ed,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])}function dCt(e){let{inputs:t,backend:n,attrs:r}=e,{a,b:i,bias:s,preluActivationWeights:o}=t;if(a.dtype!=="float32"||i.dtype!=="float32")throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");let{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r,d=n.dataIdMap.get(a.dataId).id,p=n.dataIdMap.get(i.dataId).id,h=0;if(s!=null){let N=n.dataIdMap.get(s.dataId);if(N.shape.length!==1)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${N.shape.length}.`);h=N.id}let m=o==null?0:n.dataIdMap.get(o.dataId).id,g=xb[c];if(g==null)throw new Error(`${c} activation not yet supported for FusedConv2D in the wasm backend.`);let y=l?a.shape[2]:a.shape[1],v=u?i.shape[1]:i.shape[2],b=a1.assertAndGetBroadcastShape(a.shape.slice(0,-2),i.shape.slice(0,-2)),x=n.makeOutput([...b,y,v],a.dtype),S=n.dataIdMap.get(x.dataId).id,k=new Uint8Array(new Int32Array(a.shape).buffer),I=new Uint8Array(new Int32Array(i.shape).buffer);return Wle(d,k,a.shape.length,p,I,i.shape.length,l,u,g,h,m,f||0,S),x}var pCt={kernelName:ed,backendName:"wasm",setupFunc:fCt,kernelFunc:dCt};function It(e,t){let n;function r(i){n=i.wasm.cwrap(e,null,["number","number","number"])}function a(i){let{backend:s,inputs:{x:o}}=i,l=s.dataIdMap.get(o.dataId).id,u=s.makeOutput(o.shape,t||o.dtype),c=s.dataIdMap.get(u.dataId).id;return A.sizeFromShape(u.shape)===0||n(l,Lt[o.dtype],c),u}return{kernelName:e,backendName:"wasm",setupFunc:r,kernelFunc:a}}var hCt=It(n0),mCt=It(Od),gCt=It(Rd);function Jn(e,t,n){let r;function a(s){r=s.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])}function i(s){let{backend:o,inputs:l}=s,{a:u,b:c}=l,f=o.dataIdMap.get(u.dataId).id,d=o.dataIdMap.get(c.dataId).id,p=n??u.dtype,h=R.assertAndGetBroadcastShape(u.shape,c.shape),m=o.makeOutput(h,p);if(A.sizeFromShape(h)===0)return m;let g=new Uint8Array(new Int32Array(u.shape).buffer),y=new Uint8Array(new Int32Array(c.shape).buffer),v=o.dataIdMap.get(m.dataId).id;return r(f,g,u.shape.length,d,y,c.shape.length,Lt[u.dtype],v),m}return{kernelName:e,backendName:"wasm",setupFunc:a,kernelFunc:i}}var yCt=Jn(_c),Vle;function vCt(e){Vle=e.wasm.cwrap(Pd,null,["array","number","number","number"])}function bCt(e){let{inputs:t,backend:n}=e,r=n.makeOutput(t[0].shape,t[0].dtype);if(A.sizeFromShape(r.shape)===0)return r;let a=t.map(o=>n.dataIdMap.get(o.dataId).id),i=new Uint8Array(new Int32Array(a).buffer),s=n.dataIdMap.get(r.dataId).id;return Vle(i,a.length,Lt[r.dtype],s),r}var wCt={kernelName:Pd,backendName:"wasm",setupFunc:vCt,kernelFunc:bCt};function GM(e){let{inputs:{x:t},backend:n}=e;if(t.dtype==="string")return ia(n.readSync(t.dataId),t.shape,t.dtype);let r=n.makeOutput(t.shape,t.dtype),a=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(r).set(a),r}var xCt={kernelName:fp,backendName:"wasm",kernelFunc:GM},Gle;function SCt(e){Gle=e.wasm.cwrap(hl,null,["number","array","number","number","number","array","number"])}function vc(e){let{inputs:t,backend:n,attrs:r}=e,[a,i]=CCt(t.x.shape,r.perm),s=!0;for(let h=0;h<i.length;h++)i[h]!==h&&(s=!1);let o=kCt(t.x.shape,r.perm),l={dataId:t.x.dataId,shape:a,dtype:t.x.dtype};if(s){let h=GM({inputs:t,backend:n});return h.shape=o,h}let u=n.makeOutput(o,l.dtype),c=n.dataIdMap.get(l.dataId).id,f=n.dataIdMap.get(u.dataId).id,d=new Uint8Array(new Int32Array(i).buffer),p=new Uint8Array(new Int32Array(l.shape).buffer);return Gle(c,p,l.shape.length,Lt[l.dtype],f,d,i.length),u}function kCt(e,t){let n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];return n}function CCt(e,t){let n=[],r=[];for(let a=0;a<e.length;++a)e[a]!==1&&n.push(e[a]),e[t[a]]!==1&&r.push(t[a]);for(let a=0;a<r.length;++a){let i=-1;for(let s=0;s<r.length;++s)r[s]>=a&&(i===-1||r[i]>r[s])&&(i=s);r[i]=a}return[n,r]}var ICt={kernelName:hl,backendName:"wasm",kernelFunc:vc,setupFunc:SCt};function Wc(e,t,n){let r=e.shape,a=e.shape.length,i=A.parseAxisParam(t,r),s=i,o=R.getAxesPermutation(s,a),l=null,u=!1;if(o!=null){let c=new Array(a);for(let d=0;d<c.length;d++)c[d]=r[o[d]];s=R.getInnerMostAxes(s.length,a),l=vc({inputs:{x:e},attrs:{perm:o},backend:n});let f=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(l.dataId).id!==f&&(u=!0)}return{transposed:l,originalAxes:i,axes:s,inputWasTransposed:u}}var Hle;function NCt(e){Hle=e.wasm.cwrap(r0,null,["number, number, number"])}function MCt(e){let{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:i}=r,{x:s}=n,o=t.dataIdMap.get(s.dataId).id,l=s,{transposed:u,axes:c,originalAxes:f,inputWasTransposed:d}=Wc(s,a,t);if(d){let v=t.dataIdMap.get(u.dataId).id;l=u,o=v}let p=l.shape.length;R.assertAxesAreInnerMostDims("all",c,p);let[h,m]=R.computeOutAndReduceShapes(l.shape,c),g=A.sizeFromShape(m),y=t.makeOutput(h,s.dtype);if(A.sizeFromShape(l.shape)!==0){let v=t.dataIdMap.get(y.dataId).id;Hle(o,g,v)}if(d&&t.disposeData(u.dataId),i){let v=R.expandShapeToKeepDim(y.shape,f);y.shape=v}return y}var TCt={kernelName:r0,backendName:"wasm",setupFunc:NCt,kernelFunc:MCt},qle;function ECt(e){qle=e.wasm.cwrap(a0,null,["number, number, number"])}function ACt(e){let{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:i}=r,{x:s}=n,o=t.dataIdMap.get(s.dataId).id,l=s,{transposed:u,axes:c,originalAxes:f,inputWasTransposed:d}=Wc(s,a,t);if(d){let v=t.dataIdMap.get(u.dataId).id;l=u,o=v}let p=l.shape.length;R.assertAxesAreInnerMostDims("any",c,p);let[h,m]=R.computeOutAndReduceShapes(l.shape,c),g=A.sizeFromShape(m),y=t.makeOutput(h,s.dtype);if(A.sizeFromShape(l.shape)!==0){let v=t.dataIdMap.get(y.dataId).id;qle(o,g,v)}if(d&&t.disposeData(u.dataId),i){let v=R.expandShapeToKeepDim(y.shape,f);y.shape=v}return y}var LCt={kernelName:a0,backendName:"wasm",setupFunc:ECt,kernelFunc:ACt};function Yle(e){let t;function n(a){t=a.wasm.cwrap(e,null,["number","number","number","number","number"])}function r(a){let{backend:i,inputs:s,attrs:o}=a,{axis:l}=o,{x:u}=s,c=i.dataIdMap.get(u.dataId).id,f=c,d=u,{transposed:p,axes:h,inputWasTransposed:m}=Wc(u,l,i);if(m){let S=i.dataIdMap.get(p.dataId).id;S!==c&&(d=p,f=S)}let g=d.shape.slice(0,-1),y=i.makeOutput(g,"int32"),v=i.dataIdMap.get(y.dataId).id,b=A.sizeFromShape(y.shape),x=d.shape[h[0]];return t(f,Lt[d.dtype],b,x,v),m&&i.disposeData(p.dataId),y}return{kernelName:e,backendName:"wasm",setupFunc:n,kernelFunc:r}}var _Ct=Yle(i0),jCt=Yle(s0),$Ct=It(Fd),DCt=It(zd),OCt=It(Bd),RCt=Jn(Wd),PCt=It(Ud),Qle;function FCt(e){Qle=e.wasm.cwrap(Vd,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function zCt(e){let{inputs:t,attrs:n,backend:r}=e,a=t.x,i=r.dataIdMap.get(a.dataId).id,{filterSize:s,strides:o,pad:l,dimRoundingMode:u}=n,c=R.computePool2DInfo(a.shape,s,o,1,l,u),f=c.filterHeight,d=c.filterWidth,p=c.padInfo.top,h=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,y=c.strideHeight,v=c.strideWidth,b=c.inChannels;if(c.dataFormat!=="channelsLast")throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);if(c.dilationWidth!==1||c.dilationHeight!==1)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${c.dilationHeight}, ${c.dilationWidth}].`);let x=r.makeOutput(c.outShape,"float32"),S=r.dataIdMap.get(x.dataId).id;return Qle(i,a.shape[0],a.shape[1],a.shape[2],f,d,p,h,m,g,y,v,b,S),x}var BCt={kernelName:Vd,backendName:"wasm",setupFunc:FCt,kernelFunc:zCt},Kle;function UCt(e){Kle=e.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function WCt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:u}=r,c=R.computePool3DInfo(a.shape,i,s,1,o,l,u),f=n.makeOutput(c.outShape,a.dtype);return Kle(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(f.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),f}var VCt={kernelName:o0,backendName:"wasm",setupFunc:UCt,kernelFunc:WCt},Jle;function GCt(e){Jle=e.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function HCt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:u}=r,c=R.computePool3DInfo(i.shape,s,o,1,l,u),f=n.makeOutput(i.shape,i.dtype);return Jle(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(f.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left,c.filterDepth,c.filterHeight,c.filterWidth),f}var qCt={kernelName:ew,backendName:"wasm",setupFunc:GCt,kernelFunc:HCt},Zle;function YCt(e){Zle=e.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function QCt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l}=r,u=R.computePool2DInfo(i.shape,s,o,1,l),c=n.makeOutput(i.shape,i.dtype);return Zle(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.top,u.padInfo.left,u.filterHeight,u.filterWidth),c}var KCt={kernelName:Xb,backendName:"wasm",setupFunc:YCt,kernelFunc:QCt};function Na(e){let{inputs:t,attrs:n}=e,{x:r}=t,{shape:a}=n,i=A.sizeFromShape(r.shape),s=A.inferFromImplicitShape(a,i);return A.assert(i===A.sizeFromShape(s),()=>`new shape: ${s}, old shape: ${r.shape}. New shape and old shape must have the same number of elements.`),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:s,dtype:r.dtype}}var JCt={kernelName:z0,backendName:"wasm",kernelFunc:Na},Xle;function ZCt(e){Xle=e.wasm.cwrap(Gd,null,["number","array","number","number","array","number","number","number","number"])}function XCt(e){let{inputs:t,backend:n,attrs:r}=e,{a,b:i}=t,{transposeA:s,transposeB:o}=r;if(a.dtype!=="float32"||i.dtype!=="float32")throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");let l=a.shape.length,u=i.shape.length,c=s?a.shape[l-2]:a.shape[l-1],f=o?i.shape[u-1]:i.shape[u-2],d=s?a.shape[l-1]:a.shape[l-2],p=o?i.shape[u-2]:i.shape[u-1],h=a.shape.slice(0,-2),m=i.shape.slice(0,-2),g=A.sizeFromShape(h),y=A.sizeFromShape(m),v=a1.assertAndGetBroadcastShape(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,p]);A.assert(c===f,()=>`Error in matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${a.shape} and ${i.shape} and transposeA=${s} and transposeB=${o} must match.`);let b=s?[g,c,d]:[g,d,c],x=o?[y,p,f]:[y,f,p],S=Na({inputs:{x:a},backend:n,attrs:{shape:b}}),k=Na({inputs:{x:i},backend:n,attrs:{shape:x}}),I=n.dataIdMap.get(S.dataId).id,N=n.dataIdMap.get(k.dataId).id,T=s?S.shape[2]:S.shape[1],L=o?k.shape[1]:k.shape[2],E=Math.max(g,y),M=n.makeOutput([E,T,L],S.dtype),j=n.dataIdMap.get(M.dataId).id,D=new Uint8Array(new Int32Array(S.shape).buffer),F=new Uint8Array(new Int32Array(k.shape).buffer);return Xle(I,D,S.shape.length,N,F,k.shape.length,s,o,j),n.disposeData(S.dataId),n.disposeData(k.dataId),M.shape=v,M}var eIt={kernelName:Gd,backendName:"wasm",setupFunc:ZCt,kernelFunc:XCt};function vd(e){let{inputs:{x:t},attrs:{begin:n,size:r},backend:a}=e,[i,s]=sr.parseSliceParams(t,n,r),o=sr.isSliceContinous(t.shape,i,s),l=a.readSync(t.dataId),u=a.makeOutput(s,t.dtype),c=A.computeStrides(t.shape),f=a.dataIdMap.get(u.dataId);if(o){let h=sr.computeFlatOffset(i,c);return t.dtype==="string"?f.stringBytes=l.slice(h,h+A.sizeFromShape(s)):a.typedArrayFromHeap(u).set(l.subarray(h,h+A.sizeFromShape(s))),u}if(t.dtype==="string"){let h=gC(l,i,s,t.shape,t.dtype);return f.stringBytes=h,u}let d=a.typedArrayFromHeap(u),p=t.shape.length;if(p===2)tIt(l,c[0],d,i,s);else if(p===3)nIt(l,c[0],c[1],d,i,s);else if(p===4)rIt(l,c[0],c[1],c[2],d,i,s);else{let h=gC(l,i,s,t.shape,t.dtype);d.set(h)}return u}function tIt(e,t,n,r,a){let i=0,s=r[0],o=r[1],l=s+a[0];for(let u=s;u<l;u++){let c=u*t+o;n.set(e.subarray(c,c+a[1]),i),i+=a[1]}}function nIt(e,t,n,r,a,i){let s=0,o=a[0],l=a[1],u=a[2],c=o+i[0],f=l+i[1];for(let d=o;d<c;d++)for(let p=l;p<f;p++){let h=d*t+p*n+u;r.set(e.subarray(h,h+i[2]),s),s+=i[2]}}function rIt(e,t,n,r,a,i,s){let o=0,l=i[0],u=i[1],c=i[2],f=l+s[0],d=u+s[1],p=c+s[2],h=i[3];for(let m=l;m<f;m++)for(let g=u;g<d;g++)for(let y=c;y<p;y++){let v=m*t+g*n+y*r+h;a.set(e.subarray(v,v+s[3]),o),o+=s[3]}}var aIt={kernelName:q0,backendName:"wasm",kernelFunc:vd};function iIt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:s}=r,o=i.reduce((y,v)=>y*v),l=R.getReshaped(a.shape,i,o),u=R.getPermuted(l.length,i.length),c=R.getReshapedPermuted(a.shape,i,o),f=R.getSliceBeginCoords(s,i.length),d=R.getSliceSize(c,s,i.length),p=Na({inputs:{x:a},backend:n,attrs:{shape:l}}),h=vc({inputs:{x:p},backend:n,attrs:{perm:u}}),m=Na({inputs:{x:h},backend:n,attrs:{shape:c}}),g=vd({inputs:{x:m},backend:n,attrs:{begin:f,size:d}});return n.disposeData(p.dataId),n.disposeData(h.dataId),n.disposeData(m.dataId),g}var sIt={kernelName:l0,backendName:"wasm",kernelFunc:iIt},eue;function oIt(e){eue=e.wasm.cwrap(u0,null,["number","number","boolean","number","number","number"])}function lIt(e){let{backend:t,inputs:n,attrs:r}=e,{x:a,weights:i}=n,{size:s}=r,o=i.shape.reduce((f,d)=>f*d,1)!==0,l=a.shape.length===1?[s]:[a.shape[0],s],u=t.makeOutput(l,i.dtype);function c(f){return t.dataIdMap.get(f.dataId).id}return eue(c(a),s,o,c(i),Lt[i.dtype],c(u)),u}var uIt={kernelName:u0,backendName:"wasm",setupFunc:oIt,kernelFunc:lIt},cIt=Jn(c0);function fIt(e){let{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.typedArrayFromHeap(r),s=n.typedArrayFromHeap(a),o=R.assertAndGetBroadcastShape(Array.from(i),Array.from(s));return n.makeOutput([o.length],"int32",void 0,new Int32Array(o))}var dIt={kernelName:tw,backendName:"wasm",kernelFunc:fIt};function Vc(e){let{inputs:{x:t},attrs:{dtype:n},backend:r}=e,a=r.makeOutput(t.shape,n),i=r.typedArrayFromHeap(t);return r.typedArrayFromHeap(a).set(i),a}var pIt={kernelName:Hd,backendName:"wasm",kernelFunc:Vc},hIt=It(qd),tue;function mIt(e){tue=e.wasm.cwrap(jc,null,["number","number","number","number"])}function gIt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:i,clipValueMax:s}=r,o=n.dataIdMap.get(a.dataId).id,l=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(l.dataId).id;return tue(o,i,s,u),l}var yIt={kernelName:jc,backendName:"wasm",setupFunc:mIt,kernelFunc:gIt};function nue(e){let{inputs:t,backend:n}=e,r=A.parseAxisParam(e.attrs.axis,t[0].shape)[0],a=t.map(p=>p.shape);R.assertParamsConsistent(a,r);let i=R.computeOutShape(t.map(p=>p.shape),r),s=t.filter(p=>A.sizeFromShape(p.shape)>0);if(s.length===1)return GM({inputs:{x:s[0]},backend:n});let o=n.makeOutput(i,t[0].dtype);if(A.sizeFromShape(i)===0)return o;if(s[0].dtype==="string"){let p=s.map(b=>{let x=[-1,A.sizeFromShape(b.shape.slice(r))];return Na({inputs:{x:b},backend:n,attrs:{shape:x}})}),h=p.map(b=>({vals:n.readSync(b.dataId),shape:b.shape}));i=R.computeOutShape(p.map(b=>b.shape),1);let m=p[0].shape[0]===1,g=KP(h,i,t[0].dtype,m),y=R.computeOutShape(s.map(b=>b.shape),r);o.shape=y;let v=n.dataIdMap.get(o.dataId);return v.stringBytes=R.fromStringArrayToUint8(g),p.forEach(b=>n.disposeData(b.dataId)),o}let l=A.sizeFromShape(s[0].shape.slice(0,r)),u=0,c=s.map(p=>{let h=A.sizeFromShape(p.shape.slice(r));return u+=h,h}),f=s.map(p=>n.typedArrayFromHeap(p)),d=n.typedArrayFromHeap(o);for(let p=0;p<l;p++){let h=p*u;for(let m=0;m<f.length;m++){let g=c[m],y=p*g,v=f[m].subarray(y,y+g);d.set(v,h),h+=g}}return o}var vIt={kernelName:f0,backendName:"wasm",kernelFunc:nue},rue;function bIt(e){rue=e.wasm.cwrap(Yd,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function wIt(e){let{inputs:t,attrs:n,backend:r}=e,{x:a,filter:i}=t,s=r.dataIdMap.get(a.dataId).id,o=r.dataIdMap.get(i.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:f,dataFormat:d}=n,p=R.convertConv2DDataFormat(d),h=R.computeConv2DInfo(a.shape,i.shape,l,u,c,f,!1,p),m=h.filterHeight,g=h.filterWidth,y=h.padInfo.top,v=h.padInfo.right,b=h.padInfo.bottom,x=h.padInfo.left,S=h.dilationHeight,k=h.dilationWidth,I=h.strideHeight,N=h.strideWidth,T=h.inChannels,L=h.outChannels,E=h.padInfo.type==="SAME"?1:0;if(h.dataFormat!=="channelsLast")throw new Error(`wasm backend Conv2D does not support dataFormat:'${h.dataFormat}'. Please use 'channelsLast'.`);let M=r.makeOutput(h.outShape,"float32"),j=r.dataIdMap.get(M.dataId).id;return rue(s,a.shape[0],a.shape[1],a.shape[2],o,m,g,y,v,b,x,E,S,k,I,N,T,L,j),M}var xIt={kernelName:Yd,backendName:"wasm",setupFunc:bIt,kernelFunc:wIt},aue;function SIt(e){aue=e.wasm.cwrap(Qd,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function kIt(e){let{backend:t,inputs:n,attrs:r}=e,{dy:a,filter:i}=n,{strides:s,pad:o,dataFormat:l,dimRoundingMode:u,inputShape:c}=r,f=1,d=R.convertConv2DDataFormat(l),p=R.computeConv2DInfo(c,i.shape,s,f,o,u,!1,d),{batchSize:h,filterHeight:m,filterWidth:g,inChannels:y,inHeight:v,inWidth:b,outChannels:x,outHeight:S,outWidth:k,strideHeight:I,strideWidth:N}=p,T=m-1-p.padInfo.top,L=g-1-p.padInfo.left,E=p.dataFormat==="channelsLast",M=A.computeStrides(p.inShape),j=A.computeStrides(a.shape),[D,F,$]=A.computeStrides(i.shape),B=M[0],O=E?M[1]:M[2],P=E?M[2]:1,W=E?1:M[1],H=j[0],q=E?j[1]:j[2],J=E?j[2]:1,re=E?1:j[1],ce=t.makeOutput(p.inShape,"float32"),ye=t.dataIdMap.get(ce.dataId).id,he=t.dataIdMap.get(a.dataId).id,me=t.dataIdMap.get(i.dataId).id;return aue(he,me,h,m,g,v,b,y,S,k,x,I,N,T,L,D,F,$,B,O,P,W,H,q,J,re,ye),ce}var CIt={kernelName:Qd,backendName:"wasm",setupFunc:SIt,kernelFunc:kIt},iue;function IIt(e){iue=e.wasm.cwrap(Kd,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function NIt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r;if(a.dtype!=="float32")throw new Error(`Tensor x must have dtype float32, got ${a.dtype}`);if(i.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${i.dtype}`);let u=R.computeConv3DInfo(a.shape,i.shape,s,l,o),c=n.makeOutput(u.outShape,a.dtype);return iue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}var MIt={kernelName:Kd,backendName:"wasm",setupFunc:IIt,kernelFunc:NIt},sue;function TIt(e){sue=e.wasm.cwrap(d0,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function EIt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,filterShape:l}=r;if(a.dtype!=="float32")throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if(i.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${i.dtype}`);let u=R.computeConv3DInfo(a.shape,l,s,1,o),c=n.makeOutput(u.filterShape,i.dtype);return sue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}var AIt={kernelName:d0,backendName:"wasm",setupFunc:TIt,kernelFunc:EIt},oue;function LIt(e){oue=e.wasm.cwrap(p0,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function _It(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:s,strides:o,inputShape:l}=r;if(a.dtype!=="float32")throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if(i.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${i.dtype}`);let u=R.computeConv3DInfo(l,i.shape,o,1,s),c=n.makeOutput(u.inShape,a.dtype);return oue(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}var jIt={kernelName:p0,backendName:"wasm",setupFunc:LIt,kernelFunc:_It},$It=It(Jd),DIt=It(Zd),n_;(function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"})(n_||(n_={}));var lue;function OIt(e){lue=e.wasm.cwrap(m0,null,["number","number","number","number","array","number","number","number","number","number"])}function RIt(e){let{backend:t,inputs:n,attrs:r}=e,{method:a,extrapolationValue:i,cropSize:s}=r,{image:o,boxes:l,boxInd:u}=n,c=l.shape[0],[f,d]=s,p=[c,f,d,o.shape[3]],h=t.dataIdMap.get(o.dataId),m;o.dtype!=="float32"&&(m=Vc({backend:t,inputs:{x:o},attrs:{dtype:"float32"}}),h=t.dataIdMap.get(m.dataId));let g=h.id,y=t.dataIdMap.get(l.dataId).id,v=t.dataIdMap.get(u.dataId).id,b=t.makeOutput(p,"float32"),x=t.dataIdMap.get(b.dataId).id,S=new Uint8Array(new Int32Array(o.shape).buffer);return lue(g,y,v,c,S,f,d,n_[a],i,x),m!=null&&t.disposeData(m.dataId),b}var PIt={kernelName:m0,backendName:"wasm",setupFunc:OIt,kernelFunc:RIt},uue;function FIt(e){uue=e.wasm.cwrap(h0,null,["number","number","number","number","number","number"])}function zIt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r,l=a.shape.length;A.assert(a.dtype==="float32"||a.dtype==="int32",()=>`cumprod does not support ${a.dtype} tensors in the WASM backend`);let u=R.getAxesPermutation([i],l),c=a;u!==null&&(c=vc({inputs:{x:a},attrs:{perm:u},backend:n}));let f=R.getInnerMostAxes(1,l)[0];R.assertAxesAreInnerMostDims("cumprod",[f],l);let d=n.makeOutput(c.shape,c.dtype),p=c.shape[f],h=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(d.dataId).id;uue(h,s?1:0,o?1:0,p,m,Lt[a.dtype]);let g=d;if(u!==null){let y=R.getUndoAxesPermutation(u);g=vc({inputs:{x:d},attrs:{perm:y},backend:n}),n.disposeData(c.dataId),n.disposeData(d.dataId)}return g}var BIt={kernelName:h0,backendName:"wasm",setupFunc:FIt,kernelFunc:zIt},cue;function UIt(e){cue=e.wasm.cwrap(Xd,null,["number","number","number","number","number","number"])}function WIt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r,l=a.shape.length;A.assert(a.dtype==="float32"||a.dtype==="int32",()=>`cumsum does not support ${a.dtype} tensors in the WASM backend`);let u=R.getAxesPermutation([i],l),c=a;u!==null&&(c=vc({inputs:{x:a},attrs:{perm:u},backend:n}));let f=R.getInnerMostAxes(1,l)[0];R.assertAxesAreInnerMostDims("cumsum",[f],l);let d=n.makeOutput(c.shape,c.dtype),p=c.shape[f],h=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(d.dataId).id;cue(h,s?1:0,o?1:0,p,m,Lt[a.dtype]);let g=d;if(u!==null){let y=R.getUndoAxesPermutation(u);g=vc({inputs:{x:d},attrs:{perm:y},backend:n}),n.disposeData(c.dataId),n.disposeData(d.dataId)}return g}var VIt={kernelName:Xd,backendName:"wasm",setupFunc:UIt,kernelFunc:WIt},fue;function GIt(e){fue=e.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])}function HIt(e){let{backend:t,inputs:n,attrs:r}=e,{x:a,weights:i}=n,{size:s,binaryOutput:o}=r,l=i.shape.reduce((d,p)=>d*p,1)!==0,u=a.shape.length===1?[s]:[a.shape[0],s],c=t.makeOutput(u,i.dtype);function f(d){return t.dataIdMap.get(d.dataId).id}return fue(f(a),new Uint8Array(new Int32Array(a.shape).buffer),a.shape.length,s,l,f(i),Lt[i.dtype],o,f(c)),c}var qIt={kernelName:rw,backendName:"wasm",setupFunc:GIt,kernelFunc:HIt},due;function YIt(e){due=e.wasm.cwrap(g0,null,["number","number","number","array","number","array","array","number","number"])}function QIt(e){let{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{blockSize:i,dataFormat:s}=r,o=a.shape[0],l=s==="NHWC"?a.shape[1]:a.shape[2],u=s==="NHWC"?a.shape[2]:a.shape[3],c=s==="NHWC"?a.shape[3]:a.shape[1],f=l*i,d=u*i,p=c/(i*i),h=s==="NHWC"?[o,f,d,p]:[o,p,f,d],m=t.makeOutput(h,"float32"),g=t.dataIdMap.get(a.dataId).id,y=new Uint8Array(new Int32Array(A.computeStrides(a.shape)).buffer),v=new Uint8Array(new Int32Array(h).buffer),b=new Uint8Array(new Int32Array(A.computeStrides(h)).buffer),x=t.dataIdMap.get(m.dataId).id;return due(g,i,s==="NHWC"?1:0,y,a.shape.length-1,v,b,h.length,x),m}var KIt={kernelName:g0,backendName:"wasm",setupFunc:YIt,kernelFunc:QIt},pue;function JIt(e){pue=e.wasm.cwrap(ep,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function ZIt(e){let{inputs:t,attrs:n,backend:r}=e,{x:a,filter:i}=t,s=r.dataIdMap.get(a.dataId).id,o=r.dataIdMap.get(i.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:f}=n,d=u??[1,1],p=R.computeConv2DInfo(a.shape,i.shape,l,d,c,f,!0),h=p.filterHeight,m=p.filterWidth,g=p.padInfo.top,y=p.padInfo.right,v=p.padInfo.bottom,b=p.padInfo.left,x=p.dilationHeight,S=p.dilationWidth,k=p.strideHeight,I=p.strideWidth,N=p.inChannels,T=p.outChannels,L=p.padInfo.type==="SAME"?1:0;if(p.dataFormat!=="channelsLast")throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${p.dataFormat}'. Please use 'channelsLast'.`);let E=r.makeOutput(p.outShape,"float32"),M=r.dataIdMap.get(E.dataId).id;return pue(s,a.shape[0],a.shape[1],a.shape[2],o,h,m,g,y,v,b,L,x,S,k,I,N,T,M),E}var XIt={kernelName:ep,backendName:"wasm",setupFunc:JIt,kernelFunc:ZIt},hue;function eNt(e){hue=e.wasm.cwrap("Diag",null,["number","number","number","number"])}function tNt(e){let{inputs:t,backend:n}=e,{x:r}=t,a=A.sizeFromShape(r.shape),i=n.makeOutput([...r.shape,...r.shape],r.dtype);return hue(n.dataIdMap.get(r.dataId).id,Lt[r.dtype],a,n.dataIdMap.get(i.dataId).id),i}var nNt={kernelName:aw,backendName:"wasm",setupFunc:eNt,kernelFunc:tNt},mue;function rNt(e){mue=e.wasm.cwrap(tp,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function aNt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r;if(a.dtype!==i.dtype)throw new Error(`Dilation2D error: x must have the same dtype as filter. Got ${a.dtype} and ${i.dtype}`);let u=R.computeDilation2DInfo(a.shape,i.shape,s,o,"NHWC",l),c=n.makeOutput(u.outShape,a.dtype);return mue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(c.dataId).id,Lt[a.dtype],u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.filterHeight,u.filterWidth,u.padInfo.top,u.padInfo.left),c}var iNt={kernelName:tp,backendName:"wasm",setupFunc:rNt,kernelFunc:aNt},gue;function sNt(e){gue=e.wasm.cwrap(fg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function oNt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,dy:s}=t,{strides:o,pad:l,dilations:u}=r;if(a.dtype!==i.dtype||a.dtype!==s.dtype)throw new Error(`Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${i.dtype}, and ${s.dtype}`);let c=R.computeDilation2DInfo(a.shape,i.shape,o,l,"NHWC",u),f=n.makeOutput(i.shape,i.dtype);return gue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(f.dataId).id,Lt[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),f}var lNt={kernelName:fg,backendName:"wasm",setupFunc:sNt,kernelFunc:oNt},yue;function uNt(e){yue=e.wasm.cwrap(cg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function cNt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,dy:s}=t,{strides:o,pad:l,dilations:u}=r;if(a.dtype!==i.dtype||a.dtype!==s.dtype)throw new Error(`Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${i.dtype}, and ${s.dtype}`);let c=R.computeDilation2DInfo(a.shape,i.shape,o,l,"NHWC",u),f=n.makeOutput(a.shape,a.dtype);return yue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(f.dataId).id,Lt[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),f}var fNt={kernelName:cg,backendName:"wasm",setupFunc:uNt,kernelFunc:cNt},dNt=It(rp),vue;function pNt(e){vue=e.wasm.cwrap(y0,null,["number","number","number"])}function hNt(e){let{inputs:t,backend:n}=e,{dy:r,y:a}=t,i=n.makeOutput(a.shape,"float32"),s=o=>n.dataIdMap.get(o.dataId).id;return vue(s(a),s(r),s(i)),i}var mNt={kernelName:y0,backendName:"wasm",setupFunc:pNt,kernelFunc:hNt},gNt=!1,yNt=Jn(v0,gNt,"bool"),vNt=It(ap),bNt=It(ip,"float32");function r_(e){let{inputs:t,attrs:n,backend:r}=e,{input:a}=t,{dim:i}=n,s=a.shape.length,o=a.shape.slice(),l=i;return i<0&&(A.assert(-(s+1)<=i,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+i+1),o.splice(l,0,1),Na({inputs:{x:a},backend:r,attrs:{shape:o}})}var wNt={kernelName:b0,backendName:"wasm",kernelFunc:r_},xNt=It(sp,"float32");function bue(e){let{attrs:{shape:t,value:n},backend:r}=e,{attrs:{dtype:a}}=e;a=a||A.inferDtype(n);let i=r.makeOutput(t,a);return r.typedArrayFromHeap(i).fill(n),i}var SNt={kernelName:iw,backendName:"wasm",kernelFunc:bue},wue;function kNt(e){wue=e.wasm.cwrap(w0,null,["number","number","number","number","number","number"])}function CNt(e){let{inputs:t,backend:n}=e,{image:r}=t,a=n.makeOutput(r.shape,r.dtype),i=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(a.dataId).id,[o,l,u,c]=r.shape;return wue(i,o,l,u,c,s),a}var INt={kernelName:w0,backendName:"wasm",kernelFunc:CNt,setupFunc:kNt},NNt=It(op),MNt=Jn(lp),xue;function TNt(e){xue=e.wasm.cwrap(up,null,["number","number","number","number","number","number","number"])}function ENt(e){let{backend:t,inputs:n,attrs:r}=e,{varianceEpsilon:a}=r,{x:i,mean:s,variance:o,offset:l,scale:u}=n,c=t.dataIdMap.get(i.dataId).id,f=t.dataIdMap.get(s.dataId).id,d=t.dataIdMap.get(o.dataId).id,p=l!=null?t.dataIdMap.get(l.dataId).id:0,h=u!=null?t.dataIdMap.get(u.dataId).id:0,m=t.makeOutput(i.shape,i.dtype);if(A.sizeFromShape(i.shape)===0)return m;let g=t.dataIdMap.get(m.dataId).id;return xue(c,f,d,p,h,a,g),m}var ANt={kernelName:up,backendName:"wasm",setupFunc:TNt,kernelFunc:ENt},Sue;function LNt(e){Sue=e.wasm.cwrap(td,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function _Nt(e){let{inputs:t,attrs:n,backend:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dilations:c,dataFormat:f,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=n,m=R.computeConv2DInfo(a.shape,i.shape,l,c,u,d),g=xb[p];if(g==null)throw new Error(`${p} activation not yet supported for FusedConv2D in the wasm backend.`);let y=r.dataIdMap.get(a.dataId).id,v=r.dataIdMap.get(i.dataId).id,b=m.outChannels,x=0;if(s!=null){let J=r.dataIdMap.get(s.dataId);if(J.shape.length!==1)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${J.shape.length}.`);if(J.shape[0]!==b)throw new Error(`FusedConv2D bias shape (${J.shape}) does not match the number of output channels (${b})`);x=J.id}let S=m.filterHeight,k=m.filterWidth,I=m.padInfo.top,N=m.padInfo.right,T=m.padInfo.bottom,L=m.padInfo.left,E=m.dilationHeight,M=m.dilationWidth,j=m.strideHeight,D=m.strideWidth,F=m.inChannels,$=m.padInfo.type==="SAME"?1:0,B=m.batchSize,O=m.inHeight,P=m.inWidth;if(f!=="NHWC")throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${f}'. Please use 'NHWC'.`);let W=r.makeOutput(m.outShape,"float32"),H=r.dataIdMap.get(W.dataId).id,q=o==null?0:r.dataIdMap.get(o.dataId).id;return Sue(y,B,O,P,v,S,k,x,I,N,T,L,$,E,M,j,D,F,b,g,q,h||0,H),W}var jNt={kernelName:td,backendName:"wasm",setupFunc:LNt,kernelFunc:_Nt},kue;function $Nt(e){kue=e.wasm.cwrap(nd,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function DNt(e){let{inputs:t,attrs:n,backend:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dilations:c,dataFormat:f,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=n,m=R.computeConv2DInfo(a.shape,i.shape,l,c,u,d,!0),g=xb[p];if(g==null)throw new Error(`${p} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);let y=r.dataIdMap.get(a.dataId).id,v=r.dataIdMap.get(i.dataId).id,b=m.outChannels,x=0;if(s!=null){let J=r.dataIdMap.get(s.dataId);if(J.shape.length!==1)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${J.shape.length}.`);if(J.shape[0]!==b)throw new Error(`FusedDepthwiseConv2D bias shape (${J.shape}) does not match the number of output channels (${b})`);x=J.id}let S=m.filterHeight,k=m.filterWidth,I=m.padInfo.top,N=m.padInfo.right,T=m.padInfo.bottom,L=m.padInfo.left,E=m.dilationHeight,M=m.dilationWidth,j=m.strideHeight,D=m.strideWidth,F=m.inChannels,$=m.padInfo.type==="SAME"?1:0,B=m.batchSize,O=m.inHeight,P=m.inWidth;if(f!=="NHWC")throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${f}'. Please use 'NHWC'.`);let W=r.makeOutput(m.outShape,"float32"),H=r.dataIdMap.get(W.dataId).id,q=o==null?0:r.dataIdMap.get(o.dataId).id;return kue(y,B,O,P,v,S,k,x,I,N,T,L,$,E,M,j,D,F,b,g,q,h||0,H),W}var ONt={kernelName:nd,backendName:"wasm",setupFunc:$Nt,kernelFunc:DNt},Cue;function RNt(e){Cue=e.wasm.cwrap(S0,null,["number","number","number","number","number","number","array","number"])}function PNt(e){let{backend:t,inputs:n}=e,{params:r,indices:a}=n,[i,s,o,l]=lR.prepareAndValidate(r,a),u=t.makeOutput(i,r.dtype);if(s===0)return u;let c=a.shape,f=c[c.length-1],d=t.dataIdMap.get(r.dataId).id,p=t.dataIdMap.get(a.dataId).id,h=new Uint8Array(new Int32Array(l).buffer),m=t.dataIdMap.get(u.dataId).id;return Cue(d,Lt[r.dtype],p,s,f,o,h,m),u}var FNt={kernelName:S0,backendName:"wasm",setupFunc:RNt,kernelFunc:PNt},Iue;function zNt(e){Iue=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])}function BNt(e){let{backend:t,inputs:n,attrs:r}=e,{x:a,indices:i}=n,{axis:s,batchDims:o}=r,l=A.parseAxisParam(s,a.shape)[0],u=t.readSync(i.dataId),c=a.shape[l];for(let I=0;I<u.length;++I){let N=u[I];A.assert(N<=c-1&&N>=0,()=>`GatherV2: the index value ${N} is not in [0, ${c-1}]`)}let f=R.segment_util.collectGatherOpShapeInfo(a,i,l,o),d=Na({inputs:{x:a},attrs:{shape:[f.batchSize,f.outerSize,f.dimSize,f.sliceSize]},backend:t}),p=A.sizeFromShape(i.shape),h=Na({inputs:{x:i},attrs:{shape:[f.batchSize,p/f.batchSize]},backend:t}),m=[f.batchSize,f.outerSize,p/f.batchSize,f.sliceSize],g=t.makeOutput(m,a.dtype);if(A.sizeFromShape(a.shape)===0)return g;let y=d.shape.length-1,v=t.dataIdMap.get(d.dataId).id,b=t.dataIdMap.get(h.dataId).id,x=t.dataIdMap.get(g.dataId).id,S=new Uint8Array(new Int32Array(A.computeStrides(d.shape)).buffer),k=new Uint8Array(new Int32Array(A.computeStrides(m)).buffer);return Iue(v,Lt[a.dtype],S,y,b,f.batchSize,k,x),t.disposeData(d.dataId),t.disposeData(h.dataId),g.shape=f.outputShape,g}var UNt={kernelName:x0,backendName:"wasm",setupFunc:zNt,kernelFunc:BNt},WNt=!1,VNt=Jn(k0,WNt,"bool"),GNt=!1,HNt=Jn(cp,GNt,"bool"),qNt=It(dp,"bool"),YNt=It(pp,"bool"),QNt=It(hp,"bool"),Nue;function KNt(e){Nue=e.wasm.cwrap(mp,null,["number","number","number","number"])}function JNt(e){let{inputs:{x:t},attrs:{alpha:n},backend:r}=e,a=r.dataIdMap.get(t.dataId).id,i=r.makeOutput(t.shape,"float32");if(A.sizeFromShape(t.shape)!==0){let s=r.dataIdMap.get(i.dataId).id;Nue(a,Lt[t.dtype],n,s)}return i}var ZNt={kernelName:mp,backendName:"wasm",setupFunc:KNt,kernelFunc:JNt},XNt=!1,eMt=Jn(C0,XNt,"bool"),tMt=!1,nMt=Jn(I0,tMt,"bool"),Mue;function rMt(e){Mue=e.wasm.cwrap(N0,null,["number","number","number","number"])}function aMt(e){let{attrs:t,backend:n}=e,{start:r,stop:a,num:i}=t,s=Math.floor(i),o=n.makeOutput([s],"float32");return Mue(n.dataIdMap.get(o.dataId).id,r,a,s),o}var iMt={kernelName:N0,backendName:"wasm",setupFunc:rMt,kernelFunc:aMt},sMt=It(gp),oMt=It(yp),lMt=!1,uMt=Jn(M0,lMt,"bool"),cMt=It(T0),fMt=!1,dMt=Jn(E0,fMt,"bool"),pMt=!1,hMt=Jn(Nte,pMt,"bool"),Tue;function mMt(e){Tue=e.wasm.cwrap(vp,null,["number","number","number","number","number","number","number"])}function gMt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:s,alpha:o,beta:l}=r;if(a.dtype!=="float32")throw new Error("LRN error: x must have dtype float32");let u=n.makeOutput(a.shape,a.dtype);return Tue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(u.dataId).id,a.shape[3],i,s,o,l),u}var yMt={kernelName:vp,backendName:"wasm",setupFunc:mMt,kernelFunc:gMt},Eue;function vMt(e){Eue=e.wasm.cwrap(A0,null,["number","number","number","number","number","number","number","number","number"])}function bMt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:s}=t,{depthRadius:o,bias:l,alpha:u,beta:c}=r;if(a.dtype!=="float32"||i.dtype!=="float32"||s.dtype!=="float32")throw new Error("LRNGrad error: x, y, and dy must have dtype float32");let f=n.makeOutput(a.shape,a.dtype);return Eue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(f.dataId).id,s.shape[3],o,l,u,c),f}var wMt={kernelName:A0,backendName:"wasm",setupFunc:vMt,kernelFunc:bMt},Aue;function xMt(e){Aue=e.wasm.cwrap(bp,null,["number","number","number","number"])}function SMt(e){let{backend:t,inputs:n,attrs:r}=e,{reductionIndices:a,keepDims:i}=r,{x:s}=n,o=t.dataIdMap.get(s.dataId).id,l=s,{transposed:u,axes:c,originalAxes:f,inputWasTransposed:d}=Wc(s,a,t);if(d){let v=t.dataIdMap.get(u.dataId).id;l=u,o=v}let p=l.shape.length;R.assertAxesAreInnerMostDims("max",c,p);let[h,m]=R.computeOutAndReduceShapes(l.shape,c),g=A.sizeFromShape(m),y=t.makeOutput(h,s.dtype);if(A.sizeFromShape(l.shape)!==0){let v=t.dataIdMap.get(y.dataId).id;Aue(o,Lt[s.dtype],g,v)}if(d&&t.disposeData(u.dataId),i){let v=R.expandShapeToKeepDim(y.shape,f);y.shape=v}return y}var kMt={kernelName:bp,backendName:"wasm",setupFunc:xMt,kernelFunc:SMt},CMt=Jn(wp),Lue;function IMt(e){Lue=e.wasm.cwrap(xp,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function NMt(e){let{inputs:t,attrs:n,backend:r}=e,a=t.x,i=r.dataIdMap.get(a.dataId).id;A.assert(a.dtype==="float32",()=>`Error in MaxPool: only float32 input is supported. Got ${a.dtype}.`);let{filterSize:s,strides:o,pad:l,dimRoundingMode:u}=n,c=R.computePool2DInfo(a.shape,s,o,1,l,u),f=c.filterHeight,d=c.filterWidth,p=c.padInfo.top,h=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,y=c.dilationHeight,v=c.dilationWidth,b=c.strideHeight,x=c.strideWidth,S=c.inChannels,k=c.outChannels;if(c.dataFormat!=="channelsLast")throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);let I=r.makeOutput(c.outShape,"float32"),N=r.dataIdMap.get(I.dataId).id;return Lue(i,a.shape[0],a.shape[1],a.shape[2],f,d,p,h,m,g,y,v,b,x,S,k,N),I}var MMt={kernelName:xp,backendName:"wasm",setupFunc:IMt,kernelFunc:NMt},_ue;function TMt(e){_ue=e.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function EMt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:u}=r,c=R.computePool3DInfo(a.shape,i,s,1,o,l,u),f=n.makeOutput(c.outShape,a.dtype);return _ue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(f.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),f}var AMt={kernelName:L0,backendName:"wasm",setupFunc:TMt,kernelFunc:EMt},jue;function LMt(e){jue=e.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function _Mt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:u}=r,c=R.computePool3DInfo(i.shape,s,o,1,l,u),f=n.makeOutput(i.shape,i.dtype);return jue(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(f.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),f}var jMt={kernelName:ow,backendName:"wasm",setupFunc:LMt,kernelFunc:_Mt},$ue;function $Mt(e){$ue=e.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function DMt(e){let{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:u}=r,c=R.computePool2DInfo(i.shape,s,o,1,l,u),f=n.makeOutput(i.shape,i.dtype);return $ue(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(f.dataId).id,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),f}var OMt={kernelName:sw,backendName:"wasm",setupFunc:$Mt,kernelFunc:DMt},Due;function RMt(e){Due=e.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function PMt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,includeBatchInIndex:l}=r;A.assert(a.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`);let u=[1,1];A.assert(R.eitherStridesOrDilationsAreOne(s,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);let c=R.computePool2DInfo(a.shape,i,s,[1,1],o),f=n.makeOutput(c.outShape,a.dtype),d=n.makeOutput(c.outShape,"int32");return Due(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(f.dataId).id,n.dataIdMap.get(d.dataId).id,Lt[a.dtype],l,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),[f,d]}var FMt={kernelName:lw,backendName:"wasm",setupFunc:RMt,kernelFunc:PMt},Oue;function zMt(e){Oue=e.wasm.cwrap(Sp,null,["number, number, number"])}function BMt(e){let{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:i}=r,{x:s}=n,o=t.dataIdMap.get(s.dataId).id,l=o,u=s,{transposed:c,axes:f,originalAxes:d,inputWasTransposed:p}=Wc(s,a,t),h=f;if(p){let x=t.dataIdMap.get(c.dataId).id;x!==o&&(u=c,l=x,h=R.getInnerMostAxes(h.length,u.shape.length))}R.assertAxesAreInnerMostDims("mean",h,u.shape.length);let[m,g]=R.computeOutAndReduceShapes(u.shape,h),y=A.sizeFromShape(g),v=u;u.dtype!=="float32"&&(v=Vc({backend:t,inputs:{x:u},attrs:{dtype:"float32"}}),l=t.dataIdMap.get(v.dataId).id);let b=t.makeOutput(m,"float32");if(A.sizeFromShape(u.shape)!==0){let x=t.dataIdMap.get(b.dataId).id;Oue(l,y,x)}if(p&&t.disposeData(c.dataId),i){let x=R.expandShapeToKeepDim(b.shape,d);b.shape=x}return u.dtype!=="float32"&&t.disposeData(v.dataId),b}var UMt={kernelName:Sp,backendName:"wasm",setupFunc:zMt,kernelFunc:BMt},Rue;function WMt(e){Rue=e.wasm.cwrap(kp,null,["number","number","number","number"])}function VMt(e){let{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:i}=r,{x:s}=n,o=t.dataIdMap.get(s.dataId).id,l=o,u=s,{transposed:c,axes:f,originalAxes:d,inputWasTransposed:p}=Wc(s,a,t);if(p){let b=t.dataIdMap.get(c.dataId).id;b!==o&&(u=c,l=b)}let h=u.shape.length;R.assertAxesAreInnerMostDims("min",f,h);let[m,g]=R.computeOutAndReduceShapes(u.shape,f),y=A.sizeFromShape(g),v=t.makeOutput(m,u.dtype);if(A.sizeFromShape(u.shape)!==0){let b=t.dataIdMap.get(v.dataId).id;Rue(l,Lt[s.dtype],y,b)}if(p&&t.disposeData(c.dataId),i){let b=R.expandShapeToKeepDim(v.shape,d);v.shape=b}return v}var GMt={kernelName:kp,backendName:"wasm",setupFunc:WMt,kernelFunc:VMt},HMt=Jn(Cp),a_;(function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"})(a_||(a_={}));var Pue;function qMt(e){Pue=e.wasm.cwrap(Ip,null,["number","array","number","number","array","array","number","number"])}function YMt(e){let{inputs:{x:t},backend:n,attrs:{paddings:r,mode:a}}=e,i=r.map((h,m)=>h[0]+t.shape[m]+h[1]),s=n.dataIdMap.get(t.dataId).id,o=n.makeOutput(i,t.dtype),l=n.dataIdMap.get(o.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map(h=>h[0]),f=r.map(h=>h[1]),d=new Uint8Array(new Int32Array(c).buffer),p=new Uint8Array(new Int32Array(f).buffer);return Pue(s,u,t.shape.length,Lt[t.dtype],d,p,a_[a],l),o}var QMt={kernelName:Ip,backendName:"wasm",kernelFunc:YMt,setupFunc:qMt},Fue;function KMt(e){Fue=e.wasm.cwrap(Qp,null,["number","number","number","number"])}function zue(e){let{backend:t,inputs:{logits:n},attrs:{dim:r}}=e,a=t.dataIdMap.get(n.dataId).id,i=t.makeOutput(n.shape,n.dtype),s=t.dataIdMap.get(i.dataId).id,o=n.shape[r],l=A.sizeFromShape(n.shape)/o;return A.sizeFromShape(i.shape)===0||Fue(a,s,o,l),i}var JMt={kernelName:Qp,backendName:"wasm",setupFunc:KMt,kernelFunc:zue},Bue;function ZMt(e){Bue=e.wasm.cwrap(_0,null,["number","number","number","number","number","number"])}function XMt(e){let{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:s,normalized:o}=r;if(a.dtype!=="float32")throw new Error(`Tensor logits must have dtype float32, got ${a.dtype}`);let l=o?a:zue({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),[u,c]=l.shape,f=n.makeOutput([u,i],"int32");return Bue(n.dataIdMap.get(l.dataId).id,u,c,i,s,n.dataIdMap.get(f.dataId).id),o||n.disposeData(l.dataId),f}var eTt={kernelName:_0,backendName:"wasm",setupFunc:ZMt,kernelFunc:XMt},tTt=Jn(Np),nTt=Jn(Mp),rTt=It(j0);function I6(e,t){let n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),r=n[0],a=n[1],i=n[2],s=n[3];return e.wasm._free(t),{pSelectedIndices:r,selectedSize:a,pSelectedScores:i,pValidOutputs:s}}var Uue;function aTt(e){Uue=e.wasm.cwrap(D0,"number",["number","number","number","number","number"])}function iTt(e){let{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:i,scoreThreshold:s}=r,{boxes:o,scores:l}=n,u=t.dataIdMap.get(o.dataId).id,c=t.dataIdMap.get(l.dataId).id,f=Uue(u,c,i,a,s),{pSelectedIndices:d,selectedSize:p,pSelectedScores:h,pValidOutputs:m}=I6(t,f);return t.wasm._free(h),t.wasm._free(m),t.makeOutput([p],"int32",d)}var sTt={kernelName:D0,backendName:"wasm",setupFunc:aTt,kernelFunc:iTt},Wue;function oTt(e){Wue=e.wasm.cwrap(O0,"number",["number","number","number","number","number","bool"])}function lTt(e){let{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:i,scoreThreshold:s,padToMaxOutputSize:o}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,f=t.dataIdMap.get(u.dataId).id,d=Wue(c,f,i,a,s,o),{pSelectedIndices:p,selectedSize:h,pSelectedScores:m,pValidOutputs:g}=I6(t,d);t.wasm._free(m);let y=t.makeOutput([h],"int32",p),v=t.makeOutput([],"int32",g);return[y,v]}var uTt={kernelName:O0,backendName:"wasm",setupFunc:oTt,kernelFunc:lTt},Vue;function cTt(e){Vue=e.wasm.cwrap(R0,"number",["number","number","number","number","number","number"])}function fTt(e){let{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:i,scoreThreshold:s,softNmsSigma:o}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,f=t.dataIdMap.get(u.dataId).id,d=Vue(c,f,i,a,s,o),{pSelectedIndices:p,selectedSize:h,pSelectedScores:m,pValidOutputs:g}=I6(t,d);t.wasm._free(g);let y=t.makeOutput([h],"int32",p),v=t.makeOutput([h],"float32",m);return[y,v]}var dTt={kernelName:R0,backendName:"wasm",setupFunc:cTt,kernelFunc:fTt},pTt=!1,hTt=Jn($0,pTt,"bool"),Gue;function mTt(e){Gue=e.wasm.cwrap(Tp,null,["number","number","number","number","number"])}function gTt(e){let{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:s,onValue:o,offValue:l}=r,u=n.makeOutput([...a.shape,s],i),c=n.dataIdMap.get(u.dataId).id,f=n.dataIdMap.get(a.dataId).id;return Gue(f,s,o,l,c),u}var yTt={kernelName:Tp,backendName:"wasm",setupFunc:mTt,kernelFunc:gTt};function vTt(e){let{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(1),r}var bTt={kernelName:P0,backendName:"wasm",kernelFunc:vTt};function wTt(e){let{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(t.length===1)return r_({inputs:{input:t[0]},backend:n,attrs:{dim:a}});let i=t[0].shape,s=t[0].dtype;t.forEach(c=>{A.assertShapesMatch(i,c.shape,"All tensors passed to stack must have matching shapes"),A.assert(s===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});let o=[],l=t.map(c=>{let f=r_({inputs:{input:c},backend:n,attrs:{dim:a}});return o.push(f),f}),u=nue({inputs:l,backend:n,attrs:{axis:a}});return o.forEach(c=>n.disposeData(c.dataId)),u}var xTt={kernelName:F0,backendName:"wasm",kernelFunc:wTt},Hue;function STt(e){Hue=e.wasm.cwrap(Ep,null,["number","array","number","number","array","array","number","number"])}function kTt(e){let{inputs:{x:t},backend:n,attrs:{paddings:r,constantValue:a}}=e,i=r.map((h,m)=>h[0]+t.shape[m]+h[1]);if(A.sizeFromShape(t.shape)===0)return bue({backend:n,attrs:{shape:i,value:a,dtype:t.dtype}});let s=n.dataIdMap.get(t.dataId).id,o=n.makeOutput(i,t.dtype),l=n.dataIdMap.get(o.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map(h=>h[0]),f=r.map(h=>h[1]),d=new Uint8Array(new Int32Array(c).buffer),p=new Uint8Array(new Int32Array(f).buffer);return Hue(s,u,t.shape.length,Lt[t.dtype],d,p,a,l),o}var que={kernelName:Ep,backendName:"wasm",kernelFunc:kTt,setupFunc:STt},CTt=Jn(Ap),Yue;function ITt(e){Yue=e.wasm.cwrap(Lp,null,["number","number","number"])}function NTt(e){let{inputs:t,backend:n}=e,{x:r,alpha:a}=t,i=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(a.dataId).id,o=i,l=r,u=l;l.dtype!=="float32"&&(u=Vc({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),o=n.dataIdMap.get(u.dataId).id);let c=n.makeOutput(r.shape,"float32"),f=n.dataIdMap.get(c.dataId).id;return Yue(o,s,f),l.dtype!=="float32"&&n.disposeData(u.dataId),c}var MTt={kernelName:Lp,backendName:"wasm",setupFunc:ITt,kernelFunc:NTt},Que;function TTt(e){Que=e.wasm.cwrap(_p,null,["number","number","number","number"])}function ETt(e){let{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:i}=r,{x:s}=n,o=t.dataIdMap.get(s.dataId).id,l=o,u=s,{transposed:c,axes:f,originalAxes:d,inputWasTransposed:p}=Wc(s,a,t),h=f;if(p){let b=t.dataIdMap.get(c.dataId).id;b!==o&&(u=c,l=b,h=R.getInnerMostAxes(h.length,u.shape.length))}R.assertAxesAreInnerMostDims("prod",h,u.shape.length);let[m,g]=R.computeOutAndReduceShapes(u.shape,h),y=A.sizeFromShape(g),v=t.makeOutput(m,u.dtype);if(A.sizeFromShape(u.shape)!==0){let b=t.dataIdMap.get(v.dataId).id;Que(l,y,Lt[v.dtype],b)}if(p&&t.disposeData(c.dataId),i){let b=R.expandShapeToKeepDim(v.shape,d);v.shape=b}return v}var ATt={kernelName:_p,backendName:"wasm",setupFunc:TTt,kernelFunc:ETt},LTt=e=>{let{backend:t,attrs:n}=e,{start:r,stop:a,step:i,dtype:s}=n,o=XP(r,a,i,s),l=t.makeOutput([o.length],s);return t.typedArrayFromHeap(l).set(o),l},_Tt={kernelName:uw,backendName:"wasm",kernelFunc:LTt},jTt=Jn(np),$Tt=It(jp),DTt=It($p),OTt=It(Rp),Kue;function RTt(e){Kue=e.wasm.cwrap(Op,null,["number","number","number","number","number","number","number","number","number","number"])}function PTt(e){let{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,u]=o,[c,f,d,p]=a.shape,h=[c,l,u,p],m=t.dataIdMap.get(a.dataId),g;m.dtype!=="float32"&&(g=Vc({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),m=t.dataIdMap.get(g.dataId));let y=m.id,v=t.makeOutput(h,"float32");if(A.sizeFromShape(a.shape)===0)return v;let b=t.dataIdMap.get(v.dataId).id;return Kue(y,c,f,d,p,l,u,i?1:0,s?1:0,b),g!=null&&t.disposeData(g.dataId),v}var FTt={kernelName:Op,backendName:"wasm",setupFunc:RTt,kernelFunc:PTt},Jue;function zTt(e){Jue=e.wasm.cwrap(U0,null,["number","number","number","array","array","boolean"])}function BTt(e){let{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r,o=n.makeOutput(a.shape,"float32"),l=n.dataIdMap.get(a.dataId),u;return l.dtype!=="float32"&&(u=Vc({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),l=n.dataIdMap.get(u.dataId)),Jue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(o.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(i.shape).buffer),s),u!=null&&n.disposeData(u.dataId),o}var UTt={kernelName:U0,backendName:"wasm",setupFunc:zTt,kernelFunc:BTt},Zue;function WTt(e){Zue=e.wasm.cwrap(Dp,null,["number","number","number","number","number","number","number","number","number","number"])}function VTt(e){let{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,u]=o,[c,f,d,p]=a.shape,h=[c,l,u,p],m=t.makeOutput(h,"float32");if(A.sizeFromShape(a.shape)===0)return m;let g=t.dataIdMap.get(a.dataId),y;g.dtype!=="float32"&&(y=Vc({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),g=t.dataIdMap.get(y.dataId));let v=g.id,b=t.dataIdMap.get(m.dataId).id;return Zue(v,c,f,d,p,l,u,i?1:0,s?1:0,b),y!=null&&t.disposeData(y.dataId),m}var GTt={kernelName:Dp,backendName:"wasm",setupFunc:WTt,kernelFunc:VTt},Xue;function HTt(e){Xue=e.wasm.cwrap(B0,null,["number","number","number","array","array","boolean"])}function qTt(e){let{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r,o=n.makeOutput(a.shape,"float32"),l=n.dataIdMap.get(a.dataId),u;return l.dtype!=="float32"&&(u=Vc({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),l=n.dataIdMap.get(u.dataId)),Xue(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(o.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(i.shape).buffer),s),u!=null&&n.disposeData(u.dataId),o}var YTt={kernelName:B0,backendName:"wasm",setupFunc:HTt,kernelFunc:qTt},ece;function QTt(e){ece=e.wasm.cwrap(Pp,null,["number","array","number","array","number","number"])}function KTt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r,s=A.parseAxisParam(i,a.shape);if(a.shape.length===0)return GM({inputs:{x:a},backend:n});let o=n.makeOutput(a.shape,a.dtype),l=n.dataIdMap.get(a.dataId).id,u=n.dataIdMap.get(o.dataId).id,c=new Uint8Array(new Int32Array(s).buffer),f=new Uint8Array(new Int32Array(a.shape).buffer);ece(l,c,s.length,f,a.shape.length,u);let d=Na({inputs:{x:o},attrs:{shape:a.shape},backend:n});return n.disposeData(o.dataId),d}var JTt={kernelName:Pp,backendName:"wasm",kernelFunc:KTt,setupFunc:QTt},tce;function ZTt(e){tce=e.wasm.cwrap(r1,null,["number","number","number","number","number","number","number","number","array","number","number"])}function XTt(e){let{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{radians:i,fillValue:s,center:o}=r,l=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(a.dataId).id,c=n.dataIdMap.get(l.dataId).id,[f,d,p,h]=a.shape,[m,g]=R.getImageCenter(o,d,p),y=s===0,v=255,b=typeof s=="number"?[s,s,s,y?0:v]:[...s,v],x=new Uint8Array(new Int32Array(b).buffer);return tce(u,f,d,p,h,i,m,g,x,b.length,c),l}var eEt={kernelName:r1,backendName:"wasm",kernelFunc:XTt,setupFunc:ZTt},tEt=It(Fp),nEt=It(zp),nce;function rEt(e){nce=e.wasm.cwrap(W0,null,["number","number","number","number","number","number","array","number","number"])}function aEt(e){let{backend:t,inputs:n,attrs:r}=e,{indices:a,updates:i}=n,{shape:s}=r,o=t.makeOutput(s,i.dtype);if(A.sizeFromShape(s)===0)return o;let{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=oM.calculateShapes(i,a,s),p=t.dataIdMap.get(a.dataId).id,h=t.dataIdMap.get(i.dataId).id,m=new Uint8Array(new Int32Array(f).buffer),g=t.dataIdMap.get(o.dataId).id;return nce(p,h,Lt[i.dtype],l,u,c,m,d,g),o}var iEt={kernelName:W0,backendName:"wasm",setupFunc:rEt,kernelFunc:aEt},rce;function sEt(e){rce=e.wasm.cwrap(G0,null,["number","number","number","number","number","number","bool","number"])}function oEt(e){let{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:s}=r;if(a.dtype!==i.dtype)throw new Error(`SearchSorted error: sorted_sequence must have the same dtype as values. Got ${a.dtype} and ${i.dtype}`);let o=n.makeOutput(i.shape,"int32");function l(u){return n.dataIdMap.get(u.dataId).id}return rce(l(a),l(i),a.shape[0],a.shape[1],i.shape[1],Lt[a.dtype],s==="left",l(o)),o}var lEt={kernelName:G0,backendName:"wasm",setupFunc:sEt,kernelFunc:oEt},ace;function uEt(e){ace=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}function cEt(e){let{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t,s=n.dataIdMap.get(r.dataId).id,o=n.dataIdMap.get(a.dataId).id,l=n.dataIdMap.get(i.dataId).id,u=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(u.dataId).id,f=r.shape.length,d=a.shape.length,p=f===0||f>1||d===1?1:A.sizeFromShape(a.shape.slice(1));return ace(s,o,l,p,c),u}var fEt={kernelName:H0,backendName:"wasm",kernelFunc:cEt,setupFunc:uEt},dEt=It(Bp),ice;function pEt(e){ice=e.wasm.cwrap(Gp,null,["number","number"])}function hEt(e){let{backend:t,inputs:{x:n}}=e,r=t.dataIdMap.get(n.dataId).id,a=t.makeOutput(n.shape,n.dtype),i=t.dataIdMap.get(a.dataId).id;return A.sizeFromShape(a.shape)===0||ice(r,i),a}var mEt={kernelName:"Sigmoid",backendName:"wasm",setupFunc:pEt,kernelFunc:hEt},gEt=It(Vp),yEt=It(Up),vEt=It(Wp),bEt=It(Hp);function wEt(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:s}=r,o=A.sizeFromShape(i),l=[[0,0]];l.push(...s);for(let g=1+i.length;g<a.shape.length;++g)l.push([0,0]);let u=que.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=R.getReshaped(u.shape,i,o,!1),f=R.getPermuted(c.length,i.length,!1),d=R.getReshapedPermuted(u.shape,i,o,!1),p=Na({inputs:{x:u},backend:n,attrs:{shape:c}}),h=vc({inputs:{x:p},backend:n,attrs:{perm:f}}),m=Na({inputs:{x:h},backend:n,attrs:{shape:d}});return n.disposeData(u.dataId),n.disposeData(p.dataId),n.disposeData(h.dataId),m}var xEt={kernelName:Y0,backendName:"wasm",kernelFunc:wEt},sce;function SEt(e){sce=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])}function kEt(e){let{backend:t,inputs:n}=e,{indices:r,values:a,denseShape:i,defaultValue:s}=n,o=r.shape[0],l=r.shape[1],u=t.readSync(i.dataId)[0],c=[o+u,l],f=t.dataIdMap.get(r.dataId).id,d=t.dataIdMap.get(a.dataId).id,p=t.dataIdMap.get(s.dataId).id,h=t.makeOutput(c,r.dtype),m=t.dataIdMap.get(h.dataId).id,g=t.makeOutput(c.slice(0,1),a.dtype),y=t.dataIdMap.get(g.dataId).id,v=t.makeOutput([u],"bool"),b=t.dataIdMap.get(v.dataId).id,x=t.makeOutput([o],r.dtype),S=t.dataIdMap.get(x.dataId).id,k=t.makeOutput([4],"int32"),I=t.dataIdMap.get(k.dataId).id,N=sce(f,d,Lt[a.dtype],o,u,l,p,m,y,b,S,I),T=t.readSync(k.dataId),L;switch(T[0]){case 1:{L=R.getSparseFillEmptyRowsIndicesDenseShapeMismatch(T[1]);break}case 2:{L=R.getSparseFillEmptyRowsNegativeIndexErrorMessage(T[1],T[2]);break}case 3:L=R.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(T[1],T[2],T[3]);break;default:L=""}if(t.disposeData(k.dataId),L)throw t.disposeData(h.dataId),t.disposeData(g.dataId),t.disposeData(v.dataId),t.disposeData(x.dataId),new Error(L);let E=h,M=g;return N!==c[0]&&(E=vd({inputs:{x:h},attrs:{begin:0,size:[N,l]},backend:t}),M=vd({inputs:{x:g},attrs:{begin:0,size:N},backend:t}),t.disposeData(h.dataId),t.disposeData(g.dataId)),[E,M,v,x]}var CEt={kernelName:cw,backendName:"wasm",setupFunc:SEt,kernelFunc:kEt},oce;function IEt(e){oce=e.wasm.cwrap(K0,null,["number","number","number","number","number","number","number"])}function NEt(e){let{backend:t,inputs:n}=e,{inputIndices:r,inputShape:a,newShape:i}=n;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);let s=t.dataIdMap.get(r.dataId).id,o=t.dataIdMap.get(a.dataId).id,l=t.dataIdMap.get(i.dataId).id,u=r.shape[0],c=A.sizeFromShape(i.shape),f=t.makeOutput([u,c],r.dtype),d=t.dataIdMap.get(f.dataId).id,p=t.makeOutput([c],i.dtype),h=t.dataIdMap.get(p.dataId).id,m=t.makeOutput([3],"int32"),g=t.dataIdMap.get(m.dataId).id;oce(s,o,l,u,d,h,g);let y=t.readSync(m.dataId),v;switch(y[0]){case 0:{v=R.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(y[1],y[2]);break}case 1:{v=R.getSparseReshapeNegativeOutputDimErrorMessage(y[1],y[2]);break}case 2:v=R.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage();break;case 3:{let b=Array.from(t.readSync(a.dataId)),x=Array.from(t.readSync(p.dataId));v=R.getSparseReshapeInputOutputMultipleErrorMessage(b,x);break}case 4:{let b=Array.from(t.readSync(a.dataId)),x=Array.from(t.readSync(p.dataId));v=R.getSparseReshapeInputOutputMismatchErrorMessage(b,x);break}default:v=""}if(t.disposeData(m.dataId),v)throw t.disposeData(f.dataId),t.disposeData(p.dataId),new Error(v);return[f,p]}var MEt={kernelName:K0,backendName:"wasm",setupFunc:IEt,kernelFunc:NEt},lce;function uce(e){lce=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function cce(e,t){let{backend:n,inputs:r}=e,{data:a,indices:i,segmentIds:s}=r,o=i.shape[0],l=n.readSync(s.dataId,o-1,o)[0],u=o>0?l+1:0;if(u<0)throw new Error(R.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let c=a.shape.slice();c[0]=u;let f=n.dataIdMap.get(a.dataId).id,d=n.dataIdMap.get(i.dataId).id,p=n.dataIdMap.get(s.dataId).id,h=n.makeOutput(c,a.dtype),m=n.dataIdMap.get(h.dataId).id,g=n.makeOutput([4],"int32"),y=n.dataIdMap.get(g.dataId).id;lce(f,Lt[a.dtype],a.shape[0],d,p,m,y,t,0);let v=n.readSync(g.dataId),b;switch(v[0]){case 0:{b=R.getSparseSegmentReductionNegativeSegmentIdsErrorMessage();break}case 1:{b=R.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage();break}case 2:b=R.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(v[1],v[2]);break;case 3:b=R.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(v[1],v[2],v[3]);break;default:b=""}if(n.disposeData(g.dataId),b)throw n.disposeData(h.dataId),new Error(b);return h}function TEt(e){return cce(e,!0)}var EEt={kernelName:fw,backendName:"wasm",setupFunc:uce,kernelFunc:TEt};function AEt(e){return cce(e,!1)}var LEt={kernelName:dw,backendName:"wasm",setupFunc:uce,kernelFunc:AEt},fce;function _Et(e){fce=e.wasm.cwrap(J0,null,["number","number","number","number","number","number","number","number","array","number","number"])}function jEt(e){let{backend:t,inputs:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:s}=n,{outputShape:o}=r,l=t.makeOutput(o,s.dtype);if(A.sizeFromShape(o)===0)return l;let{sliceRank:u,numUpdates:c,sliceSize:f,strides:d,outputSize:p}=R.calculateShapes(i,a,o),h=t.dataIdMap.get(a.dataId).id,m=t.dataIdMap.get(i.dataId).id,g=t.dataIdMap.get(s.dataId).id,y=new Uint8Array(new Int32Array(d).buffer),v=t.dataIdMap.get(l.dataId).id;return fce(h,m,i.shape.length,g,Lt[s.dtype],u,c,f,y,p,v),l}var $Et={kernelName:J0,backendName:"wasm",setupFunc:_Et,kernelFunc:jEt};function DEt(e){let{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:s}=n,o=A.parseAxisParam(s,a.shape)[0],l=R.prepareSplitSize(a,i,o),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map(f=>{let d=[...c];d[o]=f;let p=vd({inputs:{x:a},attrs:{begin:u,size:d},backend:r});return u[o]+=f,p})}var OEt={kernelName:Q0,backendName:"wasm",kernelFunc:DEt},REt=It(qp),PEt=It(pw),FEt=Jn(Kp),dce;function zEt(e){dce=e.wasm.cwrap(Dc,null,["number","number","number","number"])}function BEt(e){let{backend:t,inputs:n,attrs:r}=e,{alpha:a}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id,o=t.makeOutput(i.shape,i.dtype),l=t.dataIdMap.get(o.dataId).id;return dce(s,a,Lt[i.dtype],l),o}var UEt={kernelName:Dc,backendName:"wasm",setupFunc:zEt,kernelFunc:BEt},pce;function WEt(e){pce=e.wasm.cwrap(Z0,null,["number","array","number","array","array","array","array","array","number","number"])}function VEt(e){let{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{begin:i,end:s,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r,{finalShapeSparse:p,finalShape:h,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=sr.sliceInfo(a.shape,i,s,o,l,u,c,f,d),S;if(m)S=Na({inputs:{x:a},backend:t,attrs:{shape:h}});else if(g||y){A.assert(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);let k=sr.computeOutShape(v,b,x),I=vd({inputs:{x:a},backend:t,attrs:{begin:v,size:k}});S=Na({inputs:{x:I},backend:t,attrs:{shape:h}}),t.disposeData(I.dataId)}else{let k=t.makeOutput(p,"float32"),I=t.dataIdMap.get(a.dataId).id,N=new Uint8Array(new Int32Array(A.computeStrides(a.shape)).buffer),T=new Uint8Array(new Int32Array(v).buffer),L=new Uint8Array(new Int32Array(b).buffer),E=new Uint8Array(new Int32Array(x).buffer),M=new Uint8Array(new Int32Array(p).buffer),j=new Uint8Array(new Int32Array(A.computeStrides(p)).buffer),D=t.dataIdMap.get(k.dataId).id;pce(I,N,a.shape.length,T,L,E,M,j,p.length,D),S=Na({inputs:{x:k},backend:t,attrs:{shape:h}}),t.disposeData(k.dataId)}return S}var GEt={kernelName:Z0,backendName:"wasm",setupFunc:WEt,kernelFunc:VEt};function HEt(e){let{backend:t,inputs:n,attrs:r}=e,{data:a,dataSplits:i}=n,{separator:s,nGramWidths:o,leftPad:l,rightPad:u,padWidth:c,preserveShortSequences:f}=r,d=t.readSync(a.dataId),p=t.readSync(i.dataId),[h,m]=t6(d,p,s,o,l,u,c,f),g=t.makeOutput([h.length],"string"),y=t.dataIdMap.get(g.dataId);y.stringBytes=h;let v=t.makeOutput(i.shape,"int32");return t.typedArrayFromHeap(v).set(m),[g,v]}var qEt={kernelName:mw,backendName:"wasm",kernelFunc:HEt};function YEt(e){let{backend:t,inputs:n,attrs:r}=e,{input:a,delimiter:i}=n,{skipEmpty:s}=r,o=t.readSync(a.dataId),l=t.readSync(i.dataId),[u,c,f]=n6(o,l[0],s),d=c.length,p=t.makeOutput([d,2],"int32");t.typedArrayFromHeap(p).set(u);let h=t.makeOutput([d],"string"),m=t.dataIdMap.get(h.dataId);m.stringBytes=c;let g=t.makeOutput([2],"int32");return t.typedArrayFromHeap(g).set(f),[p,h,g]}var QEt={kernelName:gw,backendName:"wasm",kernelFunc:YEt};function KEt(e){let{backend:t,inputs:n,attrs:r}=e,{input:a}=n,{numBuckets:i}=r,s=t.readSync(a.dataId),o=r6(s,i),l=t.makeOutput(a.shape,"int32");return t.typedArrayFromHeap(l).set(o),l}var JEt={kernelName:yw,backendName:"wasm",kernelFunc:KEt},ZEt=Jn(Jp),hce;function XEt(e){hce=e.wasm.cwrap(Yp,null,["number","number","number","number"])}function e4t(e){let{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:i}=r,{x:s}=n,o=t.dataIdMap.get(s.dataId).id,l=o,u=s,{transposed:c,axes:f,originalAxes:d,inputWasTransposed:p}=Wc(s,a,t),h=f;if(p){let b=t.dataIdMap.get(c.dataId).id;b!==o&&(u=c,l=b,h=R.getInnerMostAxes(h.length,u.shape.length))}R.assertAxesAreInnerMostDims("sum",h,u.shape.length);let[m,g]=R.computeOutAndReduceShapes(u.shape,h),y=A.sizeFromShape(g),v=t.makeOutput(m,u.dtype);if(A.sizeFromShape(u.shape)!==0){let b=t.dataIdMap.get(v.dataId).id;hce(l,y,Lt[v.dtype],b)}if(p&&t.disposeData(c.dataId),i){let b=R.expandShapeToKeepDim(v.shape,d);v.shape=b}return v}var t4t={kernelName:Yp,backendName:"wasm",setupFunc:XEt,kernelFunc:e4t},n4t=It(Zp),r4t=It(Xp),mce;function a4t(e){mce=e.wasm.cwrap(V0,null,["number","number","number","number","number","number","array","number","number","number"])}function i4t(e){let{backend:t,inputs:n,attrs:r}=e,{tensor:a,indices:i,updates:s}=n,o=t.makeOutput(a.shape,a.dtype);if(A.sizeFromShape(a.shape)===0)return o;let{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=oM.calculateShapes(s,i,a.shape),p=t.dataIdMap.get(i.dataId).id,h=t.dataIdMap.get(s.dataId).id,m=t.dataIdMap.get(a.dataId).id,g=new Uint8Array(new Int32Array(f).buffer),y=t.dataIdMap.get(o.dataId).id;return mce(p,h,Lt[s.dtype],l,u,c,g,d,y,m),o}var s4t={kernelName:V0,backendName:"wasm",setupFunc:a4t,kernelFunc:i4t},gce;function o4t(e){gce=e.wasm.cwrap($c,null,["number","array","number","array","number","number"])}function l4t(e){let{inputs:t,backend:n,attrs:r}=e,{x:a}=t,i=n.dataIdMap.get(a.dataId).id,{reps:s}=r,o=new Array(a.shape.length);for(let d=0;d<o.length;d++)o[d]=a.shape[d]*s[d];let l=new Uint8Array(new Int32Array(a.shape).buffer),u=new Uint8Array(new Int32Array(o).buffer),c=n.makeOutput(o,a.dtype),f=n.dataIdMap.get(c.dataId).id;return gce(i,l,a.shape.length,u,o.length,Lt[c.dtype],f),c}var u4t={kernelName:$c,backendName:"wasm",setupFunc:o4t,kernelFunc:l4t},yce;function c4t(e){yce=e.wasm.cwrap(X0,null,["number","array","number","number","number","bool","number","number"])}var f4t=({inputs:e,backend:t,attrs:n})=>{let{x:r}=e,{k:a,sorted:i}=n,s=t.dataIdMap.get(r.dataId).id,o=new Uint8Array(new Int32Array(r.shape).buffer),l=r.shape.slice();l[l.length-1]=a;let u=t.makeOutput(l,r.dtype),c=t.dataIdMap.get(u.dataId).id,f=t.makeOutput(l,"int32"),d=t.dataIdMap.get(f.dataId).id;return yce(s,o,r.shape.length,Lt[r.dtype],a,i,c,d),[u,f]},d4t={kernelName:X0,backendName:"wasm",setupFunc:c4t,kernelFunc:f4t},vce;function p4t(e){vce=e.wasm.cwrap(e1,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])}function h4t(e){let{backend:t,inputs:n,attrs:r}=e,{image:a,transforms:i}=n,{interpolation:s,fillMode:o,fillValue:l,outputShape:u}=r,[c,f,d,p]=a.shape,[h,m]=u??[f,d],g=[c,h,m,p],y=new Uint8Array(new Int32Array(A.computeStrides(a.shape)).buffer),v=new Uint8Array(new Int32Array(A.computeStrides(g)).buffer),b=t.makeOutput(g,a.dtype),x=t.dataIdMap.get(b.dataId).id,S=t.dataIdMap.get(a.dataId).id,k=t.dataIdMap.get(i.dataId).id,I=s==="nearest"?1:2,N;switch(o){case"constant":N=1;break;case"reflect":N=2;break;case"wrap":N=3;break;case"nearest":N=4;break;default:N=1;break}return vce(S,k,i.shape[0]>1,c,h,m,p,d,f,y,a.shape.length-1,v,g.length-1,I,N,l,x),b}var m4t={kernelName:e1,backendName:"wasm",setupFunc:p4t,kernelFunc:h4t};function g4t(e){let{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t,{outputValues:s,outputShape:o,indices:l}=i6(r.readSync(i.dataId),a,i.shape,i.dtype);return[r.makeOutput(o,i.dtype,void 0,s),r.makeOutput([l.length],"int32",void 0,l)]}var y4t={kernelName:vw,backendName:"wasm",kernelFunc:g4t};function v4t(e){let{inputs:t,backend:n,attrs:r}=e,{value:a}=t,{axis:i}=r;i<0&&(i+=a.shape.length);let s=a.shape[i],o=a.shape.length,l=new Array(o-1),u=0;for(let p=0;p<o;p++)p!==i&&(l[u++]=a.shape[p]);let c=new Array(s),f=new Array(o).fill(0),d=a.shape.slice();d[i]=1;for(let p=0;p<c.length;p++)f[i]=p,c[p]=vd({inputs:{x:a},attrs:{begin:f,size:d},backend:n});return c.map(({dataId:p,dtype:h})=>({dataId:p,dtype:h,shape:l}))}var b4t={kernelName:t1,backendName:"wasm",kernelFunc:v4t};function w4t(e){let{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(0),r}var x4t={kernelName:n1,backendName:"wasm",kernelFunc:w4t},S4t=[pCt,hCt,mCt,gCt,yCt,wCt,TCt,LCt,_Ct,jCt,$Ct,DCt,OCt,RCt,PCt,BCt,KCt,VCt,qCt,eIt,sIt,uIt,cIt,dIt,pIt,hIt,yIt,vIt,xIt,CIt,MIt,AIt,jIt,$It,DIt,PIt,BIt,VIt,qIt,KIt,XIt,nNt,iNt,lNt,fNt,dNt,mNt,yNt,vNt,bNt,wNt,xNt,SNt,INt,NNt,MNt,ANt,jNt,ONt,FNt,UNt,VNt,HNt,xCt,qNt,YNt,QNt,ZNt,eMt,nMt,iMt,oMt,sMt,uMt,cMt,dMt,hMt,yMt,wMt,kMt,CMt,MMt,AMt,jMt,OMt,FMt,UMt,GMt,HMt,QMt,eTt,tTt,nTt,rTt,sTt,uTt,dTt,hTt,yTt,bTt,xTt,que,CTt,MTt,ATt,_Tt,jTt,$Tt,DTt,OTt,JCt,FTt,UTt,GTt,YTt,JTt,eEt,tEt,nEt,iEt,lEt,fEt,dEt,mEt,gEt,yEt,vEt,aIt,JMt,bEt,xEt,CEt,MEt,EEt,LEt,$Et,OEt,REt,PEt,FEt,UEt,GEt,qEt,QEt,JEt,ZEt,t4t,n4t,r4t,s4t,u4t,d4t,m4t,ICt,y4t,b4t,x4t];for(let e of S4t)ww(e);var i_=ne();i_.registerFlag("WASM_HAS_SIMD_SUPPORT",async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch{return!1}});i_.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",async()=>{if(i_.get("IS_NODE"))return!1;try{return new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}});var IV=Lc(tHe()),k4t=Lc(nHe()),NV=Lc(rHe()),MV=IV.default||IV,C4t=NV.default||NV,bce=class extends Jb{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(wce),s_=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new bN(this,Ui())}write(e,t,n){let r={id:this.dataIdNextNumber++};return this.move(r,e,t,n,1),r}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){let t=A.now();return e(),{kernelMs:A.now()-t}}move(e,t,n,r,a){let i=this.dataIdNextNumber++;if(r==="string"){let u=t;this.dataIdMap.set(e,{id:i,stringBytes:u,shape:n,dtype:r,memoryOffset:null,refCount:a});return}let s=A.sizeFromShape(n),o=s*A.bytesPerElement(r),l=this.wasm._malloc(o)>>>0;this.dataIdMap.set(e,{id:i,memoryOffset:l,shape:n,dtype:r,refCount:a}),this.wasm.tfjs.registerTensor(i,s,l),t!=null&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,o),l)}async read(e){return this.readSync(e)}readSync(e,t,n){let{memoryOffset:r,dtype:a,shape:i,stringBytes:s}=this.dataIdMap.get(e);if(a==="string")return(t==null||t===0)&&(n==null||n>=s.length)?s:s.slice(t,n);t=t||0,n=n||A.sizeFromShape(i);let o=A.bytesPerElement(a),l=this.wasm.HEAPU8.slice(r+t*o,r+n*o);return M4t(l.buffer,a)}disposeData(e,t=!1){if(this.dataIdMap.has(e)){let n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}refCount(e){return this.dataIdMap.has(e)?this.dataIdMap.get(e).refCount:0}incRef(e){let t=this.dataIdMap.get(e);t!=null&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n,r){let a;if(n==null)a=this.write(r??null,e,t);else{let i=this.dataIdNextNumber++;a={id:i},this.dataIdMap.set(a,{id:i,memoryOffset:n,shape:e,dtype:t,refCount:1});let s=A.sizeFromShape(e);this.wasm.tfjs.registerTensor(i,s,n)}return{dataId:a,shape:e,dtype:t}}typedArrayFromHeap({shape:e,dtype:t,dataId:n}){let r=this.wasm.HEAPU8.buffer,{memoryOffset:a}=this.dataIdMap.get(n),i=A.sizeFromShape(e);switch(t){case"float32":return new Float32Array(r,a,i);case"int32":return new Int32Array(r,a,i);case"bool":return new Uint8Array(r,a,i);default:throw new Error(`Unknown dtype ${t}`)}}};function I4t(e){return(t,n)=>(A.fetch(e,{credentials:"same-origin"}).then(r=>{r.ok||t.env.a(`failed to load wasm binary file at '${e}'`),r.arrayBuffer().then(a=>{WebAssembly.instantiate(a,t).then(i=>{n(i.instance,i.module)})})}),{})}function TV(e,t,n){if(kC!=null)return kC;let r="tfjs-backend-wasm.wasm";return e&&t?r="tfjs-backend-wasm-threaded-simd.wasm":e&&(r="tfjs-backend-wasm-simd.wasm"),By!=null&&By[r]!=null?By[r]:n+r}async function N4t(){let[e,t]=await Promise.all([ne().getAsync("WASM_HAS_SIMD_SUPPORT"),ne().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise((n,r)=>{let a={};a.locateFile=(o,l)=>{if(o.endsWith(".worker.js")){let u=k4t.wasmWorkerContents.replace(/\n/g,"\\n"),c=new Blob([u],{type:"application/javascript"});return URL.createObjectURL(c)}return o.endsWith(".wasm")?TV(e,t,wy??l):l+o},N6&&(a.instantiateWasm=I4t(TV(e,t,wy??"")));let i=!1;a.onAbort=()=>{i||Uy||(Uy=!0,r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))};let s;t&&e&&kC==null?(a.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+MV.toString()],{type:"text/javascript"}),s=MV(a)):s=C4t(a),s.then(o=>{i=!0,Uy=!1;let l=null;o.tfjs={init:o.cwrap("init",null,[]),initWithThreadsCount:o.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:o.cwrap("get_threads_count","number",[]),registerTensor:o.cwrap("register_tensor",null,["number","number","number"]),disposeData:o.cwrap("dispose_data",l,["number"]),dispose:o.cwrap("dispose",l,[])},n({wasm:o})}).catch(r)})}function M4t(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error(`Unknown dtype ${t}`)}}var T4t=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"],kC=null,wy=null,By={},Uy=!1,N6=!1;function E4t(e,t=!1){if(Bte("setWasmPath has been deprecated in favor of setWasmPaths and will be removed in a future release."),Uy)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPath()` before you call `tf.setBackend()` or `tf.ready()`");kC=e,N6=t}function A4t(e,t=!1){if(Uy)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if(typeof e=="string")wy=e;else{By=e;let n=T4t.filter(r=>By[r]==null);if(n.length>0)throw new Error(`There were no entries found for the following binaries: ${n.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}N6=t}var wce=-1,s_=-1;function L4t(e){wce=e}function _4t(){if(s_===-1)throw new Error("WASM backend not initialized.");return s_}var j4t="4.22.0",$4t=2;RN("wasm",async()=>{let{wasm:e}=await N4t();return new bce(e)},$4t);var EV="4.22.0",D4t="4.22.0",O4t="4.22.0",R4t="4.22.0",P4t="4.22.0",F4t={tfjs:EV,"tfjs-core":EV,"tfjs-converter":D4t,"tfjs-backend-cpu":O4t,"tfjs-backend-webgl":R4t,"tfjs-backend-wasm":P4t},z4t={};$D(z4t,{AnchorPosition:()=>Oce,DrawBox:()=>Fce,DrawBoxOptions:()=>Pce,DrawFaceLandmarks:()=>nfe,DrawFaceLandmarksOptions:()=>tfe,DrawTextField:()=>j6,DrawTextFieldOptions:()=>_6,drawContour:()=>iu,drawDetections:()=>X4t,drawFaceExpressions:()=>d3t,drawFaceLandmarks:()=>h3t});function iu(e,t,n=!1){if(e.beginPath(),t.slice(1).forEach(({x:r,y:a},i)=>{let s=t[i];e.moveTo(s.x,s.y),e.lineTo(r,a)}),n){let r=t[t.length-1],a=t[0];if(!r||!a)return;e.moveTo(r.x,r.y),e.lineTo(a.x,a.y)}e.stroke()}var B4t={};$D(B4t,{computeReshapedDimensions:()=>Cce,getCenterPoint:()=>T6,isDimensions:()=>l_,isEven:()=>o_,isFloat:()=>kce,isTensor:()=>C1,isTensor1D:()=>U4t,isTensor2D:()=>Sce,isTensor3D:()=>Xw,isTensor4D:()=>gl,isValidNumber:()=>zf,isValidProbablitiy:()=>W4t,range:()=>Ng,round:()=>M6});var fm=class xce{constructor(t,n){if(!zf(t)||!zf(n))throw new Error(`Dimensions.constructor - expected width and height to be valid numbers, instead have ${JSON.stringify({width:t,height:n})}`);this._width=t,this._height=n}get width(){return this._width}get height(){return this._height}reverse(){return new xce(1/this.width,1/this.height)}};function C1(e,t){return e instanceof nt&&e.shape.length===t}function U4t(e){return C1(e,1)}function Sce(e){return C1(e,2)}function Xw(e){return C1(e,3)}function gl(e){return C1(e,4)}function kce(e){return e%1!==0}function o_(e){return e%2===0}function M6(e,t=2){let n=10**t;return Math.floor(e*n)/n}function l_(e){return e&&e.width&&e.height}function Cce({width:e,height:t},n){let r=n/Math.max(t,e);return new fm(Math.round(e*r),Math.round(t*r))}function T6(e){return e.reduce((t,n)=>t.add(n),new Gt(0,0)).div(new Gt(e.length,e.length))}function Ng(e,t,n){return Array(e).fill(0).map((r,a)=>t+a*n)}function zf(e){return!!e&&e!==1/0&&e!==-1/0&&!Number.isNaN(e)||e===0}function W4t(e){return zf(e)&&e>=0&&e<=1}var Gt=class of{constructor(t,n){this._x=t,this._y=n}get x(){return this._x}get y(){return this._y}add(t){return new of(this.x+t.x,this.y+t.y)}sub(t){return new of(this.x-t.x,this.y-t.y)}mul(t){return new of(this.x*t.x,this.y*t.y)}div(t){return new of(this.x/t.x,this.y/t.y)}abs(){return new of(Math.abs(this.x),Math.abs(this.y))}magnitude(){return Math.sqrt(this.x**2+this.y**2)}floor(){return new of(Math.floor(this.x),Math.floor(this.y))}},bd=class ws{static isRect(t){return!!t&&[t.x,t.y,t.width,t.height].every(zf)}static assertIsValidBox(t,n,r=!1){if(!ws.isRect(t))throw new Error(`${n} - invalid box: ${JSON.stringify(t)}, expected object with properties x, y, width, height`);if(!r&&(t.width<0||t.height<0))throw new Error(`${n} - width (${t.width}) and height (${t.height}) must be positive numbers`)}constructor(t,n=!0){let r=t||{},a=[r.left,r.top,r.right,r.bottom].every(zf),i=[r.x,r.y,r.width,r.height].every(zf);if(!i&&!a)throw new Error(`Box.constructor - expected box to be IBoundingBox | IRect, instead have ${JSON.stringify(r)}`);let[s,o,l,u]=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top];ws.assertIsValidBox({x:s,y:o,width:l,height:u},"Box.constructor",n),this._x=s,this._y=o,this._width=l,this._height=u}get x(){return this._x}get y(){return this._y}get width(){return this._width}get height(){return this._height}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get area(){return this.width*this.height}get topLeft(){return new Gt(this.left,this.top)}get topRight(){return new Gt(this.right,this.top)}get bottomLeft(){return new Gt(this.left,this.bottom)}get bottomRight(){return new Gt(this.right,this.bottom)}round(){let[t,n,r,a]=[this.x,this.y,this.width,this.height].map(i=>Math.round(i));return new ws({x:t,y:n,width:r,height:a})}floor(){let[t,n,r,a]=[this.x,this.y,this.width,this.height].map(i=>Math.floor(i));return new ws({x:t,y:n,width:r,height:a})}toSquare(){let{x:t,y:n,width:r,height:a}=this,i=Math.abs(r-a);return r<a&&(t-=i/2,r+=i),a<r&&(n-=i/2,a+=i),new ws({x:t,y:n,width:r,height:a})}rescale(t){let n=l_(t)?t.width:t,r=l_(t)?t.height:t;return new ws({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})}pad(t,n){let[r,a,i,s]=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new ws({x:r,y:a,width:i,height:s})}clipAtImageBorders(t,n){let{x:r,y:a,right:i,bottom:s}=this,o=Math.max(r,0),l=Math.max(a,0),u=i-o,c=s-l,f=Math.min(u,t-o),d=Math.min(c,n-l);return new ws({x:o,y:l,width:f,height:d}).floor()}shift(t,n){let{width:r,height:a}=this,i=this.x+t,s=this.y+n;return new ws({x:i,y:s,width:r,height:a})}padAtBorders(t,n){let r=this.width+1,a=this.height+1,i=1,s=1,o=r,l=a,u=this.left,c=this.top,f=this.right,d=this.bottom;return f>n&&(o=-f+n+r,f=n),d>t&&(l=-d+t+a,d=t),u<1&&(l=2-u,u=1),c<1&&(l=2-c,c=1),{dy:s,edy:l,dx:i,edx:o,y:c,ey:d,x:u,ex:f,w:r,h:a}}calibrate(t){return new ws({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()}},Ice=class extends bd{constructor(e,t,n,r,a=!1){super({left:e,top:t,right:n,bottom:r},a)}},Nce=class Mce{constructor(t,n,r,a,i){this._imageDims=new fm(i.width,i.height),this._score=t,this._classScore=n,this._className=r,this._box=new bd(a).rescale(this._imageDims)}get score(){return this._score}get classScore(){return this._classScore}get className(){return this._className}get box(){return this._box}get imageDims(){return this._imageDims}get imageWidth(){return this.imageDims.width}get imageHeight(){return this.imageDims.height}get relativeBox(){return new bd(this._box).rescale(this.imageDims.reverse())}forSize(t,n){return new Mce(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})}},Hs=class Tce extends Nce{constructor(t,n,r){super(t,t,"",n,r)}forSize(t,n){let{score:r,relativeBox:a,imageDims:i}=super.forSize(t,n);return new Tce(r,a,i)}};function V4t(e,t,n=!0){let r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),a=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),i=r*a;return n?i/(e.area+t.area-i):i/Math.min(e.area,t.area)}function G4t(e){let t=e.map(o=>o.x),n=e.map(o=>o.y),r=t.reduce((o,l)=>l<o?l:o,1/0),a=n.reduce((o,l)=>l<o?l:o,1/0),i=t.reduce((o,l)=>o<l?l:o,0),s=n.reduce((o,l)=>o<l?l:o,0);return new Ice(r,a,i,s)}function H4t(e,t,n,r=!0){let a=t.map((s,o)=>({score:s,boxIndex:o})).sort((s,o)=>s.score-o.score).map(s=>s.boxIndex),i=[];for(;a.length>0;){let s=a.pop();i.push(s);let o=a,l=[];for(let u=0;u<o.length;u++){let c=o[u],f=e[s],d=e[c];l.push(V4t(f,d,r))}a=a.filter((u,c)=>l[c]<=n)}return i}function ex(e,t){return X(()=>{let[n,r,a]=t,i=Ka([...e.shape.slice(0,3),1],n,"float32"),s=Ka([...e.shape.slice(0,3),1],r,"float32"),o=Ka([...e.shape.slice(0,3),1],a,"float32"),l=Yt([i,s,o],3);return Me(e,l)})}function q4t(e,t=!1){return X(()=>{let[n,r]=e.shape.slice(1);if(n===r)return e;let a=Math.abs(n-r),i=Math.round(a*(t?.5:1)),s=n>r?2:1,o=f=>{let d=e.shape.slice();return d[s]=f,Ka(d,0,"float32")},l=o(i),u=a-l.shape[s],c=[t&&u?o(u):null,e,l].filter(f=>!!f).map(f=>ve(f,"float32"));return Yt(c,s)})}function BE(e){return 1/(1+Math.exp(-e))}var Ece=class extends bd{constructor(e,t,n,r,a=!1){super({x:e,y:t,width:n,height:r},a)}},Y4t=.5,Q4t=.43,K4t=.45,CC=class{constructor(e,t,n=new Gt(0,0)){let{width:r,height:a}=t;this._imgDims=new fm(r,a),this._shift=n,this._positions=e.map(i=>i.mul(new Gt(r,a)).add(n))}get shift(){return new Gt(this._shift.x,this._shift.y)}get imageWidth(){return this._imgDims.width}get imageHeight(){return this._imgDims.height}get positions(){return this._positions}get relativePositions(){return this._positions.map(e=>e.sub(this._shift).div(new Gt(this.imageWidth,this.imageHeight)))}forSize(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})}shiftBy(e,t){return new this.constructor(this.relativePositions,this._imgDims,new Gt(e,t))}shiftByPoint(e){return this.shiftBy(e.x,e.y)}align(e,t={}){if(e){let a=e instanceof Hs?e.box.floor():new bd(e);return this.shiftBy(a.x,a.y).align(null,t)}let{useDlibAlignment:n,minBoxPadding:r}={useDlibAlignment:!1,minBoxPadding:.2,...t};return n?this.alignDlib():this.alignMinBbox(r)}alignDlib(){let e=this.getRefPointsForAlignment(),[t,n,r]=e,a=c=>r.sub(c).magnitude(),i=(a(t)+a(n))/2,s=Math.floor(i/K4t),o=T6(e),l=Math.floor(Math.max(0,o.x-Y4t*s)),u=Math.floor(Math.max(0,o.y-Q4t*s));return new Ece(l,u,Math.min(s,this.imageWidth+l),Math.min(s,this.imageHeight+u))}alignMinBbox(e){let t=G4t(this.positions);return t.pad(t.width*e,t.height*e)}getRefPointsForAlignment(){throw new Error("getRefPointsForAlignment not implemented by base class")}},Ace=class extends CC{getJawOutline(){return this.positions.slice(0,17)}getLeftEyeBrow(){return this.positions.slice(17,22)}getRightEyeBrow(){return this.positions.slice(22,27)}getNose(){return this.positions.slice(27,36)}getLeftEye(){return this.positions.slice(36,42)}getRightEye(){return this.positions.slice(42,48)}getMouth(){return this.positions.slice(48,68)}getRefPointsForAlignment(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(T6)}};function IC(e){return e.detection instanceof Hs}function Lce(e,t){return{...e,detection:t}}function _ce(){let e=window.fetch;if(!e)throw new Error("fetch - missing fetch implementation for browser environment");return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:()=>document.createElement("canvas"),createImageElement:()=>document.createElement("img"),createVideoElement:()=>document.createElement("video"),fetch:e,readFile:()=>{throw new Error("readFile - filesystem not available for browser environment")}}}function E6(){return typeof global=="object"&&typeof process<"u"&&process.versions!=null&&process.versions.node!=null}function jce(e){let t="";if(!e&&E6())try{e=j7e("fs")}catch(n){t=n.toString()}return{readFile:e?n=>new Promise((r,a)=>{e.readFile(n,(i,s)=>i?a(i):r(s))}):()=>{throw new Error(`readFile - failed to require fs in nodejs environment with error: ${t}`)}}}function $ce(){let e=global.Canvas||global.HTMLCanvasElement,t=global.Image||global.HTMLImageElement,n=global.Video||global.HTMLVideoElement,r=()=>{if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},a=()=>{if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},i=()=>{if(n)return new n;throw new Error("createVideoElement - missing Video implementation for nodejs environment")},s=global.fetch,o=jce();return{Canvas:e||class{},CanvasRenderingContext2D:global.CanvasRenderingContext2D||class{},Image:t||class{},ImageData:global.ImageData||class{},Video:global.HTMLVideoElement||class{},createCanvasElement:r,createImageElement:a,createVideoElement:i,fetch:s,...o}}function Dce(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}var hr;function J4t(){if(!hr)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return hr}function u_(e){hr=e}function A6(){return Dce()?u_(_ce()):E6()?u_($ce()):null}function Z4t(e){if(hr||A6(),!hr)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");let{Canvas:t=hr.Canvas,Image:n=hr.Image}=e;hr.Canvas=t,hr.Image=n,hr.createCanvasElement=e.createCanvasElement||(()=>new t),hr.createImageElement=e.createImageElement||(()=>new n),hr.ImageData=e.ImageData||hr.ImageData,hr.Video=e.Video||hr.Video,hr.fetch=e.fetch||hr.fetch,hr.readFile=e.readFile||hr.readFile}var Aa={getEnv:J4t,setEnv:u_,initialize:A6,createBrowserEnv:_ce,createFileSystem:jce,createNodejsEnv:$ce,monkeyPatch:Z4t,isBrowser:Dce,isNodejs:E6};A6();function L6(e){return!Aa.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function bc(e){let{Canvas:t,CanvasRenderingContext2D:n}=Aa.getEnv();if(e instanceof n)return e;let r=L6(e);if(!(r instanceof t))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");let a=r.getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("resolveContext2d - canvas 2d context is null");return a}var Oce=(e=>(e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT",e))(Oce||{}),_6=class{constructor(e={}){let{anchorPosition:t,backgroundColor:n,fontColor:r,fontSize:a,fontStyle:i,padding:s}=e;this.anchorPosition=t||"TOP_LEFT",this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=a||14,this.fontStyle=i||"Georgia",this.padding=s||4}},j6=class Rce{constructor(t,n,r={}){this.text=typeof t=="string"?[t]:t instanceof Rce?t.text:t,this.anchor=n,this.options=new _6(r)}measureWidth(t){let{padding:n}=this.options;return this.text.map(r=>t.measureText(r).width).reduce((r,a)=>r<a?a:r,0)+2*n}measureHeight(){let{fontSize:t,padding:n}=this.options;return this.text.length*t+2*n}getUpperLeft(t,n){let{anchorPosition:r}=this.options,a=r==="BOTTOM_RIGHT"||r==="TOP_RIGHT",i=r==="BOTTOM_LEFT"||r==="BOTTOM_RIGHT",s=this.measureWidth(t),o=this.measureHeight(),l=a?this.anchor.x-s:this.anchor.x,u=i?this.anchor.y-o:this.anchor.y;if(n){let{width:c,height:f}=n,d=Math.max(Math.min(l,c-s),0),p=Math.max(Math.min(u,f-o),0);return{x:d,y:p}}return{x:l,y:u}}draw(t){let n=L6(t),r=bc(n),{backgroundColor:a,fontColor:i,fontSize:s,fontStyle:o,padding:l}=this.options;r.font=`${s}px ${o}`;let u=this.measureWidth(r),c=this.measureHeight();r.fillStyle=a;let f=this.getUpperLeft(r,n);r.fillRect(f.x,f.y,u,c),r.fillStyle=i,this.text.forEach((d,p)=>{let h=l+f.x,m=l+f.y+(p+1)*s;r.fillText(d,h,m)})}},Pce=class{constructor(e={}){let{boxColor:t,lineWidth:n,label:r,drawLabelOptions:a}=e;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;let i={anchorPosition:"BOTTOM_LEFT",backgroundColor:this.boxColor};this.drawLabelOptions=new _6({...i,...a})}},Fce=class{constructor(e,t={}){this.box=new bd(e),this.options=new Pce(t)}draw(e){let t=bc(e),{boxColor:n,lineWidth:r}=this.options,{x:a,y:i,width:s,height:o}=this.box;t.strokeStyle=n,t.lineWidth=r,t.strokeRect(a,i,s,o);let{label:l}=this.options;l&&new j6([l],{x:a-r/2,y:i},this.options.drawLabelOptions).draw(e)}};function X4t(e,t){(Array.isArray(t)?t:[t]).forEach(n=>{let r=n instanceof Hs?n.score:IC(n)?n.detection.score:void 0,a=n instanceof Hs?n.box:IC(n)?n.detection.box:new bd(n),i=r?`${M6(r)}`:void 0;new Fce(a,{label:i}).draw(e)})}function zce(e){let{Image:t,Video:n}=Aa.getEnv();return e instanceof t&&e.complete||e instanceof n&&e.readyState>=3}function e3t(e){return new Promise((t,n)=>{if(e instanceof Aa.getEnv().Canvas||zce(e)){t(null);return}function r(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",a),i.currentTarget.removeEventListener("error",r),n(i))}function a(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",a),i.currentTarget.removeEventListener("error",r),t(i))}e.addEventListener("load",a),e.addEventListener("error",r)})}function Bce(e){let{Image:t,Video:n}=Aa.getEnv();return e instanceof t?new fm(e.naturalWidth,e.naturalHeight):e instanceof n?new fm(e.videoWidth,e.videoHeight):new fm(e.width,e.height)}function NC({width:e,height:t}){let{createCanvasElement:n}=Aa.getEnv(),r=n();return r.width=e,r.height=t,r}function Uce(e,t){let{ImageData:n}=Aa.getEnv();if(!(e instanceof n)&&!zce(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");let{width:r,height:a}=Bce(e),i=NC({width:r,height:a});return e instanceof n?bc(i).putImageData(e,0,0):bc(i).drawImage(e,0,0,r,a),i}async function t3t(e,t){let n=t||Aa.getEnv().createCanvasElement(),[r,a,i]=e.shape.slice(gl(e)?1:0),s=X(()=>e.as3D(r,a,i).toInt());return await Fw.toPixels(s,n),s.dispose(),n}function AV(e){let{Image:t,Canvas:n,Video:r}=Aa.getEnv();return e instanceof t||e instanceof n||e instanceof r}function n3t(e,t,n=!1){let{Image:r,Canvas:a}=Aa.getEnv();if(!(e instanceof r||e instanceof a))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");if(t<=0)return NC({width:1,height:1});let i=Bce(e),s=t/Math.max(i.height,i.width),o=s*i.width,l=s*i.height,u=NC({width:t,height:t}),c=e instanceof a?e:Uce(e),f=Math.abs(o-l)/2,d=n&&o<l?f:0,p=n&&l<o?f:0;return c.width>0&&c.height>0&&bc(u).drawImage(c,d,p,o,l),u}var MC=class{constructor(e,t=!1){if(this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],this._inputSize=0,!Array.isArray(e))throw new Error(`NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have ${e}`);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach((n,r)=>{if(Xw(n)){this._imageTensors[r]=n,this._inputDimensions[r]=n.shape;return}if(gl(n)){let i=n.shape[0];if(i!==1)throw new Error(`NetInput - tf.Tensor4D with batchSize ${i} passed, but not supported in input array`);this._imageTensors[r]=n,this._inputDimensions[r]=n.shape.slice(1);return}let a=n instanceof Aa.getEnv().Canvas?n:Uce(n);this._canvases[r]=a,this._inputDimensions[r]=[a.height,a.width,3]})}get imageTensors(){return this._imageTensors}get canvases(){return this._canvases}get isBatchInput(){return this.batchSize>1||this._treatAsBatchInput}get batchSize(){return this._batchSize}get inputDimensions(){return this._inputDimensions}get inputSize(){return this._inputSize}get reshapedInputDimensions(){return Ng(this.batchSize,0,1).map((e,t)=>this.getReshapedInputDimensions(t))}getInput(e){return this.canvases[e]||this.imageTensors[e]}getInputDimensions(e){return this._inputDimensions[e]}getInputHeight(e){return this._inputDimensions[e][0]}getInputWidth(e){return this._inputDimensions[e][1]}getReshapedInputDimensions(e){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");let t=this.getInputWidth(e),n=this.getInputHeight(e);return Cce({width:t,height:n},this.inputSize)}toBatchTensor(e,t=!0){return this._inputSize=e,X(()=>{let n=Ng(this.batchSize,0,1).map(r=>{let a=this.getInput(r);if(a instanceof nt){let i=gl(a)?a:wr(a);return i=q4t(i,t),(i.shape[1]!==e||i.shape[2]!==e)&&(i=mi.resizeBilinear(i,[e,e],!1,!1)),i.as3D(e,e,3)}if(a instanceof Aa.getEnv().Canvas)return Fw.fromPixels(n3t(a,e,t));throw new Error(`toBatchTensor - at batchIdx ${r}, expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have ${a}`)});return Yn(n.map(r=>ve(r,"float32"))).as4D(this.batchSize,e,e,3)})}};async function ua(e){if(e instanceof MC)return e;let t=Array.isArray(e)?e:[e];if(!t.length)throw new Error("toNetInput - empty array passed as input");let n=a=>Array.isArray(e)?` at input index ${a}:`:"",r=t.map(L6);return r.forEach((a,i)=>{if(!AV(a)&&!Xw(a)&&!gl(a))throw typeof t[i]=="string"?new Error(`toNetInput -${n(i)} string passed, but could not resolve HTMLElement for element id ${t[i]}`):new Error(`toNetInput -${n(i)} expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id`);if(gl(a)){let s=a.shape[0];if(s!==1)throw new Error(`toNetInput -${n(i)} tf.Tensor4D with batchSize ${s} passed, but not supported in input array`)}}),await Promise.all(r.map(a=>AV(a)&&e3t(a))),new MC(r,Array.isArray(e))}async function $6(e,t){let{Canvas:n}=Aa.getEnv(),r=e;if(!(e instanceof n)){let i=await ua(e);if(i.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");let s=i.getInput(0);r=s instanceof n?s:await t3t(s)}let a=bc(r);return t.map(i=>i instanceof Hs?i.forSize(r.width,r.height).box.floor():i).map(i=>i.clipAtImageBorders(r.width,r.height)).map(({x:i,y:s,width:o,height:l})=>{let u=NC({width:o,height:l});return o>0&&l>0&&bc(u).putImageData(a.getImageData(i,s,o,l),0,0),u})}async function D6(e,t){if(!Xw(e)&&!gl(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(gl(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return X(()=>{let[n,r,a]=e.shape.slice(gl(e)?1:0);return t.map(i=>i instanceof Hs?i.forSize(r,n).box:i).map(i=>i.clipAtImageBorders(r,n)).filter(i=>i.width>0&&i.height>0).map(({x:i,y:s,width:o,height:l})=>c1(e.as3D(n,r,a),[s,i,0],[l,o,a]))})}async function r3t(e,t){let{fetch:n}=Aa.getEnv(),r=await n(e,t);if(!(r.status<400))throw new Error(`failed to fetch: (${r.status}) ${r.statusText}, from url: ${r.url}`);return r}async function a3t(e){return(await r3t(e)).json()}function Wce(e,t){let n=`${t}-weights_manifest.json`;if(!e)return{modelBaseUri:"",manifestUri:n};if(e==="/")return{modelBaseUri:"/",manifestUri:`/${n}`};let r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(r,"");let a=e.split("/").filter(o=>o),i=e.endsWith(".json")?a[a.length-1]:n,s=r+(e.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return s=e.startsWith("/")?`/${s}`:s,{modelBaseUri:s,manifestUri:s==="/"?`/${i}`:`${s}/${i}`}}async function i3t(e,t){let{manifestUri:n,modelBaseUri:r}=Wce(e,t),a=await a3t(n);return jr.loadWeights(a,r)}var Gc=class{constructor(e){this._params=void 0,this._paramMappings=[],this._name=e}get params(){return this._params}get paramMappings(){return this._paramMappings}get isLoaded(){return!!this.params}getParamFromPath(e){let{obj:t,objProp:n}=this.traversePropertyPath(e);return t[n]}reassignParamFromPath(e,t){let{obj:n,objProp:r}=this.traversePropertyPath(e);n[r].dispose(),n[r]=t}getParamList(){return this._paramMappings.map(({paramPath:e})=>({path:e,tensor:this.getParamFromPath(e)}))}getTrainableParams(){return this.getParamList().filter(e=>e.tensor instanceof rd)}getFrozenParams(){return this.getParamList().filter(e=>!(e.tensor instanceof rd))}variable(){this.getFrozenParams().forEach(({path:e,tensor:t})=>{this.reassignParamFromPath(e,t.variable())})}freeze(){this.getTrainableParams().forEach(({path:e,tensor:t})=>{let n=ia(t.dataSync());t.dispose(),this.reassignParamFromPath(e,n)})}dispose(e=!0){this.getParamList().forEach(t=>{if(e&&t.tensor.isDisposed)throw new Error(`param tensor has already been disposed for path ${t.path}`);t.tensor.dispose()}),this._params=void 0}serializeParams(){return new Float32Array(this.getParamList().map(({tensor:e})=>Array.from(e.dataSync())).reduce((e,t)=>e.concat(t)))}async load(e){if(e instanceof Float32Array){this.extractWeights(e);return}await this.loadFromUri(e)}async loadFromUri(e){if(e&&typeof e!="string")throw new Error(`${this._name}.loadFromUri - expected model uri`);let t=await i3t(e,this.getDefaultModelName());this.loadFromWeightMap(t)}async loadFromDisk(e){if(e&&typeof e!="string")throw new Error(`${this._name}.loadFromDisk - expected model file path`);let{readFile:t}=Aa.getEnv(),{manifestUri:n,modelBaseUri:r}=Wce(e,this.getDefaultModelName()),a=l=>Promise.all(l.map(u=>t(u).then(c=>typeof c=="string"?Buffer.from(c):c.buffer))),i=jr.weightsLoaderFactory(a),s=JSON.parse((await t(n)).toString()),o=await i(s,r);this.loadFromWeightMap(o)}loadFromWeightMap(e){let{paramMappings:t,params:n}=this.extractParamsFromWeightMap(e);this._paramMappings=t,this._params=n}extractWeights(e){let{paramMappings:t,params:n}=this.extractParams(e);this._paramMappings=t,this._params=n}traversePropertyPath(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");let t=e.split("/").reduce((a,i)=>{if(!a.nextObj.hasOwnProperty(i))throw new Error(`traversePropertyPath - object does not have property ${i}, for path ${e}`);return{obj:a.nextObj,objProp:i,nextObj:a.nextObj[i]}},{nextObj:this.params}),{obj:n,objProp:r}=t;if(!n||!r||!(n[r]instanceof nt))throw new Error(`traversePropertyPath - parameter is not a tensor, for path ${e}`);return{obj:n,objProp:r}}};function vi(e,t,n){return X(()=>{let r=u1(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=le(r,t.bias),r})}function UE(e,t,n=!1){return X(()=>{let r=Ft(n?le(oa(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):vi(e,t.conv0,[2,2])),a=vi(r,t.conv1,[1,1]),i=Ft(le(r,a)),s=vi(i,t.conv2,[1,1]);return Ft(le(r,le(a,s)))})}function b2(e,t,n=!1,r=!0){return X(()=>{let a=Ft(n?le(oa(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):vi(e,t.conv0,r?[2,2]:[1,1])),i=vi(a,t.conv1,[1,1]),s=Ft(le(a,i)),o=vi(s,t.conv2,[1,1]),l=Ft(le(a,le(i,o))),u=vi(l,t.conv3,[1,1]);return Ft(le(a,le(i,le(o,u))))})}function Wy(e,t,n="same",r=!1){return X(()=>{let a=le(oa(e,t.filters,[1,1],n),t.bias);return r?Ft(a):a})}function Hc(e,t){Object.keys(e).forEach(n=>{t.some(r=>r.originalPath===n)||e[n].dispose()})}function O6(e,t){return(n,r,a,i)=>{let s=dc(e(n*r*a*a),[a,a,n,r]),o=Ot(e(r));return t.push({paramPath:`${i}/filters`},{paramPath:`${i}/bias`}),{filters:s,bias:o}}}function Vce(e,t){return(n,r,a)=>{let i=Mo(e(n*r),[n,r]),s=Ot(e(r));return t.push({paramPath:`${a}/weights`},{paramPath:`${a}/bias`}),{weights:i,bias:s}}}var Gce=class{constructor(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n}};function R6(e,t){return(n,r,a)=>{let i=dc(e(9*n),[3,3,n,1]),s=dc(e(n*r),[1,1,n,r]),o=Ot(e(r));return t.push({paramPath:`${a}/depthwise_filter`},{paramPath:`${a}/pointwise_filter`},{paramPath:`${a}/bias`}),new Gce(i,s,o)}}function P6(e){return t=>{let n=e(`${t}/depthwise_filter`,4),r=e(`${t}/pointwise_filter`,4),a=e(`${t}/bias`,1);return new Gce(n,r,a)}}function fh(e,t){return(n,r,a)=>{let i=e[n];if(!C1(i,r))throw new Error(`expected weightMap[${n}] to be a Tensor${r}D, instead have ${i}`);return t.push({originalPath:n,paramPath:a||n}),i}}function qc(e){let t=e;function n(a){let i=t.slice(0,a);return t=t.slice(a),i}function r(){return t}return{extractWeights:n,getRemainingWeights:r}}function Hce(e,t){let n=O6(e,t),r=R6(e,t);function a(s,o,l,u=!1){let c=u?n(s,o,3,`${l}/conv0`):r(s,o,`${l}/conv0`),f=r(o,o,`${l}/conv1`),d=r(o,o,`${l}/conv2`);return{conv0:c,conv1:f,conv2:d}}function i(s,o,l,u=!1){let{conv0:c,conv1:f,conv2:d}=a(s,o,l,u),p=r(o,o,`${l}/conv3`);return{conv0:c,conv1:f,conv2:d,conv3:p}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:i}}function s3t(e){let t=[],{extractWeights:n,getRemainingWeights:r}=qc(e),{extractDenseBlock4Params:a}=Hce(n,t),i=a(3,32,"dense0",!0),s=a(32,64,"dense1"),o=a(64,128,"dense2"),l=a(128,256,"dense3");if(r().length!==0)throw new Error(`weights remaing after extract: ${r().length}`);return{paramMappings:t,params:{dense0:i,dense1:s,dense2:o,dense3:l}}}function qce(e){return t=>{let n=e(`${t}/filters`,4),r=e(`${t}/bias`,1);return{filters:n,bias:r}}}function Yce(e,t){let n=fh(e,t),r=qce(n),a=P6(n);function i(o,l=!1){let u=l?r(`${o}/conv0`):a(`${o}/conv0`),c=a(`${o}/conv1`),f=a(`${o}/conv2`);return{conv0:u,conv1:c,conv2:f}}function s(o,l=!1){let u=l?r(`${o}/conv0`):a(`${o}/conv0`),c=a(`${o}/conv1`),f=a(`${o}/conv2`),d=a(`${o}/conv3`);return{conv0:u,conv1:c,conv2:f,conv3:d}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:s}}function o3t(e){let t=[],{extractDenseBlock4Params:n}=Yce(e,t),r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Hc(e,t),{params:r,paramMappings:t}}var Qce=class extends Gc{constructor(){super("FaceFeatureExtractor")}forwardInput(e){let{params:t}=this;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return X(()=>{let n=ve(e.toBatchTensor(112,!0),"float32"),r=ex(n,[122.782,117.001,104.298]).div(255),a=b2(r,t.dense0,!0);return a=b2(a,t.dense1),a=b2(a,t.dense2),a=b2(a,t.dense3),a=Fl(a,[7,7],[2,2],"valid"),a})}async forward(e){return this.forwardInput(await ua(e))}getDefaultModelName(){return"face_feature_extractor_model"}extractParamsFromWeightMap(e){return o3t(e)}extractParams(e){return s3t(e)}};function c_(e,t){return X(()=>le(at(e,t.weights),t.bias))}function l3t(e,t,n){let r=[],{extractWeights:a,getRemainingWeights:i}=qc(e),s=Vce(a,r)(t,n,"fc");if(i().length!==0)throw new Error(`weights remaing after extract: ${i().length}`);return{paramMappings:r,params:{fc:s}}}function u3t(e){let t=[],n=fh(e,t);function r(i){let s=n(`${i}/weights`,2),o=n(`${i}/bias`,1);return{weights:s,bias:o}}let a={fc:r("fc")};return Hc(e,t),{params:a,paramMappings:t}}function Kce(e){let t={},n={};return Object.keys(e).forEach(r=>{let a=r.startsWith("fc")?n:t;a[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var Jce=class extends Gc{constructor(e,t){super(e),this._faceFeatureExtractor=t}get faceFeatureExtractor(){return this._faceFeatureExtractor}runNet(e){let{params:t}=this;if(!t)throw new Error(`${this._name} - load model before inference`);return X(()=>{let n=e instanceof MC?this.faceFeatureExtractor.forwardInput(e):e;return c_(n.as2D(n.shape[0],-1),t.fc)})}dispose(e=!0){this.faceFeatureExtractor.dispose(e),super.dispose(e)}loadClassifierParams(e){let{params:t,paramMappings:n}=this.extractClassifierParams(e);this._params=t,this._paramMappings=n}extractClassifierParams(e){return l3t(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())}extractParamsFromWeightMap(e){let{featureExtractorMap:t,classifierMap:n}=Kce(e);return this.faceFeatureExtractor.loadFromWeightMap(t),u3t(n)}extractParams(e){let t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,a=e.slice(0,e.length-r),i=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(i)}},LV=["neutral","happy","sad","angry","fearful","disgusted","surprised"],F6=class{constructor(e){if(this.neutral=0,this.happy=0,this.sad=0,this.angry=0,this.fearful=0,this.disgusted=0,this.surprised=0,e.length!==7)throw new Error(`FaceExpressions.constructor - expected probabilities.length to be 7, have: ${e.length}`);LV.forEach((t,n)=>{this[t]=e[n]})}asSortedArray(){return LV.map(e=>({expression:e,probability:this[e]})).sort((e,t)=>t.probability-e.probability)}},c3t=class extends Jce{constructor(e=new Qce){super("FaceExpressionNet",e)}forwardInput(e){return X(()=>Fc(this.runNet(e)))}async forward(e){return this.forwardInput(await ua(e))}async predictExpressions(e){let t=await ua(e),n=await this.forwardInput(t),r=await Promise.all($n(n).map(async i=>{let s=i.dataSync();return i.dispose(),s}));n.dispose();let a=r.map(i=>new F6(i));return t.isBatchInput?a:a[0]}getDefaultModelName(){return"face_expression_model"}getClassifierChannelsIn(){return 256}getClassifierChannelsOut(){return 7}};function f3t(e){return e.expressions instanceof F6}function Zce(e,t){return{...e,expressions:t}}function d3t(e,t,n=.1,r){(Array.isArray(t)?t:[t]).forEach(a=>{let i=a instanceof F6?a:f3t(a)?a.expressions:void 0;if(!i)throw new Error("drawFaceExpressions - expected faceExpressions to be FaceExpressions | WithFaceExpressions<{}> or array thereof");let s=i.asSortedArray().filter(l=>l.probability>n),o=IC(a)?a.detection.box.bottomLeft:r||new Gt(0,0);new j6(s.map(l=>`${l.expression} (${M6(l.probability)})`),o).draw(e)})}function Xce(e){return IC(e)&&e.landmarks instanceof CC&&e.unshiftedLandmarks instanceof CC&&e.alignedRect instanceof Hs}function p3t(e){let t=l=>l*180/Math.PI,n=(l,u)=>Math.sqrt((l.x-u.x)**2+(l.y-u.y)**2),r={roll:void 0,pitch:void 0,yaw:void 0},a=(l,u,c)=>{let f=Math.floor(l.x-u.x),d=Math.floor(u.x-c.x);return f-d},i=(l,u)=>{let c=Math.hypot(u.x-l.x,u.y-l.y),f=u.y-l.y,d=Math.asin(f/c),p=t(d),h=Math.floor(90-p),m=u.x-l.x<0?-1:1;return h*m},s=(l,u,c)=>{let f=n(l,c),d=new Gt((l.x+c.x)/2,(l.y+c.y)/2),p=n(u,d),h=Math.atan(p/f),m=Math.floor(t(h)),g=d.y-u.y<0?-1:1;return m*g};if(!e||!e.positions||e.positions.length!==68)return r;let o=e.positions;return r.roll=i(o[27],o[66]),r.pitch=s(o[14],o[30],o[2]),r.yaw=a(o[14],o[33],o[2]),r}function efe(e,t){let{box:n}=e.detection,r=t.shiftBy(n.x,n.y),a=r.align(),{imageDims:i}=e.detection,s=new Hs(e.detection.score,a.rescale(i.reverse()),i),o=p3t(t);return{...e,landmarks:r,unshiftedLandmarks:t,alignedRect:s,angle:o}}var tfe=class{constructor(e={}){let{drawLines:t=!0,drawPoints:n=!0,lineWidth:r,lineColor:a,pointSize:i,pointColor:s}=e;this.drawLines=t,this.drawPoints=n,this.lineWidth=r||1,this.pointSize=i||2,this.lineColor=a||"rgba(0, 255, 255, 1)",this.pointColor=s||"rgba(255, 0, 255, 1)"}},nfe=class{constructor(e,t={}){this.faceLandmarks=e,this.options=new tfe(t)}draw(e){let t=bc(e),{drawLines:n,drawPoints:r,lineWidth:a,lineColor:i,pointSize:s,pointColor:o}=this.options;if(n&&this.faceLandmarks instanceof Ace&&(t.strokeStyle=i,t.lineWidth=a,iu(t,this.faceLandmarks.getJawOutline()),iu(t,this.faceLandmarks.getLeftEyeBrow()),iu(t,this.faceLandmarks.getRightEyeBrow()),iu(t,this.faceLandmarks.getNose()),iu(t,this.faceLandmarks.getLeftEye(),!0),iu(t,this.faceLandmarks.getRightEye(),!0),iu(t,this.faceLandmarks.getMouth(),!0)),r){t.strokeStyle=o,t.fillStyle=o;let l=u=>{t.beginPath(),t.arc(u.x,u.y,s,0,2*Math.PI),t.fill()};this.faceLandmarks.positions.forEach(l)}}};function h3t(e,t){(Array.isArray(t)?t:[t]).forEach(n=>{let r=n instanceof CC?n:Xce(n)?n.landmarks:void 0;if(!r)throw new Error("drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof");new nfe(r).draw(e)})}function m3t(e,t){let n=O6(e,t),r=R6(e,t);function a(s,o,l){let u=r(s,o,`${l}/separable_conv0`),c=r(o,o,`${l}/separable_conv1`),f=n(s,o,1,`${l}/expansion_conv`);return{separable_conv0:u,separable_conv1:c,expansion_conv:f}}function i(s,o){let l=r(s,s,`${o}/separable_conv0`),u=r(s,s,`${o}/separable_conv1`),c=r(s,s,`${o}/separable_conv2`);return{separable_conv0:l,separable_conv1:u,separable_conv2:c}}return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:a,extractMainBlockParams:i}}function g3t(e,t){let n=[],{extractWeights:r,getRemainingWeights:a}=qc(e),{extractConvParams:i,extractSeparableConvParams:s,extractReductionBlockParams:o,extractMainBlockParams:l}=m3t(r,n),u=i(3,32,3,"entry_flow/conv_in"),c=o(32,64,"entry_flow/reduction_block_0"),f=o(64,128,"entry_flow/reduction_block_1"),d={conv_in:u,reduction_block_0:c,reduction_block_1:f},p={};Ng(t,0,1).forEach(y=>{p[`main_block_${y}`]=l(128,`middle_flow/main_block_${y}`)});let h=o(128,256,"exit_flow/reduction_block"),m=s(256,512,"exit_flow/separable_conv"),g={reduction_block:h,separable_conv:m};if(a().length!==0)throw new Error(`weights remaing after extract: ${a().length}`);return{paramMappings:n,params:{entry_flow:d,middle_flow:p,exit_flow:g}}}function y3t(e,t){let n=fh(e,t),r=qce(n),a=P6(n);function i(o){let l=a(`${o}/separable_conv0`),u=a(`${o}/separable_conv1`),c=r(`${o}/expansion_conv`);return{separable_conv0:l,separable_conv1:u,expansion_conv:c}}function s(o){let l=a(`${o}/separable_conv0`),u=a(`${o}/separable_conv1`),c=a(`${o}/separable_conv2`);return{separable_conv0:l,separable_conv1:u,separable_conv2:c}}return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:i,extractMainBlockParams:s}}function v3t(e,t){let n=[],{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:i,extractMainBlockParams:s}=y3t(e,n),o=r("entry_flow/conv_in"),l=i("entry_flow/reduction_block_0"),u=i("entry_flow/reduction_block_1"),c={conv_in:o,reduction_block_0:l,reduction_block_1:u},f={};Ng(t,0,1).forEach(m=>{f[`main_block_${m}`]=s(`middle_flow/main_block_${m}`)});let d=i("exit_flow/reduction_block"),p=a("exit_flow/separable_conv"),h={reduction_block:d,separable_conv:p};return Hc(e,n),{params:{entry_flow:c,middle_flow:f,exit_flow:h},paramMappings:n}}function rfe(e,t,n){return le(oa(e,t.filters,n,"same"),t.bias)}function WE(e,t,n=!0){let r=n?Ft(e):e;return r=vi(r,t.separable_conv0,[1,1]),r=vi(Ft(r),t.separable_conv1,[1,1]),r=mr(r,[3,3],[2,2],"same"),r=le(r,rfe(e,t.expansion_conv,[2,2])),r}function b3t(e,t){let n=vi(Ft(e),t.separable_conv0,[1,1]);return n=vi(Ft(n),t.separable_conv1,[1,1]),n=vi(Ft(n),t.separable_conv2,[1,1]),n=le(n,e),n}var w3t=class extends Gc{constructor(e){super("TinyXception"),this._numMainBlocks=e}forwardInput(e){let{params:t}=this;if(!t)throw new Error("TinyXception - load model before inference");return X(()=>{let n=ve(e.toBatchTensor(112,!0),"float32"),r=ex(n,[122.782,117.001,104.298]).div(255),a=Ft(rfe(r,t.entry_flow.conv_in,[2,2]));return a=WE(a,t.entry_flow.reduction_block_0,!1),a=WE(a,t.entry_flow.reduction_block_1),Ng(this._numMainBlocks,0,1).forEach(i=>{a=b3t(a,t.middle_flow[`main_block_${i}`])}),a=WE(a,t.exit_flow.reduction_block),a=Ft(vi(a,t.exit_flow.separable_conv,[1,1])),a})}async forward(e){return this.forwardInput(await ua(e))}getDefaultModelName(){return"tiny_xception_model"}extractParamsFromWeightMap(e){return v3t(e,this._numMainBlocks)}extractParams(e){return g3t(e,this._numMainBlocks)}};function x3t(e){let t=[],{extractWeights:n,getRemainingWeights:r}=qc(e),a=Vce(n,t),i=a(512,1,"fc/age"),s=a(512,2,"fc/gender");if(r().length!==0)throw new Error(`weights remaing after extract: ${r().length}`);return{paramMappings:t,params:{fc:{age:i,gender:s}}}}function S3t(e){let t=[],n=fh(e,t);function r(i){let s=n(`${i}/weights`,2),o=n(`${i}/bias`,1);return{weights:s,bias:o}}let a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Hc(e,t),{params:a,paramMappings:t}}var k3t=(e=>(e.FEMALE="female",e.MALE="male",e))(k3t||{}),C3t=class extends Gc{constructor(e=new w3t(2)){super("AgeGenderNet"),this._faceFeatureExtractor=e}get faceFeatureExtractor(){return this._faceFeatureExtractor}runNet(e){let{params:t}=this;if(!t)throw new Error(`${this._name} - load model before inference`);return X(()=>{let n=e instanceof MC?this.faceFeatureExtractor.forwardInput(e):e,r=Fl(n,[7,7],[2,2],"valid").as2D(n.shape[0],-1),a=c_(r,t.fc.age).as1D(),i=c_(r,t.fc.gender);return{age:a,gender:i}})}forwardInput(e){return X(()=>{let{age:t,gender:n}=this.runNet(e);return{age:t,gender:Fc(n)}})}async forward(e){return this.forwardInput(await ua(e))}async predictAgeAndGender(e){let t=await ua(e),n=await this.forwardInput(t),r=$n(n.age),a=$n(n.gender),i=r.map((o,l)=>({ageTensor:o,genderTensor:a[l]})),s=await Promise.all(i.map(async({ageTensor:o,genderTensor:l})=>{let u=o.dataSync()[0],c=l.dataSync()[0],f=c>.5,d=f?"male":"female",p=f?c:1-c;return o.dispose(),l.dispose(),{age:u,gender:d,genderProbability:p}}));return n.age.dispose(),n.gender.dispose(),t.isBatchInput?s:s[0]}getDefaultModelName(){return"age_gender_model"}dispose(e=!0){this.faceFeatureExtractor.dispose(e),super.dispose(e)}loadClassifierParams(e){let{params:t,paramMappings:n}=this.extractClassifierParams(e);this._params=t,this._paramMappings=n}extractClassifierParams(e){return x3t(e)}extractParamsFromWeightMap(e){let{featureExtractorMap:t,classifierMap:n}=Kce(e);return this.faceFeatureExtractor.loadFromWeightMap(t),S3t(n)}extractParams(e){let t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)}},afe=class extends Jce{postProcess(e,t,n){let r=n.map(({width:i,height:s})=>{let o=t/Math.max(s,i);return{width:i*o,height:s*o}}),a=r.length;return X(()=>{let i=(u,c)=>Yn([Ka([68],u,"float32"),Ka([68],c,"float32")],1).as2D(1,136).as1D(),s=(u,c)=>{let{width:f,height:d}=r[u];return c(f,d)?Math.abs(f-d)/2:0},o=u=>s(u,(c,f)=>c<f),l=u=>s(u,(c,f)=>f<c);return e.mul(Ka([a,136],t,"float32")).sub(Yn(Array.from(Array(a),(u,c)=>i(o(c),l(c))))).div(Yn(Array.from(Array(a),(u,c)=>i(r[c].width,r[c].height))))})}forwardInput(e){return X(()=>{let t=this.runNet(e);return this.postProcess(t,e.inputSize,e.inputDimensions.map(([n,r])=>({height:n,width:r})))})}async forward(e){return this.forwardInput(await ua(e))}async detectLandmarks(e){let t=await ua(e),n=X(()=>$n(this.forwardInput(t))),r=await Promise.all(n.map(async(a,i)=>{let s=Array.from(a.dataSync()),o=s.filter((u,c)=>o_(c)),l=s.filter((u,c)=>!o_(c));return new Ace(Array(68).fill(0).map((u,c)=>new Gt(o[c],l[c])),{height:t.getInputHeight(i),width:t.getInputWidth(i)})}));return n.forEach(a=>a.dispose()),t.isBatchInput?r:r[0]}getClassifierChannelsOut(){return 136}},I3t=class extends afe{constructor(e=new Qce){super("FaceLandmark68Net",e)}getDefaultModelName(){return"face_landmark_68_model"}getClassifierChannelsIn(){return 256}};function N3t(e){let t=[],{extractDenseBlock3Params:n}=Yce(e,t),r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Hc(e,t),{params:r,paramMappings:t}}function M3t(e){let t=[],{extractWeights:n,getRemainingWeights:r}=qc(e),{extractDenseBlock3Params:a}=Hce(n,t),i=a(3,32,"dense0",!0),s=a(32,64,"dense1"),o=a(64,128,"dense2");if(r().length!==0)throw new Error(`weights remaing after extract: ${r().length}`);return{paramMappings:t,params:{dense0:i,dense1:s,dense2:o}}}var T3t=class extends Gc{constructor(){super("TinyFaceFeatureExtractor")}forwardInput(e){let{params:t}=this;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return X(()=>{let n=ve(e.toBatchTensor(112,!0),"float32"),r=ex(n,[122.782,117.001,104.298]).div(255),a=UE(r,t.dense0,!0);return a=UE(a,t.dense1),a=UE(a,t.dense2),a=Fl(a,[14,14],[2,2],"valid"),a})}async forward(e){return this.forwardInput(await ua(e))}getDefaultModelName(){return"face_feature_extractor_tiny_model"}extractParamsFromWeightMap(e){return N3t(e)}extractParams(e){return M3t(e)}},E3t=class extends afe{constructor(e=new T3t){super("FaceLandmark68TinyNet",e)}getDefaultModelName(){return"face_landmark_68_tiny_model"}getClassifierChannelsIn(){return 128}};function A3t(e,t){return le(K(e,t.weights),t.biases)}function z6(e,t,n,r,a="same"){let{filters:i,bias:s}=t.conv,o=oa(e,i,n,a);return o=le(o,s),o=A3t(o,t.scale),r?Ft(o):o}function L3t(e,t){return z6(e,t,[1,1],!0)}function ife(e,t){return z6(e,t,[1,1],!1)}function sfe(e,t){return z6(e,t,[2,2],!0,"valid")}function _3t(e,t){function n(o,l,u){let c=e(o),f=c.length/(l*u*u);if(kce(f))throw new Error(`depth has to be an integer: ${f}, weights.length: ${c.length}, numFilters: ${l}, filterSize: ${u}`);return X(()=>it(dc(c,[l,f,u,u]),[2,3,1,0]))}function r(o,l,u,c){let f=n(o,l,u),d=Ot(e(l));return t.push({paramPath:`${c}/filters`},{paramPath:`${c}/bias`}),{filters:f,bias:d}}function a(o,l){let u=Ot(e(o)),c=Ot(e(o));return t.push({paramPath:`${l}/weights`},{paramPath:`${l}/biases`}),{weights:u,biases:c}}function i(o,l,u,c){let f=r(o,l,u,`${c}/conv`),d=a(l,`${c}/scale`);return{conv:f,scale:d}}function s(o,l,u,c,f=!1){let d=i((f?.5:1)*o,l,u,`${c}/conv1`),p=i(o,l,u,`${c}/conv2`);return{conv1:d,conv2:p}}return{extractConvLayerParams:i,extractResidualLayerParams:s}}function j3t(e){let{extractWeights:t,getRemainingWeights:n}=qc(e),r=[],{extractConvLayerParams:a,extractResidualLayerParams:i}=_3t(t,r),s=a(4704,32,7,"conv32_down"),o=i(9216,32,3,"conv32_1"),l=i(9216,32,3,"conv32_2"),u=i(9216,32,3,"conv32_3"),c=i(36864,64,3,"conv64_down",!0),f=i(36864,64,3,"conv64_1"),d=i(36864,64,3,"conv64_2"),p=i(36864,64,3,"conv64_3"),h=i(147456,128,3,"conv128_down",!0),m=i(147456,128,3,"conv128_1"),g=i(147456,128,3,"conv128_2"),y=i(589824,256,3,"conv256_down",!0),v=i(589824,256,3,"conv256_1"),b=i(589824,256,3,"conv256_2"),x=i(589824,256,3,"conv256_down_out"),S=X(()=>it(Mo(t(256*128),[128,256]),[1,0]));if(r.push({paramPath:"fc"}),n().length!==0)throw new Error(`weights remaing after extract: ${n().length}`);return{params:{conv32_down:s,conv32_1:o,conv32_2:l,conv32_3:u,conv64_down:c,conv64_1:f,conv64_2:d,conv64_3:p,conv128_down:h,conv128_1:m,conv128_2:g,conv256_down:y,conv256_1:v,conv256_2:b,conv256_down_out:x,fc:S},paramMappings:r}}function $3t(e,t){let n=fh(e,t);function r(s){let o=n(`${s}/scale/weights`,1),l=n(`${s}/scale/biases`,1);return{weights:o,biases:l}}function a(s){let o=n(`${s}/conv/filters`,4),l=n(`${s}/conv/bias`,1),u=r(s);return{conv:{filters:o,bias:l},scale:u}}function i(s){return{conv1:a(`${s}/conv1`),conv2:a(`${s}/conv2`)}}return{extractConvLayerParams:a,extractResidualLayerParams:i}}function D3t(e){let t=[],{extractConvLayerParams:n,extractResidualLayerParams:r}=$3t(e,t),a=n("conv32_down"),i=r("conv32_1"),s=r("conv32_2"),o=r("conv32_3"),l=r("conv64_down"),u=r("conv64_1"),c=r("conv64_2"),f=r("conv64_3"),d=r("conv128_down"),p=r("conv128_1"),h=r("conv128_2"),m=r("conv256_down"),g=r("conv256_1"),y=r("conv256_2"),v=r("conv256_down_out"),{fc:b}=e;if(t.push({originalPath:"fc",paramPath:"fc"}),!Sce(b))throw new Error(`expected weightMap[fc] to be a Tensor2D, instead have ${b}`);let x={conv32_down:a,conv32_1:i,conv32_2:s,conv32_3:o,conv64_down:l,conv64_1:u,conv64_2:c,conv64_3:f,conv128_down:d,conv128_1:p,conv128_2:h,conv256_down:m,conv256_1:g,conv256_2:y,conv256_down_out:v,fc:b};return Hc(e,t),{params:x,paramMappings:t}}function eo(e,t){let n=L3t(e,t.conv1);return n=ife(n,t.conv2),n=le(n,e),n=Ft(n),n}function w2(e,t){let n=sfe(e,t.conv1);n=ife(n,t.conv2);let r=Fl(e,2,2,"valid"),a=In(r.shape),i=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){let s=[...n.shape];s[1]=1;let o=In(s);n=Yt([n,o],1);let l=[...n.shape];l[2]=1;let u=In(l);n=Yt([n,u],2)}return r=i?Yt([r,a],3):r,n=le(r,n),n=Ft(n),n}var O3t=class extends Gc{constructor(){super("FaceRecognitionNet")}forwardInput(e){let{params:t}=this;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return X(()=>{let n=ve(e.toBatchTensor(150,!0),"float32"),r=ex(n,[122.782,117.001,104.298]).div(255),a=sfe(r,t.conv32_down);a=mr(a,3,2,"valid"),a=eo(a,t.conv32_1),a=eo(a,t.conv32_2),a=eo(a,t.conv32_3),a=w2(a,t.conv64_down),a=eo(a,t.conv64_1),a=eo(a,t.conv64_2),a=eo(a,t.conv64_3),a=w2(a,t.conv128_down),a=eo(a,t.conv128_1),a=eo(a,t.conv128_2),a=w2(a,t.conv256_down),a=eo(a,t.conv256_1),a=eo(a,t.conv256_2),a=w2(a,t.conv256_down_out);let i=a.mean([1,2]);return at(i,t.fc)})}async forward(e){return this.forwardInput(await ua(e))}async computeFaceDescriptor(e){var t;if((t=e==null?void 0:e.shape)!=null&&t.some(i=>i<=0))return new Float32Array(128);let n=await ua(e),r=X(()=>$n(this.forwardInput(n))),a=await Promise.all(r.map(i=>i.data()));return r.forEach(i=>i.dispose()),n.isBatchInput?a:a[0]}getDefaultModelName(){return"face_recognition_model"}extractParamsFromWeightMap(e){return D3t(e)}extractParams(e){return j3t(e)}};function ofe(e,t){return{...e,descriptor:t}}function lfe(e,t){return{...e,age:t}}function ufe(e,t,n){return{...e,gender:t,genderProbability:n}}function R3t(e,t){function n(l,u){let c=dc(e(9*l),[3,3,l,1]),f=Ot(e(l)),d=Ot(e(l)),p=Ot(e(l)),h=Ot(e(l));return t.push({paramPath:`${u}/filters`},{paramPath:`${u}/batch_norm_scale`},{paramPath:`${u}/batch_norm_offset`},{paramPath:`${u}/batch_norm_mean`},{paramPath:`${u}/batch_norm_variance`}),{filters:c,batch_norm_scale:f,batch_norm_offset:d,batch_norm_mean:p,batch_norm_variance:h}}function r(l,u,c,f,d){let p=dc(e(l*u*c*c),[c,c,l,u]),h=Ot(e(u));return t.push({paramPath:`${f}/filters`},{paramPath:`${f}/${d?"batch_norm_offset":"bias"}`}),{filters:p,bias:h}}function a(l,u,c,f){let{filters:d,bias:p}=r(l,u,c,f,!0);return{filters:d,batch_norm_offset:p}}function i(l,u,c){let f=n(l,`${c}/depthwise_conv`),d=a(l,u,1,`${c}/pointwise_conv`);return{depthwise_conv:f,pointwise_conv:d}}function s(){let l=a(3,32,3,"mobilenetv1/conv_0"),u=i(32,64,"mobilenetv1/conv_1"),c=i(64,128,"mobilenetv1/conv_2"),f=i(128,128,"mobilenetv1/conv_3"),d=i(128,256,"mobilenetv1/conv_4"),p=i(256,256,"mobilenetv1/conv_5"),h=i(256,512,"mobilenetv1/conv_6"),m=i(512,512,"mobilenetv1/conv_7"),g=i(512,512,"mobilenetv1/conv_8"),y=i(512,512,"mobilenetv1/conv_9"),v=i(512,512,"mobilenetv1/conv_10"),b=i(512,512,"mobilenetv1/conv_11"),x=i(512,1024,"mobilenetv1/conv_12"),S=i(1024,1024,"mobilenetv1/conv_13");return{conv_0:l,conv_1:u,conv_2:c,conv_3:f,conv_4:d,conv_5:p,conv_6:h,conv_7:m,conv_8:g,conv_9:y,conv_10:v,conv_11:b,conv_12:x,conv_13:S}}function o(){let l=a(1024,256,1,"prediction_layer/conv_0"),u=a(256,512,3,"prediction_layer/conv_1"),c=a(512,128,1,"prediction_layer/conv_2"),f=a(128,256,3,"prediction_layer/conv_3"),d=a(256,128,1,"prediction_layer/conv_4"),p=a(128,256,3,"prediction_layer/conv_5"),h=a(256,64,1,"prediction_layer/conv_6"),m=a(64,128,3,"prediction_layer/conv_7"),g=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),y=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),v=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),b=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),x=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),S=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),k=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),I=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),N=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),T=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),L=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),E=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor");return{conv_0:l,conv_1:u,conv_2:c,conv_3:f,conv_4:d,conv_5:p,conv_6:h,conv_7:m,box_predictor_0:{box_encoding_predictor:g,class_predictor:y},box_predictor_1:{box_encoding_predictor:v,class_predictor:b},box_predictor_2:{box_encoding_predictor:x,class_predictor:S},box_predictor_3:{box_encoding_predictor:k,class_predictor:I},box_predictor_4:{box_encoding_predictor:N,class_predictor:T},box_predictor_5:{box_encoding_predictor:L,class_predictor:E}}}return{extractMobilenetV1Params:s,extractPredictionLayerParams:o}}function P3t(e){let t=[],{extractWeights:n,getRemainingWeights:r}=qc(e),{extractMobilenetV1Params:a,extractPredictionLayerParams:i}=R3t(n,t),s=a(),o=i(),l={extra_dim:sM(n(5118*4),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),r().length!==0)throw new Error(`weights remaing after extract: ${r().length}`);return{params:{mobilenetv1:s,prediction_layer:o,output_layer:l},paramMappings:t}}function F3t(e,t){let n=fh(e,t);function r(u,c,f){let d=n(`${u}/Conv2d_${c}_pointwise/weights`,4,`${f}/filters`),p=n(`${u}/Conv2d_${c}_pointwise/convolution_bn_offset`,1,`${f}/batch_norm_offset`);return{filters:d,batch_norm_offset:p}}function a(u){let c=`mobilenetv1/conv_${u}`,f=`MobilenetV1/Conv2d_${u}_depthwise`,d=`${c}/depthwise_conv`,p=`${c}/pointwise_conv`,h=n(`${f}/depthwise_weights`,4,`${d}/filters`),m=n(`${f}/BatchNorm/gamma`,1,`${d}/batch_norm_scale`),g=n(`${f}/BatchNorm/beta`,1,`${d}/batch_norm_offset`),y=n(`${f}/BatchNorm/moving_mean`,1,`${d}/batch_norm_mean`),v=n(`${f}/BatchNorm/moving_variance`,1,`${d}/batch_norm_variance`);return{depthwise_conv:{filters:h,batch_norm_scale:m,batch_norm_offset:g,batch_norm_mean:y,batch_norm_variance:v},pointwise_conv:r("MobilenetV1",u,p)}}function i(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}}function s(u,c){let f=n(`${u}/weights`,4,`${c}/filters`),d=n(`${u}/biases`,1,`${c}/bias`);return{filters:f,bias:d}}function o(u){let c=s(`Prediction/BoxPredictor_${u}/BoxEncodingPredictor`,`prediction_layer/box_predictor_${u}/box_encoding_predictor`),f=s(`Prediction/BoxPredictor_${u}/ClassPredictor`,`prediction_layer/box_predictor_${u}/class_predictor`);return{box_encoding_predictor:c,class_predictor:f}}function l(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:o(0),box_predictor_1:o(1),box_predictor_2:o(2),box_predictor_3:o(3),box_predictor_4:o(4),box_predictor_5:o(5)}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:l}}function z3t(e){let t=[],{extractMobilenetV1Params:n,extractPredictionLayerParams:r}=F3t(e,t),a=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!Xw(a))throw new Error(`expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have ${a}`);let i={mobilenetv1:n(),prediction_layer:r(),output_layer:{extra_dim:a}};return Hc(e,t),{params:i,paramMappings:t}}function ao(e,t,n){return X(()=>{let r=oa(e,t.filters,n,"same");return r=le(r,t.batch_norm_offset),Vr(r,0,6)})}var B3t=.0010000000474974513;function U3t(e,t,n){return X(()=>{let r=th(e,t.filters,n,"same");return r=eh(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,B3t),Vr(r,0,6)})}function W3t(e){return[2,4,6,12].some(t=>t===e)?[2,2]:[1,1]}function V3t(e,t){return X(()=>{let n,r=ao(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach((a,i)=>{let s=i+1,o=W3t(s);r=U3t(r,a.depthwise_conv,o),r=ao(r,a.pointwise_conv,[1,1]),s===11&&(n=r)}),n===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function G3t(e,t,n){let r=e.arraySync(),a=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),s=Math.max(r[t][0],r[t][2]),o=Math.max(r[t][1],r[t][3]),l=Math.min(r[n][0],r[n][2]),u=Math.min(r[n][1],r[n][3]),c=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),d=(s-a)*(o-i),p=(c-l)*(f-u);if(d<=0||p<=0)return 0;let h=Math.max(a,l),m=Math.max(i,u),g=Math.min(s,c),y=Math.min(o,f),v=Math.max(g-h,0)*Math.max(y-m,0);return v/(d+p-v)}function H3t(e,t,n,r,a){let i=e.shape[0],s=Math.min(n,i),o=t.map((c,f)=>({score:c,boxIndex:f})).filter(c=>c.score>a).sort((c,f)=>f.score-c.score),l=c=>c<=r?1:0,u=[];return o.forEach(c=>{if(u.length>=s)return;let f=c.score;for(let d=u.length-1;d>=0;--d){let p=G3t(e,c.boxIndex,u[d]);if(p!==0&&(c.score*=l(p),c.score<=a))break}f===c.score&&u.push(c.boxIndex)}),u}function q3t(e){let t=$n(it(e,[1,0])),n=[Me(t[2],t[0]),Me(t[3],t[1])],r=[le(t[0],Ee(n[0],2)),le(t[1],Ee(n[1],2))];return{sizes:n,centers:r}}function Y3t(e,t){let{sizes:n,centers:r}=q3t(e),a=$n(it(t,[1,0])),i=Ee(K(Gr(Ee(a[2],5)),n[0]),2),s=le(K(Ee(a[0],10),n[0]),r[0]),o=Ee(K(Gr(Ee(a[3],5)),n[1]),2),l=le(K(Ee(a[1],10),n[1]),r[1]);return it(Yn([Me(s,i),Me(l,o),le(s,i),le(l,o)]),[1,0])}function Q3t(e,t,n){return X(()=>{let r=e.shape[0],a=Y3t(Z(Ha(n.extra_dim,[r,1,1]),[-1,4]),Z(e,[-1,4]));a=Z(a,[r,a.shape[0]/r,4]);let i=ts(pt(t,[0,0,1],[-1,-1,-1])),s=pt(i,[0,0,0],[-1,-1,1]);s=Z(s,[r,s.shape[1]]);let o=$n(a),l=$n(s);return{boxes:o,scores:l}})}function Ch(e,t){return X(()=>{let n=e.shape[0],r=Z(Wy(e,t.box_encoding_predictor),[n,-1,1,4]),a=Z(Wy(e,t.class_predictor),[n,-1,3]);return{boxPredictionEncoding:r,classPrediction:a}})}function K3t(e,t,n){return X(()=>{let r=ao(e,n.conv_0,[1,1]),a=ao(r,n.conv_1,[2,2]),i=ao(a,n.conv_2,[1,1]),s=ao(i,n.conv_3,[2,2]),o=ao(s,n.conv_4,[1,1]),l=ao(o,n.conv_5,[2,2]),u=ao(l,n.conv_6,[1,1]),c=ao(u,n.conv_7,[2,2]),f=Ch(t,n.box_predictor_0),d=Ch(e,n.box_predictor_1),p=Ch(a,n.box_predictor_2),h=Ch(s,n.box_predictor_3),m=Ch(l,n.box_predictor_4),g=Ch(c,n.box_predictor_5),y=Yt([f.boxPredictionEncoding,d.boxPredictionEncoding,p.boxPredictionEncoding,h.boxPredictionEncoding,m.boxPredictionEncoding,g.boxPredictionEncoding],1),v=Yt([f.classPrediction,d.classPrediction,p.classPrediction,h.classPrediction,m.classPrediction,g.classPrediction],1);return{boxPredictions:y,classPredictions:v}})}var HM=class{constructor({minConfidence:e,maxResults:t}={}){if(this._name="SsdMobilenetv1Options",this._minConfidence=e||.5,this._maxResults=t||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(`${this._name} - expected minConfidence to be a number between 0 and 1`);if(typeof this._maxResults!="number")throw new Error(`${this._name} - expected maxResults to be a number`)}get minConfidence(){return this._minConfidence}get maxResults(){return this._maxResults}},J3t=class extends Gc{constructor(){super("SsdMobilenetv1")}forwardInput(e){let{params:t}=this;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return X(()=>{let n=ve(e.toBatchTensor(512,!1),"float32"),r=Me(Ee(n,127.5),1),a=V3t(r,t.mobilenetv1),{boxPredictions:i,classPredictions:s}=K3t(a.out,a.conv11,t.prediction_layer);return Q3t(i,s,t.output_layer)})}async forward(e){return this.forwardInput(await ua(e))}async locateFaces(e,t={}){let{maxResults:n,minConfidence:r}=new HM(t),a=await ua(e),{boxes:i,scores:s}=this.forwardInput(a),o=i[0],l=s[0];for(let y=1;y<i.length;y++)i[y].dispose(),s[y].dispose();let u=Array.from(l.dataSync()),c=H3t(o,u,n,.5,r),f=a.getReshapedInputDimensions(0),d=a.inputSize,p=d/f.width,h=d/f.height,m=o.arraySync(),g=c.map(y=>{let[v,b]=[Math.max(0,m[y][0]),Math.min(1,m[y][2])].map(k=>k*h),[x,S]=[Math.max(0,m[y][1]),Math.min(1,m[y][3])].map(k=>k*p);return new Hs(u[y],new Ece(x,v,S-x,b-v),{height:a.getInputHeight(0),width:a.getInputWidth(0)})});return o.dispose(),l.dispose(),g}getDefaultModelName(){return"ssd_mobilenetv1_model"}extractParamsFromWeightMap(e){return z3t(e)}extractParams(e){return P3t(e)}},Z3t=.4,X3t=[new Gt(.738768,.874946),new Gt(2.42204,2.65704),new Gt(4.30971,7.04493),new Gt(10.246,4.59428),new Gt(12.6868,11.8741)],eAt=[new Gt(1.603231,2.094468),new Gt(6.041143,7.080126),new Gt(2.882459,3.518061),new Gt(4.266906,5.178857),new Gt(9.041765,10.66308)],tAt=[117.001,114.697,97.404],nAt="tiny_yolov2_model",rAt="tiny_yolov2_separable_conv_model",x2=e=>typeof e=="number";function aAt(e){if(!e)throw new Error(`invalid config: ${e}`);if(typeof e.withSeparableConvs!="boolean")throw new Error(`config.withSeparableConvs has to be a boolean, have: ${e.withSeparableConvs}`);if(!x2(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error(`config.iouThreshold has to be a number between [0, 1], have: ${e.iouThreshold}`);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(t=>typeof t=="string"))throw new Error(`config.classes has to be an array class names: string[], have: ${JSON.stringify(e.classes)}`);if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(t=>t||{}).every(t=>x2(t.x)&&x2(t.y)))throw new Error(`config.anchors has to be an array of { x: number, y: number }, have: ${JSON.stringify(e.anchors)}`);if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(x2)))throw new Error(`config.meanRgb has to be an array of shape [number, number, number], have: ${JSON.stringify(e.meanRgb)}`)}function B6(e){return X(()=>{let t=K(e,Ue(.10000000149011612));return le(Ft(Me(e,t)),t)})}function Zl(e,t){return X(()=>{let n=Qs(e,[[0,0],[1,1],[1,1],[0,0]]);return n=oa(n,t.conv.filters,[1,1],"valid"),n=Me(n,t.bn.sub),n=K(n,t.bn.truediv),n=le(n,t.conv.bias),B6(n)})}function Xl(e,t){return X(()=>{let n=Qs(e,[[0,0],[1,1],[1,1],[0,0]]);return n=u1(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),n=le(n,t.bias),B6(n)})}function iAt(e,t){let n=O6(e,t);function r(s,o){let l=Ot(e(s)),u=Ot(e(s));return t.push({paramPath:`${o}/sub`},{paramPath:`${o}/truediv`}),{sub:l,truediv:u}}function a(s,o,l){let u=n(s,o,3,`${l}/conv`),c=r(o,`${l}/bn`);return{conv:u,bn:c}}let i=R6(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:a,extractSeparableConvParams:i}}function sAt(e,t,n,r){let{extractWeights:a,getRemainingWeights:i}=qc(e),s=[],{extractConvParams:o,extractConvWithBatchNormParams:l,extractSeparableConvParams:u}=iAt(a,s),c;if(t.withSeparableConvs){let[f,d,p,h,m,g,y,v,b]=r,x=t.isFirstLayerConv2d?o(f,d,3,"conv0"):u(f,d,"conv0"),S=u(d,p,"conv1"),k=u(p,h,"conv2"),I=u(h,m,"conv3"),N=u(m,g,"conv4"),T=u(g,y,"conv5"),L=v?u(y,v,"conv6"):void 0,E=b?u(v,b,"conv7"):void 0,M=o(b||v||y,5*n,1,"conv8");c={conv0:x,conv1:S,conv2:k,conv3:I,conv4:N,conv5:T,conv6:L,conv7:E,conv8:M}}else{let[f,d,p,h,m,g,y,v,b]=r,x=l(f,d,"conv0"),S=l(d,p,"conv1"),k=l(p,h,"conv2"),I=l(h,m,"conv3"),N=l(m,g,"conv4"),T=l(g,y,"conv5"),L=l(y,v,"conv6"),E=l(v,b,"conv7"),M=o(b,5*n,1,"conv8");c={conv0:x,conv1:S,conv2:k,conv3:I,conv4:N,conv5:T,conv6:L,conv7:E,conv8:M}}if(i().length!==0)throw new Error(`weights remaing after extract: ${i().length}`);return{params:c,paramMappings:s}}function oAt(e,t){let n=fh(e,t);function r(o){let l=n(`${o}/sub`,1),u=n(`${o}/truediv`,1);return{sub:l,truediv:u}}function a(o){let l=n(`${o}/filters`,4),u=n(`${o}/bias`,1);return{filters:l,bias:u}}function i(o){let l=a(`${o}/conv`),u=r(`${o}/bn`);return{conv:l,bn:u}}let s=P6(n);return{extractConvParams:a,extractConvWithBatchNormParams:i,extractSeparableConvParams:s}}function lAt(e,t){let n=[],{extractConvParams:r,extractConvWithBatchNormParams:a,extractSeparableConvParams:i}=oAt(e,n),s;if(t.withSeparableConvs){let o=t.filterSizes&&t.filterSizes.length||9;s={conv0:t.isFirstLayerConv2d?r("conv0"):i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:o>7?i("conv6"):void 0,conv7:o>8?i("conv7"):void 0,conv8:r("conv8")}}else s={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:r("conv8")};return Hc(e,n),{params:s,paramMappings:n}}var U6=class{constructor({inputSize:e,scoreThreshold:t}={}){if(this._name="TinyYolov2Options",this._inputSize=e||416,this._scoreThreshold=t||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(`${this._name} - expected inputSize to be a number divisible by 32`);if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(`${this._name} - expected scoreThreshold to be a number between 0 and 1`)}get inputSize(){return this._inputSize}get scoreThreshold(){return this._scoreThreshold}},cfe=class ffe extends Gc{constructor(t){super("TinyYolov2"),aAt(t),this._config=t}get config(){return this._config}get withClassScores(){return this.config.withClassScores||this.config.classes.length>1}get boxEncodingSize(){return 5+(this.withClassScores?this.config.classes.length:0)}runTinyYolov2(t,n){let r=Zl(t,n.conv0);return r=mr(r,[2,2],[2,2],"same"),r=Zl(r,n.conv1),r=mr(r,[2,2],[2,2],"same"),r=Zl(r,n.conv2),r=mr(r,[2,2],[2,2],"same"),r=Zl(r,n.conv3),r=mr(r,[2,2],[2,2],"same"),r=Zl(r,n.conv4),r=mr(r,[2,2],[2,2],"same"),r=Zl(r,n.conv5),r=mr(r,[2,2],[1,1],"same"),r=Zl(r,n.conv6),r=Zl(r,n.conv7),Wy(r,n.conv8,"valid",!1)}runMobilenet(t,n){let r=this.config.isFirstLayerConv2d?B6(Wy(t,n.conv0,"valid",!1)):Xl(t,n.conv0);return r=mr(r,[2,2],[2,2],"same"),r=Xl(r,n.conv1),r=mr(r,[2,2],[2,2],"same"),r=Xl(r,n.conv2),r=mr(r,[2,2],[2,2],"same"),r=Xl(r,n.conv3),r=mr(r,[2,2],[2,2],"same"),r=Xl(r,n.conv4),r=mr(r,[2,2],[2,2],"same"),r=Xl(r,n.conv5),r=mr(r,[2,2],[1,1],"same"),r=n.conv6?Xl(r,n.conv6):r,r=n.conv7?Xl(r,n.conv7):r,Wy(r,n.conv8,"valid",!1)}forwardInput(t,n){let{params:r}=this;if(!r)throw new Error("TinyYolov2 - load model before inference");return X(()=>{let a=ve(t.toBatchTensor(n,!1),"float32");return a=this.config.meanRgb?ex(a,this.config.meanRgb):a,a=a.div(255),this.config.withSeparableConvs?this.runMobilenet(a,r):this.runTinyYolov2(a,r)})}async forward(t,n){return this.forwardInput(await ua(t),n)}async detect(t,n={}){let{inputSize:r,scoreThreshold:a}=new U6(n),i=await ua(t),s=await this.forwardInput(i,r),o=X(()=>$n(s)[0].expandDims()),l={width:i.getInputWidth(0),height:i.getInputHeight(0)},u=await this.extractBoxes(o,i.getReshapedInputDimensions(0),a);s.dispose(),o.dispose();let c=u.map(h=>h.box),f=u.map(h=>h.score),d=u.map(h=>h.classScore),p=u.map(h=>this.config.classes[h.label]);return H4t(c.map(h=>h.rescale(r)),f,this.config.iouThreshold,!0).map(h=>new Nce(f[h],d[h],p[h],c[h],l))}getDefaultModelName(){return""}extractParamsFromWeightMap(t){return lAt(t,this.config)}extractParams(t){let n=this.config.filterSizes||ffe.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(r!==7&&r!==8&&r!==9)throw new Error(`TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found ${r} filterSizes in config`);return sAt(t,this.config,this.boxEncodingSize,n)}async extractBoxes(t,n,r){let{width:a,height:i}=n,s=Math.max(a,i),o=s/a,l=s/i,u=t.shape[1],c=this.config.anchors.length,[f,d,p]=X(()=>{let y=t.reshape([u,u,c,this.boxEncodingSize]),v=y.slice([0,0,0,0],[u,u,c,4]),b=y.slice([0,0,0,4],[u,u,c,1]),x=this.withClassScores?Fc(y.slice([0,0,0,5],[u,u,c,this.config.classes.length]),3):Ue(0);return[v,b,x]}),h=[],m=await d.array(),g=await f.array();for(let y=0;y<u;y++)for(let v=0;v<u;v++)for(let b=0;b<c;b++){let x=BE(m[y][v][b][0]);if(!r||x>r){let S=(v+BE(g[y][v][b][0]))/u*o,k=(y+BE(g[y][v][b][1]))/u*l,I=Math.exp(g[y][v][b][2])*this.config.anchors[b].x/u*o,N=Math.exp(g[y][v][b][3])*this.config.anchors[b].y/u*l,T=S-I/2,L=k-N/2,E={row:y,col:v,anchor:b},{classScore:M,label:j}=this.withClassScores?await this.extractPredictedClass(p,E):{classScore:1,label:0};h.push({box:new Ice(T,L,T+I,L+N),score:x,classScore:x*M,label:j,...E})}}return f.dispose(),d.dispose(),p.dispose(),h}async extractPredictedClass(t,n){let{row:r,col:a,anchor:i}=n,s=await t.array();return Array(this.config.classes.length).fill(0).map((o,l)=>s[r][a][i][l]).map((o,l)=>({classScore:o,label:l})).reduce((o,l)=>o.classScore>l.classScore?o:l)}};cfe.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024];var dfe=cfe,uAt=class extends dfe{constructor(e=!0){let t={withSeparableConvs:e,iouThreshold:Z3t,classes:["face"],...e?{anchors:eAt,meanRgb:tAt}:{anchors:X3t,withClassScores:!0}};super(t)}get withSeparableConvs(){return this.config.withSeparableConvs}get anchors(){return this.config.anchors}async locateFaces(e,t){return(await this.detect(e,t)).map(n=>new Hs(n.score,n.relativeBox,{width:n.imageWidth,height:n.imageHeight}))}getDefaultModelName(){return this.withSeparableConvs?rAt:nAt}extractParamsFromWeightMap(e){return super.extractParamsFromWeightMap(e)}},pfe=class extends U6{constructor(){super(...arguments),this._name="TinyFaceDetectorOptions"}},tx=class{async then(e){return e(await this.run())}async run(){throw new Error("ComposableTask - run is not implemented")}};async function qM(e,t,n,r,a=({alignedRect:i})=>i){let i=e.map(l=>Xce(l)?a(l):l.detection),s=r||(t instanceof nt?await D6(t,i):await $6(t,i)),o=await n(s);return s.forEach(l=>l instanceof nt&&l.dispose()),o}async function W6(e,t,n,r,a){return qM([e],t,async i=>n(i[0]),r,a)}var cAt=.4,fAt=[new Gt(1.603231,2.094468),new Gt(6.041143,7.080126),new Gt(2.882459,3.518061),new Gt(4.266906,5.178857),new Gt(9.041765,10.66308)],dAt=[117.001,114.697,97.404],pAt=class extends dfe{constructor(){let e={withSeparableConvs:!0,iouThreshold:cAt,classes:["face"],anchors:fAt,meanRgb:dAt,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};super(e)}get anchors(){return this.config.anchors}async locateFaces(e,t){return(await this.detect(e,t)).map(n=>new Hs(n.score,n.relativeBox,{width:n.imageWidth,height:n.imageHeight}))}getDefaultModelName(){return"tiny_face_detector_model"}extractParamsFromWeightMap(e){return super.extractParamsFromWeightMap(e)}},Ja={ssdMobilenetv1:new J3t,tinyFaceDetector:new pAt,tinyYolov2:new uAt,faceLandmark68Net:new I3t,faceLandmark68TinyNet:new E3t,faceRecognitionNet:new O3t,faceExpressionNet:new c3t,ageGenderNet:new C3t},hfe=class extends tx{constructor(e,t,n){super(),this.parentTask=e,this.input=t,this.extractedFaces=n}},V6=class extends hfe{async run(){let e=await this.parentTask,t=await qM(e,this.input,async n=>Promise.all(n.map(r=>Ja.faceExpressionNet.predictExpressions(r))),this.extractedFaces);return e.map((n,r)=>Zce(n,t[r]))}withAgeAndGender(){return new Y6(this,this.input)}},G6=class extends hfe{async run(){let e=await this.parentTask;if(!e)return;let t=await W6(e,this.input,n=>Ja.faceExpressionNet.predictExpressions(n),this.extractedFaces);return Zce(e,t)}withAgeAndGender(){return new Q6(this,this.input)}},H6=class extends V6{withAgeAndGender(){return new K6(this,this.input)}withFaceDescriptors(){return new Z6(this,this.input)}},q6=class extends G6{withAgeAndGender(){return new J6(this,this.input)}withFaceDescriptor(){return new X6(this,this.input)}},mfe=class extends tx{constructor(e,t,n){super(),this.parentTask=e,this.input=t,this.extractedFaces=n}},Y6=class extends mfe{async run(){let e=await this.parentTask,t=await qM(e,this.input,async n=>Promise.all(n.map(r=>Ja.ageGenderNet.predictAgeAndGender(r))),this.extractedFaces);return e.map((n,r)=>{let{age:a,gender:i,genderProbability:s}=t[r];return lfe(ufe(n,i,s),a)})}withFaceExpressions(){return new V6(this,this.input)}},Q6=class extends mfe{async run(){let e=await this.parentTask;if(!e)return;let{age:t,gender:n,genderProbability:r}=await W6(e,this.input,a=>Ja.ageGenderNet.predictAgeAndGender(a),this.extractedFaces);return lfe(ufe(e,n,r),t)}withFaceExpressions(){return new G6(this,this.input)}},K6=class extends Y6{withFaceExpressions(){return new H6(this,this.input)}withFaceDescriptors(){return new Z6(this,this.input)}},J6=class extends Q6{withFaceExpressions(){return new q6(this,this.input)}withFaceDescriptor(){return new X6(this,this.input)}},gfe=class extends tx{constructor(e,t){super(),this.parentTask=e,this.input=t}},Z6=class extends gfe{async run(){let e=await this.parentTask;return(await qM(e,this.input,t=>Promise.all(t.map(n=>Ja.faceRecognitionNet.computeFaceDescriptor(n))),null,t=>t.landmarks.align(null,{useDlibAlignment:!0}))).map((t,n)=>ofe(e[n],t))}withFaceExpressions(){return new H6(this,this.input)}withAgeAndGender(){return new K6(this,this.input)}},X6=class extends gfe{async run(){let e=await this.parentTask;if(!e)return;let t=await W6(e,this.input,n=>Ja.faceRecognitionNet.computeFaceDescriptor(n),null,n=>n.landmarks.align(null,{useDlibAlignment:!0}));return ofe(e,t)}withFaceExpressions(){return new q6(this,this.input)}withAgeAndGender(){return new J6(this,this.input)}},yfe=class extends tx{constructor(e,t,n){super(),this.parentTask=e,this.input=t,this.useTinyLandmarkNet=n}get landmarkNet(){return this.useTinyLandmarkNet?Ja.faceLandmark68TinyNet:Ja.faceLandmark68Net}},hAt=class extends yfe{async run(){let e=await this.parentTask,t=e.map(a=>a.detection),n=this.input instanceof nt?await D6(this.input,t):await $6(this.input,t),r=await Promise.all(n.map(a=>this.landmarkNet.detectLandmarks(a)));return n.forEach(a=>a instanceof nt&&a.dispose()),e.filter((a,i)=>r[i]).map((a,i)=>efe(a,r[i]))}withFaceExpressions(){return new H6(this,this.input)}withAgeAndGender(){return new K6(this,this.input)}withFaceDescriptors(){return new Z6(this,this.input)}},mAt=class extends yfe{async run(){let e=await this.parentTask;if(!e)return;let{detection:t}=e,n=this.input instanceof nt?await D6(this.input,[t]):await $6(this.input,[t]),r=await this.landmarkNet.detectLandmarks(n[0]);return n.forEach(a=>a instanceof nt&&a.dispose()),efe(e,r)}withFaceExpressions(){return new q6(this,this.input)}withAgeAndGender(){return new J6(this,this.input)}withFaceDescriptor(){return new X6(this,this.input)}},vfe=class extends tx{constructor(e,t=new HM){super(),this.input=e,this.options=t}},gAt=class extends vfe{async run(){let{input:e,options:t}=this,n;if(t instanceof pfe)n=Ja.tinyFaceDetector.locateFaces(e,t);else if(t instanceof HM)n=Ja.ssdMobilenetv1.locateFaces(e,t);else if(t instanceof U6)n=Ja.tinyYolov2.locateFaces(e,t);else throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | TinyYolov2Options");return n}runAndExtendWithFaceDetections(){return new Promise((e,t)=>{this.run().then(n=>e(n.map(r=>Lce({},r)))).catch(n=>t(n))})}withFaceLandmarks(e=!1){return new hAt(this.runAndExtendWithFaceDetections(),this.input,e)}withFaceExpressions(){return new V6(this.runAndExtendWithFaceDetections(),this.input)}withAgeAndGender(){return new Y6(this.runAndExtendWithFaceDetections(),this.input)}},yAt=class extends vfe{async run(){let e=await new gAt(this.input,this.options),t=e[0];return e.forEach(n=>{n.score>t.score&&(t=n)}),t}runAndExtendWithFaceDetection(){return new Promise(async e=>{let t=await this.run();e(t?Lce({},t):void 0)})}withFaceLandmarks(e=!1){return new mAt(this.runAndExtendWithFaceDetection(),this.input,e)}withFaceExpressions(){return new G6(this.runAndExtendWithFaceDetection(),this.input)}withAgeAndGender(){return new Q6(this.runAndExtendWithFaceDetection(),this.input)}};function vAt(e,t=new HM){return new yAt(e,t)}const VE="https://justadudewhohacks.github.io/face-api.js/models",eF=async()=>{try{await Ja.tinyFaceDetector.loadFromUri(VE),await Ja.faceLandmark68Net.loadFromUri(VE),await Ja.faceRecognitionNet.loadFromUri(VE),console.log("FaceAPI Models Loaded")}catch(e){console.error("Failed to load FaceAPI models",e)}},tF=async e=>{const t=await vAt(e,new pfe).withFaceLandmarks().withFaceDescriptor();return t?t.descriptor:null},bAt=()=>{const{token:e,user:t}=ur(),{toast:n}=sj(),[r,a]=C.useState(null),[i,s]=C.useState(!1),[o,l]=C.useState("idle");C.useEffect(()=>{eF()},[]);const u=async c=>{if(r){s(!0),l("idle");try{const f=await tF(r);if(!f){n({variant:"destructive",title:"No Face Detected"}),s(!1);return}const d=Array.from(f);let p="",h="",m="";c==="enroll"?(p="/vault/face-enroll",h="Face Enrolled",m="Your face data has been securely saved."):c==="verify"?(p="/vault/face-verify",h="Verification Successful",m="Identity confirmed."):c==="presence"&&(p="/vault/presence-check",h="Presence Active",m="System is monitoring your presence.");let g={};c==="enroll"?g={descriptors:[d]}:g={descriptor:d};const y=await fetch(`${ht}${p}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(g)}),v=await y.json();if(!y.ok)throw new Error(v.message||"Request failed");if((c==="verify"||c==="presence")&&c==="verify"&&!v.match)throw new Error(" Face does not match registered user.");l("success"),n({title:h,description:m})}catch(f){l("failure"),n({variant:"destructive",title:"Action Failed",description:f.message})}finally{s(!1)}}};return w.jsx("div",{className:"min-h-screen bg-[#0a0f1c] text-white p-4 md:p-12",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 md:mb-8 gap-4",children:[w.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-3",children:[w.jsx(Hf,{className:"text-emerald-500 w-6 h-6 md:w-8 md:h-8"}),"Security Settings"]}),w.jsx(Oj,{to:"/",className:"w-full sm:w-auto",children:w.jsx(yt,{variant:"outline",className:"w-full sm:w-auto",children:"Back to Dashboard"})})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs(Lu,{className:"bg-[#111827] border-slate-800",children:[w.jsxs(nL,{children:[w.jsx(rL,{children:"Biometric Access"}),w.jsx(ute,{children:"Manage your face authentication data."})]}),w.jsxs(rb,{className:"flex flex-col items-center gap-6",children:[w.jsx(cte,{isActive:!0,isScanning:i,onVideoRef:a,className:"scale-90"}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[w.jsxs(yt,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700 w-full",onClick:()=>u("enroll"),disabled:i,children:[w.jsx(EH,{className:"w-4 h-4 mr-2"})," Enroll/Update Face"]}),w.jsxs(yt,{className:"flex-1 bg-blue-600 hover:bg-blue-700 w-full",onClick:()=>u("verify"),disabled:i,children:[w.jsx(Hf,{className:"w-4 h-4 mr-2"})," Test Verify"]})]})]})]}),w.jsxs(Lu,{className:"bg-[#111827] border-slate-800",children:[w.jsx(nL,{children:w.jsx(rL,{children:"Verification Status"})}),w.jsxs(rb,{className:"flex flex-col items-center justify-center h-64",children:[o==="idle"&&w.jsxs("div",{className:"text-slate-500 flex flex-col items-center",children:[w.jsx(tc,{className:"w-12 h-12 mb-2 opacity-50"}),w.jsx("p",{children:"Ready to verify"})]}),o==="success"&&w.jsxs("div",{className:"text-emerald-500 flex flex-col items-center animate-in zoom-in",children:[w.jsx(yme,{className:"w-16 h-16 mb-4"}),w.jsx("h3",{className:"text-xl font-bold",children:"Verified"}),w.jsx("p",{className:"text-emerald-400/80",children:"Face matches stored data."})]}),o==="failure"&&w.jsxs("div",{className:"text-red-500 flex flex-col items-center animate-in zoom-in",children:[w.jsx(bme,{className:"w-16 h-16 mb-4"}),w.jsx("h3",{className:"text-xl font-bold",children:"Failed"}),w.jsx("p",{className:"text-red-400/80",children:"Verification failed."})]})]})]})]})]})})};function wAt(){const{token:e}=ur(),t=Rg(),{data:n}=xa({queryKey:["adminSummary"],queryFn:async()=>(await fetch(`${ht}/admin/dashboard-summary`,{headers:{Authorization:`Bearer ${e}`}})).json()}),{data:r}=xa({queryKey:["pendingUsers"],queryFn:async()=>(await fetch(`${ht}/admin/pending-users`,{headers:{Authorization:`Bearer ${e}`}})).json()}),{data:a}=xa({queryKey:["allUsers"],queryFn:async()=>(await fetch(`${ht}/admin/users`,{headers:{Authorization:`Bearer ${e}`}})).json()}),{data:i}=xa({queryKey:["activityLog"],queryFn:async()=>(await fetch(`${ht}/admin/activity`,{headers:{Authorization:`Bearer ${e}`}})).json()}),s=So({mutationFn:async u=>{const c=await fetch(`${ht}/admin/approve-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({userId:u})});if(!c.ok)throw new Error("Failed to approve");return c.json()},onSuccess:()=>{tn.success("User Approved"),t.invalidateQueries({queryKey:["pendingUsers"]}),t.invalidateQueries({queryKey:["adminSummary"]})}}),o=So({mutationFn:async u=>(await fetch(`${ht}/admin/lock-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({userId:u})})).json(),onSuccess:()=>{tn.warning("User Locked"),t.invalidateQueries({queryKey:["allUsers"]})}}),l=So({mutationFn:async u=>(await fetch(`${ht}/admin/force-lock`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({userId:u})})).json(),onSuccess:()=>{tn.error("User Forcefully Terminated"),t.invalidateQueries({queryKey:["allUsers"]})}});return w.jsxs("div",{className:"p-8 space-y-8 bg-slate-950 min-h-screen text-slate-100",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent",children:"Admin Command Center"}),w.jsx("p",{className:"text-slate-400",children:"System Oversight & User Management"})]}),w.jsx(Hu,{variant:"outline",className:"px-4 py-1 border-blue-500/50 text-blue-400 bg-blue-500/10",children:"SUPER_ADMIN"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{title:"Total Users",value:(n==null?void 0:n.totalUsers)||0,icon:KC,color:"text-blue-400"},{title:"Online Now",value:(n==null?void 0:n.onlineUsers)||0,icon:_m,color:"text-green-400"},{title:"Pending Approval",value:(n==null?void 0:n.pendingUsers)||0,icon:FH,color:"text-amber-400"},{title:"Locked Accounts",value:(n==null?void 0:n.lockedUsers)||0,icon:tc,color:"text-red-400"}].map((u,c)=>w.jsx(Lu,{className:"bg-slate-900/50 border-slate-800 backdrop-blur-sm",children:w.jsxs(rb,{className:"p-6 flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-slate-400",children:u.title}),w.jsx("div",{className:"text-2xl font-bold mt-1 text-white",children:u.value})]}),w.jsx(u.icon,{className:`h-8 w-8 ${u.color} opacity-80`})]})},c))}),w.jsxs(Yee,{defaultValue:"pending",className:"w-full",children:[w.jsxs(ED,{className:"bg-slate-900 p-1 border border-slate-800",children:[w.jsx(Eu,{value:"pending",className:"data-[state=active]:bg-blue-600",children:"Pending Approvals"}),w.jsx(Eu,{value:"users",className:"data-[state=active]:bg-blue-600",children:"User Management"}),w.jsx(Eu,{value:"activity",className:"data-[state=active]:bg-blue-600",children:"Audit Logs"})]}),w.jsx(Au,{value:"pending",className:"mt-6 space-y-4",children:(r==null?void 0:r.length)===0?w.jsx("div",{className:"p-10 text-center text-slate-500 bg-slate-900/30 rounded-lg border border-slate-800 border-dashed",children:"No pending user requests"}):r==null?void 0:r.map(u=>w.jsxs(Lu,{className:"bg-slate-900/80 border-slate-800 flex justify-between items-center p-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white font-bold",children:u.name[0]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-100",children:u.name}),w.jsx("p",{className:"text-sm text-slate-400",children:u.email})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(yt,{size:"sm",variant:"outline",className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:"Deny"}),w.jsx(yt,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>s.mutate(u._id),children:"Approve Access"})]})]},u._id))}),w.jsx(Au,{value:"users",className:"mt-6",children:w.jsx("div",{className:"grid gap-4",children:a==null?void 0:a.map(u=>w.jsxs(Lu,{className:"bg-slate-900/50 border-slate-800 p-4 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`w-2 h-2 rounded-full ${u.online?"bg-green-500":"bg-slate-500"}`}),w.jsxs("div",{children:[w.jsxs("div",{className:"font-medium text-slate-200 flex items-center gap-2",children:[u.name,u.role==="ADMIN"&&w.jsx(Hu,{variant:"secondary",className:"text-[10px] h-5",children:"ADMIN"}),u.status==="LOCKED"&&w.jsx(Hu,{variant:"destructive",className:"text-[10px] h-5",children:"LOCKED"})]}),w.jsxs("div",{className:"text-xs text-slate-500",children:[u.email,"  ID: ",u.nexusId]})]})]}),w.jsx("div",{className:"flex gap-2",children:u.status==="LOCKED"?w.jsx(yt,{size:"sm",variant:"outline",onClick:()=>s.mutate(u._id),children:"Unlock"}):w.jsxs(w.Fragment,{children:[w.jsxs(yt,{size:"sm",variant:"ghost",className:"text-amber-400 hover:text-amber-300 hover:bg-amber-400/10",onClick:()=>o.mutate(u._id),children:[w.jsx(tc,{className:"w-4 h-4 mr-1"})," Lock"]}),w.jsxs(yt,{size:"sm",variant:"destructive",className:"bg-red-900/50 hover:bg-red-900 border border-red-800",onClick:()=>l.mutate(u._id),children:[w.jsx(yj,{className:"w-4 h-4 mr-1"})," Kill Session"]})]})})]},u._id))})}),w.jsx(Au,{value:"activity",children:w.jsx(Lu,{className:"bg-slate-900 border-slate-800",children:w.jsx(rb,{className:"p-0",children:i==null?void 0:i.map((u,c)=>w.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between hover:bg-white/5 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(_m,{className:"w-4 h-4 text-blue-500"}),w.jsx("span",{className:"text-sm font-medium text-slate-300",children:u.name}),w.jsxs("span",{className:"text-xs text-slate-500",children:["last active ",new Date(u.lastSeen).toLocaleTimeString()]})]}),w.jsx("div",{className:`w-2 h-2 rounded-full ${u.online?"bg-green-500":"bg-slate-600"}`})]},c))})})})]})]})}const xAt=()=>{const{user:e,token:t}=ur();return t?(e==null?void 0:e.role)!=="ADMIN"&&(e==null?void 0:e.role)!=="SUPER_ADMIN"?w.jsx(X4,{to:"/dashboard"}):w.jsx(Pye,{}):w.jsx(X4,{to:"/login",replace:!0})},SAt=()=>{const e=Sd();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),w.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),w.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),w.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},kAt=()=>{const{videoRef:e,setIsAuthorized:t,setLastCheckTime:n,isAuthorized:r}=SQ(),{token:a}=ur(),[i,s]=V.useState(!1);C.useEffect(()=>{eF().then(()=>{console.log("GlobalFaceMonitor: Models loaded"),s(!0)})},[]);const o=V.useRef(!1),l=V.useRef(!0);return C.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]),C.useEffect(()=>{if(!a)return;const u=async()=>{if(l.current){if(!i||!e.current||e.current.paused||e.current.ended){setTimeout(u,500);return}if(o.current){setTimeout(u,100);return}o.current=!0;try{const c=await tF(e.current);if(!c){l.current&&t(!1),o.current=!1,setTimeout(u,200);return}const f=Array.from(c),d=await fetch(`${ht}/vault/presence-check`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({descriptor:f})});if(!l.current)return;d.ok&&(await d.json()).status==="ACTIVE"?(t(!0),n(new Date)):t(!1)}catch(c){console.error("Presence loop error",c),l.current&&t(!1)}finally{o.current=!1,l.current&&setTimeout(u,500)}}};u()},[a,i,e]),!r&&a?w.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/40 backdrop-blur-3xl flex items-center justify-center transition-all duration-500",children:w.jsxs("div",{className:"bg-[#0f172a]/80 border border-red-500/30 p-8 rounded-2xl shadow-[0_0_50px_rgba(239,68,68,0.2)] text-center max-w-sm mx-4 backdrop-blur-2xl animate-in fade-in zoom-in duration-300",children:[w.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:w.jsx(tc,{className:"w-10 h-10 text-red-500"})}),w.jsx("h2",{className:"text-2xl font-bold text-white mb-2 font-display tracking-widest uppercase",children:"System Locked"}),w.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Biometric verification failed. User presence is required to access sensitive data."}),w.jsxs("div",{className:"flex justify-center gap-2",children:[w.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-[bounce_1s_infinite_0ms]"}),w.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-[bounce_1s_infinite_200ms]"}),w.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-[bounce_1s_infinite_400ms]"})]}),w.jsx("p",{className:"text-xs text-red-500/60 mt-6 uppercase tracking-widest",children:"Scanning..."})]})}):null};function CAt(e={}){const{nonce:t,locale:n,onScriptLoadSuccess:r,onScriptLoadError:a}=e,[i,s]=C.useState(!1),o=C.useRef(r);o.current=r;const l=C.useRef(a);return l.current=a,C.useEffect(()=>{const u=document.createElement("script");return u.src="https://accounts.google.com/gsi/client",n&&(u.src+=`?hl=${n}`),u.async=!0,u.defer=!0,u.nonce=t,u.onload=()=>{var c;s(!0),(c=o.current)===null||c===void 0||c.call(o)},u.onerror=()=>{var c;s(!1),(c=l.current)===null||c===void 0||c.call(l)},document.body.appendChild(u),()=>{document.body.removeChild(u)}},[t]),i}const bfe=C.createContext(null);function IAt({clientId:e,nonce:t,locale:n,onScriptLoadSuccess:r,onScriptLoadError:a,children:i}){const s=CAt({nonce:t,onScriptLoadSuccess:r,onScriptLoadError:a,locale:n}),o=C.useMemo(()=>({locale:n,clientId:e,scriptLoadedSuccessfully:s}),[e,s]);return V.createElement(bfe.Provider,{value:o},i)}function NAt(){const e=C.useContext(bfe);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function MAt({flow:e="implicit",scope:t="",onSuccess:n,onError:r,onNonOAuthError:a,overrideScope:i,state:s,...o}){const{clientId:l,scriptLoadedSuccessfully:u}=NAt(),c=C.useRef(),f=C.useRef(n);f.current=n;const d=C.useRef(r);d.current=r;const p=C.useRef(a);p.current=a,C.useEffect(()=>{var g,y;if(!u)return;const v=e==="implicit"?"initTokenClient":"initCodeClient",b=(y=(g=window==null?void 0:window.google)===null||g===void 0?void 0:g.accounts)===null||y===void 0?void 0:y.oauth2[v]({client_id:l,scope:i?t:`openid profile email ${t}`,callback:x=>{var S,k;if(x.error)return(S=d.current)===null||S===void 0?void 0:S.call(d,x);(k=f.current)===null||k===void 0||k.call(f,x)},error_callback:x=>{var S;(S=p.current)===null||S===void 0||S.call(p,x)},state:s,...o});c.current=b},[l,u,e,t,s]);const h=C.useCallback(g=>{var y;return(y=c.current)===null||y===void 0?void 0:y.requestAccessToken(g)},[]),m=C.useCallback(()=>{var g;return(g=c.current)===null||g===void 0?void 0:g.requestCode()},[]);return e==="implicit"?h:m}const TAt=({currentStep:e,steps:t})=>w.jsx("div",{className:"w-full max-w-xs mx-auto mt-6 space-y-3",children:t.map((n,r)=>{const a=r<e,i=r===e;return w.jsxs("div",{className:ke("flex items-center space-x-3 text-sm transition-all duration-300",i?"text-emerald-400 scale-105 font-medium":a?"text-emerald-600/70":"text-slate-600"),children:[a?w.jsx(LH,{className:"w-5 h-5"}):w.jsx(mj,{className:ke("w-5 h-5",i&&"animate-pulse")}),w.jsx("span",{children:n})]},r)})}),EAt=["Face Detection","Liveness Check","Secure Encoding","Creating Account"],AAt=({defaultTab:e="login"})=>{const[t,n]=C.useState(e),[r,a]=C.useState(!0),[i,s]=C.useState(!1),[o,l]=C.useState(0),[u,c]=C.useState(!1);ur();const f=aI(),{toast:d}=sj(),{setToken:p,setUser:h}=ur(),[m,g]=C.useState(null);V.useEffect(()=>{eF()},[]);const y=S=>{n(S),s(!1),l(0),c(!1)},v=async()=>{var S;if(!m){d({variant:"destructive",title:"Camera Error",description:"Camera not initialized"});return}s(!0);try{const k=await tF(m);if(!k){d({variant:"destructive",title:"No Face Detected",description:"Please look at the camera"}),s(!1);return}const I=Array.from(k);if(t==="login"){c(!0);const N=await fetch(`${ht}/auth/face-login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({descriptor:I})}),T=await N.json();if(!N.ok)throw new Error(T.message||"Login failed");if(T.token){if(p(T.token),localStorage.setItem("nexus_token",T.token),T.user){const L={...T.user,status:"APPROVED"};h(L),localStorage.setItem("nexus_user",JSON.stringify(L))}d({title:"Welcome back!",description:`Authenticated as ${((S=T.user)==null?void 0:S.name)||"User"}`}),f("/")}}else c(!0),await(async()=>{l(1),await new Promise(D=>setTimeout(D,500)),l(2),await new Promise(D=>setTimeout(D,500)),l(3);const T=Math.floor(Math.random()*1e4),L=`faceuser${T}@nexus.sys`,E=`Nexus User ${T}`,M=await fetch(`${ht}/auth/face-register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:L,name:E,descriptor:I})}),j=await M.json();if(!M.ok)throw new Error(j.message||"Registration failed");l(4),await new Promise(D=>setTimeout(D,500)),j.token&&(p(j.token),localStorage.setItem("nexus_token",j.token),j.user&&(h(j.user),localStorage.setItem("nexus_user",JSON.stringify(j.user))),d({title:"Registration Complete",description:"Face ID registered successfully."}),f("/"))})()}catch(k){console.error(k),d({variant:"destructive",title:"Authentication Failed",description:k.message})}finally{s(!1),c(!1)}},b=MAt({onSuccess:async S=>{var k;try{c(!0),d({title:"Verifying Google",description:"Completing authentication..."});const I=await fetch(`${ht}/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:S.access_token})}),N=await I.json();if(!I.ok)throw new Error(N.message||"Google Login Failed");if(N.token){if(p(N.token),localStorage.setItem("nexus_token",N.token),N.user){const T={...N.user,status:"APPROVED"};h(T),localStorage.setItem("nexus_user",JSON.stringify(T))}d({title:"Welcome back!",description:`Authenticated as ${((k=N.user)==null?void 0:k.name)||"User"}`}),f("/")}}catch(I){console.error(I),d({variant:"destructive",title:"Google Auth Failed",description:I.message})}finally{c(!1)}},onError:()=>{d({variant:"destructive",title:"Google Auth Failed",description:"Popup closed or error occurred."})}}),x=()=>{b()};return w.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-[0.03] pointer-events-none"}),w.jsx("div",{className:"absolute top-1/4 left-1/4 w-[500px] h-[500px] bg-primary/10 rounded-full blur-[120px] pointer-events-none animate-pulse"}),w.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[400px] h-[400px] bg-accent/5 rounded-full blur-[100px] pointer-events-none"}),w.jsxs("div",{className:"relative z-10 w-full max-w-md flex flex-col items-center",children:[w.jsxs("div",{className:"flex flex-col items-center mb-8 space-y-2",children:[w.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl border border-primary/20 shadow-[0_0_20px_hsl(var(--primary)/0.2)]",children:w.jsx("div",{className:"w-8 h-8 rounded-lg border-2 border-primary flex items-center justify-center",children:w.jsx("div",{className:"w-2 h-2 bg-primary rounded-full shadow-[0_0_10px_hsl(var(--primary))]"})})}),w.jsx("h1",{className:"text-3xl font-display font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-cyan-400 to-primary animate-shimmer bg-300%",children:"NEXUS"}),w.jsx("p",{className:"text-primary/70 text-xs uppercase tracking-widest font-medium",children:"Bio-Secured Ecosystem"})]}),w.jsx(Lu,{className:"w-full max-w-md bg-card/40 backdrop-blur-xl border-primary/20 shadow-[0_0_50px_-10px_hsl(var(--primary)/0.15)] overflow-hidden relative",children:w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"flex bg-secondary/50 rounded-lg p-1 mb-8 border border-primary/10",children:[w.jsxs("button",{onClick:()=>y("login"),className:ke("flex-1 flex items-center justify-center py-2 text-sm font-medium rounded-md transition-all",t==="login"?"bg-primary/20 text-primary border border-primary/30 shadow-[0_0_10px_hsl(var(--primary)/0.2)]":"text-muted-foreground hover:text-primary hover:bg-primary/5"),children:[w.jsx(Ame,{className:"w-4 h-4 mr-2"})," Login"]}),w.jsxs("button",{onClick:()=>y("register"),className:ke("flex-1 flex items-center justify-center py-2 text-sm font-medium rounded-md transition-all",t==="register"?"bg-primary/20 text-primary border border-primary/30 shadow-[0_0_10px_hsl(var(--primary)/0.2)]":"text-muted-foreground hover:text-primary hover:bg-primary/5"),children:[w.jsx(Gme,{className:"w-4 h-4 mr-2"})," Register"]})]}),w.jsxs("div",{className:"flex flex-col items-center py-4 min-h-[300px]",children:[w.jsx(cte,{isActive:r,isScanning:i||t==="register"&&u,mode:t,className:"mb-6 scale-90 sm:scale-100 transition-transform border-primary/30 shadow-[0_0_30px_hsl(var(--primary)/0.2)]",onVideoRef:g}),t==="register"&&i&&w.jsx(TAt,{currentStep:o,steps:EAt})]}),w.jsxs("div",{className:"space-y-4 mt-6",children:[!i&&!u?w.jsx(yt,{onClick:v,className:"w-full h-12 bg-primary hover:bg-primary/90 text-background font-display font-bold tracking-wider text-lg shadow-[0_0_20px_hsl(var(--primary)/0.4)] transition-all hover:scale-[1.02] hover:shadow-[0_0_30px_hsl(var(--primary)/0.6)]",children:t==="login"?"INITIALIZE LOGIN":"INITIALIZE REGISTRATION"}):w.jsx("div",{className:"text-center text-sm text-primary/70 h-12 flex items-center justify-center animate-pulse",children:t==="login"?"VERIFYING BIOMETRICS...":"PROCESSING ENOLLMENT..."}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("span",{className:"w-full border-t border-primary/10"})}),w.jsx("div",{className:"relative flex justify-center text-[10px] uppercase tracking-widest",children:w.jsx("span",{className:"bg-[#111827] px-2 text-muted-foreground",children:"Or Authenticate With"})})]}),w.jsxs(yt,{variant:"outline",onClick:x,className:"w-full h-12 border-primary/20 bg-primary/5 hover:bg-primary/10 text-primary/80 hover:text-primary transition-all hover:border-primary/40 group",children:[w.jsxs("svg",{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform duration-300",viewBox:"0 0 24 24",children:[w.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"currentColor"}),w.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"currentColor"}),w.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"currentColor"}),w.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"currentColor"})]}),"Google Access"]})]}),w.jsx("div",{className:"mt-8 text-center",children:w.jsxs("p",{className:"text-[10px] text-primary/40 uppercase tracking-widest",children:["By continuing, you accept the ",w.jsx("a",{href:"#",className:"underline hover:text-primary transition-colors",children:"Neural Protocols"})]})})]})})]})]})},_V=e=>w.jsx(IAt,{clientId:"358845697770-b3m37rhto822esh1sa2asg0iqgav5g3u.apps.googleusercontent.com",children:w.jsx(AAt,{...e})});function GE({children:e}){const{user:t,isLoading:n}=ur(),r=Sd();return n?w.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background text-primary",children:"Loading Nexus Core..."}):t?w.jsx(w.Fragment,{children:e}):w.jsx(X4,{to:"/login",state:{from:r},replace:!0})}const LAt=new pve,_At=()=>w.jsx(vve,{client:LAt,children:w.jsxs(H1e,{children:[w.jsx(Ege,{}),w.jsx(o0e,{}),w.jsx(qye,{children:w.jsx(Jye,{children:w.jsxs(pxe,{children:[w.jsx(kAt,{}),w.jsx(C2e,{children:w.jsxs(zye,{children:[w.jsx(Qo,{path:"/login",element:w.jsx(_V,{defaultTab:"login"})}),w.jsx(Qo,{path:"/register",element:w.jsx(_V,{defaultTab:"register"})}),w.jsx(Qo,{path:"/",element:w.jsx(GE,{children:w.jsx(VW,{})})}),w.jsx(Qo,{path:"/dashboard",element:w.jsx(GE,{children:w.jsx(VW,{})})}),w.jsx(Qo,{path:"/settings/*",element:w.jsx(GE,{children:w.jsx(bAt,{})})}),w.jsx(Qo,{element:w.jsx(xAt,{}),children:w.jsx(Qo,{path:"/admin",element:w.jsx(wAt,{})})}),w.jsx(Qo,{path:"*",element:w.jsx(SAt,{})})]})})]})})})]})});nH(document.getElementById("root")).render(w.jsx(_At,{}));
